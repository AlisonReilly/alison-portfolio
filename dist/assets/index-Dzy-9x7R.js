function Oy(u,n){for(var g=0;g<n.length;g++){const C=n[g];if(typeof C!="string"&&!Array.isArray(C)){for(const R in C)if(R!=="default"&&!(R in u)){const I=Object.getOwnPropertyDescriptor(C,R);I&&Object.defineProperty(u,R,I.get?I:{enumerable:!0,get:()=>C[R]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))C(R);new MutationObserver(R=>{for(const I of R)if(I.type==="childList")for(const v of I.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&C(v)}).observe(document,{childList:!0,subtree:!0});function g(R){const I={};return R.integrity&&(I.integrity=R.integrity),R.referrerPolicy&&(I.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?I.credentials="include":R.crossOrigin==="anonymous"?I.credentials="omit":I.credentials="same-origin",I}function C(R){if(R.ep)return;R.ep=!0;const I=g(R);fetch(R.href,I)}})();var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jp(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Zp={exports:{}},pl={},qp={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),Ny=Symbol.for("react.portal"),By=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),Vy=Symbol.for("react.profiler"),Gy=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),zy=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Yy=Symbol.for("react.memo"),Wy=Symbol.for("react.lazy"),Fc=Symbol.iterator;function jy(u){return u===null||typeof u!="object"?null:(u=Fc&&u[Fc]||u["@@iterator"],typeof u=="function"?u:null)}var _p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tm=Object.assign,em={};function $s(u,n,g){this.props=u,this.context=n,this.refs=em,this.updater=g||_p}$s.prototype.isReactComponent={};$s.prototype.setState=function(u,n){if(typeof u!="object"&&typeof u!="function"&&u!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,u,n,"setState")};$s.prototype.forceUpdate=function(u){this.updater.enqueueForceUpdate(this,u,"forceUpdate")};function im(){}im.prototype=$s.prototype;function df(u,n,g){this.props=u,this.context=n,this.refs=em,this.updater=g||_p}var cf=df.prototype=new im;cf.constructor=df;tm(cf,$s.prototype);cf.isPureReactComponent=!0;var Lc=Array.isArray,nm=Object.prototype.hasOwnProperty,vf={current:null},sm={key:!0,ref:!0,__self:!0,__source:!0};function rm(u,n,g){var C,R={},I=null,v=null;if(n!=null)for(C in n.ref!==void 0&&(v=n.ref),n.key!==void 0&&(I=""+n.key),n)nm.call(n,C)&&!sm.hasOwnProperty(C)&&(R[C]=n[C]);var S=arguments.length-2;if(S===1)R.children=g;else if(1<S){for(var t=Array(S),h=0;h<S;h++)t[h]=arguments[h+2];R.children=t}if(u&&u.defaultProps)for(C in S=u.defaultProps,S)R[C]===void 0&&(R[C]=S[C]);return{$$typeof:ga,type:u,key:I,ref:v,props:R,_owner:vf.current}}function Hy(u,n){return{$$typeof:ga,type:u.type,key:n,ref:u.ref,props:u.props,_owner:u._owner}}function pf(u){return typeof u=="object"&&u!==null&&u.$$typeof===ga}function ky(u){var n={"=":"=0",":":"=2"};return"$"+u.replace(/[=:]/g,function(g){return n[g]})}var Oc=/\/+/g;function rh(u,n){return typeof u=="object"&&u!==null&&u.key!=null?ky(""+u.key):n.toString(36)}function mo(u,n,g,C,R){var I=typeof u;(I==="undefined"||I==="boolean")&&(u=null);var v=!1;if(u===null)v=!0;else switch(I){case"string":case"number":v=!0;break;case"object":switch(u.$$typeof){case ga:case Ny:v=!0}}if(v)return v=u,R=R(v),u=C===""?"."+rh(v,0):C,Lc(R)?(g="",u!=null&&(g=u.replace(Oc,"$&/")+"/"),mo(R,n,g,"",function(h){return h})):R!=null&&(pf(R)&&(R=Hy(R,g+(!R.key||v&&v.key===R.key?"":(""+R.key).replace(Oc,"$&/")+"/")+u)),n.push(R)),1;if(v=0,C=C===""?".":C+":",Lc(u))for(var S=0;S<u.length;S++){I=u[S];var t=C+rh(I,S);v+=mo(I,n,g,t,R)}else if(t=jy(u),typeof t=="function")for(u=t.call(u),S=0;!(I=u.next()).done;)I=I.value,t=C+rh(I,S++),v+=mo(I,n,g,t,R);else if(I==="object")throw n=String(u),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return v}function Wa(u,n,g){if(u==null)return u;var C=[],R=0;return mo(u,C,"","",function(I){return n.call(g,I,R++)}),C}function Ky(u){if(u._status===-1){var n=u._result;n=n(),n.then(function(g){(u._status===0||u._status===-1)&&(u._status=1,u._result=g)},function(g){(u._status===0||u._status===-1)&&(u._status=2,u._result=g)}),u._status===-1&&(u._status=0,u._result=n)}if(u._status===1)return u._result.default;throw u._result}var Ve={current:null},go={transition:null},$y={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:go,ReactCurrentOwner:vf};Ft.Children={map:Wa,forEach:function(u,n,g){Wa(u,function(){n.apply(this,arguments)},g)},count:function(u){var n=0;return Wa(u,function(){n++}),n},toArray:function(u){return Wa(u,function(n){return n})||[]},only:function(u){if(!pf(u))throw Error("React.Children.only expected to receive a single React element child.");return u}};Ft.Component=$s;Ft.Fragment=By;Ft.Profiler=Vy;Ft.PureComponent=df;Ft.StrictMode=by;Ft.Suspense=Xy;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$y;Ft.cloneElement=function(u,n,g){if(u==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+u+".");var C=tm({},u.props),R=u.key,I=u.ref,v=u._owner;if(n!=null){if(n.ref!==void 0&&(I=n.ref,v=vf.current),n.key!==void 0&&(R=""+n.key),u.type&&u.type.defaultProps)var S=u.type.defaultProps;for(t in n)nm.call(n,t)&&!sm.hasOwnProperty(t)&&(C[t]=n[t]===void 0&&S!==void 0?S[t]:n[t])}var t=arguments.length-2;if(t===1)C.children=g;else if(1<t){S=Array(t);for(var h=0;h<t;h++)S[h]=arguments[h+2];C.children=S}return{$$typeof:ga,type:u.type,key:R,ref:I,props:C,_owner:v}};Ft.createContext=function(u){return u={$$typeof:Uy,_currentValue:u,_currentValue2:u,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},u.Provider={$$typeof:Gy,_context:u},u.Consumer=u};Ft.createElement=rm;Ft.createFactory=function(u){var n=rm.bind(null,u);return n.type=u,n};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(u){return{$$typeof:zy,render:u}};Ft.isValidElement=pf;Ft.lazy=function(u){return{$$typeof:Wy,_payload:{_status:-1,_result:u},_init:Ky}};Ft.memo=function(u,n){return{$$typeof:Yy,type:u,compare:n===void 0?null:n}};Ft.startTransition=function(u){var n=go.transition;go.transition={};try{u()}finally{go.transition=n}};Ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ft.useCallback=function(u,n){return Ve.current.useCallback(u,n)};Ft.useContext=function(u){return Ve.current.useContext(u)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(u){return Ve.current.useDeferredValue(u)};Ft.useEffect=function(u,n){return Ve.current.useEffect(u,n)};Ft.useId=function(){return Ve.current.useId()};Ft.useImperativeHandle=function(u,n,g){return Ve.current.useImperativeHandle(u,n,g)};Ft.useInsertionEffect=function(u,n){return Ve.current.useInsertionEffect(u,n)};Ft.useLayoutEffect=function(u,n){return Ve.current.useLayoutEffect(u,n)};Ft.useMemo=function(u,n){return Ve.current.useMemo(u,n)};Ft.useReducer=function(u,n,g){return Ve.current.useReducer(u,n,g)};Ft.useRef=function(u){return Ve.current.useRef(u)};Ft.useState=function(u){return Ve.current.useState(u)};Ft.useSyncExternalStore=function(u,n,g){return Ve.current.useSyncExternalStore(u,n,g)};Ft.useTransition=function(){return Ve.current.useTransition()};Ft.version="18.2.0";qp.exports=Ft;var ut=qp.exports;const Qy=Jp(ut),Jy=Oy({__proto__:null,default:Qy},[ut]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=ut,qy=Symbol.for("react.element"),_y=Symbol.for("react.fragment"),t1=Object.prototype.hasOwnProperty,e1=Zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i1={key:!0,ref:!0,__self:!0,__source:!0};function am(u,n,g){var C,R={},I=null,v=null;g!==void 0&&(I=""+g),n.key!==void 0&&(I=""+n.key),n.ref!==void 0&&(v=n.ref);for(C in n)t1.call(n,C)&&!i1.hasOwnProperty(C)&&(R[C]=n[C]);if(u&&u.defaultProps)for(C in n=u.defaultProps,n)R[C]===void 0&&(R[C]=n[C]);return{$$typeof:qy,type:u,key:I,ref:v,props:R,_owner:e1.current}}pl.Fragment=_y;pl.jsx=am;pl.jsxs=am;Zp.exports=pl;var B=Zp.exports,$h={},om={exports:{}},qe={},lm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(u){function n(V,X){var W=V.length;V.push(X);t:for(;0<W;){var k=W-1>>>1,Q=V[k];if(0<R(Q,X))V[k]=X,V[W]=Q,W=k;else break t}}function g(V){return V.length===0?null:V[0]}function C(V){if(V.length===0)return null;var X=V[0],W=V.pop();if(W!==X){V[0]=W;t:for(var k=0,Q=V.length,U=Q>>>1;k<U;){var Y=2*(k+1)-1,O=V[Y],G=Y+1,z=V[G];if(0>R(O,W))G<Q&&0>R(z,O)?(V[k]=z,V[G]=W,k=G):(V[k]=O,V[Y]=W,k=Y);else if(G<Q&&0>R(z,W))V[k]=z,V[G]=W,k=G;else break t}}return X}function R(V,X){var W=V.sortIndex-X.sortIndex;return W!==0?W:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var I=performance;u.unstable_now=function(){return I.now()}}else{var v=Date,S=v.now();u.unstable_now=function(){return v.now()-S}}var t=[],h=[],m=1,l=null,a=3,r=!1,i=!1,s=!1,f=typeof setTimeout=="function"?setTimeout:null,e=typeof clearTimeout=="function"?clearTimeout:null,o=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(V){for(var X=g(h);X!==null;){if(X.callback===null)C(h);else if(X.startTime<=V)C(h),X.sortIndex=X.expirationTime,n(t,X);else break;X=g(h)}}function c(V){if(s=!1,d(V),!i)if(g(t)!==null)i=!0,N(p);else{var X=g(h);X!==null&&b(c,X.startTime-V)}}function p(V,X){i=!1,s&&(s=!1,e(E),E=-1),r=!0;var W=a;try{for(d(X),l=g(t);l!==null&&(!(l.expirationTime>X)||V&&!A());){var k=l.callback;if(typeof k=="function"){l.callback=null,a=l.priorityLevel;var Q=k(l.expirationTime<=X);X=u.unstable_now(),typeof Q=="function"?l.callback=Q:l===g(t)&&C(t),d(X)}else C(t);l=g(t)}if(l!==null)var U=!0;else{var Y=g(h);Y!==null&&b(c,Y.startTime-X),U=!1}return U}finally{l=null,a=W,r=!1}}var x=!1,T=null,E=-1,y=5,w=-1;function A(){return!(u.unstable_now()-w<y)}function P(){if(T!==null){var V=u.unstable_now();w=V;var X=!0;try{X=T(!0,V)}finally{X?M():(x=!1,T=null)}}else x=!1}var M;if(typeof o=="function")M=function(){o(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=P,M=function(){F.postMessage(null)}}else M=function(){f(P,0)};function N(V){T=V,x||(x=!0,M())}function b(V,X){E=f(function(){V(u.unstable_now())},X)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(V){V.callback=null},u.unstable_continueExecution=function(){i||r||(i=!0,N(p))},u.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<V?Math.floor(1e3/V):5},u.unstable_getCurrentPriorityLevel=function(){return a},u.unstable_getFirstCallbackNode=function(){return g(t)},u.unstable_next=function(V){switch(a){case 1:case 2:case 3:var X=3;break;default:X=a}var W=a;a=X;try{return V()}finally{a=W}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=a;a=V;try{return X()}finally{a=W}},u.unstable_scheduleCallback=function(V,X,W){var k=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?k+W:k):W=k,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,V={id:m++,callback:X,priorityLevel:V,startTime:W,expirationTime:Q,sortIndex:-1},W>k?(V.sortIndex=W,n(h,V),g(t)===null&&V===g(h)&&(s?(e(E),E=-1):s=!0,b(c,W-k))):(V.sortIndex=Q,n(t,V),i||r||(i=!0,N(p))),V},u.unstable_shouldYield=A,u.unstable_wrapCallback=function(V){var X=a;return function(){var W=a;a=X;try{return V.apply(this,arguments)}finally{a=W}}}})(hm);lm.exports=hm;var n1=lm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=ut,Ze=n1;function ft(u){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)n+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fm=new Set,$r={};function ns(u,n){Bs(u,n),Bs(u+"Capture",n)}function Bs(u,n){for($r[u]=n,u=0;u<n.length;u++)fm.add(n[u])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=Object.prototype.hasOwnProperty,s1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dc={},Nc={};function r1(u){return Qh.call(Nc,u)?!0:Qh.call(Dc,u)?!1:s1.test(u)?Nc[u]=!0:(Dc[u]=!0,!1)}function a1(u,n,g,C){if(g!==null&&g.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return C?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function o1(u,n,g,C){if(n===null||typeof n>"u"||a1(u,n,g,C))return!0;if(C)return!1;if(g!==null)switch(g.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ge(u,n,g,C,R,I,v){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=C,this.attributeNamespace=R,this.mustUseProperty=g,this.propertyName=u,this.type=n,this.sanitizeURL=I,this.removeEmptyString=v}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){Se[u]=new Ge(u,0,!1,u,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var n=u[0];Se[n]=new Ge(n,1,!1,u[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(u){Se[u]=new Ge(u,2,!1,u.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){Se[u]=new Ge(u,2,!1,u,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){Se[u]=new Ge(u,3,!1,u.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(u){Se[u]=new Ge(u,3,!0,u,null,!1,!1)});["capture","download"].forEach(function(u){Se[u]=new Ge(u,4,!1,u,null,!1,!1)});["cols","rows","size","span"].forEach(function(u){Se[u]=new Ge(u,6,!1,u,null,!1,!1)});["rowSpan","start"].forEach(function(u){Se[u]=new Ge(u,5,!1,u.toLowerCase(),null,!1,!1)});var mf=/[\-:]([a-z])/g;function gf(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var n=u.replace(mf,gf);Se[n]=new Ge(n,1,!1,u,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var n=u.replace(mf,gf);Se[n]=new Ge(n,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(u){var n=u.replace(mf,gf);Se[n]=new Ge(n,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(u){Se[u]=new Ge(u,1,!1,u.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(u){Se[u]=new Ge(u,1,!1,u.toLowerCase(),null,!0,!0)});function xf(u,n,g,C){var R=Se.hasOwnProperty(n)?Se[n]:null;(R!==null?R.type!==0:C||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(o1(n,g,R,C)&&(g=null),C||R===null?r1(n)&&(g===null?u.removeAttribute(n):u.setAttribute(n,""+g)):R.mustUseProperty?u[R.propertyName]=g===null?R.type===3?!1:"":g:(n=R.attributeName,C=R.attributeNamespace,g===null?u.removeAttribute(n):(R=R.type,g=R===3||R===4&&g===!0?"":""+g,C?u.setAttributeNS(C,n,g):u.setAttribute(n,g))))}var Hi=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),vs=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),dm=Symbol.for("react.provider"),cm=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),qh=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),vm=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function mr(u){return u===null||typeof u!="object"?null:(u=Bc&&u[Bc]||u["@@iterator"],typeof u=="function"?u:null)}var Jt=Object.assign,ah;function Pr(u){if(ah===void 0)try{throw Error()}catch(g){var n=g.stack.trim().match(/\n( *(at )?)/);ah=n&&n[1]||""}return`
`+ah+u}var oh=!1;function lh(u,n){if(!u||oh)return"";oh=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(h){var C=h}Reflect.construct(u,[],n)}else{try{n.call()}catch(h){C=h}u.call(n.prototype)}else{try{throw Error()}catch(h){C=h}u()}}catch(h){if(h&&C&&typeof h.stack=="string"){for(var R=h.stack.split(`
`),I=C.stack.split(`
`),v=R.length-1,S=I.length-1;1<=v&&0<=S&&R[v]!==I[S];)S--;for(;1<=v&&0<=S;v--,S--)if(R[v]!==I[S]){if(v!==1||S!==1)do if(v--,S--,0>S||R[v]!==I[S]){var t=`
`+R[v].replace(" at new "," at ");return u.displayName&&t.includes("<anonymous>")&&(t=t.replace("<anonymous>",u.displayName)),t}while(1<=v&&0<=S);break}}}finally{oh=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?Pr(u):""}function l1(u){switch(u.tag){case 5:return Pr(u.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 2:case 15:return u=lh(u.type,!1),u;case 11:return u=lh(u.type.render,!1),u;case 1:return u=lh(u.type,!0),u;default:return""}}function _h(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case ps:return"Fragment";case vs:return"Portal";case Jh:return"Profiler";case yf:return"StrictMode";case Zh:return"Suspense";case qh:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case cm:return(u.displayName||"Context")+".Consumer";case dm:return(u._context.displayName||"Context")+".Provider";case Tf:var n=u.render;return u=u.displayName,u||(u=n.displayName||n.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Ef:return n=u.displayName||null,n!==null?n:_h(u.type)||"Memo";case qi:n=u._payload,u=u._init;try{return _h(u(n))}catch{}}return null}function h1(u){var n=u.type;switch(u.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=n.render,u=u.displayName||u.name||"",n.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(n);case 8:return n===yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function yn(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function pm(u){var n=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function u1(u){var n=pm(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,n),C=""+u[n];if(!u.hasOwnProperty(n)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var R=g.get,I=g.set;return Object.defineProperty(u,n,{configurable:!0,get:function(){return R.call(this)},set:function(v){C=""+v,I.call(this,v)}}),Object.defineProperty(u,n,{enumerable:g.enumerable}),{getValue:function(){return C},setValue:function(v){C=""+v},stopTracking:function(){u._valueTracker=null,delete u[n]}}}}function Ha(u){u._valueTracker||(u._valueTracker=u1(u))}function mm(u){if(!u)return!1;var n=u._valueTracker;if(!n)return!0;var g=n.getValue(),C="";return u&&(C=pm(u)?u.checked?"true":"false":u.value),u=C,u!==g?(n.setValue(u),!0):!1}function Oo(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function tu(u,n){var g=n.checked;return Jt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function bc(u,n){var g=n.defaultValue==null?"":n.defaultValue,C=n.checked!=null?n.checked:n.defaultChecked;g=yn(n.value!=null?n.value:g),u._wrapperState={initialChecked:C,initialValue:g,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function gm(u,n){n=n.checked,n!=null&&xf(u,"checked",n,!1)}function eu(u,n){gm(u,n);var g=yn(n.value),C=n.type;if(g!=null)C==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(C==="submit"||C==="reset"){u.removeAttribute("value");return}n.hasOwnProperty("value")?iu(u,n.type,g):n.hasOwnProperty("defaultValue")&&iu(u,n.type,yn(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(u.defaultChecked=!!n.defaultChecked)}function Vc(u,n,g){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var C=n.type;if(!(C!=="submit"&&C!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+u._wrapperState.initialValue,g||n===u.value||(u.value=n),u.defaultValue=n}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function iu(u,n,g){(n!=="number"||Oo(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var Rr=Array.isArray;function Ps(u,n,g,C){if(u=u.options,n){n={};for(var R=0;R<g.length;R++)n["$"+g[R]]=!0;for(g=0;g<u.length;g++)R=n.hasOwnProperty("$"+u[g].value),u[g].selected!==R&&(u[g].selected=R),R&&C&&(u[g].defaultSelected=!0)}else{for(g=""+yn(g),n=null,R=0;R<u.length;R++){if(u[R].value===g){u[R].selected=!0,C&&(u[R].defaultSelected=!0);return}n!==null||u[R].disabled||(n=u[R])}n!==null&&(n.selected=!0)}}function nu(u,n){if(n.dangerouslySetInnerHTML!=null)throw Error(ft(91));return Jt({},n,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Gc(u,n){var g=n.value;if(g==null){if(g=n.children,n=n.defaultValue,g!=null){if(n!=null)throw Error(ft(92));if(Rr(g)){if(1<g.length)throw Error(ft(93));g=g[0]}n=g}n==null&&(n=""),g=n}u._wrapperState={initialValue:yn(g)}}function xm(u,n){var g=yn(n.value),C=yn(n.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),n.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),C!=null&&(u.defaultValue=""+C)}function Uc(u){var n=u.textContent;n===u._wrapperState.initialValue&&n!==""&&n!==null&&(u.value=n)}function ym(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function su(u,n){return u==null||u==="http://www.w3.org/1999/xhtml"?ym(n):u==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var ka,Tm=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,g,C,R){MSApp.execUnsafeLocalFunction(function(){return u(n,g,C,R)})}:u}(function(u,n){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=n;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ka.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;n.firstChild;)u.appendChild(n.firstChild)}});function Qr(u,n){if(n){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=n;return}}u.textContent=n}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f1=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(u){f1.forEach(function(n){n=n+u.charAt(0).toUpperCase()+u.substring(1),Dr[n]=Dr[u]})});function Em(u,n,g){return n==null||typeof n=="boolean"||n===""?"":g||typeof n!="number"||n===0||Dr.hasOwnProperty(u)&&Dr[u]?(""+n).trim():n+"px"}function Sm(u,n){u=u.style;for(var g in n)if(n.hasOwnProperty(g)){var C=g.indexOf("--")===0,R=Em(g,n[g],C);g==="float"&&(g="cssFloat"),C?u.setProperty(g,R):u[g]=R}}var d1=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ru(u,n){if(n){if(d1[u]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(ft(137,u));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(ft(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(ft(61))}if(n.style!=null&&typeof n.style!="object")throw Error(ft(62))}}function au(u,n){if(u.indexOf("-")===-1)return typeof n.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function Sf(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var lu=null,Rs=null,Ms=null;function zc(u){if(u=Ta(u)){if(typeof lu!="function")throw Error(ft(280));var n=u.stateNode;n&&(n=Tl(n),lu(u.stateNode,u.type,n))}}function Cm(u){Rs?Ms?Ms.push(u):Ms=[u]:Rs=u}function wm(){if(Rs){var u=Rs,n=Ms;if(Ms=Rs=null,zc(u),n)for(u=0;u<n.length;u++)zc(n[u])}}function Am(u,n){return u(n)}function Pm(){}var hh=!1;function Rm(u,n,g){if(hh)return u(n,g);hh=!0;try{return Am(u,n,g)}finally{hh=!1,(Rs!==null||Ms!==null)&&(Pm(),wm())}}function Jr(u,n){var g=u.stateNode;if(g===null)return null;var C=Tl(g);if(C===null)return null;g=C[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(u=u.type,C=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!C;break t;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(ft(231,n,typeof g));return g}var hu=!1;if(Vi)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){hu=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{hu=!1}function c1(u,n,g,C,R,I,v,S,t){var h=Array.prototype.slice.call(arguments,3);try{n.apply(g,h)}catch(m){this.onError(m)}}var Nr=!1,Do=null,No=!1,uu=null,v1={onError:function(u){Nr=!0,Do=u}};function p1(u,n,g,C,R,I,v,S,t){Nr=!1,Do=null,c1.apply(v1,arguments)}function m1(u,n,g,C,R,I,v,S,t){if(p1.apply(this,arguments),Nr){if(Nr){var h=Do;Nr=!1,Do=null}else throw Error(ft(198));No||(No=!0,uu=h)}}function ss(u){var n=u,g=u;if(u.alternate)for(;n.return;)n=n.return;else{u=n;do n=u,n.flags&4098&&(g=n.return),u=n.return;while(u)}return n.tag===3?g:null}function Mm(u){if(u.tag===13){var n=u.memoizedState;if(n===null&&(u=u.alternate,u!==null&&(n=u.memoizedState)),n!==null)return n.dehydrated}return null}function Xc(u){if(ss(u)!==u)throw Error(ft(188))}function g1(u){var n=u.alternate;if(!n){if(n=ss(u),n===null)throw Error(ft(188));return n!==u?null:u}for(var g=u,C=n;;){var R=g.return;if(R===null)break;var I=R.alternate;if(I===null){if(C=R.return,C!==null){g=C;continue}break}if(R.child===I.child){for(I=R.child;I;){if(I===g)return Xc(R),u;if(I===C)return Xc(R),n;I=I.sibling}throw Error(ft(188))}if(g.return!==C.return)g=R,C=I;else{for(var v=!1,S=R.child;S;){if(S===g){v=!0,g=R,C=I;break}if(S===C){v=!0,C=R,g=I;break}S=S.sibling}if(!v){for(S=I.child;S;){if(S===g){v=!0,g=I,C=R;break}if(S===C){v=!0,C=I,g=R;break}S=S.sibling}if(!v)throw Error(ft(189))}}if(g.alternate!==C)throw Error(ft(190))}if(g.tag!==3)throw Error(ft(188));return g.stateNode.current===g?u:n}function Im(u){return u=g1(u),u!==null?Fm(u):null}function Fm(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var n=Fm(u);if(n!==null)return n;u=u.sibling}return null}var Lm=Ze.unstable_scheduleCallback,Yc=Ze.unstable_cancelCallback,x1=Ze.unstable_shouldYield,y1=Ze.unstable_requestPaint,ie=Ze.unstable_now,T1=Ze.unstable_getCurrentPriorityLevel,Cf=Ze.unstable_ImmediatePriority,Om=Ze.unstable_UserBlockingPriority,Bo=Ze.unstable_NormalPriority,E1=Ze.unstable_LowPriority,Dm=Ze.unstable_IdlePriority,ml=null,Si=null;function S1(u){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(ml,u,void 0,(u.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:A1,C1=Math.log,w1=Math.LN2;function A1(u){return u>>>=0,u===0?32:31-(C1(u)/w1|0)|0}var Ka=64,$a=4194304;function Mr(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function bo(u,n){var g=u.pendingLanes;if(g===0)return 0;var C=0,R=u.suspendedLanes,I=u.pingedLanes,v=g&268435455;if(v!==0){var S=v&~R;S!==0?C=Mr(S):(I&=v,I!==0&&(C=Mr(I)))}else v=g&~R,v!==0?C=Mr(v):I!==0&&(C=Mr(I));if(C===0)return 0;if(n!==0&&n!==C&&!(n&R)&&(R=C&-C,I=n&-n,R>=I||R===16&&(I&4194240)!==0))return n;if(C&4&&(C|=g&16),n=u.entangledLanes,n!==0)for(u=u.entanglements,n&=C;0<n;)g=31-di(n),R=1<<g,C|=u[g],n&=~R;return C}function P1(u,n){switch(u){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R1(u,n){for(var g=u.suspendedLanes,C=u.pingedLanes,R=u.expirationTimes,I=u.pendingLanes;0<I;){var v=31-di(I),S=1<<v,t=R[v];t===-1?(!(S&g)||S&C)&&(R[v]=P1(S,n)):t<=n&&(u.expiredLanes|=S),I&=~S}}function fu(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Nm(){var u=Ka;return Ka<<=1,!(Ka&4194240)&&(Ka=64),u}function uh(u){for(var n=[],g=0;31>g;g++)n.push(u);return n}function xa(u,n,g){u.pendingLanes|=n,n!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,n=31-di(n),u[n]=g}function M1(u,n){var g=u.pendingLanes&~n;u.pendingLanes=n,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=n,u.mutableReadLanes&=n,u.entangledLanes&=n,n=u.entanglements;var C=u.eventTimes;for(u=u.expirationTimes;0<g;){var R=31-di(g),I=1<<R;n[R]=0,C[R]=-1,u[R]=-1,g&=~I}}function wf(u,n){var g=u.entangledLanes|=n;for(u=u.entanglements;g;){var C=31-di(g),R=1<<C;R&n|u[C]&n&&(u[C]|=n),g&=~R}}var Ut=0;function Bm(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var bm,Af,Vm,Gm,Um,du=!1,Qa=[],ln=null,hn=null,un=null,Zr=new Map,qr=new Map,tn=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(u,n){switch(u){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Zr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(n.pointerId)}}function xr(u,n,g,C,R,I){return u===null||u.nativeEvent!==I?(u={blockedOn:n,domEventName:g,eventSystemFlags:C,nativeEvent:I,targetContainers:[R]},n!==null&&(n=Ta(n),n!==null&&Af(n)),u):(u.eventSystemFlags|=C,n=u.targetContainers,R!==null&&n.indexOf(R)===-1&&n.push(R),u)}function F1(u,n,g,C,R){switch(n){case"focusin":return ln=xr(ln,u,n,g,C,R),!0;case"dragenter":return hn=xr(hn,u,n,g,C,R),!0;case"mouseover":return un=xr(un,u,n,g,C,R),!0;case"pointerover":var I=R.pointerId;return Zr.set(I,xr(Zr.get(I)||null,u,n,g,C,R)),!0;case"gotpointercapture":return I=R.pointerId,qr.set(I,xr(qr.get(I)||null,u,n,g,C,R)),!0}return!1}function zm(u){var n=Vn(u.target);if(n!==null){var g=ss(n);if(g!==null){if(n=g.tag,n===13){if(n=Mm(g),n!==null){u.blockedOn=n,Um(u.priority,function(){Vm(g)});return}}else if(n===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function xo(u){if(u.blockedOn!==null)return!1;for(var n=u.targetContainers;0<n.length;){var g=cu(u.domEventName,u.eventSystemFlags,n[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var C=new g.constructor(g.type,g);ou=C,g.target.dispatchEvent(C),ou=null}else return n=Ta(g),n!==null&&Af(n),u.blockedOn=g,!1;n.shift()}return!0}function jc(u,n,g){xo(u)&&g.delete(n)}function L1(){du=!1,ln!==null&&xo(ln)&&(ln=null),hn!==null&&xo(hn)&&(hn=null),un!==null&&xo(un)&&(un=null),Zr.forEach(jc),qr.forEach(jc)}function yr(u,n){u.blockedOn===n&&(u.blockedOn=null,du||(du=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,L1)))}function _r(u){function n(R){return yr(R,u)}if(0<Qa.length){yr(Qa[0],u);for(var g=1;g<Qa.length;g++){var C=Qa[g];C.blockedOn===u&&(C.blockedOn=null)}}for(ln!==null&&yr(ln,u),hn!==null&&yr(hn,u),un!==null&&yr(un,u),Zr.forEach(n),qr.forEach(n),g=0;g<tn.length;g++)C=tn[g],C.blockedOn===u&&(C.blockedOn=null);for(;0<tn.length&&(g=tn[0],g.blockedOn===null);)zm(g),g.blockedOn===null&&tn.shift()}var Is=Hi.ReactCurrentBatchConfig,Vo=!0;function O1(u,n,g,C){var R=Ut,I=Is.transition;Is.transition=null;try{Ut=1,Pf(u,n,g,C)}finally{Ut=R,Is.transition=I}}function D1(u,n,g,C){var R=Ut,I=Is.transition;Is.transition=null;try{Ut=4,Pf(u,n,g,C)}finally{Ut=R,Is.transition=I}}function Pf(u,n,g,C){if(Vo){var R=cu(u,n,g,C);if(R===null)Th(u,n,C,Go,g),Wc(u,C);else if(F1(R,u,n,g,C))C.stopPropagation();else if(Wc(u,C),n&4&&-1<I1.indexOf(u)){for(;R!==null;){var I=Ta(R);if(I!==null&&bm(I),I=cu(u,n,g,C),I===null&&Th(u,n,C,Go,g),I===R)break;R=I}R!==null&&C.stopPropagation()}else Th(u,n,C,null,g)}}var Go=null;function cu(u,n,g,C){if(Go=null,u=Sf(C),u=Vn(u),u!==null)if(n=ss(u),n===null)u=null;else if(g=n.tag,g===13){if(u=Mm(n),u!==null)return u;u=null}else if(g===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;u=null}else n!==u&&(u=null);return Go=u,null}function Xm(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T1()){case Cf:return 1;case Om:return 4;case Bo:case E1:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var nn=null,Rf=null,yo=null;function Ym(){if(yo)return yo;var u,n=Rf,g=n.length,C,R="value"in nn?nn.value:nn.textContent,I=R.length;for(u=0;u<g&&n[u]===R[u];u++);var v=g-u;for(C=1;C<=v&&n[g-C]===R[I-C];C++);return yo=R.slice(u,1<C?1-C:void 0)}function To(u){var n=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&n===13&&(u=13)):u=n,u===10&&(u=13),32<=u||u===13?u:0}function Ja(){return!0}function Hc(){return!1}function _e(u){function n(g,C,R,I,v){this._reactName=g,this._targetInst=R,this.type=C,this.nativeEvent=I,this.target=v,this.currentTarget=null;for(var S in u)u.hasOwnProperty(S)&&(g=u[S],this[S]=g?g(I):I[S]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ja:Hc,this.isPropagationStopped=Hc,this}return Jt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),n}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=_e(Qs),ya=Jt({},Qs,{view:0,detail:0}),N1=_e(ya),fh,dh,Tr,gl=Jt({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Tr&&(Tr&&u.type==="mousemove"?(fh=u.screenX-Tr.screenX,dh=u.screenY-Tr.screenY):dh=fh=0,Tr=u),fh)},movementY:function(u){return"movementY"in u?u.movementY:dh}}),kc=_e(gl),B1=Jt({},gl,{dataTransfer:0}),b1=_e(B1),V1=Jt({},ya,{relatedTarget:0}),ch=_e(V1),G1=Jt({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),U1=_e(G1),z1=Jt({},Qs,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),X1=_e(z1),Y1=Jt({},Qs,{data:0}),Kc=_e(Y1),W1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(u){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(u):(u=H1[u])?!!n[u]:!1}function If(){return k1}var K1=Jt({},ya,{key:function(u){if(u.key){var n=W1[u.key]||u.key;if(n!=="Unidentified")return n}return u.type==="keypress"?(u=To(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?j1[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(u){return u.type==="keypress"?To(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?To(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),$1=_e(K1),Q1=Jt({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=_e(Q1),J1=Jt({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),Z1=_e(J1),q1=Jt({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),_1=_e(q1),tT=Jt({},gl,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),eT=_e(tT),iT=[9,13,27,32],Ff=Vi&&"CompositionEvent"in window,Br=null;Vi&&"documentMode"in document&&(Br=document.documentMode);var nT=Vi&&"TextEvent"in window&&!Br,Wm=Vi&&(!Ff||Br&&8<Br&&11>=Br),Qc=" ",Jc=!1;function jm(u,n){switch(u){case"keyup":return iT.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var ms=!1;function sT(u,n){switch(u){case"compositionend":return Hm(n);case"keypress":return n.which!==32?null:(Jc=!0,Qc);case"textInput":return u=n.data,u===Qc&&Jc?null:u;default:return null}}function rT(u,n){if(ms)return u==="compositionend"||!Ff&&jm(u,n)?(u=Ym(),yo=Rf=nn=null,ms=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Wm&&n.locale!=="ko"?null:n.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(u){var n=u&&u.nodeName&&u.nodeName.toLowerCase();return n==="input"?!!aT[u.type]:n==="textarea"}function km(u,n,g,C){Cm(C),n=Uo(n,"onChange"),0<n.length&&(g=new Mf("onChange","change",null,g,C),u.push({event:g,listeners:n}))}var br=null,ta=null;function oT(u){ng(u,0)}function xl(u){var n=ys(u);if(mm(n))return u}function lT(u,n){if(u==="change")return n}var Km=!1;if(Vi){var vh;if(Vi){var ph="oninput"in document;if(!ph){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),ph=typeof qc.oninput=="function"}vh=ph}else vh=!1;Km=vh&&(!document.documentMode||9<document.documentMode)}function _c(){br&&(br.detachEvent("onpropertychange",$m),ta=br=null)}function $m(u){if(u.propertyName==="value"&&xl(ta)){var n=[];km(n,ta,u,Sf(u)),Rm(oT,n)}}function hT(u,n,g){u==="focusin"?(_c(),br=n,ta=g,br.attachEvent("onpropertychange",$m)):u==="focusout"&&_c()}function uT(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return xl(ta)}function fT(u,n){if(u==="click")return xl(n)}function dT(u,n){if(u==="input"||u==="change")return xl(n)}function cT(u,n){return u===n&&(u!==0||1/u===1/n)||u!==u&&n!==n}var vi=typeof Object.is=="function"?Object.is:cT;function ea(u,n){if(vi(u,n))return!0;if(typeof u!="object"||u===null||typeof n!="object"||n===null)return!1;var g=Object.keys(u),C=Object.keys(n);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var R=g[C];if(!Qh.call(n,R)||!vi(u[R],n[R]))return!1}return!0}function tv(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ev(u,n){var g=tv(u);u=0;for(var C;g;){if(g.nodeType===3){if(C=u+g.textContent.length,u<=n&&C>=n)return{node:g,offset:n-u};u=C}t:{for(;g;){if(g.nextSibling){g=g.nextSibling;break t}g=g.parentNode}g=void 0}g=tv(g)}}function Qm(u,n){return u&&n?u===n?!0:u&&u.nodeType===3?!1:n&&n.nodeType===3?Qm(u,n.parentNode):"contains"in u?u.contains(n):u.compareDocumentPosition?!!(u.compareDocumentPosition(n)&16):!1:!1}function Jm(){for(var u=window,n=Oo();n instanceof u.HTMLIFrameElement;){try{var g=typeof n.contentWindow.location.href=="string"}catch{g=!1}if(g)u=n.contentWindow;else break;n=Oo(u.document)}return n}function Lf(u){var n=u&&u.nodeName&&u.nodeName.toLowerCase();return n&&(n==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||n==="textarea"||u.contentEditable==="true")}function vT(u){var n=Jm(),g=u.focusedElem,C=u.selectionRange;if(n!==g&&g&&g.ownerDocument&&Qm(g.ownerDocument.documentElement,g)){if(C!==null&&Lf(g)){if(n=C.start,u=C.end,u===void 0&&(u=n),"selectionStart"in g)g.selectionStart=n,g.selectionEnd=Math.min(u,g.value.length);else if(u=(n=g.ownerDocument||document)&&n.defaultView||window,u.getSelection){u=u.getSelection();var R=g.textContent.length,I=Math.min(C.start,R);C=C.end===void 0?I:Math.min(C.end,R),!u.extend&&I>C&&(R=C,C=I,I=R),R=ev(g,I);var v=ev(g,C);R&&v&&(u.rangeCount!==1||u.anchorNode!==R.node||u.anchorOffset!==R.offset||u.focusNode!==v.node||u.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(R.node,R.offset),u.removeAllRanges(),I>C?(u.addRange(n),u.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),u.addRange(n)))}}for(n=[],u=g;u=u.parentNode;)u.nodeType===1&&n.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<n.length;g++)u=n[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var pT=Vi&&"documentMode"in document&&11>=document.documentMode,gs=null,vu=null,Vr=null,pu=!1;function iv(u,n,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;pu||gs==null||gs!==Oo(C)||(C=gs,"selectionStart"in C&&Lf(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Vr&&ea(Vr,C)||(Vr=C,C=Uo(vu,"onSelect"),0<C.length&&(n=new Mf("onSelect","select",null,n,g),u.push({event:n,listeners:C}),n.target=gs)))}function Za(u,n){var g={};return g[u.toLowerCase()]=n.toLowerCase(),g["Webkit"+u]="webkit"+n,g["Moz"+u]="moz"+n,g}var xs={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},mh={},Zm={};Vi&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function yl(u){if(mh[u])return mh[u];if(!xs[u])return u;var n=xs[u],g;for(g in n)if(n.hasOwnProperty(g)&&g in Zm)return mh[u]=n[g];return u}var qm=yl("animationend"),_m=yl("animationiteration"),tg=yl("animationstart"),eg=yl("transitionend"),ig=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(u,n){ig.set(u,n),ns(n,[u])}for(var gh=0;gh<nv.length;gh++){var xh=nv[gh],mT=xh.toLowerCase(),gT=xh[0].toUpperCase()+xh.slice(1);An(mT,"on"+gT)}An(qm,"onAnimationEnd");An(_m,"onAnimationIteration");An(tg,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(eg,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function sv(u,n,g){var C=u.type||"unknown-event";u.currentTarget=g,m1(C,n,void 0,u),u.currentTarget=null}function ng(u,n){n=(n&4)!==0;for(var g=0;g<u.length;g++){var C=u[g],R=C.event;C=C.listeners;t:{var I=void 0;if(n)for(var v=C.length-1;0<=v;v--){var S=C[v],t=S.instance,h=S.currentTarget;if(S=S.listener,t!==I&&R.isPropagationStopped())break t;sv(R,S,h),I=t}else for(v=0;v<C.length;v++){if(S=C[v],t=S.instance,h=S.currentTarget,S=S.listener,t!==I&&R.isPropagationStopped())break t;sv(R,S,h),I=t}}}if(No)throw u=uu,No=!1,uu=null,u}function Ht(u,n){var g=n[Tu];g===void 0&&(g=n[Tu]=new Set);var C=u+"__bubble";g.has(C)||(sg(n,u,2,!1),g.add(C))}function yh(u,n,g){var C=0;n&&(C|=4),sg(g,u,C,n)}var qa="_reactListening"+Math.random().toString(36).slice(2);function ia(u){if(!u[qa]){u[qa]=!0,fm.forEach(function(g){g!=="selectionchange"&&(xT.has(g)||yh(g,!1,u),yh(g,!0,u))});var n=u.nodeType===9?u:u.ownerDocument;n===null||n[qa]||(n[qa]=!0,yh("selectionchange",!1,n))}}function sg(u,n,g,C){switch(Xm(n)){case 1:var R=O1;break;case 4:R=D1;break;default:R=Pf}g=R.bind(null,n,g,u),R=void 0,!hu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(R=!0),C?R!==void 0?u.addEventListener(n,g,{capture:!0,passive:R}):u.addEventListener(n,g,!0):R!==void 0?u.addEventListener(n,g,{passive:R}):u.addEventListener(n,g,!1)}function Th(u,n,g,C,R){var I=C;if(!(n&1)&&!(n&2)&&C!==null)t:for(;;){if(C===null)return;var v=C.tag;if(v===3||v===4){var S=C.stateNode.containerInfo;if(S===R||S.nodeType===8&&S.parentNode===R)break;if(v===4)for(v=C.return;v!==null;){var t=v.tag;if((t===3||t===4)&&(t=v.stateNode.containerInfo,t===R||t.nodeType===8&&t.parentNode===R))return;v=v.return}for(;S!==null;){if(v=Vn(S),v===null)return;if(t=v.tag,t===5||t===6){C=I=v;continue t}S=S.parentNode}}C=C.return}Rm(function(){var h=I,m=Sf(g),l=[];t:{var a=ig.get(u);if(a!==void 0){var r=Mf,i=u;switch(u){case"keypress":if(To(g)===0)break t;case"keydown":case"keyup":r=$1;break;case"focusin":i="focus",r=ch;break;case"focusout":i="blur",r=ch;break;case"beforeblur":case"afterblur":r=ch;break;case"click":if(g.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=Z1;break;case qm:case _m:case tg:r=U1;break;case eg:r=_1;break;case"scroll":r=N1;break;case"wheel":r=eT;break;case"copy":case"cut":case"paste":r=X1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=$c}var s=(n&4)!==0,f=!s&&u==="scroll",e=s?a!==null?a+"Capture":null:a;s=[];for(var o=h,d;o!==null;){d=o;var c=d.stateNode;if(d.tag===5&&c!==null&&(d=c,e!==null&&(c=Jr(o,e),c!=null&&s.push(na(o,c,d)))),f)break;o=o.return}0<s.length&&(a=new r(a,i,null,g,m),l.push({event:a,listeners:s}))}}if(!(n&7)){t:{if(a=u==="mouseover"||u==="pointerover",r=u==="mouseout"||u==="pointerout",a&&g!==ou&&(i=g.relatedTarget||g.fromElement)&&(Vn(i)||i[Gi]))break t;if((r||a)&&(a=m.window===m?m:(a=m.ownerDocument)?a.defaultView||a.parentWindow:window,r?(i=g.relatedTarget||g.toElement,r=h,i=i?Vn(i):null,i!==null&&(f=ss(i),i!==f||i.tag!==5&&i.tag!==6)&&(i=null)):(r=null,i=h),r!==i)){if(s=kc,c="onMouseLeave",e="onMouseEnter",o="mouse",(u==="pointerout"||u==="pointerover")&&(s=$c,c="onPointerLeave",e="onPointerEnter",o="pointer"),f=r==null?a:ys(r),d=i==null?a:ys(i),a=new s(c,o+"leave",r,g,m),a.target=f,a.relatedTarget=d,c=null,Vn(m)===h&&(s=new s(e,o+"enter",i,g,m),s.target=d,s.relatedTarget=f,c=s),f=c,r&&i)e:{for(s=r,e=i,o=0,d=s;d;d=us(d))o++;for(d=0,c=e;c;c=us(c))d++;for(;0<o-d;)s=us(s),o--;for(;0<d-o;)e=us(e),d--;for(;o--;){if(s===e||e!==null&&s===e.alternate)break e;s=us(s),e=us(e)}s=null}else s=null;r!==null&&rv(l,a,r,s,!1),i!==null&&f!==null&&rv(l,f,i,s,!0)}}t:{if(a=h?ys(h):window,r=a.nodeName&&a.nodeName.toLowerCase(),r==="select"||r==="input"&&a.type==="file")var p=lT;else if(Zc(a))if(Km)p=dT;else{p=uT;var x=hT}else(r=a.nodeName)&&r.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(p=fT);if(p&&(p=p(u,h))){km(l,p,g,m);break t}x&&x(u,a,h),u==="focusout"&&(x=a._wrapperState)&&x.controlled&&a.type==="number"&&iu(a,"number",a.value)}switch(x=h?ys(h):window,u){case"focusin":(Zc(x)||x.contentEditable==="true")&&(gs=x,vu=h,Vr=null);break;case"focusout":Vr=vu=gs=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,iv(l,g,m);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":iv(l,g,m)}var T;if(Ff)t:{switch(u){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else ms?jm(u,g)&&(E="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(E="onCompositionStart");E&&(Wm&&g.locale!=="ko"&&(ms||E!=="onCompositionStart"?E==="onCompositionEnd"&&ms&&(T=Ym()):(nn=m,Rf="value"in nn?nn.value:nn.textContent,ms=!0)),x=Uo(h,E),0<x.length&&(E=new Kc(E,u,null,g,m),l.push({event:E,listeners:x}),T?E.data=T:(T=Hm(g),T!==null&&(E.data=T)))),(T=nT?sT(u,g):rT(u,g))&&(h=Uo(h,"onBeforeInput"),0<h.length&&(m=new Kc("onBeforeInput","beforeinput",null,g,m),l.push({event:m,listeners:h}),m.data=T))}ng(l,n)})}function na(u,n,g){return{instance:u,listener:n,currentTarget:g}}function Uo(u,n){for(var g=n+"Capture",C=[];u!==null;){var R=u,I=R.stateNode;R.tag===5&&I!==null&&(R=I,I=Jr(u,g),I!=null&&C.unshift(na(u,I,R)),I=Jr(u,n),I!=null&&C.push(na(u,I,R))),u=u.return}return C}function us(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function rv(u,n,g,C,R){for(var I=n._reactName,v=[];g!==null&&g!==C;){var S=g,t=S.alternate,h=S.stateNode;if(t!==null&&t===C)break;S.tag===5&&h!==null&&(S=h,R?(t=Jr(g,I),t!=null&&v.unshift(na(g,t,S))):R||(t=Jr(g,I),t!=null&&v.push(na(g,t,S)))),g=g.return}v.length!==0&&u.push({event:n,listeners:v})}var yT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function av(u){return(typeof u=="string"?u:""+u).replace(yT,`
`).replace(TT,"")}function _a(u,n,g){if(n=av(n),av(u)!==n&&g)throw Error(ft(425))}function zo(){}var mu=null,gu=null;function xu(u,n){return u==="textarea"||u==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(u){return ov.resolve(null).then(u).catch(CT)}:yu;function CT(u){setTimeout(function(){throw u})}function Eh(u,n){var g=n,C=0;do{var R=g.nextSibling;if(u.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"){if(C===0){u.removeChild(R),_r(n);return}C--}else g!=="$"&&g!=="$?"&&g!=="$!"||C++;g=R}while(g);_r(n)}function fn(u){for(;u!=null;u=u.nextSibling){var n=u.nodeType;if(n===1||n===3)break;if(n===8){if(n=u.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return u}function lv(u){u=u.previousSibling;for(var n=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(n===0)return u;n--}else g==="/$"&&n++}u=u.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Js,sa="__reactProps$"+Js,Gi="__reactContainer$"+Js,Tu="__reactEvents$"+Js,wT="__reactListeners$"+Js,AT="__reactHandles$"+Js;function Vn(u){var n=u[Ti];if(n)return n;for(var g=u.parentNode;g;){if(n=g[Gi]||g[Ti]){if(g=n.alternate,n.child!==null||g!==null&&g.child!==null)for(u=lv(u);u!==null;){if(g=u[Ti])return g;u=lv(u)}return n}u=g,g=u.parentNode}return null}function Ta(u){return u=u[Ti]||u[Gi],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function ys(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(ft(33))}function Tl(u){return u[sa]||null}var Eu=[],Ts=-1;function Pn(u){return{current:u}}function kt(u){0>Ts||(u.current=Eu[Ts],Eu[Ts]=null,Ts--)}function Yt(u,n){Ts++,Eu[Ts]=u.current,u.current=n}var Tn={},Oe=Pn(Tn),Xe=Pn(!1),Kn=Tn;function bs(u,n){var g=u.type.contextTypes;if(!g)return Tn;var C=u.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===n)return C.__reactInternalMemoizedMaskedChildContext;var R={},I;for(I in g)R[I]=n[I];return C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=n,u.__reactInternalMemoizedMaskedChildContext=R),R}function Ye(u){return u=u.childContextTypes,u!=null}function Xo(){kt(Xe),kt(Oe)}function hv(u,n,g){if(Oe.current!==Tn)throw Error(ft(168));Yt(Oe,n),Yt(Xe,g)}function rg(u,n,g){var C=u.stateNode;if(n=n.childContextTypes,typeof C.getChildContext!="function")return g;C=C.getChildContext();for(var R in C)if(!(R in n))throw Error(ft(108,h1(u)||"Unknown",R));return Jt({},g,C)}function Yo(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Tn,Kn=Oe.current,Yt(Oe,u),Yt(Xe,Xe.current),!0}function uv(u,n,g){var C=u.stateNode;if(!C)throw Error(ft(169));g?(u=rg(u,n,Kn),C.__reactInternalMemoizedMergedChildContext=u,kt(Xe),kt(Oe),Yt(Oe,u)):kt(Xe),Yt(Xe,g)}var Di=null,El=!1,Sh=!1;function ag(u){Di===null?Di=[u]:Di.push(u)}function PT(u){El=!0,ag(u)}function Rn(){if(!Sh&&Di!==null){Sh=!0;var u=0,n=Ut;try{var g=Di;for(Ut=1;u<g.length;u++){var C=g[u];do C=C(!0);while(C!==null)}Di=null,El=!1}catch(R){throw Di!==null&&(Di=Di.slice(u+1)),Lm(Cf,Rn),R}finally{Ut=n,Sh=!1}}return null}var Es=[],Ss=0,Wo=null,jo=0,ti=[],ei=0,$n=null,Ni=1,Bi="";function Nn(u,n){Es[Ss++]=jo,Es[Ss++]=Wo,Wo=u,jo=n}function og(u,n,g){ti[ei++]=Ni,ti[ei++]=Bi,ti[ei++]=$n,$n=u;var C=Ni;u=Bi;var R=32-di(C)-1;C&=~(1<<R),g+=1;var I=32-di(n)+R;if(30<I){var v=R-R%5;I=(C&(1<<v)-1).toString(32),C>>=v,R-=v,Ni=1<<32-di(n)+R|g<<R|C,Bi=I+u}else Ni=1<<I|g<<R|C,Bi=u}function Of(u){u.return!==null&&(Nn(u,1),og(u,1,0))}function Df(u){for(;u===Wo;)Wo=Es[--Ss],Es[Ss]=null,jo=Es[--Ss],Es[Ss]=null;for(;u===$n;)$n=ti[--ei],ti[ei]=null,Bi=ti[--ei],ti[ei]=null,Ni=ti[--ei],ti[ei]=null}var Qe=null,$e=null,Kt=!1,fi=null;function lg(u,n){var g=ii(5,null,null,0);g.elementType="DELETED",g.stateNode=n,g.return=u,n=u.deletions,n===null?(u.deletions=[g],u.flags|=16):n.push(g)}function fv(u,n){switch(u.tag){case 5:var g=u.type;return n=n.nodeType!==1||g.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(u.stateNode=n,Qe=u,$e=fn(n.firstChild),!0):!1;case 6:return n=u.pendingProps===""||n.nodeType!==3?null:n,n!==null?(u.stateNode=n,Qe=u,$e=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(g=$n!==null?{id:Ni,overflow:Bi}:null,u.memoizedState={dehydrated:n,treeContext:g,retryLane:1073741824},g=ii(18,null,null,0),g.stateNode=n,g.return=u,u.child=g,Qe=u,$e=null,!0):!1;default:return!1}}function Su(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Cu(u){if(Kt){var n=$e;if(n){var g=n;if(!fv(u,n)){if(Su(u))throw Error(ft(418));n=fn(g.nextSibling);var C=Qe;n&&fv(u,n)?lg(C,g):(u.flags=u.flags&-4097|2,Kt=!1,Qe=u)}}else{if(Su(u))throw Error(ft(418));u.flags=u.flags&-4097|2,Kt=!1,Qe=u}}}function dv(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Qe=u}function to(u){if(u!==Qe)return!1;if(!Kt)return dv(u),Kt=!0,!1;var n;if((n=u.tag!==3)&&!(n=u.tag!==5)&&(n=u.type,n=n!=="head"&&n!=="body"&&!xu(u.type,u.memoizedProps)),n&&(n=$e)){if(Su(u))throw hg(),Error(ft(418));for(;n;)lg(u,n),n=fn(n.nextSibling)}if(dv(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ft(317));t:{for(u=u.nextSibling,n=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(n===0){$e=fn(u.nextSibling);break t}n--}else g!=="$"&&g!=="$!"&&g!=="$?"||n++}u=u.nextSibling}$e=null}}else $e=Qe?fn(u.stateNode.nextSibling):null;return!0}function hg(){for(var u=$e;u;)u=fn(u.nextSibling)}function Vs(){$e=Qe=null,Kt=!1}function Nf(u){fi===null?fi=[u]:fi.push(u)}var RT=Hi.ReactCurrentBatchConfig;function hi(u,n){if(u&&u.defaultProps){n=Jt({},n),u=u.defaultProps;for(var g in u)n[g]===void 0&&(n[g]=u[g]);return n}return n}var Ho=Pn(null),ko=null,Cs=null,Bf=null;function bf(){Bf=Cs=ko=null}function Vf(u){var n=Ho.current;kt(Ho),u._currentValue=n}function wu(u,n,g){for(;u!==null;){var C=u.alternate;if((u.childLanes&n)!==n?(u.childLanes|=n,C!==null&&(C.childLanes|=n)):C!==null&&(C.childLanes&n)!==n&&(C.childLanes|=n),u===g)break;u=u.return}}function Fs(u,n){ko=u,Bf=Cs=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&n&&(ze=!0),u.firstContext=null)}function si(u){var n=u._currentValue;if(Bf!==u)if(u={context:u,memoizedValue:n,next:null},Cs===null){if(ko===null)throw Error(ft(308));Cs=u,ko.dependencies={lanes:0,firstContext:u}}else Cs=Cs.next=u;return n}var Gn=null;function Gf(u){Gn===null?Gn=[u]:Gn.push(u)}function ug(u,n,g,C){var R=n.interleaved;return R===null?(g.next=g,Gf(n)):(g.next=R.next,R.next=g),n.interleaved=g,Ui(u,C)}function Ui(u,n){u.lanes|=n;var g=u.alternate;for(g!==null&&(g.lanes|=n),g=u,u=u.return;u!==null;)u.childLanes|=n,g=u.alternate,g!==null&&(g.childLanes|=n),g=u,u=u.return;return g.tag===3?g.stateNode:null}var _i=!1;function Uf(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fg(u,n){u=u.updateQueue,n.updateQueue===u&&(n.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function bi(u,n){return{eventTime:u,lane:n,tag:0,payload:null,callback:null,next:null}}function dn(u,n,g){var C=u.updateQueue;if(C===null)return null;if(C=C.shared,Bt&2){var R=C.pending;return R===null?n.next=n:(n.next=R.next,R.next=n),C.pending=n,Ui(u,g)}return R=C.interleaved,R===null?(n.next=n,Gf(C)):(n.next=R.next,R.next=n),C.interleaved=n,Ui(u,g)}function Eo(u,n,g){if(n=n.updateQueue,n!==null&&(n=n.shared,(g&4194240)!==0)){var C=n.lanes;C&=u.pendingLanes,g|=C,n.lanes=g,wf(u,g)}}function cv(u,n){var g=u.updateQueue,C=u.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var R=null,I=null;if(g=g.firstBaseUpdate,g!==null){do{var v={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?R=I=v:I=I.next=v,g=g.next}while(g!==null);I===null?R=I=n:I=I.next=n}else R=I=n;g={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:I,shared:C.shared,effects:C.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=n:u.next=n,g.lastBaseUpdate=n}function Ko(u,n,g,C){var R=u.updateQueue;_i=!1;var I=R.firstBaseUpdate,v=R.lastBaseUpdate,S=R.shared.pending;if(S!==null){R.shared.pending=null;var t=S,h=t.next;t.next=null,v===null?I=h:v.next=h,v=t;var m=u.alternate;m!==null&&(m=m.updateQueue,S=m.lastBaseUpdate,S!==v&&(S===null?m.firstBaseUpdate=h:S.next=h,m.lastBaseUpdate=t))}if(I!==null){var l=R.baseState;v=0,m=h=t=null,S=I;do{var a=S.lane,r=S.eventTime;if((C&a)===a){m!==null&&(m=m.next={eventTime:r,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});t:{var i=u,s=S;switch(a=n,r=g,s.tag){case 1:if(i=s.payload,typeof i=="function"){l=i.call(r,l,a);break t}l=i;break t;case 3:i.flags=i.flags&-65537|128;case 0:if(i=s.payload,a=typeof i=="function"?i.call(r,l,a):i,a==null)break t;l=Jt({},l,a);break t;case 2:_i=!0}}S.callback!==null&&S.lane!==0&&(u.flags|=64,a=R.effects,a===null?R.effects=[S]:a.push(S))}else r={eventTime:r,lane:a,tag:S.tag,payload:S.payload,callback:S.callback,next:null},m===null?(h=m=r,t=l):m=m.next=r,v|=a;if(S=S.next,S===null){if(S=R.shared.pending,S===null)break;a=S,S=a.next,a.next=null,R.lastBaseUpdate=a,R.shared.pending=null}}while(!0);if(m===null&&(t=l),R.baseState=t,R.firstBaseUpdate=h,R.lastBaseUpdate=m,n=R.shared.interleaved,n!==null){R=n;do v|=R.lane,R=R.next;while(R!==n)}else I===null&&(R.shared.lanes=0);Jn|=v,u.lanes=v,u.memoizedState=l}}function vv(u,n,g){if(u=n.effects,n.effects=null,u!==null)for(n=0;n<u.length;n++){var C=u[n],R=C.callback;if(R!==null){if(C.callback=null,C=g,typeof R!="function")throw Error(ft(191,R));R.call(C)}}}var dg=new um.Component().refs;function Au(u,n,g,C){n=u.memoizedState,g=g(C,n),g=g==null?n:Jt({},n,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Sl={isMounted:function(u){return(u=u._reactInternals)?ss(u)===u:!1},enqueueSetState:function(u,n,g){u=u._reactInternals;var C=be(),R=vn(u),I=bi(C,R);I.payload=n,g!=null&&(I.callback=g),n=dn(u,I,R),n!==null&&(ci(n,u,R,C),Eo(n,u,R))},enqueueReplaceState:function(u,n,g){u=u._reactInternals;var C=be(),R=vn(u),I=bi(C,R);I.tag=1,I.payload=n,g!=null&&(I.callback=g),n=dn(u,I,R),n!==null&&(ci(n,u,R,C),Eo(n,u,R))},enqueueForceUpdate:function(u,n){u=u._reactInternals;var g=be(),C=vn(u),R=bi(g,C);R.tag=2,n!=null&&(R.callback=n),n=dn(u,R,C),n!==null&&(ci(n,u,C,g),Eo(n,u,C))}};function pv(u,n,g,C,R,I,v){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(C,I,v):n.prototype&&n.prototype.isPureReactComponent?!ea(g,C)||!ea(R,I):!0}function cg(u,n,g){var C=!1,R=Tn,I=n.contextType;return typeof I=="object"&&I!==null?I=si(I):(R=Ye(n)?Kn:Oe.current,C=n.contextTypes,I=(C=C!=null)?bs(u,R):Tn),n=new n(g,I),u.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Sl,u.stateNode=n,n._reactInternals=u,C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=R,u.__reactInternalMemoizedMaskedChildContext=I),n}function mv(u,n,g,C){u=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(g,C),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(g,C),n.state!==u&&Sl.enqueueReplaceState(n,n.state,null)}function Pu(u,n,g,C){var R=u.stateNode;R.props=g,R.state=u.memoizedState,R.refs=dg,Uf(u);var I=n.contextType;typeof I=="object"&&I!==null?R.context=si(I):(I=Ye(n)?Kn:Oe.current,R.context=bs(u,I)),R.state=u.memoizedState,I=n.getDerivedStateFromProps,typeof I=="function"&&(Au(u,n,I,g),R.state=u.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(n=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),n!==R.state&&Sl.enqueueReplaceState(R,R.state,null),Ko(u,g,R,C),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308)}function Er(u,n,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(ft(309));var C=g.stateNode}if(!C)throw Error(ft(147,u));var R=C,I=""+u;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===I?n.ref:(n=function(v){var S=R.refs;S===dg&&(S=R.refs={}),v===null?delete S[I]:S[I]=v},n._stringRef=I,n)}if(typeof u!="string")throw Error(ft(284));if(!g._owner)throw Error(ft(290,u))}return u}function eo(u,n){throw u=Object.prototype.toString.call(n),Error(ft(31,u==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":u))}function gv(u){var n=u._init;return n(u._payload)}function vg(u){function n(e,o){if(u){var d=e.deletions;d===null?(e.deletions=[o],e.flags|=16):d.push(o)}}function g(e,o){if(!u)return null;for(;o!==null;)n(e,o),o=o.sibling;return null}function C(e,o){for(e=new Map;o!==null;)o.key!==null?e.set(o.key,o):e.set(o.index,o),o=o.sibling;return e}function R(e,o){return e=pn(e,o),e.index=0,e.sibling=null,e}function I(e,o,d){return e.index=d,u?(d=e.alternate,d!==null?(d=d.index,d<o?(e.flags|=2,o):d):(e.flags|=2,o)):(e.flags|=1048576,o)}function v(e){return u&&e.alternate===null&&(e.flags|=2),e}function S(e,o,d,c){return o===null||o.tag!==6?(o=Ih(d,e.mode,c),o.return=e,o):(o=R(o,d),o.return=e,o)}function t(e,o,d,c){var p=d.type;return p===ps?m(e,o,d.props.children,c,d.key):o!==null&&(o.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===qi&&gv(p)===o.type)?(c=R(o,d.props),c.ref=Er(e,o,d),c.return=e,c):(c=Ro(d.type,d.key,d.props,null,e.mode,c),c.ref=Er(e,o,d),c.return=e,c)}function h(e,o,d,c){return o===null||o.tag!==4||o.stateNode.containerInfo!==d.containerInfo||o.stateNode.implementation!==d.implementation?(o=Fh(d,e.mode,c),o.return=e,o):(o=R(o,d.children||[]),o.return=e,o)}function m(e,o,d,c,p){return o===null||o.tag!==7?(o=Wn(d,e.mode,c,p),o.return=e,o):(o=R(o,d),o.return=e,o)}function l(e,o,d){if(typeof o=="string"&&o!==""||typeof o=="number")return o=Ih(""+o,e.mode,d),o.return=e,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case ja:return d=Ro(o.type,o.key,o.props,null,e.mode,d),d.ref=Er(e,null,o),d.return=e,d;case vs:return o=Fh(o,e.mode,d),o.return=e,o;case qi:var c=o._init;return l(e,c(o._payload),d)}if(Rr(o)||mr(o))return o=Wn(o,e.mode,d,null),o.return=e,o;eo(e,o)}return null}function a(e,o,d,c){var p=o!==null?o.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return p!==null?null:S(e,o,""+d,c);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ja:return d.key===p?t(e,o,d,c):null;case vs:return d.key===p?h(e,o,d,c):null;case qi:return p=d._init,a(e,o,p(d._payload),c)}if(Rr(d)||mr(d))return p!==null?null:m(e,o,d,c,null);eo(e,d)}return null}function r(e,o,d,c,p){if(typeof c=="string"&&c!==""||typeof c=="number")return e=e.get(d)||null,S(o,e,""+c,p);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case ja:return e=e.get(c.key===null?d:c.key)||null,t(o,e,c,p);case vs:return e=e.get(c.key===null?d:c.key)||null,h(o,e,c,p);case qi:var x=c._init;return r(e,o,d,x(c._payload),p)}if(Rr(c)||mr(c))return e=e.get(d)||null,m(o,e,c,p,null);eo(o,c)}return null}function i(e,o,d,c){for(var p=null,x=null,T=o,E=o=0,y=null;T!==null&&E<d.length;E++){T.index>E?(y=T,T=null):y=T.sibling;var w=a(e,T,d[E],c);if(w===null){T===null&&(T=y);break}u&&T&&w.alternate===null&&n(e,T),o=I(w,o,E),x===null?p=w:x.sibling=w,x=w,T=y}if(E===d.length)return g(e,T),Kt&&Nn(e,E),p;if(T===null){for(;E<d.length;E++)T=l(e,d[E],c),T!==null&&(o=I(T,o,E),x===null?p=T:x.sibling=T,x=T);return Kt&&Nn(e,E),p}for(T=C(e,T);E<d.length;E++)y=r(T,e,E,d[E],c),y!==null&&(u&&y.alternate!==null&&T.delete(y.key===null?E:y.key),o=I(y,o,E),x===null?p=y:x.sibling=y,x=y);return u&&T.forEach(function(A){return n(e,A)}),Kt&&Nn(e,E),p}function s(e,o,d,c){var p=mr(d);if(typeof p!="function")throw Error(ft(150));if(d=p.call(d),d==null)throw Error(ft(151));for(var x=p=null,T=o,E=o=0,y=null,w=d.next();T!==null&&!w.done;E++,w=d.next()){T.index>E?(y=T,T=null):y=T.sibling;var A=a(e,T,w.value,c);if(A===null){T===null&&(T=y);break}u&&T&&A.alternate===null&&n(e,T),o=I(A,o,E),x===null?p=A:x.sibling=A,x=A,T=y}if(w.done)return g(e,T),Kt&&Nn(e,E),p;if(T===null){for(;!w.done;E++,w=d.next())w=l(e,w.value,c),w!==null&&(o=I(w,o,E),x===null?p=w:x.sibling=w,x=w);return Kt&&Nn(e,E),p}for(T=C(e,T);!w.done;E++,w=d.next())w=r(T,e,E,w.value,c),w!==null&&(u&&w.alternate!==null&&T.delete(w.key===null?E:w.key),o=I(w,o,E),x===null?p=w:x.sibling=w,x=w);return u&&T.forEach(function(P){return n(e,P)}),Kt&&Nn(e,E),p}function f(e,o,d,c){if(typeof d=="object"&&d!==null&&d.type===ps&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case ja:t:{for(var p=d.key,x=o;x!==null;){if(x.key===p){if(p=d.type,p===ps){if(x.tag===7){g(e,x.sibling),o=R(x,d.props.children),o.return=e,e=o;break t}}else if(x.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===qi&&gv(p)===x.type){g(e,x.sibling),o=R(x,d.props),o.ref=Er(e,x,d),o.return=e,e=o;break t}g(e,x);break}else n(e,x);x=x.sibling}d.type===ps?(o=Wn(d.props.children,e.mode,c,d.key),o.return=e,e=o):(c=Ro(d.type,d.key,d.props,null,e.mode,c),c.ref=Er(e,o,d),c.return=e,e=c)}return v(e);case vs:t:{for(x=d.key;o!==null;){if(o.key===x)if(o.tag===4&&o.stateNode.containerInfo===d.containerInfo&&o.stateNode.implementation===d.implementation){g(e,o.sibling),o=R(o,d.children||[]),o.return=e,e=o;break t}else{g(e,o);break}else n(e,o);o=o.sibling}o=Fh(d,e.mode,c),o.return=e,e=o}return v(e);case qi:return x=d._init,f(e,o,x(d._payload),c)}if(Rr(d))return i(e,o,d,c);if(mr(d))return s(e,o,d,c);eo(e,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,o!==null&&o.tag===6?(g(e,o.sibling),o=R(o,d),o.return=e,e=o):(g(e,o),o=Ih(d,e.mode,c),o.return=e,e=o),v(e)):g(e,o)}return f}var Gs=vg(!0),pg=vg(!1),Ea={},Ci=Pn(Ea),ra=Pn(Ea),aa=Pn(Ea);function Un(u){if(u===Ea)throw Error(ft(174));return u}function zf(u,n){switch(Yt(aa,n),Yt(ra,u),Yt(Ci,Ea),u=n.nodeType,u){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:su(null,"");break;default:u=u===8?n.parentNode:n,n=u.namespaceURI||null,u=u.tagName,n=su(n,u)}kt(Ci),Yt(Ci,n)}function Us(){kt(Ci),kt(ra),kt(aa)}function mg(u){Un(aa.current);var n=Un(Ci.current),g=su(n,u.type);n!==g&&(Yt(ra,u),Yt(Ci,g))}function Xf(u){ra.current===u&&(kt(Ci),kt(ra))}var $t=Pn(0);function $o(u){for(var n=u;n!==null;){if(n.tag===13){var g=n.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===u)break;for(;n.sibling===null;){if(n.return===null||n.return===u)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ch=[];function Yf(){for(var u=0;u<Ch.length;u++)Ch[u]._workInProgressVersionPrimary=null;Ch.length=0}var So=Hi.ReactCurrentDispatcher,wh=Hi.ReactCurrentBatchConfig,Qn=0,Qt=null,ue=null,ve=null,Qo=!1,Gr=!1,oa=0,MT=0;function Pe(){throw Error(ft(321))}function Wf(u,n){if(n===null)return!1;for(var g=0;g<n.length&&g<u.length;g++)if(!vi(u[g],n[g]))return!1;return!0}function jf(u,n,g,C,R,I){if(Qn=I,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,So.current=u===null||u.memoizedState===null?OT:DT,u=g(C,R),Gr){I=0;do{if(Gr=!1,oa=0,25<=I)throw Error(ft(301));I+=1,ve=ue=null,n.updateQueue=null,So.current=NT,u=g(C,R)}while(Gr)}if(So.current=Jo,n=ue!==null&&ue.next!==null,Qn=0,ve=ue=Qt=null,Qo=!1,n)throw Error(ft(300));return u}function Hf(){var u=oa!==0;return oa=0,u}function yi(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Qt.memoizedState=ve=u:ve=ve.next=u,ve}function ri(){if(ue===null){var u=Qt.alternate;u=u!==null?u.memoizedState:null}else u=ue.next;var n=ve===null?Qt.memoizedState:ve.next;if(n!==null)ve=n,ue=u;else{if(u===null)throw Error(ft(310));ue=u,u={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ve===null?Qt.memoizedState=ve=u:ve=ve.next=u}return ve}function la(u,n){return typeof n=="function"?n(u):n}function Ah(u){var n=ri(),g=n.queue;if(g===null)throw Error(ft(311));g.lastRenderedReducer=u;var C=ue,R=C.baseQueue,I=g.pending;if(I!==null){if(R!==null){var v=R.next;R.next=I.next,I.next=v}C.baseQueue=R=I,g.pending=null}if(R!==null){I=R.next,C=C.baseState;var S=v=null,t=null,h=I;do{var m=h.lane;if((Qn&m)===m)t!==null&&(t=t.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),C=h.hasEagerState?h.eagerState:u(C,h.action);else{var l={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};t===null?(S=t=l,v=C):t=t.next=l,Qt.lanes|=m,Jn|=m}h=h.next}while(h!==null&&h!==I);t===null?v=C:t.next=S,vi(C,n.memoizedState)||(ze=!0),n.memoizedState=C,n.baseState=v,n.baseQueue=t,g.lastRenderedState=C}if(u=g.interleaved,u!==null){R=u;do I=R.lane,Qt.lanes|=I,Jn|=I,R=R.next;while(R!==u)}else R===null&&(g.lanes=0);return[n.memoizedState,g.dispatch]}function Ph(u){var n=ri(),g=n.queue;if(g===null)throw Error(ft(311));g.lastRenderedReducer=u;var C=g.dispatch,R=g.pending,I=n.memoizedState;if(R!==null){g.pending=null;var v=R=R.next;do I=u(I,v.action),v=v.next;while(v!==R);vi(I,n.memoizedState)||(ze=!0),n.memoizedState=I,n.baseQueue===null&&(n.baseState=I),g.lastRenderedState=I}return[I,C]}function gg(){}function xg(u,n){var g=Qt,C=ri(),R=n(),I=!vi(C.memoizedState,R);if(I&&(C.memoizedState=R,ze=!0),C=C.queue,kf(Eg.bind(null,g,C,u),[u]),C.getSnapshot!==n||I||ve!==null&&ve.memoizedState.tag&1){if(g.flags|=2048,ha(9,Tg.bind(null,g,C,R,n),void 0,null),pe===null)throw Error(ft(349));Qn&30||yg(g,n,R)}return R}function yg(u,n,g){u.flags|=16384,u={getSnapshot:n,value:g},n=Qt.updateQueue,n===null?(n={lastEffect:null,stores:null},Qt.updateQueue=n,n.stores=[u]):(g=n.stores,g===null?n.stores=[u]:g.push(u))}function Tg(u,n,g,C){n.value=g,n.getSnapshot=C,Sg(n)&&Cg(u)}function Eg(u,n,g){return g(function(){Sg(n)&&Cg(u)})}function Sg(u){var n=u.getSnapshot;u=u.value;try{var g=n();return!vi(u,g)}catch{return!0}}function Cg(u){var n=Ui(u,1);n!==null&&ci(n,u,1,-1)}function xv(u){var n=yi();return typeof u=="function"&&(u=u()),n.memoizedState=n.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:u},n.queue=u,u=u.dispatch=LT.bind(null,Qt,u),[n.memoizedState,u]}function ha(u,n,g,C){return u={tag:u,create:n,destroy:g,deps:C,next:null},n=Qt.updateQueue,n===null?(n={lastEffect:null,stores:null},Qt.updateQueue=n,n.lastEffect=u.next=u):(g=n.lastEffect,g===null?n.lastEffect=u.next=u:(C=g.next,g.next=u,u.next=C,n.lastEffect=u)),u}function wg(){return ri().memoizedState}function Co(u,n,g,C){var R=yi();Qt.flags|=u,R.memoizedState=ha(1|n,g,void 0,C===void 0?null:C)}function Cl(u,n,g,C){var R=ri();C=C===void 0?null:C;var I=void 0;if(ue!==null){var v=ue.memoizedState;if(I=v.destroy,C!==null&&Wf(C,v.deps)){R.memoizedState=ha(n,g,I,C);return}}Qt.flags|=u,R.memoizedState=ha(1|n,g,I,C)}function yv(u,n){return Co(8390656,8,u,n)}function kf(u,n){return Cl(2048,8,u,n)}function Ag(u,n){return Cl(4,2,u,n)}function Pg(u,n){return Cl(4,4,u,n)}function Rg(u,n){if(typeof n=="function")return u=u(),n(u),function(){n(null)};if(n!=null)return u=u(),n.current=u,function(){n.current=null}}function Mg(u,n,g){return g=g!=null?g.concat([u]):null,Cl(4,4,Rg.bind(null,n,u),g)}function Kf(){}function Ig(u,n){var g=ri();n=n===void 0?null:n;var C=g.memoizedState;return C!==null&&n!==null&&Wf(n,C[1])?C[0]:(g.memoizedState=[u,n],u)}function Fg(u,n){var g=ri();n=n===void 0?null:n;var C=g.memoizedState;return C!==null&&n!==null&&Wf(n,C[1])?C[0]:(u=u(),g.memoizedState=[u,n],u)}function Lg(u,n,g){return Qn&21?(vi(g,n)||(g=Nm(),Qt.lanes|=g,Jn|=g,u.baseState=!0),n):(u.baseState&&(u.baseState=!1,ze=!0),u.memoizedState=g)}function IT(u,n){var g=Ut;Ut=g!==0&&4>g?g:4,u(!0);var C=wh.transition;wh.transition={};try{u(!1),n()}finally{Ut=g,wh.transition=C}}function Og(){return ri().memoizedState}function FT(u,n,g){var C=vn(u);if(g={lane:C,action:g,hasEagerState:!1,eagerState:null,next:null},Dg(u))Ng(n,g);else if(g=ug(u,n,g,C),g!==null){var R=be();ci(g,u,C,R),Bg(g,n,C)}}function LT(u,n,g){var C=vn(u),R={lane:C,action:g,hasEagerState:!1,eagerState:null,next:null};if(Dg(u))Ng(n,R);else{var I=u.alternate;if(u.lanes===0&&(I===null||I.lanes===0)&&(I=n.lastRenderedReducer,I!==null))try{var v=n.lastRenderedState,S=I(v,g);if(R.hasEagerState=!0,R.eagerState=S,vi(S,v)){var t=n.interleaved;t===null?(R.next=R,Gf(n)):(R.next=t.next,t.next=R),n.interleaved=R;return}}catch{}finally{}g=ug(u,n,R,C),g!==null&&(R=be(),ci(g,u,C,R),Bg(g,n,C))}}function Dg(u){var n=u.alternate;return u===Qt||n!==null&&n===Qt}function Ng(u,n){Gr=Qo=!0;var g=u.pending;g===null?n.next=n:(n.next=g.next,g.next=n),u.pending=n}function Bg(u,n,g){if(g&4194240){var C=n.lanes;C&=u.pendingLanes,g|=C,n.lanes=g,wf(u,g)}}var Jo={readContext:si,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},OT={readContext:si,useCallback:function(u,n){return yi().memoizedState=[u,n===void 0?null:n],u},useContext:si,useEffect:yv,useImperativeHandle:function(u,n,g){return g=g!=null?g.concat([u]):null,Co(4194308,4,Rg.bind(null,n,u),g)},useLayoutEffect:function(u,n){return Co(4194308,4,u,n)},useInsertionEffect:function(u,n){return Co(4,2,u,n)},useMemo:function(u,n){var g=yi();return n=n===void 0?null:n,u=u(),g.memoizedState=[u,n],u},useReducer:function(u,n,g){var C=yi();return n=g!==void 0?g(n):n,C.memoizedState=C.baseState=n,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:n},C.queue=u,u=u.dispatch=FT.bind(null,Qt,u),[C.memoizedState,u]},useRef:function(u){var n=yi();return u={current:u},n.memoizedState=u},useState:xv,useDebugValue:Kf,useDeferredValue:function(u){return yi().memoizedState=u},useTransition:function(){var u=xv(!1),n=u[0];return u=IT.bind(null,u[1]),yi().memoizedState=u,[n,u]},useMutableSource:function(){},useSyncExternalStore:function(u,n,g){var C=Qt,R=yi();if(Kt){if(g===void 0)throw Error(ft(407));g=g()}else{if(g=n(),pe===null)throw Error(ft(349));Qn&30||yg(C,n,g)}R.memoizedState=g;var I={value:g,getSnapshot:n};return R.queue=I,yv(Eg.bind(null,C,I,u),[u]),C.flags|=2048,ha(9,Tg.bind(null,C,I,g,n),void 0,null),g},useId:function(){var u=yi(),n=pe.identifierPrefix;if(Kt){var g=Bi,C=Ni;g=(C&~(1<<32-di(C)-1)).toString(32)+g,n=":"+n+"R"+g,g=oa++,0<g&&(n+="H"+g.toString(32)),n+=":"}else g=MT++,n=":"+n+"r"+g.toString(32)+":";return u.memoizedState=n},unstable_isNewReconciler:!1},DT={readContext:si,useCallback:Ig,useContext:si,useEffect:kf,useImperativeHandle:Mg,useInsertionEffect:Ag,useLayoutEffect:Pg,useMemo:Fg,useReducer:Ah,useRef:wg,useState:function(){return Ah(la)},useDebugValue:Kf,useDeferredValue:function(u){var n=ri();return Lg(n,ue.memoizedState,u)},useTransition:function(){var u=Ah(la)[0],n=ri().memoizedState;return[u,n]},useMutableSource:gg,useSyncExternalStore:xg,useId:Og,unstable_isNewReconciler:!1},NT={readContext:si,useCallback:Ig,useContext:si,useEffect:kf,useImperativeHandle:Mg,useInsertionEffect:Ag,useLayoutEffect:Pg,useMemo:Fg,useReducer:Ph,useRef:wg,useState:function(){return Ph(la)},useDebugValue:Kf,useDeferredValue:function(u){var n=ri();return ue===null?n.memoizedState=u:Lg(n,ue.memoizedState,u)},useTransition:function(){var u=Ph(la)[0],n=ri().memoizedState;return[u,n]},useMutableSource:gg,useSyncExternalStore:xg,useId:Og,unstable_isNewReconciler:!1};function zs(u,n){try{var g="",C=n;do g+=l1(C),C=C.return;while(C);var R=g}catch(I){R=`
Error generating stack: `+I.message+`
`+I.stack}return{value:u,source:n,stack:R,digest:null}}function Rh(u,n,g){return{value:u,source:null,stack:g??null,digest:n??null}}function Ru(u,n){try{console.error(n.value)}catch(g){setTimeout(function(){throw g})}}var BT=typeof WeakMap=="function"?WeakMap:Map;function bg(u,n,g){g=bi(-1,g),g.tag=3,g.payload={element:null};var C=n.value;return g.callback=function(){qo||(qo=!0,Vu=C),Ru(u,n)},g}function Vg(u,n,g){g=bi(-1,g),g.tag=3;var C=u.type.getDerivedStateFromError;if(typeof C=="function"){var R=n.value;g.payload=function(){return C(R)},g.callback=function(){Ru(u,n)}}var I=u.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){Ru(u,n),typeof C!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})}),g}function Tv(u,n,g){var C=u.pingCache;if(C===null){C=u.pingCache=new BT;var R=new Set;C.set(n,R)}else R=C.get(n),R===void 0&&(R=new Set,C.set(n,R));R.has(g)||(R.add(g),u=QT.bind(null,u,n,g),n.then(u,u))}function Ev(u){do{var n;if((n=u.tag===13)&&(n=u.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return u;u=u.return}while(u!==null);return null}function Sv(u,n,g,C,R){return u.mode&1?(u.flags|=65536,u.lanes=R,u):(u===n?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(n=bi(-1,1),n.tag=2,dn(g,n,1))),g.lanes|=1),u)}var bT=Hi.ReactCurrentOwner,ze=!1;function Ne(u,n,g,C){n.child=u===null?pg(n,null,g,C):Gs(n,u.child,g,C)}function Cv(u,n,g,C,R){g=g.render;var I=n.ref;return Fs(n,R),C=jf(u,n,g,C,I,R),g=Hf(),u!==null&&!ze?(n.updateQueue=u.updateQueue,n.flags&=-2053,u.lanes&=~R,zi(u,n,R)):(Kt&&g&&Of(n),n.flags|=1,Ne(u,n,C,R),n.child)}function wv(u,n,g,C,R){if(u===null){var I=g.type;return typeof I=="function"&&!ed(I)&&I.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(n.tag=15,n.type=I,Gg(u,n,I,C,R)):(u=Ro(g.type,null,C,n,n.mode,R),u.ref=n.ref,u.return=n,n.child=u)}if(I=u.child,!(u.lanes&R)){var v=I.memoizedProps;if(g=g.compare,g=g!==null?g:ea,g(v,C)&&u.ref===n.ref)return zi(u,n,R)}return n.flags|=1,u=pn(I,C),u.ref=n.ref,u.return=n,n.child=u}function Gg(u,n,g,C,R){if(u!==null){var I=u.memoizedProps;if(ea(I,C)&&u.ref===n.ref)if(ze=!1,n.pendingProps=C=I,(u.lanes&R)!==0)u.flags&131072&&(ze=!0);else return n.lanes=u.lanes,zi(u,n,R)}return Mu(u,n,g,C,R)}function Ug(u,n,g){var C=n.pendingProps,R=C.children,I=u!==null?u.memoizedState:null;if(C.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(As,Ke),Ke|=g;else{if(!(g&1073741824))return u=I!==null?I.baseLanes|g:g,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:u,cachePool:null,transitions:null},n.updateQueue=null,Yt(As,Ke),Ke|=u,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=I!==null?I.baseLanes:g,Yt(As,Ke),Ke|=C}else I!==null?(C=I.baseLanes|g,n.memoizedState=null):C=g,Yt(As,Ke),Ke|=C;return Ne(u,n,R,g),n.child}function zg(u,n){var g=n.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(n.flags|=512,n.flags|=2097152)}function Mu(u,n,g,C,R){var I=Ye(g)?Kn:Oe.current;return I=bs(n,I),Fs(n,R),g=jf(u,n,g,C,I,R),C=Hf(),u!==null&&!ze?(n.updateQueue=u.updateQueue,n.flags&=-2053,u.lanes&=~R,zi(u,n,R)):(Kt&&C&&Of(n),n.flags|=1,Ne(u,n,g,R),n.child)}function Av(u,n,g,C,R){if(Ye(g)){var I=!0;Yo(n)}else I=!1;if(Fs(n,R),n.stateNode===null)wo(u,n),cg(n,g,C),Pu(n,g,C,R),C=!0;else if(u===null){var v=n.stateNode,S=n.memoizedProps;v.props=S;var t=v.context,h=g.contextType;typeof h=="object"&&h!==null?h=si(h):(h=Ye(g)?Kn:Oe.current,h=bs(n,h));var m=g.getDerivedStateFromProps,l=typeof m=="function"||typeof v.getSnapshotBeforeUpdate=="function";l||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==C||t!==h)&&mv(n,v,C,h),_i=!1;var a=n.memoizedState;v.state=a,Ko(n,C,v,R),t=n.memoizedState,S!==C||a!==t||Xe.current||_i?(typeof m=="function"&&(Au(n,g,m,C),t=n.memoizedState),(S=_i||pv(n,g,S,C,a,t,h))?(l||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=C,n.memoizedState=t),v.props=C,v.state=t,v.context=h,C=S):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),C=!1)}else{v=n.stateNode,fg(u,n),S=n.memoizedProps,h=n.type===n.elementType?S:hi(n.type,S),v.props=h,l=n.pendingProps,a=v.context,t=g.contextType,typeof t=="object"&&t!==null?t=si(t):(t=Ye(g)?Kn:Oe.current,t=bs(n,t));var r=g.getDerivedStateFromProps;(m=typeof r=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==l||a!==t)&&mv(n,v,C,t),_i=!1,a=n.memoizedState,v.state=a,Ko(n,C,v,R);var i=n.memoizedState;S!==l||a!==i||Xe.current||_i?(typeof r=="function"&&(Au(n,g,r,C),i=n.memoizedState),(h=_i||pv(n,g,h,C,a,i,t)||!1)?(m||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(C,i,t),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(C,i,t)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===u.memoizedProps&&a===u.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===u.memoizedProps&&a===u.memoizedState||(n.flags|=1024),n.memoizedProps=C,n.memoizedState=i),v.props=C,v.state=i,v.context=t,C=h):(typeof v.componentDidUpdate!="function"||S===u.memoizedProps&&a===u.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===u.memoizedProps&&a===u.memoizedState||(n.flags|=1024),C=!1)}return Iu(u,n,g,C,I,R)}function Iu(u,n,g,C,R,I){zg(u,n);var v=(n.flags&128)!==0;if(!C&&!v)return R&&uv(n,g,!1),zi(u,n,I);C=n.stateNode,bT.current=n;var S=v&&typeof g.getDerivedStateFromError!="function"?null:C.render();return n.flags|=1,u!==null&&v?(n.child=Gs(n,u.child,null,I),n.child=Gs(n,null,S,I)):Ne(u,n,S,I),n.memoizedState=C.state,R&&uv(n,g,!0),n.child}function Xg(u){var n=u.stateNode;n.pendingContext?hv(u,n.pendingContext,n.pendingContext!==n.context):n.context&&hv(u,n.context,!1),zf(u,n.containerInfo)}function Pv(u,n,g,C,R){return Vs(),Nf(R),n.flags|=256,Ne(u,n,g,C),n.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function Lu(u){return{baseLanes:u,cachePool:null,transitions:null}}function Yg(u,n,g){var C=n.pendingProps,R=$t.current,I=!1,v=(n.flags&128)!==0,S;if((S=v)||(S=u!==null&&u.memoizedState===null?!1:(R&2)!==0),S?(I=!0,n.flags&=-129):(u===null||u.memoizedState!==null)&&(R|=1),Yt($t,R&1),u===null)return Cu(n),u=n.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(n.mode&1?u.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(v=C.children,u=C.fallback,I?(C=n.mode,I=n.child,v={mode:"hidden",children:v},!(C&1)&&I!==null?(I.childLanes=0,I.pendingProps=v):I=Pl(v,C,0,null),u=Wn(u,C,g,null),I.return=n,u.return=n,I.sibling=u,n.child=I,n.child.memoizedState=Lu(g),n.memoizedState=Fu,u):$f(n,v));if(R=u.memoizedState,R!==null&&(S=R.dehydrated,S!==null))return VT(u,n,v,C,S,R,g);if(I){I=C.fallback,v=n.mode,R=u.child,S=R.sibling;var t={mode:"hidden",children:C.children};return!(v&1)&&n.child!==R?(C=n.child,C.childLanes=0,C.pendingProps=t,n.deletions=null):(C=pn(R,t),C.subtreeFlags=R.subtreeFlags&14680064),S!==null?I=pn(S,I):(I=Wn(I,v,g,null),I.flags|=2),I.return=n,C.return=n,C.sibling=I,n.child=C,C=I,I=n.child,v=u.child.memoizedState,v=v===null?Lu(g):{baseLanes:v.baseLanes|g,cachePool:null,transitions:v.transitions},I.memoizedState=v,I.childLanes=u.childLanes&~g,n.memoizedState=Fu,C}return I=u.child,u=I.sibling,C=pn(I,{mode:"visible",children:C.children}),!(n.mode&1)&&(C.lanes=g),C.return=n,C.sibling=null,u!==null&&(g=n.deletions,g===null?(n.deletions=[u],n.flags|=16):g.push(u)),n.child=C,n.memoizedState=null,C}function $f(u,n){return n=Pl({mode:"visible",children:n},u.mode,0,null),n.return=u,u.child=n}function io(u,n,g,C){return C!==null&&Nf(C),Gs(n,u.child,null,g),u=$f(n,n.pendingProps.children),u.flags|=2,n.memoizedState=null,u}function VT(u,n,g,C,R,I,v){if(g)return n.flags&256?(n.flags&=-257,C=Rh(Error(ft(422))),io(u,n,v,C)):n.memoizedState!==null?(n.child=u.child,n.flags|=128,null):(I=C.fallback,R=n.mode,C=Pl({mode:"visible",children:C.children},R,0,null),I=Wn(I,R,v,null),I.flags|=2,C.return=n,I.return=n,C.sibling=I,n.child=C,n.mode&1&&Gs(n,u.child,null,v),n.child.memoizedState=Lu(v),n.memoizedState=Fu,I);if(!(n.mode&1))return io(u,n,v,null);if(R.data==="$!"){if(C=R.nextSibling&&R.nextSibling.dataset,C)var S=C.dgst;return C=S,I=Error(ft(419)),C=Rh(I,C,void 0),io(u,n,v,C)}if(S=(v&u.childLanes)!==0,ze||S){if(C=pe,C!==null){switch(v&-v){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=R&(C.suspendedLanes|v)?0:R,R!==0&&R!==I.retryLane&&(I.retryLane=R,Ui(u,R),ci(C,u,R,-1))}return td(),C=Rh(Error(ft(421))),io(u,n,v,C)}return R.data==="$?"?(n.flags|=128,n.child=u.child,n=JT.bind(null,u),R._reactRetry=n,null):(u=I.treeContext,$e=fn(R.nextSibling),Qe=n,Kt=!0,fi=null,u!==null&&(ti[ei++]=Ni,ti[ei++]=Bi,ti[ei++]=$n,Ni=u.id,Bi=u.overflow,$n=n),n=$f(n,C.children),n.flags|=4096,n)}function Rv(u,n,g){u.lanes|=n;var C=u.alternate;C!==null&&(C.lanes|=n),wu(u.return,n,g)}function Mh(u,n,g,C,R){var I=u.memoizedState;I===null?u.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:R}:(I.isBackwards=n,I.rendering=null,I.renderingStartTime=0,I.last=C,I.tail=g,I.tailMode=R)}function Wg(u,n,g){var C=n.pendingProps,R=C.revealOrder,I=C.tail;if(Ne(u,n,C.children,g),C=$t.current,C&2)C=C&1|2,n.flags|=128;else{if(u!==null&&u.flags&128)t:for(u=n.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Rv(u,g,n);else if(u.tag===19)Rv(u,g,n);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break t;for(;u.sibling===null;){if(u.return===null||u.return===n)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}C&=1}if(Yt($t,C),!(n.mode&1))n.memoizedState=null;else switch(R){case"forwards":for(g=n.child,R=null;g!==null;)u=g.alternate,u!==null&&$o(u)===null&&(R=g),g=g.sibling;g=R,g===null?(R=n.child,n.child=null):(R=g.sibling,g.sibling=null),Mh(n,!1,R,g,I);break;case"backwards":for(g=null,R=n.child,n.child=null;R!==null;){if(u=R.alternate,u!==null&&$o(u)===null){n.child=R;break}u=R.sibling,R.sibling=g,g=R,R=u}Mh(n,!0,g,null,I);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wo(u,n){!(n.mode&1)&&u!==null&&(u.alternate=null,n.alternate=null,n.flags|=2)}function zi(u,n,g){if(u!==null&&(n.dependencies=u.dependencies),Jn|=n.lanes,!(g&n.childLanes))return null;if(u!==null&&n.child!==u.child)throw Error(ft(153));if(n.child!==null){for(u=n.child,g=pn(u,u.pendingProps),n.child=g,g.return=n;u.sibling!==null;)u=u.sibling,g=g.sibling=pn(u,u.pendingProps),g.return=n;g.sibling=null}return n.child}function GT(u,n,g){switch(n.tag){case 3:Xg(n),Vs();break;case 5:mg(n);break;case 1:Ye(n.type)&&Yo(n);break;case 4:zf(n,n.stateNode.containerInfo);break;case 10:var C=n.type._context,R=n.memoizedProps.value;Yt(Ho,C._currentValue),C._currentValue=R;break;case 13:if(C=n.memoizedState,C!==null)return C.dehydrated!==null?(Yt($t,$t.current&1),n.flags|=128,null):g&n.child.childLanes?Yg(u,n,g):(Yt($t,$t.current&1),u=zi(u,n,g),u!==null?u.sibling:null);Yt($t,$t.current&1);break;case 19:if(C=(g&n.childLanes)!==0,u.flags&128){if(C)return Wg(u,n,g);n.flags|=128}if(R=n.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Yt($t,$t.current),C)break;return null;case 22:case 23:return n.lanes=0,Ug(u,n,g)}return zi(u,n,g)}var jg,Ou,Hg,kg;jg=function(u,n){for(var g=n.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break;for(;g.sibling===null;){if(g.return===null||g.return===n)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};Ou=function(){};Hg=function(u,n,g,C){var R=u.memoizedProps;if(R!==C){u=n.stateNode,Un(Ci.current);var I=null;switch(g){case"input":R=tu(u,R),C=tu(u,C),I=[];break;case"select":R=Jt({},R,{value:void 0}),C=Jt({},C,{value:void 0}),I=[];break;case"textarea":R=nu(u,R),C=nu(u,C),I=[];break;default:typeof R.onClick!="function"&&typeof C.onClick=="function"&&(u.onclick=zo)}ru(g,C);var v;g=null;for(h in R)if(!C.hasOwnProperty(h)&&R.hasOwnProperty(h)&&R[h]!=null)if(h==="style"){var S=R[h];for(v in S)S.hasOwnProperty(v)&&(g||(g={}),g[v]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&($r.hasOwnProperty(h)?I||(I=[]):(I=I||[]).push(h,null));for(h in C){var t=C[h];if(S=R!=null?R[h]:void 0,C.hasOwnProperty(h)&&t!==S&&(t!=null||S!=null))if(h==="style")if(S){for(v in S)!S.hasOwnProperty(v)||t&&t.hasOwnProperty(v)||(g||(g={}),g[v]="");for(v in t)t.hasOwnProperty(v)&&S[v]!==t[v]&&(g||(g={}),g[v]=t[v])}else g||(I||(I=[]),I.push(h,g)),g=t;else h==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,S=S?S.__html:void 0,t!=null&&S!==t&&(I=I||[]).push(h,t)):h==="children"?typeof t!="string"&&typeof t!="number"||(I=I||[]).push(h,""+t):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&($r.hasOwnProperty(h)?(t!=null&&h==="onScroll"&&Ht("scroll",u),I||S===t||(I=[])):(I=I||[]).push(h,t))}g&&(I=I||[]).push("style",g);var h=I;(n.updateQueue=h)&&(n.flags|=4)}};kg=function(u,n,g,C){g!==C&&(n.flags|=4)};function Sr(u,n){if(!Kt)switch(u.tailMode){case"hidden":n=u.tail;for(var g=null;n!==null;)n.alternate!==null&&(g=n),n=n.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?n||u.tail===null?u.tail=null:u.tail.sibling=null:C.sibling=null}}function Re(u){var n=u.alternate!==null&&u.alternate.child===u.child,g=0,C=0;if(n)for(var R=u.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags&14680064,C|=R.flags&14680064,R.return=u,R=R.sibling;else for(R=u.child;R!==null;)g|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=u,R=R.sibling;return u.subtreeFlags|=C,u.childLanes=g,n}function UT(u,n,g){var C=n.pendingProps;switch(Df(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(n),null;case 1:return Ye(n.type)&&Xo(),Re(n),null;case 3:return C=n.stateNode,Us(),kt(Xe),kt(Oe),Yf(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(u===null||u.child===null)&&(to(n)?n.flags|=4:u===null||u.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,fi!==null&&(zu(fi),fi=null))),Ou(u,n),Re(n),null;case 5:Xf(n);var R=Un(aa.current);if(g=n.type,u!==null&&n.stateNode!=null)Hg(u,n,g,C,R),u.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!C){if(n.stateNode===null)throw Error(ft(166));return Re(n),null}if(u=Un(Ci.current),to(n)){C=n.stateNode,g=n.type;var I=n.memoizedProps;switch(C[Ti]=n,C[sa]=I,u=(n.mode&1)!==0,g){case"dialog":Ht("cancel",C),Ht("close",C);break;case"iframe":case"object":case"embed":Ht("load",C);break;case"video":case"audio":for(R=0;R<Ir.length;R++)Ht(Ir[R],C);break;case"source":Ht("error",C);break;case"img":case"image":case"link":Ht("error",C),Ht("load",C);break;case"details":Ht("toggle",C);break;case"input":bc(C,I),Ht("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!I.multiple},Ht("invalid",C);break;case"textarea":Gc(C,I),Ht("invalid",C)}ru(g,I),R=null;for(var v in I)if(I.hasOwnProperty(v)){var S=I[v];v==="children"?typeof S=="string"?C.textContent!==S&&(I.suppressHydrationWarning!==!0&&_a(C.textContent,S,u),R=["children",S]):typeof S=="number"&&C.textContent!==""+S&&(I.suppressHydrationWarning!==!0&&_a(C.textContent,S,u),R=["children",""+S]):$r.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&Ht("scroll",C)}switch(g){case"input":Ha(C),Vc(C,I,!0);break;case"textarea":Ha(C),Uc(C);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(C.onclick=zo)}C=R,n.updateQueue=C,C!==null&&(n.flags|=4)}else{v=R.nodeType===9?R:R.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=ym(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=v.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof C.is=="string"?u=v.createElement(g,{is:C.is}):(u=v.createElement(g),g==="select"&&(v=u,C.multiple?v.multiple=!0:C.size&&(v.size=C.size))):u=v.createElementNS(u,g),u[Ti]=n,u[sa]=C,jg(u,n,!1,!1),n.stateNode=u;t:{switch(v=au(g,C),g){case"dialog":Ht("cancel",u),Ht("close",u),R=C;break;case"iframe":case"object":case"embed":Ht("load",u),R=C;break;case"video":case"audio":for(R=0;R<Ir.length;R++)Ht(Ir[R],u);R=C;break;case"source":Ht("error",u),R=C;break;case"img":case"image":case"link":Ht("error",u),Ht("load",u),R=C;break;case"details":Ht("toggle",u),R=C;break;case"input":bc(u,C),R=tu(u,C),Ht("invalid",u);break;case"option":R=C;break;case"select":u._wrapperState={wasMultiple:!!C.multiple},R=Jt({},C,{value:void 0}),Ht("invalid",u);break;case"textarea":Gc(u,C),R=nu(u,C),Ht("invalid",u);break;default:R=C}ru(g,R),S=R;for(I in S)if(S.hasOwnProperty(I)){var t=S[I];I==="style"?Sm(u,t):I==="dangerouslySetInnerHTML"?(t=t?t.__html:void 0,t!=null&&Tm(u,t)):I==="children"?typeof t=="string"?(g!=="textarea"||t!=="")&&Qr(u,t):typeof t=="number"&&Qr(u,""+t):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&($r.hasOwnProperty(I)?t!=null&&I==="onScroll"&&Ht("scroll",u):t!=null&&xf(u,I,t,v))}switch(g){case"input":Ha(u),Vc(u,C,!1);break;case"textarea":Ha(u),Uc(u);break;case"option":C.value!=null&&u.setAttribute("value",""+yn(C.value));break;case"select":u.multiple=!!C.multiple,I=C.value,I!=null?Ps(u,!!C.multiple,I,!1):C.defaultValue!=null&&Ps(u,!!C.multiple,C.defaultValue,!0);break;default:typeof R.onClick=="function"&&(u.onclick=zo)}switch(g){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break t;case"img":C=!0;break t;default:C=!1}}C&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Re(n),null;case 6:if(u&&n.stateNode!=null)kg(u,n,u.memoizedProps,C);else{if(typeof C!="string"&&n.stateNode===null)throw Error(ft(166));if(g=Un(aa.current),Un(Ci.current),to(n)){if(C=n.stateNode,g=n.memoizedProps,C[Ti]=n,(I=C.nodeValue!==g)&&(u=Qe,u!==null))switch(u.tag){case 3:_a(C.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&_a(C.nodeValue,g,(u.mode&1)!==0)}I&&(n.flags|=4)}else C=(g.nodeType===9?g:g.ownerDocument).createTextNode(C),C[Ti]=n,n.stateNode=C}return Re(n),null;case 13:if(kt($t),C=n.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Kt&&$e!==null&&n.mode&1&&!(n.flags&128))hg(),Vs(),n.flags|=98560,I=!1;else if(I=to(n),C!==null&&C.dehydrated!==null){if(u===null){if(!I)throw Error(ft(318));if(I=n.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(ft(317));I[Ti]=n}else Vs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Re(n),I=!1}else fi!==null&&(zu(fi),fi=null),I=!0;if(!I)return n.flags&65536?n:null}return n.flags&128?(n.lanes=g,n):(C=C!==null,C!==(u!==null&&u.memoizedState!==null)&&C&&(n.child.flags|=8192,n.mode&1&&(u===null||$t.current&1?de===0&&(de=3):td())),n.updateQueue!==null&&(n.flags|=4),Re(n),null);case 4:return Us(),Ou(u,n),u===null&&ia(n.stateNode.containerInfo),Re(n),null;case 10:return Vf(n.type._context),Re(n),null;case 17:return Ye(n.type)&&Xo(),Re(n),null;case 19:if(kt($t),I=n.memoizedState,I===null)return Re(n),null;if(C=(n.flags&128)!==0,v=I.rendering,v===null)if(C)Sr(I,!1);else{if(de!==0||u!==null&&u.flags&128)for(u=n.child;u!==null;){if(v=$o(u),v!==null){for(n.flags|=128,Sr(I,!1),C=v.updateQueue,C!==null&&(n.updateQueue=C,n.flags|=4),n.subtreeFlags=0,C=g,g=n.child;g!==null;)I=g,u=C,I.flags&=14680066,v=I.alternate,v===null?(I.childLanes=0,I.lanes=u,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=v.childLanes,I.lanes=v.lanes,I.child=v.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=v.memoizedProps,I.memoizedState=v.memoizedState,I.updateQueue=v.updateQueue,I.type=v.type,u=v.dependencies,I.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return Yt($t,$t.current&1|2),n.child}u=u.sibling}I.tail!==null&&ie()>Xs&&(n.flags|=128,C=!0,Sr(I,!1),n.lanes=4194304)}else{if(!C)if(u=$o(v),u!==null){if(n.flags|=128,C=!0,g=u.updateQueue,g!==null&&(n.updateQueue=g,n.flags|=4),Sr(I,!0),I.tail===null&&I.tailMode==="hidden"&&!v.alternate&&!Kt)return Re(n),null}else 2*ie()-I.renderingStartTime>Xs&&g!==1073741824&&(n.flags|=128,C=!0,Sr(I,!1),n.lanes=4194304);I.isBackwards?(v.sibling=n.child,n.child=v):(g=I.last,g!==null?g.sibling=v:n.child=v,I.last=v)}return I.tail!==null?(n=I.tail,I.rendering=n,I.tail=n.sibling,I.renderingStartTime=ie(),n.sibling=null,g=$t.current,Yt($t,C?g&1|2:g&1),n):(Re(n),null);case 22:case 23:return _f(),C=n.memoizedState!==null,u!==null&&u.memoizedState!==null!==C&&(n.flags|=8192),C&&n.mode&1?Ke&1073741824&&(Re(n),n.subtreeFlags&6&&(n.flags|=8192)):Re(n),null;case 24:return null;case 25:return null}throw Error(ft(156,n.tag))}function zT(u,n){switch(Df(n),n.tag){case 1:return Ye(n.type)&&Xo(),u=n.flags,u&65536?(n.flags=u&-65537|128,n):null;case 3:return Us(),kt(Xe),kt(Oe),Yf(),u=n.flags,u&65536&&!(u&128)?(n.flags=u&-65537|128,n):null;case 5:return Xf(n),null;case 13:if(kt($t),u=n.memoizedState,u!==null&&u.dehydrated!==null){if(n.alternate===null)throw Error(ft(340));Vs()}return u=n.flags,u&65536?(n.flags=u&-65537|128,n):null;case 19:return kt($t),null;case 4:return Us(),null;case 10:return Vf(n.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var no=!1,Fe=!1,XT=typeof WeakSet=="function"?WeakSet:Set,yt=null;function ws(u,n){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(C){qt(u,n,C)}else g.current=null}function Du(u,n,g){try{g()}catch(C){qt(u,n,C)}}var Mv=!1;function YT(u,n){if(mu=Vo,u=Jm(),Lf(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else t:{g=(g=u.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var R=C.anchorOffset,I=C.focusNode;C=C.focusOffset;try{g.nodeType,I.nodeType}catch{g=null;break t}var v=0,S=-1,t=-1,h=0,m=0,l=u,a=null;e:for(;;){for(var r;l!==g||R!==0&&l.nodeType!==3||(S=v+R),l!==I||C!==0&&l.nodeType!==3||(t=v+C),l.nodeType===3&&(v+=l.nodeValue.length),(r=l.firstChild)!==null;)a=l,l=r;for(;;){if(l===u)break e;if(a===g&&++h===R&&(S=v),a===I&&++m===C&&(t=v),(r=l.nextSibling)!==null)break;l=a,a=l.parentNode}l=r}g=S===-1||t===-1?null:{start:S,end:t}}else g=null}g=g||{start:0,end:0}}else g=null;for(gu={focusedElem:u,selectionRange:g},Vo=!1,yt=n;yt!==null;)if(n=yt,u=n.child,(n.subtreeFlags&1028)!==0&&u!==null)u.return=n,yt=u;else for(;yt!==null;){n=yt;try{var i=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(i!==null){var s=i.memoizedProps,f=i.memoizedState,e=n.stateNode,o=e.getSnapshotBeforeUpdate(n.elementType===n.type?s:hi(n.type,s),f);e.__reactInternalSnapshotBeforeUpdate=o}break;case 3:var d=n.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(c){qt(n,n.return,c)}if(u=n.sibling,u!==null){u.return=n.return,yt=u;break}yt=n.return}return i=Mv,Mv=!1,i}function Ur(u,n,g){var C=n.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var R=C=C.next;do{if((R.tag&u)===u){var I=R.destroy;R.destroy=void 0,I!==void 0&&Du(n,g,I)}R=R.next}while(R!==C)}}function wl(u,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var g=n=n.next;do{if((g.tag&u)===u){var C=g.create;g.destroy=C()}g=g.next}while(g!==n)}}function Nu(u){var n=u.ref;if(n!==null){var g=u.stateNode;switch(u.tag){case 5:u=g;break;default:u=g}typeof n=="function"?n(u):n.current=u}}function Kg(u){var n=u.alternate;n!==null&&(u.alternate=null,Kg(n)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(n=u.stateNode,n!==null&&(delete n[Ti],delete n[sa],delete n[Tu],delete n[wT],delete n[AT])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function $g(u){return u.tag===5||u.tag===3||u.tag===4}function Iv(u){t:for(;;){for(;u.sibling===null;){if(u.return===null||$g(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue t;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Bu(u,n,g){var C=u.tag;if(C===5||C===6)u=u.stateNode,n?g.nodeType===8?g.parentNode.insertBefore(u,n):g.insertBefore(u,n):(g.nodeType===8?(n=g.parentNode,n.insertBefore(u,g)):(n=g,n.appendChild(u)),g=g._reactRootContainer,g!=null||n.onclick!==null||(n.onclick=zo));else if(C!==4&&(u=u.child,u!==null))for(Bu(u,n,g),u=u.sibling;u!==null;)Bu(u,n,g),u=u.sibling}function bu(u,n,g){var C=u.tag;if(C===5||C===6)u=u.stateNode,n?g.insertBefore(u,n):g.appendChild(u);else if(C!==4&&(u=u.child,u!==null))for(bu(u,n,g),u=u.sibling;u!==null;)bu(u,n,g),u=u.sibling}var xe=null,ui=!1;function Qi(u,n,g){for(g=g.child;g!==null;)Qg(u,n,g),g=g.sibling}function Qg(u,n,g){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(ml,g)}catch{}switch(g.tag){case 5:Fe||ws(g,n);case 6:var C=xe,R=ui;xe=null,Qi(u,n,g),xe=C,ui=R,xe!==null&&(ui?(u=xe,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):xe.removeChild(g.stateNode));break;case 18:xe!==null&&(ui?(u=xe,g=g.stateNode,u.nodeType===8?Eh(u.parentNode,g):u.nodeType===1&&Eh(u,g),_r(u)):Eh(xe,g.stateNode));break;case 4:C=xe,R=ui,xe=g.stateNode.containerInfo,ui=!0,Qi(u,n,g),xe=C,ui=R;break;case 0:case 11:case 14:case 15:if(!Fe&&(C=g.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){R=C=C.next;do{var I=R,v=I.destroy;I=I.tag,v!==void 0&&(I&2||I&4)&&Du(g,n,v),R=R.next}while(R!==C)}Qi(u,n,g);break;case 1:if(!Fe&&(ws(g,n),C=g.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=g.memoizedProps,C.state=g.memoizedState,C.componentWillUnmount()}catch(S){qt(g,n,S)}Qi(u,n,g);break;case 21:Qi(u,n,g);break;case 22:g.mode&1?(Fe=(C=Fe)||g.memoizedState!==null,Qi(u,n,g),Fe=C):Qi(u,n,g);break;default:Qi(u,n,g)}}function Fv(u){var n=u.updateQueue;if(n!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new XT),n.forEach(function(C){var R=ZT.bind(null,u,C);g.has(C)||(g.add(C),C.then(R,R))})}}function li(u,n){var g=n.deletions;if(g!==null)for(var C=0;C<g.length;C++){var R=g[C];try{var I=u,v=n,S=v;t:for(;S!==null;){switch(S.tag){case 5:xe=S.stateNode,ui=!1;break t;case 3:xe=S.stateNode.containerInfo,ui=!0;break t;case 4:xe=S.stateNode.containerInfo,ui=!0;break t}S=S.return}if(xe===null)throw Error(ft(160));Qg(I,v,R),xe=null,ui=!1;var t=R.alternate;t!==null&&(t.return=null),R.return=null}catch(h){qt(R,n,h)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Jg(n,u),n=n.sibling}function Jg(u,n){var g=u.alternate,C=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(li(n,u),gi(u),C&4){try{Ur(3,u,u.return),wl(3,u)}catch(s){qt(u,u.return,s)}try{Ur(5,u,u.return)}catch(s){qt(u,u.return,s)}}break;case 1:li(n,u),gi(u),C&512&&g!==null&&ws(g,g.return);break;case 5:if(li(n,u),gi(u),C&512&&g!==null&&ws(g,g.return),u.flags&32){var R=u.stateNode;try{Qr(R,"")}catch(s){qt(u,u.return,s)}}if(C&4&&(R=u.stateNode,R!=null)){var I=u.memoizedProps,v=g!==null?g.memoizedProps:I,S=u.type,t=u.updateQueue;if(u.updateQueue=null,t!==null)try{S==="input"&&I.type==="radio"&&I.name!=null&&gm(R,I),au(S,v);var h=au(S,I);for(v=0;v<t.length;v+=2){var m=t[v],l=t[v+1];m==="style"?Sm(R,l):m==="dangerouslySetInnerHTML"?Tm(R,l):m==="children"?Qr(R,l):xf(R,m,l,h)}switch(S){case"input":eu(R,I);break;case"textarea":xm(R,I);break;case"select":var a=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!I.multiple;var r=I.value;r!=null?Ps(R,!!I.multiple,r,!1):a!==!!I.multiple&&(I.defaultValue!=null?Ps(R,!!I.multiple,I.defaultValue,!0):Ps(R,!!I.multiple,I.multiple?[]:"",!1))}R[sa]=I}catch(s){qt(u,u.return,s)}}break;case 6:if(li(n,u),gi(u),C&4){if(u.stateNode===null)throw Error(ft(162));R=u.stateNode,I=u.memoizedProps;try{R.nodeValue=I}catch(s){qt(u,u.return,s)}}break;case 3:if(li(n,u),gi(u),C&4&&g!==null&&g.memoizedState.isDehydrated)try{_r(n.containerInfo)}catch(s){qt(u,u.return,s)}break;case 4:li(n,u),gi(u);break;case 13:li(n,u),gi(u),R=u.child,R.flags&8192&&(I=R.memoizedState!==null,R.stateNode.isHidden=I,!I||R.alternate!==null&&R.alternate.memoizedState!==null||(Zf=ie())),C&4&&Fv(u);break;case 22:if(m=g!==null&&g.memoizedState!==null,u.mode&1?(Fe=(h=Fe)||m,li(n,u),Fe=h):li(n,u),gi(u),C&8192){if(h=u.memoizedState!==null,(u.stateNode.isHidden=h)&&!m&&u.mode&1)for(yt=u,m=u.child;m!==null;){for(l=yt=m;yt!==null;){switch(a=yt,r=a.child,a.tag){case 0:case 11:case 14:case 15:Ur(4,a,a.return);break;case 1:ws(a,a.return);var i=a.stateNode;if(typeof i.componentWillUnmount=="function"){C=a,g=a.return;try{n=C,i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){qt(C,g,s)}}break;case 5:ws(a,a.return);break;case 22:if(a.memoizedState!==null){Ov(l);continue}}r!==null?(r.return=a,yt=r):Ov(l)}m=m.sibling}t:for(m=null,l=u;;){if(l.tag===5){if(m===null){m=l;try{R=l.stateNode,h?(I=R.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(S=l.stateNode,t=l.memoizedProps.style,v=t!=null&&t.hasOwnProperty("display")?t.display:null,S.style.display=Em("display",v))}catch(s){qt(u,u.return,s)}}}else if(l.tag===6){if(m===null)try{l.stateNode.nodeValue=h?"":l.memoizedProps}catch(s){qt(u,u.return,s)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===u)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break t;for(;l.sibling===null;){if(l.return===null||l.return===u)break t;m===l&&(m=null),l=l.return}m===l&&(m=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:li(n,u),gi(u),C&4&&Fv(u);break;case 21:break;default:li(n,u),gi(u)}}function gi(u){var n=u.flags;if(n&2){try{t:{for(var g=u.return;g!==null;){if($g(g)){var C=g;break t}g=g.return}throw Error(ft(160))}switch(C.tag){case 5:var R=C.stateNode;C.flags&32&&(Qr(R,""),C.flags&=-33);var I=Iv(u);bu(u,I,R);break;case 3:case 4:var v=C.stateNode.containerInfo,S=Iv(u);Bu(u,S,v);break;default:throw Error(ft(161))}}catch(t){qt(u,u.return,t)}u.flags&=-3}n&4096&&(u.flags&=-4097)}function WT(u,n,g){yt=u,Zg(u)}function Zg(u,n,g){for(var C=(u.mode&1)!==0;yt!==null;){var R=yt,I=R.child;if(R.tag===22&&C){var v=R.memoizedState!==null||no;if(!v){var S=R.alternate,t=S!==null&&S.memoizedState!==null||Fe;S=no;var h=Fe;if(no=v,(Fe=t)&&!h)for(yt=R;yt!==null;)v=yt,t=v.child,v.tag===22&&v.memoizedState!==null?Dv(R):t!==null?(t.return=v,yt=t):Dv(R);for(;I!==null;)yt=I,Zg(I),I=I.sibling;yt=R,no=S,Fe=h}Lv(u)}else R.subtreeFlags&8772&&I!==null?(I.return=R,yt=I):Lv(u)}}function Lv(u){for(;yt!==null;){var n=yt;if(n.flags&8772){var g=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Fe||wl(5,n);break;case 1:var C=n.stateNode;if(n.flags&4&&!Fe)if(g===null)C.componentDidMount();else{var R=n.elementType===n.type?g.memoizedProps:hi(n.type,g.memoizedProps);C.componentDidUpdate(R,g.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var I=n.updateQueue;I!==null&&vv(n,I,C);break;case 3:var v=n.updateQueue;if(v!==null){if(g=null,n.child!==null)switch(n.child.tag){case 5:g=n.child.stateNode;break;case 1:g=n.child.stateNode}vv(n,v,g)}break;case 5:var S=n.stateNode;if(g===null&&n.flags&4){g=S;var t=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":t.autoFocus&&g.focus();break;case"img":t.src&&(g.src=t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var h=n.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var l=m.dehydrated;l!==null&&_r(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Fe||n.flags&512&&Nu(n)}catch(a){qt(n,n.return,a)}}if(n===u){yt=null;break}if(g=n.sibling,g!==null){g.return=n.return,yt=g;break}yt=n.return}}function Ov(u){for(;yt!==null;){var n=yt;if(n===u){yt=null;break}var g=n.sibling;if(g!==null){g.return=n.return,yt=g;break}yt=n.return}}function Dv(u){for(;yt!==null;){var n=yt;try{switch(n.tag){case 0:case 11:case 15:var g=n.return;try{wl(4,n)}catch(t){qt(n,g,t)}break;case 1:var C=n.stateNode;if(typeof C.componentDidMount=="function"){var R=n.return;try{C.componentDidMount()}catch(t){qt(n,R,t)}}var I=n.return;try{Nu(n)}catch(t){qt(n,I,t)}break;case 5:var v=n.return;try{Nu(n)}catch(t){qt(n,v,t)}}}catch(t){qt(n,n.return,t)}if(n===u){yt=null;break}var S=n.sibling;if(S!==null){S.return=n.return,yt=S;break}yt=n.return}}var jT=Math.ceil,Zo=Hi.ReactCurrentDispatcher,Qf=Hi.ReactCurrentOwner,ni=Hi.ReactCurrentBatchConfig,Bt=0,pe=null,oe=null,Te=0,Ke=0,As=Pn(0),de=0,ua=null,Jn=0,Al=0,Jf=0,zr=null,Ue=null,Zf=0,Xs=1/0,Oi=null,qo=!1,Vu=null,cn=null,so=!1,sn=null,_o=0,Xr=0,Gu=null,Ao=-1,Po=0;function be(){return Bt&6?ie():Ao!==-1?Ao:Ao=ie()}function vn(u){return u.mode&1?Bt&2&&Te!==0?Te&-Te:RT.transition!==null?(Po===0&&(Po=Nm()),Po):(u=Ut,u!==0||(u=window.event,u=u===void 0?16:Xm(u.type)),u):1}function ci(u,n,g,C){if(50<Xr)throw Xr=0,Gu=null,Error(ft(185));xa(u,g,C),(!(Bt&2)||u!==pe)&&(u===pe&&(!(Bt&2)&&(Al|=g),de===4&&en(u,Te)),We(u,C),g===1&&Bt===0&&!(n.mode&1)&&(Xs=ie()+500,El&&Rn()))}function We(u,n){var g=u.callbackNode;R1(u,n);var C=bo(u,u===pe?Te:0);if(C===0)g!==null&&Yc(g),u.callbackNode=null,u.callbackPriority=0;else if(n=C&-C,u.callbackPriority!==n){if(g!=null&&Yc(g),n===1)u.tag===0?PT(Nv.bind(null,u)):ag(Nv.bind(null,u)),ST(function(){!(Bt&6)&&Rn()}),g=null;else{switch(Bm(C)){case 1:g=Cf;break;case 4:g=Om;break;case 16:g=Bo;break;case 536870912:g=Dm;break;default:g=Bo}g=r0(g,qg.bind(null,u))}u.callbackPriority=n,u.callbackNode=g}}function qg(u,n){if(Ao=-1,Po=0,Bt&6)throw Error(ft(327));var g=u.callbackNode;if(Ls()&&u.callbackNode!==g)return null;var C=bo(u,u===pe?Te:0);if(C===0)return null;if(C&30||C&u.expiredLanes||n)n=tl(u,C);else{n=C;var R=Bt;Bt|=2;var I=t0();(pe!==u||Te!==n)&&(Oi=null,Xs=ie()+500,Yn(u,n));do try{KT();break}catch(S){_g(u,S)}while(!0);bf(),Zo.current=I,Bt=R,oe!==null?n=0:(pe=null,Te=0,n=de)}if(n!==0){if(n===2&&(R=fu(u),R!==0&&(C=R,n=Uu(u,R))),n===1)throw g=ua,Yn(u,0),en(u,C),We(u,ie()),g;if(n===6)en(u,C);else{if(R=u.current.alternate,!(C&30)&&!HT(R)&&(n=tl(u,C),n===2&&(I=fu(u),I!==0&&(C=I,n=Uu(u,I))),n===1))throw g=ua,Yn(u,0),en(u,C),We(u,ie()),g;switch(u.finishedWork=R,u.finishedLanes=C,n){case 0:case 1:throw Error(ft(345));case 2:Bn(u,Ue,Oi);break;case 3:if(en(u,C),(C&130023424)===C&&(n=Zf+500-ie(),10<n)){if(bo(u,0)!==0)break;if(R=u.suspendedLanes,(R&C)!==C){be(),u.pingedLanes|=u.suspendedLanes&R;break}u.timeoutHandle=yu(Bn.bind(null,u,Ue,Oi),n);break}Bn(u,Ue,Oi);break;case 4:if(en(u,C),(C&4194240)===C)break;for(n=u.eventTimes,R=-1;0<C;){var v=31-di(C);I=1<<v,v=n[v],v>R&&(R=v),C&=~I}if(C=R,C=ie()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*jT(C/1960))-C,10<C){u.timeoutHandle=yu(Bn.bind(null,u,Ue,Oi),C);break}Bn(u,Ue,Oi);break;case 5:Bn(u,Ue,Oi);break;default:throw Error(ft(329))}}}return We(u,ie()),u.callbackNode===g?qg.bind(null,u):null}function Uu(u,n){var g=zr;return u.current.memoizedState.isDehydrated&&(Yn(u,n).flags|=256),u=tl(u,n),u!==2&&(n=Ue,Ue=g,n!==null&&zu(n)),u}function zu(u){Ue===null?Ue=u:Ue.push.apply(Ue,u)}function HT(u){for(var n=u;;){if(n.flags&16384){var g=n.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var C=0;C<g.length;C++){var R=g[C],I=R.getSnapshot;R=R.value;try{if(!vi(I(),R))return!1}catch{return!1}}}if(g=n.child,n.subtreeFlags&16384&&g!==null)g.return=n,n=g;else{if(n===u)break;for(;n.sibling===null;){if(n.return===null||n.return===u)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function en(u,n){for(n&=~Jf,n&=~Al,u.suspendedLanes|=n,u.pingedLanes&=~n,u=u.expirationTimes;0<n;){var g=31-di(n),C=1<<g;u[g]=-1,n&=~C}}function Nv(u){if(Bt&6)throw Error(ft(327));Ls();var n=bo(u,0);if(!(n&1))return We(u,ie()),null;var g=tl(u,n);if(u.tag!==0&&g===2){var C=fu(u);C!==0&&(n=C,g=Uu(u,C))}if(g===1)throw g=ua,Yn(u,0),en(u,n),We(u,ie()),g;if(g===6)throw Error(ft(345));return u.finishedWork=u.current.alternate,u.finishedLanes=n,Bn(u,Ue,Oi),We(u,ie()),null}function qf(u,n){var g=Bt;Bt|=1;try{return u(n)}finally{Bt=g,Bt===0&&(Xs=ie()+500,El&&Rn())}}function Zn(u){sn!==null&&sn.tag===0&&!(Bt&6)&&Ls();var n=Bt;Bt|=1;var g=ni.transition,C=Ut;try{if(ni.transition=null,Ut=1,u)return u()}finally{Ut=C,ni.transition=g,Bt=n,!(Bt&6)&&Rn()}}function _f(){Ke=As.current,kt(As)}function Yn(u,n){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,ET(g)),oe!==null)for(g=oe.return;g!==null;){var C=g;switch(Df(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Xo();break;case 3:Us(),kt(Xe),kt(Oe),Yf();break;case 5:Xf(C);break;case 4:Us();break;case 13:kt($t);break;case 19:kt($t);break;case 10:Vf(C.type._context);break;case 22:case 23:_f()}g=g.return}if(pe=u,oe=u=pn(u.current,null),Te=Ke=n,de=0,ua=null,Jf=Al=Jn=0,Ue=zr=null,Gn!==null){for(n=0;n<Gn.length;n++)if(g=Gn[n],C=g.interleaved,C!==null){g.interleaved=null;var R=C.next,I=g.pending;if(I!==null){var v=I.next;I.next=R,C.next=v}g.pending=C}Gn=null}return u}function _g(u,n){do{var g=oe;try{if(bf(),So.current=Jo,Qo){for(var C=Qt.memoizedState;C!==null;){var R=C.queue;R!==null&&(R.pending=null),C=C.next}Qo=!1}if(Qn=0,ve=ue=Qt=null,Gr=!1,oa=0,Qf.current=null,g===null||g.return===null){de=1,ua=n,oe=null;break}t:{var I=u,v=g.return,S=g,t=n;if(n=Te,S.flags|=32768,t!==null&&typeof t=="object"&&typeof t.then=="function"){var h=t,m=S,l=m.tag;if(!(m.mode&1)&&(l===0||l===11||l===15)){var a=m.alternate;a?(m.updateQueue=a.updateQueue,m.memoizedState=a.memoizedState,m.lanes=a.lanes):(m.updateQueue=null,m.memoizedState=null)}var r=Ev(v);if(r!==null){r.flags&=-257,Sv(r,v,S,I,n),r.mode&1&&Tv(I,h,n),n=r,t=h;var i=n.updateQueue;if(i===null){var s=new Set;s.add(t),n.updateQueue=s}else i.add(t);break t}else{if(!(n&1)){Tv(I,h,n),td();break t}t=Error(ft(426))}}else if(Kt&&S.mode&1){var f=Ev(v);if(f!==null){!(f.flags&65536)&&(f.flags|=256),Sv(f,v,S,I,n),Nf(zs(t,S));break t}}I=t=zs(t,S),de!==4&&(de=2),zr===null?zr=[I]:zr.push(I),I=v;do{switch(I.tag){case 3:I.flags|=65536,n&=-n,I.lanes|=n;var e=bg(I,t,n);cv(I,e);break t;case 1:S=t;var o=I.type,d=I.stateNode;if(!(I.flags&128)&&(typeof o.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(cn===null||!cn.has(d)))){I.flags|=65536,n&=-n,I.lanes|=n;var c=Vg(I,S,n);cv(I,c);break t}}I=I.return}while(I!==null)}i0(g)}catch(p){n=p,oe===g&&g!==null&&(oe=g=g.return);continue}break}while(!0)}function t0(){var u=Zo.current;return Zo.current=Jo,u===null?Jo:u}function td(){(de===0||de===3||de===2)&&(de=4),pe===null||!(Jn&268435455)&&!(Al&268435455)||en(pe,Te)}function tl(u,n){var g=Bt;Bt|=2;var C=t0();(pe!==u||Te!==n)&&(Oi=null,Yn(u,n));do try{kT();break}catch(R){_g(u,R)}while(!0);if(bf(),Bt=g,Zo.current=C,oe!==null)throw Error(ft(261));return pe=null,Te=0,de}function kT(){for(;oe!==null;)e0(oe)}function KT(){for(;oe!==null&&!x1();)e0(oe)}function e0(u){var n=s0(u.alternate,u,Ke);u.memoizedProps=u.pendingProps,n===null?i0(u):oe=n,Qf.current=null}function i0(u){var n=u;do{var g=n.alternate;if(u=n.return,n.flags&32768){if(g=zT(g,n),g!==null){g.flags&=32767,oe=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{de=6,oe=null;return}}else if(g=UT(g,n,Ke),g!==null){oe=g;return}if(n=n.sibling,n!==null){oe=n;return}oe=n=u}while(n!==null);de===0&&(de=5)}function Bn(u,n,g){var C=Ut,R=ni.transition;try{ni.transition=null,Ut=1,$T(u,n,g,C)}finally{ni.transition=R,Ut=C}return null}function $T(u,n,g,C){do Ls();while(sn!==null);if(Bt&6)throw Error(ft(327));g=u.finishedWork;var R=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(ft(177));u.callbackNode=null,u.callbackPriority=0;var I=g.lanes|g.childLanes;if(M1(u,I),u===pe&&(oe=pe=null,Te=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||so||(so=!0,r0(Bo,function(){return Ls(),null})),I=(g.flags&15990)!==0,g.subtreeFlags&15990||I){I=ni.transition,ni.transition=null;var v=Ut;Ut=1;var S=Bt;Bt|=4,Qf.current=null,YT(u,g),Jg(g,u),vT(gu),Vo=!!mu,gu=mu=null,u.current=g,WT(g),y1(),Bt=S,Ut=v,ni.transition=I}else u.current=g;if(so&&(so=!1,sn=u,_o=R),I=u.pendingLanes,I===0&&(cn=null),S1(g.stateNode),We(u,ie()),n!==null)for(C=u.onRecoverableError,g=0;g<n.length;g++)R=n[g],C(R.value,{componentStack:R.stack,digest:R.digest});if(qo)throw qo=!1,u=Vu,Vu=null,u;return _o&1&&u.tag!==0&&Ls(),I=u.pendingLanes,I&1?u===Gu?Xr++:(Xr=0,Gu=u):Xr=0,Rn(),null}function Ls(){if(sn!==null){var u=Bm(_o),n=ni.transition,g=Ut;try{if(ni.transition=null,Ut=16>u?16:u,sn===null)var C=!1;else{if(u=sn,sn=null,_o=0,Bt&6)throw Error(ft(331));var R=Bt;for(Bt|=4,yt=u.current;yt!==null;){var I=yt,v=I.child;if(yt.flags&16){var S=I.deletions;if(S!==null){for(var t=0;t<S.length;t++){var h=S[t];for(yt=h;yt!==null;){var m=yt;switch(m.tag){case 0:case 11:case 15:Ur(8,m,I)}var l=m.child;if(l!==null)l.return=m,yt=l;else for(;yt!==null;){m=yt;var a=m.sibling,r=m.return;if(Kg(m),m===h){yt=null;break}if(a!==null){a.return=r,yt=a;break}yt=r}}}var i=I.alternate;if(i!==null){var s=i.child;if(s!==null){i.child=null;do{var f=s.sibling;s.sibling=null,s=f}while(s!==null)}}yt=I}}if(I.subtreeFlags&2064&&v!==null)v.return=I,yt=v;else t:for(;yt!==null;){if(I=yt,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Ur(9,I,I.return)}var e=I.sibling;if(e!==null){e.return=I.return,yt=e;break t}yt=I.return}}var o=u.current;for(yt=o;yt!==null;){v=yt;var d=v.child;if(v.subtreeFlags&2064&&d!==null)d.return=v,yt=d;else t:for(v=o;yt!==null;){if(S=yt,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:wl(9,S)}}catch(p){qt(S,S.return,p)}if(S===v){yt=null;break t}var c=S.sibling;if(c!==null){c.return=S.return,yt=c;break t}yt=S.return}}if(Bt=R,Rn(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(ml,u)}catch{}C=!0}return C}finally{Ut=g,ni.transition=n}}return!1}function Bv(u,n,g){n=zs(g,n),n=bg(u,n,1),u=dn(u,n,1),n=be(),u!==null&&(xa(u,1,n),We(u,n))}function qt(u,n,g){if(u.tag===3)Bv(u,u,g);else for(;n!==null;){if(n.tag===3){Bv(n,u,g);break}else if(n.tag===1){var C=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(cn===null||!cn.has(C))){u=zs(g,u),u=Vg(n,u,1),n=dn(n,u,1),u=be(),n!==null&&(xa(n,1,u),We(n,u));break}}n=n.return}}function QT(u,n,g){var C=u.pingCache;C!==null&&C.delete(n),n=be(),u.pingedLanes|=u.suspendedLanes&g,pe===u&&(Te&g)===g&&(de===4||de===3&&(Te&130023424)===Te&&500>ie()-Zf?Yn(u,0):Jf|=g),We(u,n)}function n0(u,n){n===0&&(u.mode&1?(n=$a,$a<<=1,!($a&130023424)&&($a=4194304)):n=1);var g=be();u=Ui(u,n),u!==null&&(xa(u,n,g),We(u,g))}function JT(u){var n=u.memoizedState,g=0;n!==null&&(g=n.retryLane),n0(u,g)}function ZT(u,n){var g=0;switch(u.tag){case 13:var C=u.stateNode,R=u.memoizedState;R!==null&&(g=R.retryLane);break;case 19:C=u.stateNode;break;default:throw Error(ft(314))}C!==null&&C.delete(n),n0(u,g)}var s0;s0=function(u,n,g){if(u!==null)if(u.memoizedProps!==n.pendingProps||Xe.current)ze=!0;else{if(!(u.lanes&g)&&!(n.flags&128))return ze=!1,GT(u,n,g);ze=!!(u.flags&131072)}else ze=!1,Kt&&n.flags&1048576&&og(n,jo,n.index);switch(n.lanes=0,n.tag){case 2:var C=n.type;wo(u,n),u=n.pendingProps;var R=bs(n,Oe.current);Fs(n,g),R=jf(null,n,C,u,R,g);var I=Hf();return n.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ye(C)?(I=!0,Yo(n)):I=!1,n.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Uf(n),R.updater=Sl,n.stateNode=R,R._reactInternals=n,Pu(n,C,u,g),n=Iu(null,n,C,!0,I,g)):(n.tag=0,Kt&&I&&Of(n),Ne(null,n,R,g),n=n.child),n;case 16:C=n.elementType;t:{switch(wo(u,n),u=n.pendingProps,R=C._init,C=R(C._payload),n.type=C,R=n.tag=_T(C),u=hi(C,u),R){case 0:n=Mu(null,n,C,u,g);break t;case 1:n=Av(null,n,C,u,g);break t;case 11:n=Cv(null,n,C,u,g);break t;case 14:n=wv(null,n,C,hi(C.type,u),g);break t}throw Error(ft(306,C,""))}return n;case 0:return C=n.type,R=n.pendingProps,R=n.elementType===C?R:hi(C,R),Mu(u,n,C,R,g);case 1:return C=n.type,R=n.pendingProps,R=n.elementType===C?R:hi(C,R),Av(u,n,C,R,g);case 3:t:{if(Xg(n),u===null)throw Error(ft(387));C=n.pendingProps,I=n.memoizedState,R=I.element,fg(u,n),Ko(n,C,null,g);var v=n.memoizedState;if(C=v.element,I.isDehydrated)if(I={element:C,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},n.updateQueue.baseState=I,n.memoizedState=I,n.flags&256){R=zs(Error(ft(423)),n),n=Pv(u,n,C,g,R);break t}else if(C!==R){R=zs(Error(ft(424)),n),n=Pv(u,n,C,g,R);break t}else for($e=fn(n.stateNode.containerInfo.firstChild),Qe=n,Kt=!0,fi=null,g=pg(n,null,C,g),n.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Vs(),C===R){n=zi(u,n,g);break t}Ne(u,n,C,g)}n=n.child}return n;case 5:return mg(n),u===null&&Cu(n),C=n.type,R=n.pendingProps,I=u!==null?u.memoizedProps:null,v=R.children,xu(C,R)?v=null:I!==null&&xu(C,I)&&(n.flags|=32),zg(u,n),Ne(u,n,v,g),n.child;case 6:return u===null&&Cu(n),null;case 13:return Yg(u,n,g);case 4:return zf(n,n.stateNode.containerInfo),C=n.pendingProps,u===null?n.child=Gs(n,null,C,g):Ne(u,n,C,g),n.child;case 11:return C=n.type,R=n.pendingProps,R=n.elementType===C?R:hi(C,R),Cv(u,n,C,R,g);case 7:return Ne(u,n,n.pendingProps,g),n.child;case 8:return Ne(u,n,n.pendingProps.children,g),n.child;case 12:return Ne(u,n,n.pendingProps.children,g),n.child;case 10:t:{if(C=n.type._context,R=n.pendingProps,I=n.memoizedProps,v=R.value,Yt(Ho,C._currentValue),C._currentValue=v,I!==null)if(vi(I.value,v)){if(I.children===R.children&&!Xe.current){n=zi(u,n,g);break t}}else for(I=n.child,I!==null&&(I.return=n);I!==null;){var S=I.dependencies;if(S!==null){v=I.child;for(var t=S.firstContext;t!==null;){if(t.context===C){if(I.tag===1){t=bi(-1,g&-g),t.tag=2;var h=I.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?t.next=t:(t.next=m.next,m.next=t),h.pending=t}}I.lanes|=g,t=I.alternate,t!==null&&(t.lanes|=g),wu(I.return,g,n),S.lanes|=g;break}t=t.next}}else if(I.tag===10)v=I.type===n.type?null:I.child;else if(I.tag===18){if(v=I.return,v===null)throw Error(ft(341));v.lanes|=g,S=v.alternate,S!==null&&(S.lanes|=g),wu(v,g,n),v=I.sibling}else v=I.child;if(v!==null)v.return=I;else for(v=I;v!==null;){if(v===n){v=null;break}if(I=v.sibling,I!==null){I.return=v.return,v=I;break}v=v.return}I=v}Ne(u,n,R.children,g),n=n.child}return n;case 9:return R=n.type,C=n.pendingProps.children,Fs(n,g),R=si(R),C=C(R),n.flags|=1,Ne(u,n,C,g),n.child;case 14:return C=n.type,R=hi(C,n.pendingProps),R=hi(C.type,R),wv(u,n,C,R,g);case 15:return Gg(u,n,n.type,n.pendingProps,g);case 17:return C=n.type,R=n.pendingProps,R=n.elementType===C?R:hi(C,R),wo(u,n),n.tag=1,Ye(C)?(u=!0,Yo(n)):u=!1,Fs(n,g),cg(n,C,R),Pu(n,C,R,g),Iu(null,n,C,!0,u,g);case 19:return Wg(u,n,g);case 22:return Ug(u,n,g)}throw Error(ft(156,n.tag))};function r0(u,n){return Lm(u,n)}function qT(u,n,g,C){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(u,n,g,C){return new qT(u,n,g,C)}function ed(u){return u=u.prototype,!(!u||!u.isReactComponent)}function _T(u){if(typeof u=="function")return ed(u)?1:0;if(u!=null){if(u=u.$$typeof,u===Tf)return 11;if(u===Ef)return 14}return 2}function pn(u,n){var g=u.alternate;return g===null?(g=ii(u.tag,n,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=n,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,n=u.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Ro(u,n,g,C,R,I){var v=2;if(C=u,typeof u=="function")ed(u)&&(v=1);else if(typeof u=="string")v=5;else t:switch(u){case ps:return Wn(g.children,R,I,n);case yf:v=8,R|=8;break;case Jh:return u=ii(12,g,n,R|2),u.elementType=Jh,u.lanes=I,u;case Zh:return u=ii(13,g,n,R),u.elementType=Zh,u.lanes=I,u;case qh:return u=ii(19,g,n,R),u.elementType=qh,u.lanes=I,u;case vm:return Pl(g,R,I,n);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case dm:v=10;break t;case cm:v=9;break t;case Tf:v=11;break t;case Ef:v=14;break t;case qi:v=16,C=null;break t}throw Error(ft(130,u==null?u:typeof u,""))}return n=ii(v,g,n,R),n.elementType=u,n.type=C,n.lanes=I,n}function Wn(u,n,g,C){return u=ii(7,u,C,n),u.lanes=g,u}function Pl(u,n,g,C){return u=ii(22,u,C,n),u.elementType=vm,u.lanes=g,u.stateNode={isHidden:!1},u}function Ih(u,n,g){return u=ii(6,u,null,n),u.lanes=g,u}function Fh(u,n,g){return n=ii(4,u.children!==null?u.children:[],u.key,n),n.lanes=g,n.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},n}function t2(u,n,g,C,R){this.tag=n,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=C,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function id(u,n,g,C,R,I,v,S,t){return u=new t2(u,n,g,S,t),n===1?(n=1,I===!0&&(n|=8)):n=0,I=ii(3,null,null,n),u.current=I,I.stateNode=u,I.memoizedState={element:C,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(I),u}function e2(u,n,g){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vs,key:C==null?null:""+C,children:u,containerInfo:n,implementation:g}}function a0(u){if(!u)return Tn;u=u._reactInternals;t:{if(ss(u)!==u||u.tag!==1)throw Error(ft(170));var n=u;do{switch(n.tag){case 3:n=n.stateNode.context;break t;case 1:if(Ye(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break t}}n=n.return}while(n!==null);throw Error(ft(171))}if(u.tag===1){var g=u.type;if(Ye(g))return rg(u,g,n)}return n}function o0(u,n,g,C,R,I,v,S,t){return u=id(g,C,!0,u,R,I,v,S,t),u.context=a0(null),g=u.current,C=be(),R=vn(g),I=bi(C,R),I.callback=n??null,dn(g,I,R),u.current.lanes=R,xa(u,R,C),We(u,C),u}function Rl(u,n,g,C){var R=n.current,I=be(),v=vn(R);return g=a0(g),n.context===null?n.context=g:n.pendingContext=g,n=bi(I,v),n.payload={element:u},C=C===void 0?null:C,C!==null&&(n.callback=C),u=dn(R,n,v),u!==null&&(ci(u,R,v,I),Eo(u,R,v)),v}function el(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function bv(u,n){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<n?g:n}}function nd(u,n){bv(u,n),(u=u.alternate)&&bv(u,n)}function i2(){return null}var l0=typeof reportError=="function"?reportError:function(u){console.error(u)};function sd(u){this._internalRoot=u}Ml.prototype.render=sd.prototype.render=function(u){var n=this._internalRoot;if(n===null)throw Error(ft(409));Rl(u,n,null,null)};Ml.prototype.unmount=sd.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var n=u.containerInfo;Zn(function(){Rl(null,u,null,null)}),n[Gi]=null}};function Ml(u){this._internalRoot=u}Ml.prototype.unstable_scheduleHydration=function(u){if(u){var n=Gm();u={blockedOn:null,target:u,priority:n};for(var g=0;g<tn.length&&n!==0&&n<tn[g].priority;g++);tn.splice(g,0,u),g===0&&zm(u)}};function rd(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Il(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function Vv(){}function n2(u,n,g,C,R){if(R){if(typeof C=="function"){var I=C;C=function(){var h=el(v);I.call(h)}}var v=o0(n,C,u,0,null,!1,!1,"",Vv);return u._reactRootContainer=v,u[Gi]=v.current,ia(u.nodeType===8?u.parentNode:u),Zn(),v}for(;R=u.lastChild;)u.removeChild(R);if(typeof C=="function"){var S=C;C=function(){var h=el(t);S.call(h)}}var t=id(u,0,!1,null,null,!1,!1,"",Vv);return u._reactRootContainer=t,u[Gi]=t.current,ia(u.nodeType===8?u.parentNode:u),Zn(function(){Rl(n,t,g,C)}),t}function Fl(u,n,g,C,R){var I=g._reactRootContainer;if(I){var v=I;if(typeof R=="function"){var S=R;R=function(){var t=el(v);S.call(t)}}Rl(n,v,u,R)}else v=n2(g,n,u,R,C);return el(v)}bm=function(u){switch(u.tag){case 3:var n=u.stateNode;if(n.current.memoizedState.isDehydrated){var g=Mr(n.pendingLanes);g!==0&&(wf(n,g|1),We(n,ie()),!(Bt&6)&&(Xs=ie()+500,Rn()))}break;case 13:Zn(function(){var C=Ui(u,1);if(C!==null){var R=be();ci(C,u,1,R)}}),nd(u,1)}};Af=function(u){if(u.tag===13){var n=Ui(u,134217728);if(n!==null){var g=be();ci(n,u,134217728,g)}nd(u,134217728)}};Vm=function(u){if(u.tag===13){var n=vn(u),g=Ui(u,n);if(g!==null){var C=be();ci(g,u,n,C)}nd(u,n)}};Gm=function(){return Ut};Um=function(u,n){var g=Ut;try{return Ut=u,n()}finally{Ut=g}};lu=function(u,n,g){switch(n){case"input":if(eu(u,g),n=g.name,g.type==="radio"&&n!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<g.length;n++){var C=g[n];if(C!==u&&C.form===u.form){var R=Tl(C);if(!R)throw Error(ft(90));mm(C),eu(C,R)}}}break;case"textarea":xm(u,g);break;case"select":n=g.value,n!=null&&Ps(u,!!g.multiple,n,!1)}};Am=qf;Pm=Zn;var s2={usingClientEntryPoint:!1,Events:[Ta,ys,Tl,Cm,wm,qf]},Cr={findFiberByHostInstance:Vn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},r2={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Im(u),u===null?null:u.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||i2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{ml=ro.inject(r2),Si=ro}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2;qe.createPortal=function(u,n){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(n))throw Error(ft(200));return e2(u,n,null,g)};qe.createRoot=function(u,n){if(!rd(u))throw Error(ft(299));var g=!1,C="",R=l0;return n!=null&&(n.unstable_strictMode===!0&&(g=!0),n.identifierPrefix!==void 0&&(C=n.identifierPrefix),n.onRecoverableError!==void 0&&(R=n.onRecoverableError)),n=id(u,1,!1,null,null,g,!1,C,R),u[Gi]=n.current,ia(u.nodeType===8?u.parentNode:u),new sd(n)};qe.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var n=u._reactInternals;if(n===void 0)throw typeof u.render=="function"?Error(ft(188)):(u=Object.keys(u).join(","),Error(ft(268,u)));return u=Im(n),u=u===null?null:u.stateNode,u};qe.flushSync=function(u){return Zn(u)};qe.hydrate=function(u,n,g){if(!Il(n))throw Error(ft(200));return Fl(null,u,n,!0,g)};qe.hydrateRoot=function(u,n,g){if(!rd(u))throw Error(ft(405));var C=g!=null&&g.hydratedSources||null,R=!1,I="",v=l0;if(g!=null&&(g.unstable_strictMode===!0&&(R=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(v=g.onRecoverableError)),n=o0(n,null,u,1,g??null,R,!1,I,v),u[Gi]=n.current,ia(u),C)for(u=0;u<C.length;u++)g=C[u],R=g._getVersion,R=R(g._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[g,R]:n.mutableSourceEagerHydrationData.push(g,R);return new Ml(n)};qe.render=function(u,n,g){if(!Il(n))throw Error(ft(200));return Fl(null,u,n,!1,g)};qe.unmountComponentAtNode=function(u){if(!Il(u))throw Error(ft(40));return u._reactRootContainer?(Zn(function(){Fl(null,null,u,!1,function(){u._reactRootContainer=null,u[Gi]=null})}),!0):!1};qe.unstable_batchedUpdates=qf;qe.unstable_renderSubtreeIntoContainer=function(u,n,g,C){if(!Il(g))throw Error(ft(200));if(u==null||u._reactInternals===void 0)throw Error(ft(38));return Fl(u,n,g,!1,C)};qe.version="18.2.0-next-9e3b772b8-20220608";function h0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h0)}catch(u){console.error(u)}}h0(),om.exports=qe;var a2=om.exports,Gv=a2;$h.createRoot=Gv.createRoot,$h.hydrateRoot=Gv.hydrateRoot;const u0=({figureNumber:u})=>B.jsxs("span",{className:"diagram-text",children:["Fig. ",u]}),o2=({removeCursor:u,text:n,typeEffect:g})=>{const[C,R]=ut.useState("typed-out"),[I,v]=ut.useState(n);return ut.useEffect(()=>{g==="type-backspace"&&setTimeout(()=>{R(g)},5e3),u&&setTimeout(()=>{R(""),v("")},8e3)},[g,u]),B.jsx(B.Fragment,{children:B.jsx("div",{className:"container",children:B.jsx("div",{className:C,children:I})})})};/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(u){for(var n=1;n<arguments.length;n++){var g=arguments[n];for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&(u[C]=g[C])}return u},fa.apply(this,arguments)}var rn;(function(u){u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE"})(rn||(rn={}));const Uv="popstate";function l2(u){u===void 0&&(u={});function n(C,R){let{pathname:I,search:v,hash:S}=C.location;return Xu("",{pathname:I,search:v,hash:S},R.state&&R.state.usr||null,R.state&&R.state.key||"default")}function g(C,R){return typeof R=="string"?R:il(R)}return u2(n,g,null,u)}function le(u,n){if(u===!1||u===null||typeof u>"u")throw new Error(n)}function ad(u,n){if(!u){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function h2(){return Math.random().toString(36).substr(2,8)}function zv(u,n){return{usr:u.state,key:u.key,idx:n}}function Xu(u,n,g,C){return g===void 0&&(g=null),fa({pathname:typeof u=="string"?u:u.pathname,search:"",hash:""},typeof n=="string"?Zs(n):n,{state:g,key:n&&n.key||C||h2()})}function il(u){let{pathname:n="/",search:g="",hash:C=""}=u;return g&&g!=="?"&&(n+=g.charAt(0)==="?"?g:"?"+g),C&&C!=="#"&&(n+=C.charAt(0)==="#"?C:"#"+C),n}function Zs(u){let n={};if(u){let g=u.indexOf("#");g>=0&&(n.hash=u.substr(g),u=u.substr(0,g));let C=u.indexOf("?");C>=0&&(n.search=u.substr(C),u=u.substr(0,C)),u&&(n.pathname=u)}return n}function u2(u,n,g,C){C===void 0&&(C={});let{window:R=document.defaultView,v5Compat:I=!1}=C,v=R.history,S=rn.Pop,t=null,h=m();h==null&&(h=0,v.replaceState(fa({},v.state,{idx:h}),""));function m(){return(v.state||{idx:null}).idx}function l(){S=rn.Pop;let f=m(),e=f==null?null:f-h;h=f,t&&t({action:S,location:s.location,delta:e})}function a(f,e){S=rn.Push;let o=Xu(s.location,f,e);h=m()+1;let d=zv(o,h),c=s.createHref(o);try{v.pushState(d,"",c)}catch(p){if(p instanceof DOMException&&p.name==="DataCloneError")throw p;R.location.assign(c)}I&&t&&t({action:S,location:s.location,delta:1})}function r(f,e){S=rn.Replace;let o=Xu(s.location,f,e);h=m();let d=zv(o,h),c=s.createHref(o);v.replaceState(d,"",c),I&&t&&t({action:S,location:s.location,delta:0})}function i(f){let e=R.location.origin!=="null"?R.location.origin:R.location.href,o=typeof f=="string"?f:il(f);return le(e,"No window.location.(origin|href) available to create URL for href: "+o),new URL(o,e)}let s={get action(){return S},get location(){return u(R,v)},listen(f){if(t)throw new Error("A history only accepts one active listener");return R.addEventListener(Uv,l),t=f,()=>{R.removeEventListener(Uv,l),t=null}},createHref(f){return n(R,f)},createURL:i,encodeLocation(f){let e=i(f);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:a,replace:r,go(f){return v.go(f)}};return s}var Xv;(function(u){u.data="data",u.deferred="deferred",u.redirect="redirect",u.error="error"})(Xv||(Xv={}));function f2(u,n,g){g===void 0&&(g="/");let C=typeof n=="string"?Zs(n):n,R=od(C.pathname||"/",g);if(R==null)return null;let I=f0(u);d2(I);let v=null;for(let S=0;v==null&&S<I.length;++S)v=E2(I[S],w2(R));return v}function f0(u,n,g,C){n===void 0&&(n=[]),g===void 0&&(g=[]),C===void 0&&(C="");let R=(I,v,S)=>{let t={relativePath:S===void 0?I.path||"":S,caseSensitive:I.caseSensitive===!0,childrenIndex:v,route:I};t.relativePath.startsWith("/")&&(le(t.relativePath.startsWith(C),'Absolute route path "'+t.relativePath+'" nested under path '+('"'+C+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),t.relativePath=t.relativePath.slice(C.length));let h=mn([C,t.relativePath]),m=g.concat(t);I.children&&I.children.length>0&&(le(I.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),f0(I.children,n,m,h)),!(I.path==null&&!I.index)&&n.push({path:h,score:y2(h,I.index),routesMeta:m})};return u.forEach((I,v)=>{var S;if(I.path===""||!((S=I.path)!=null&&S.includes("?")))R(I,v);else for(let t of d0(I.path))R(I,v,t)}),n}function d0(u){let n=u.split("/");if(n.length===0)return[];let[g,...C]=n,R=g.endsWith("?"),I=g.replace(/\?$/,"");if(C.length===0)return R?[I,""]:[I];let v=d0(C.join("/")),S=[];return S.push(...v.map(t=>t===""?I:[I,t].join("/"))),R&&S.push(...v),S.map(t=>u.startsWith("/")&&t===""?"/":t)}function d2(u){u.sort((n,g)=>n.score!==g.score?g.score-n.score:T2(n.routesMeta.map(C=>C.childrenIndex),g.routesMeta.map(C=>C.childrenIndex)))}const c2=/^:\w+$/,v2=3,p2=2,m2=1,g2=10,x2=-2,Yv=u=>u==="*";function y2(u,n){let g=u.split("/"),C=g.length;return g.some(Yv)&&(C+=x2),n&&(C+=p2),g.filter(R=>!Yv(R)).reduce((R,I)=>R+(c2.test(I)?v2:I===""?m2:g2),C)}function T2(u,n){return u.length===n.length&&u.slice(0,-1).every((C,R)=>C===n[R])?u[u.length-1]-n[n.length-1]:0}function E2(u,n){let{routesMeta:g}=u,C={},R="/",I=[];for(let v=0;v<g.length;++v){let S=g[v],t=v===g.length-1,h=R==="/"?n:n.slice(R.length)||"/",m=S2({path:S.relativePath,caseSensitive:S.caseSensitive,end:t},h);if(!m)return null;Object.assign(C,m.params);let l=S.route;I.push({params:C,pathname:mn([R,m.pathname]),pathnameBase:M2(mn([R,m.pathnameBase])),route:l}),m.pathnameBase!=="/"&&(R=mn([R,m.pathnameBase]))}return I}function S2(u,n){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[g,C]=C2(u.path,u.caseSensitive,u.end),R=n.match(g);if(!R)return null;let I=R[0],v=I.replace(/(.)\/+$/,"$1"),S=R.slice(1);return{params:C.reduce((h,m,l)=>{if(m==="*"){let a=S[l]||"";v=I.slice(0,I.length-a.length).replace(/(.)\/+$/,"$1")}return h[m]=A2(S[l]||"",m),h},{}),pathname:I,pathnameBase:v,pattern:u}}function C2(u,n,g){n===void 0&&(n=!1),g===void 0&&(g=!0),ad(u==="*"||!u.endsWith("*")||u.endsWith("/*"),'Route path "'+u+'" will be treated as if it were '+('"'+u.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+u.replace(/\*$/,"/*")+'".'));let C=[],R="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(v,S)=>(C.push(S),"/([^\\/]+)"));return u.endsWith("*")?(C.push("*"),R+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g?R+="\\/*$":u!==""&&u!=="/"&&(R+="(?:(?=\\/|$))"),[new RegExp(R,n?void 0:"i"),C]}function w2(u){try{return decodeURI(u)}catch(n){return ad(!1,'The URL path "'+u+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),u}}function A2(u,n){try{return decodeURIComponent(u)}catch(g){return ad(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+u+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+g+").")),u}}function od(u,n){if(n==="/")return u;if(!u.toLowerCase().startsWith(n.toLowerCase()))return null;let g=n.endsWith("/")?n.length-1:n.length,C=u.charAt(g);return C&&C!=="/"?null:u.slice(g)||"/"}function P2(u,n){n===void 0&&(n="/");let{pathname:g,search:C="",hash:R=""}=typeof u=="string"?Zs(u):u;return{pathname:g?g.startsWith("/")?g:R2(g,n):n,search:I2(C),hash:F2(R)}}function R2(u,n){let g=n.replace(/\/+$/,"").split("/");return u.split("/").forEach(R=>{R===".."?g.length>1&&g.pop():R!=="."&&g.push(R)}),g.length>1?g.join("/"):"/"}function Lh(u,n,g,C){return"Cannot include a '"+u+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(C)+"].  Please separate it out to the ")+("`to."+g+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c0(u){return u.filter((n,g)=>g===0||n.route.path&&n.route.path.length>0)}function v0(u,n,g,C){C===void 0&&(C=!1);let R;typeof u=="string"?R=Zs(u):(R=fa({},u),le(!R.pathname||!R.pathname.includes("?"),Lh("?","pathname","search",R)),le(!R.pathname||!R.pathname.includes("#"),Lh("#","pathname","hash",R)),le(!R.search||!R.search.includes("#"),Lh("#","search","hash",R)));let I=u===""||R.pathname==="",v=I?"/":R.pathname,S;if(C||v==null)S=g;else{let l=n.length-1;if(v.startsWith("..")){let a=v.split("/");for(;a[0]==="..";)a.shift(),l-=1;R.pathname=a.join("/")}S=l>=0?n[l]:"/"}let t=P2(R,S),h=v&&v!=="/"&&v.endsWith("/"),m=(I||v===".")&&g.endsWith("/");return!t.pathname.endsWith("/")&&(h||m)&&(t.pathname+="/"),t}const mn=u=>u.join("/").replace(/\/\/+/g,"/"),M2=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),I2=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,F2=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u;function L2(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}const p0=["post","put","patch","delete"];new Set(p0);const O2=["get",...p0];new Set(O2);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(u){for(var n=1;n<arguments.length;n++){var g=arguments[n];for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&(u[C]=g[C])}return u},nl.apply(this,arguments)}const ld=ut.createContext(null),D2=ut.createContext(null),qs=ut.createContext(null),Ll=ut.createContext(null),rs=ut.createContext({outlet:null,matches:[],isDataRoute:!1}),m0=ut.createContext(null);function N2(u,n){let{relative:g}=n===void 0?{}:n;Sa()||le(!1);let{basename:C,navigator:R}=ut.useContext(qs),{hash:I,pathname:v,search:S}=x0(u,{relative:g}),t=v;return C!=="/"&&(t=v==="/"?C:mn([C,v])),R.createHref({pathname:t,search:S,hash:I})}function Sa(){return ut.useContext(Ll)!=null}function Ca(){return Sa()||le(!1),ut.useContext(Ll).location}function g0(u){ut.useContext(qs).static||ut.useLayoutEffect(u)}function B2(){let{isDataRoute:u}=ut.useContext(rs);return u?K2():b2()}function b2(){Sa()||le(!1);let u=ut.useContext(ld),{basename:n,navigator:g}=ut.useContext(qs),{matches:C}=ut.useContext(rs),{pathname:R}=Ca(),I=JSON.stringify(c0(C).map(t=>t.pathnameBase)),v=ut.useRef(!1);return g0(()=>{v.current=!0}),ut.useCallback(function(t,h){if(h===void 0&&(h={}),!v.current)return;if(typeof t=="number"){g.go(t);return}let m=v0(t,JSON.parse(I),R,h.relative==="path");u==null&&n!=="/"&&(m.pathname=m.pathname==="/"?n:mn([n,m.pathname])),(h.replace?g.replace:g.push)(m,h.state,h)},[n,g,I,R,u])}function x0(u,n){let{relative:g}=n===void 0?{}:n,{matches:C}=ut.useContext(rs),{pathname:R}=Ca(),I=JSON.stringify(c0(C).map(v=>v.pathnameBase));return ut.useMemo(()=>v0(u,JSON.parse(I),R,g==="path"),[u,I,R,g])}function V2(u,n){return G2(u,n)}function G2(u,n,g){Sa()||le(!1);let{navigator:C}=ut.useContext(qs),{matches:R}=ut.useContext(rs),I=R[R.length-1],v=I?I.params:{};I&&I.pathname;let S=I?I.pathnameBase:"/";I&&I.route;let t=Ca(),h;if(n){var m;let s=typeof n=="string"?Zs(n):n;S==="/"||(m=s.pathname)!=null&&m.startsWith(S)||le(!1),h=s}else h=t;let l=h.pathname||"/",a=S==="/"?l:l.slice(S.length)||"/",r=f2(u,{pathname:a}),i=W2(r&&r.map(s=>Object.assign({},s,{params:Object.assign({},v,s.params),pathname:mn([S,C.encodeLocation?C.encodeLocation(s.pathname).pathname:s.pathname]),pathnameBase:s.pathnameBase==="/"?S:mn([S,C.encodeLocation?C.encodeLocation(s.pathnameBase).pathname:s.pathnameBase])})),R,g);return n&&i?ut.createElement(Ll.Provider,{value:{location:nl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:rn.Pop}},i):i}function U2(){let u=E0(),n=L2(u)?u.status+" "+u.statusText:u instanceof Error?u.message:JSON.stringify(u),g=u instanceof Error?u.stack:null,R={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ut.createElement(ut.Fragment,null,ut.createElement("h2",null,"Unexpected Application Error!"),ut.createElement("h3",{style:{fontStyle:"italic"}},n),g?ut.createElement("pre",{style:R},g):null,null)}const z2=ut.createElement(U2,null);class X2 extends ut.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,g){return g.location!==n.location||g.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error||g.error,location:g.location,revalidation:n.revalidation||g.revalidation}}componentDidCatch(n,g){console.error("React Router caught the following error during render",n,g)}render(){return this.state.error?ut.createElement(rs.Provider,{value:this.props.routeContext},ut.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y2(u){let{routeContext:n,match:g,children:C}=u,R=ut.useContext(ld);return R&&R.static&&R.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(R.staticContext._deepestRenderedBoundaryId=g.route.id),ut.createElement(rs.Provider,{value:n},C)}function W2(u,n,g){var C;if(n===void 0&&(n=[]),g===void 0&&(g=null),u==null){var R;if((R=g)!=null&&R.errors)u=g.matches;else return null}let I=u,v=(C=g)==null?void 0:C.errors;if(v!=null){let S=I.findIndex(t=>t.route.id&&(v==null?void 0:v[t.route.id]));S>=0||le(!1),I=I.slice(0,Math.min(I.length,S+1))}return I.reduceRight((S,t,h)=>{let m=t.route.id?v==null?void 0:v[t.route.id]:null,l=null;g&&(l=t.route.errorElement||z2);let a=n.concat(I.slice(0,h+1)),r=()=>{let i;return m?i=l:t.route.Component?i=ut.createElement(t.route.Component,null):t.route.element?i=t.route.element:i=S,ut.createElement(Y2,{match:t,routeContext:{outlet:S,matches:a,isDataRoute:g!=null},children:i})};return g&&(t.route.ErrorBoundary||t.route.errorElement||h===0)?ut.createElement(X2,{location:g.location,revalidation:g.revalidation,component:l,error:m,children:r(),routeContext:{outlet:null,matches:a,isDataRoute:!0}}):r()},null)}var y0=function(u){return u.UseBlocker="useBlocker",u.UseRevalidator="useRevalidator",u.UseNavigateStable="useNavigate",u}(y0||{}),sl=function(u){return u.UseBlocker="useBlocker",u.UseLoaderData="useLoaderData",u.UseActionData="useActionData",u.UseRouteError="useRouteError",u.UseNavigation="useNavigation",u.UseRouteLoaderData="useRouteLoaderData",u.UseMatches="useMatches",u.UseRevalidator="useRevalidator",u.UseNavigateStable="useNavigate",u.UseRouteId="useRouteId",u}(sl||{});function j2(u){let n=ut.useContext(ld);return n||le(!1),n}function H2(u){let n=ut.useContext(D2);return n||le(!1),n}function k2(u){let n=ut.useContext(rs);return n||le(!1),n}function T0(u){let n=k2(),g=n.matches[n.matches.length-1];return g.route.id||le(!1),g.route.id}function E0(){var u;let n=ut.useContext(m0),g=H2(sl.UseRouteError),C=T0(sl.UseRouteError);return n||((u=g.errors)==null?void 0:u[C])}function K2(){let{router:u}=j2(y0.UseNavigateStable),n=T0(sl.UseNavigateStable),g=ut.useRef(!1);return g0(()=>{g.current=!0}),ut.useCallback(function(R,I){I===void 0&&(I={}),g.current&&(typeof R=="number"?u.navigate(R):u.navigate(R,nl({fromRouteId:n},I)))},[u,n])}function xi(u){le(!1)}function $2(u){let{basename:n="/",children:g=null,location:C,navigationType:R=rn.Pop,navigator:I,static:v=!1}=u;Sa()&&le(!1);let S=n.replace(/^\/*/,"/"),t=ut.useMemo(()=>({basename:S,navigator:I,static:v}),[S,I,v]);typeof C=="string"&&(C=Zs(C));let{pathname:h="/",search:m="",hash:l="",state:a=null,key:r="default"}=C,i=ut.useMemo(()=>{let s=od(h,S);return s==null?null:{location:{pathname:s,search:m,hash:l,state:a,key:r},navigationType:R}},[S,h,m,l,a,r,R]);return i==null?null:ut.createElement(qs.Provider,{value:t},ut.createElement(Ll.Provider,{children:g,value:i}))}function Q2(u){let{children:n,location:g}=u;return V2(Yu(n),g)}new Promise(()=>{});function Yu(u,n){n===void 0&&(n=[]);let g=[];return ut.Children.forEach(u,(C,R)=>{if(!ut.isValidElement(C))return;let I=[...n,R];if(C.type===ut.Fragment){g.push.apply(g,Yu(C.props.children,I));return}C.type!==xi&&le(!1),!C.props.index||!C.props.children||le(!1);let v={id:C.props.id||I.join("-"),caseSensitive:C.props.caseSensitive,element:C.props.element,Component:C.props.Component,index:C.props.index,path:C.props.path,loader:C.props.loader,action:C.props.action,errorElement:C.props.errorElement,ErrorBoundary:C.props.ErrorBoundary,hasErrorBoundary:C.props.ErrorBoundary!=null||C.props.errorElement!=null,shouldRevalidate:C.props.shouldRevalidate,handle:C.props.handle,lazy:C.props.lazy};C.props.children&&(v.children=Yu(C.props.children,I)),g.push(v)}),g}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(u){for(var n=1;n<arguments.length;n++){var g=arguments[n];for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&(u[C]=g[C])}return u},Wu.apply(this,arguments)}function J2(u,n){if(u==null)return{};var g={},C=Object.keys(u),R,I;for(I=0;I<C.length;I++)R=C[I],!(n.indexOf(R)>=0)&&(g[R]=u[R]);return g}function Z2(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function q2(u,n){return u.button===0&&(!n||n==="_self")&&!Z2(u)}const _2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tE="startTransition",Wv=Jy[tE];function eE(u){let{basename:n,children:g,future:C,window:R}=u,I=ut.useRef();I.current==null&&(I.current=l2({window:R,v5Compat:!0}));let v=I.current,[S,t]=ut.useState({action:v.action,location:v.location}),{v7_startTransition:h}=C||{},m=ut.useCallback(l=>{h&&Wv?Wv(()=>t(l)):t(l)},[t,h]);return ut.useLayoutEffect(()=>v.listen(m),[v,m]),ut.createElement($2,{basename:n,children:g,location:S.location,navigationType:S.action,navigator:v})}const iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xi=ut.forwardRef(function(n,g){let{onClick:C,relative:R,reloadDocument:I,replace:v,state:S,target:t,to:h,preventScrollReset:m,unstable_viewTransition:l}=n,a=J2(n,_2),{basename:r}=ut.useContext(qs),i,s=!1;if(typeof h=="string"&&nE.test(h)&&(i=h,iE))try{let d=new URL(window.location.href),c=h.startsWith("//")?new URL(d.protocol+h):new URL(h),p=od(c.pathname,r);c.origin===d.origin&&p!=null?h=p+c.search+c.hash:s=!0}catch{}let f=N2(h,{relative:R}),e=sE(h,{replace:v,state:S,target:t,preventScrollReset:m,relative:R,unstable_viewTransition:l});function o(d){C&&C(d),d.defaultPrevented||e(d)}return ut.createElement("a",Wu({},a,{href:i||f,onClick:s||I?C:o,ref:g,target:t}))});var jv;(function(u){u.UseScrollRestoration="useScrollRestoration",u.UseSubmit="useSubmit",u.UseSubmitFetcher="useSubmitFetcher",u.UseFetcher="useFetcher",u.useViewTransitionState="useViewTransitionState"})(jv||(jv={}));var Hv;(function(u){u.UseFetchers="useFetchers",u.UseScrollRestoration="useScrollRestoration"})(Hv||(Hv={}));function sE(u,n){let{target:g,replace:C,state:R,preventScrollReset:I,relative:v,unstable_viewTransition:S}=n===void 0?{}:n,t=B2(),h=Ca(),m=x0(u,{relative:v});return ut.useCallback(l=>{if(q2(l,g)){l.preventDefault();let a=C!==void 0?C:il(h)===il(m);t(u,{replace:a,state:R,preventScrollReset:I,relative:v,unstable_viewTransition:S})}},[h,t,m,C,R,g,u,I,v,S])}const rE=({isTouchScreen:u})=>{let n=window.location;const[g,C]=ut.useState(n.pathname.includes("/blog")?"blog-header-bg":"primary-header-bg");return ut.useEffect(()=>{C(n.pathname.includes("/blog")?"blog-header-bg":"primary-header-bg")},[n,n.pathname]),B.jsx(B.Fragment,{children:(u||navigator.userAgent.toLowerCase().includes("mobile"))&&n.pathname.includes("live-demo")?B.jsx(B.Fragment,{}):B.jsx("header",{id:"ProfileHeader",className:g,children:B.jsxs("div",{className:"flexrow",children:[B.jsxs("span",{id:"logo-diagram",className:"diagram-outline-smaller flexcolumn",children:[B.jsx(Xi,{className:"modern-link",to:"/",children:"A"}),B.jsx(u0,{className:"diagram-text",figureNumber:"1"})]}),B.jsx("div",{id:"logo-text-after",className:"flexrow",children:B.jsx(o2,{removeCursor:!0,typeEffect:"type-backspace",text:"lison Reilly"})})]})})})},aE="/assets/WallMedCrop-avaYuitz.png",S0=[{name:"Home",href:"/"},{name:"Experience",href:"/resume"},{name:"Projects",subNav:[{name:"Projects",href:"/projects"},{name:"Live Demos",href:"/live-demos"}]},{name:"Blog",href:"/blog"},{name:"About",href:"/about"},{name:"Connect",href:"/connect"}],oE=[{title:"Fauxtel Hotels",href:"https://www.youtube.com/embed/G4u_KgDfBYI",description:"For Flatiron School's final project, I created a theoretical hotel brand web app providing hotel details and ability to book a reservation/modify/cancel. Uses Active Mailer for email confirmations, jwt tokens for authentication, React and Redux front end with Ruby on Rails backend.",tags:["Flatiron School","Final Project","Ruby On Rails","REST API","CSS","Auths","JWT","CRUD","React","Redux"],githubURL:"https://github.com/Tsunamins/FauxtelHotels",blogURL:"https://tsunamins.github.io/fauxtel_hotels_-_the_final_project",projectAssociation:"Flatiron School",demoType:"video",youTubeURL:"https://www.youtube.com/G4u_KgDfBYI"},{title:"In Theory Blog",href:"https://www.youtube.com/embed/DHfhT9ddKp4",description:"A project after completing the Flatiron School to learn how to hook up a Node based backend to a React FrontEnd. A basic MERN CRUD web app using MongoDB, Express, Node and React.  Idea was, to familiarize with node.js/express.js in conjunction with React.  Uses JWT authentication, bootstrap and mongoose, for a basic introduction of use.",tags:["Self Study","MERN","CRUD","REST API","CSS","Authentication","JWT","Bootstrap","MongoDB","Node","Express","React","Mongoose"],githubURL:"https://github.com/Tsunamins/InTheoryBlog",projectAssociation:"Self Study",demoType:"video",youTubeURL:"https://www.youtube.com/DHfhT9ddKp4"},{title:"Miami Rooftop Pools",href:"https://www.youtube.com/embed/rlPety4CSeY",description:"Second project for Flatiron School, a Sinatra and Ruby project focusing on auths with Bcrypt, route protection, ActiveRecord validations, CRUD, CSS animations and incorporation of bootstrap.",tags:["Flatiron School","Sinatra","Ruby","Bootstrap","CSS","Auths","Bcrypt","CRUD"],githubURL:"https://github.com/Tsunamins/miami_rooftop_pools",blogURL:"https://tsunamins.github.io/sinatra_project_-_miami_rooftop_pools",projectAssociation:"Flatiron School",demoType:"video",youTubeURL:"https://www.youtube.com/rlPety4CSeY"},{title:"Prototype One: A Cat's Dream",href:"https://www.youtube.com/embed/MamqFgSoqq8",description:"Fourth project for the Flatiron School. A JavaScript front end with Rails API back end, video demo of a single page web application project for the fourth Project at Flatiron School. User stats are tracked after providing a name and added to the DOM via Vanilla JS only, player uses arrow keys and space bar to maneuver and complete the game.",tags:["Flatiron School","JavaScript","Ruby on Rails","Phaser3","Tiled"],githubURL:"https://github.com/Tsunamins/a-cats-dream",blogURL:"",projectAssociation:"Flatiron School",demoType:"video",youTubeURL:"https://www.youtube.com/MamqFgSoqq8"},{title:"Amateur Wine Reviewer",href:"https://www.youtube.com/embed/chD6oSrJplk",description:"Third project for the Flatiron School. Ruby on Rails web app demonstrating the  ability to create a user profile through traditional login/sign up features, or, SSO with google. Provides basic demonstration of MVC, nested resources, etc. User's can add new wines to the database, review those wines and like reviews of any user in the database.",tags:["Flatiron School","Ruby On Rails","REST API","CSS","Auths","JWT","CRUD","bcrypt"],githubURL:"https://github.com/Tsunamins/amateur_wine_reviewer",blogURL:"",projectAssociation:"Flatiron School",demoType:"video",youTubeURL:"https://www.youtube.com/chD6oSrJplk"},{title:"Miami Venues CLI Web Scraping",href:"https://www.youtube.com/embed/IZuhB9wp3Wo",description:"First project for the Flatiron School. CLI project using Ruby and Nokogiri to scrape web pages for list data contained in web page elements. This project utilized the websites of Perez Art Museum and Frost Science Museum's Laser Fridays events to demonstrate code ability and nokogiri functionality.",tags:["Flatiron School","Ruby","CLI","Nokogiri","Web scraping"],githubURL:"https://github.com/Tsunamins/miami_venues.git",blogURL:"https://tsunamins.github.io/cli_project_noteworthy_points",projectAssociation:"Flatiron School",demoType:"video",youTubeURL:"https://www.youtube.com/IZuhB9wp3Wo"},{title:"The Wall",href:aE,description:"Learned Python along with Python Django for backend REST api creation. The project demonstrates authentication/authorization and basic CRUD operations, tied to a React UI.",tags:["Self Study","Python","Django","REST API","Auths","React"],githubURL:["https://github.com/Tsunamins/wall-client","https://github.com/Tsunamins/wall-back"],projectAssociation:"Self Study",demoType:"image"}],lE=[{organization:"Parchment",title:"Software Engineer I",date:"9/2022 - present",orgURL:"https://www.parchment.com/",skills:["TypeScript","React","Styled Components","Jest","React Testing Library","TurboRepo","Storybook","Accessibility","Java","Liquibase","Spring Boot"],achieved:["Developed a React and TypeScript component library, ensuring UI consistency and improving development speed","Enhanced application reliability and safeguarded future changes writing unit tests with React Testing Library and Jest","Implemented responsive design while ensuring accessibility compliance and improving user experience","Modernized legacy code on full stack teams, integrating component library with corresponding API revisions","Created documentation in Storybook and Confluence, streamlining developer onboarding and team collaboration","Added API endpoints with Spring Boot, optimizing data access and reducing boilerplate with Hibernate and Lombok","Managed schema changes with Liquibase, ensuring seamless integration and data consistency"],description:"Created a company wide, front end, component library for an electronic and automated credentialing organization. Worked on additional full stack application team with Java and Spring Boot.",location:"Remote"},{organization:"American Express",title:"Software Engineer I",date:"12/2021 - 9/2022",orgURL:"https://www.americanexpress.com/",skills:["JavaScript","React","Python","Flask","Golang","Redis","Selenium","Jest","Enzyme","Docker","Kafka"],achieved:["Created front-end features for an internal use automations platform using React and the company design library","Developed interactive reporting UI with React, enhancing visibility of platform for the company","Enhanced front-end performance and responsiveness by integrating Redis for optimized data retrieval and caching","Built API endpoints in Golang and Python (Flask) with a focus on reporting solutions, increasing team impact","Integrated Selenium tests into GitLab pipelines, increasing platform robustness through automated UI testing","Co-hosted meetings to demonstrate product, facilitate onboarding, enhancing platform adoption and understanding"],description:"A team focusing on building a robust automations platform for the company wide adoption.",location:"Remote"},{organization:"ServiceNow",title:"Technical Support Engineer",date:"3/2021 - 12/2021",orgURL:"https://www.servicenow.com/",skills:["JavaScript","Platform Debugging","Java","ServiceNow","Platform as a Service","ServiceNow Administration","Troubleshooting","Accessibility"],achieved:["Diagnosed UI/UX defects or misconfigurations with platform and Chrome Dev Tools, optimizing visual components","Investigated JavaScript, Angular, and React customizations, enhancing platform performance and customer satisfaction","Authored and updated knowledge base articles, driving self-service support and reducing recurring customer inquiries","Optimized and suggested platform settings, security rules and table functions, optimizing workflow experience","Accelerated ticket resolution by coordinating with customers, team and developers, streamlining problem-solving"],description:"Technical Support concentrating on debugging and finding root causes in the UI/UX features of the ServiceNow platform.",location:"Remote"},{organization:"1909 Coworking",title:"Backend Developer Intern",date:"8/2020 - 3/2021",orgURL:"https://www.weare1909.org/",skills:["JavaScript","Node","Integrations","Salesforce API","Firebase","Webhooks","ExpressJS"],achieved:["Built middleware using Node.js and Firebase to integrate OfficeRnd and Salesforce APIs","Implemented webhook routing with Express.js for efficient data handling and clear separation of concerns","Synced goals bi-weekly with the product owner and team, ensuring alignment and progress."],description:"An internship project building middleware and integrations for a local co-working space.",location:"Remote"},{organization:"Shuckers",title:"Server",date:"5/2019 - 3/2020",skills:["Team Work","Communication","Product Knowledge","Multi-tasking","Math","Prioritization","Work under pressure","Sales"],achieved:["Ensured smooth operation during high volume service hours by multi-tasking and teamwork","Navigated challenging people by adapting to personality and negotiating positive outcomes","Met and exceeded high pressure demands of restaurant pace and volume by organizing tasks"],description:"Fast paced casual restaurant with a focus on seafood.",location:"Miami Beach, FL"},{organization:"Smith & Wollensky",title:"Server",date:"11/2017 - 5/2019",skills:["Team Work","Communication","Product Knowledge","Multi-tasking","Math","Prioritization","Sales"],achieved:["Facilitated restaurant demands as a team member of both banquet and a la carte shifts","Lead trainees in a one week, new hire orientation covering food, beverage & service","Effectively communicated with other departments to gain efficiency and speed, increasing section revenue"],description:"High end steak house focusing on classic dining experiences.",location:"Miami Beach, FL"},{organization:"Quality Meats",title:"Server",date:"6/2010 - 10/2017",skills:["Team Work","Communication","Product Knowledge","Multi-tasking","Math","Prioritization","Wine Knowledge","Sales"],achieved:["Professional wine knowledge increased personal and restaurant wine sales, average of 40% of sales","Presented menu strategically to guide guests to food choices decreasing order, table and wait times","Trained new hires on company steps of service, side duties and ensured menu knowledge"],description:"High end steak house with a modern twist.",location:"New York, NY"}],hE=[{organization:"Flatiron School",title:"Software Engineering",date:"6/2020",description:"Learned Full Stack Software Engineering with Ruby on Rails, JavaScript, React and Redux",concentration:"Full Stack Software Engineering",skills:["Ruby on Rails","React","Redux","JavaScript"],location:"Remote"},{organization:"LaGuardia Community College",date:"3/2013 - 8/2017",title:"Math & Science",description:"Enrolled in a variety of science and math courses while working full time",concentration:"Math and Science",skills:["Anatomy and Physiology","Biology","Chemistry","Calculus","C++","Writing intensive courses"],location:"Long Island City, NY"},{organization:"Miami Dade College",date:"12/2024",title:"Computer Science",description:"Transferred credits to complete an Associate of Arts degree, online and evening classes",concentration:"Computer Science",skills:["Physics","Calculus","Ethics"],location:"Miami, FL"}],uE={0:"a",1:"b",2:"c",3:"d",4:"e",5:"f",6:"g",7:"h",8:"i",9:"j",10:"k",11:"l",12:"m",13:"n",14:"o",15:"p",16:"q",17:"r",18:"s"},fE=({isOpen:u,navHref:n,navName:g,navSubItems:C,setIsOpen:R})=>{const[I,v]=ut.useState(!1),S=C?"":"mobile-li-no-subs",t=C?"has-mobile-sub-items":"",h=()=>{v(!I),C||R(!u)};return B.jsxs("li",{id:S,className:"mobile-li",onClick:h,children:[B.jsxs(Xi,{className:"mobile-a modern-link",to:n||"",children:[B.jsx("span",{id:t,className:"bracket",children:"[ "}),B.jsx("span",{id:t,className:"bracket-text",children:g})]}),C&&I&&C.map((m,l)=>B.jsx("ul",{className:"flexcolumn",children:B.jsx("li",{id:"mobile-sub-item",className:"mobile-li sub bracket-wrapper",onClick:()=>R(!u),children:B.jsxs(Xi,{className:"modern-link mobile-sub",to:m.href,children:[B.jsx("span",{className:"bracket",children:"- "}),B.jsx("span",{className:"bracket-text",children:m.name})]})})}))]})},dE=({isTouchScreen:u})=>{const[n,g]=ut.useState(!1),C=ut.createRef();let R=Ca();return ut.useEffect(()=>{const I=v=>{C.current&&!C.current.contains(v.target)&&g(!1)};return document.addEventListener("click",I,!0),()=>{document.removeEventListener("click",I,!0)}},[C]),B.jsxs("nav",{ref:C,id:"PrimaryMobileNav",className:`${(u||navigator.userAgent.toLowerCase().includes("mobile"))&&R.pathname.includes("live-demo")?"game-demo-nav":"mobile-nav"}`,role:"navigation","aria-label":"Main menu",children:[B.jsx("button",{id:"mobile-nav-button",className:"glassMainMenu","aria-expanded":n,onClick:()=>g(!n),children:B.jsx("img",{id:"NavIcon",src:"appsIcon.svg",alt:"open navigation menu"})}),B.jsx("ul",{className:`flexcolumn glass mobile-ul ${n?"":"closed-menu"}`,children:n&&S0.map((I,v)=>B.jsx(fE,{navHref:I.href,navName:I.name,navSubItems:I.subNav,isOpen:n,setIsOpen:g},`mobile-main-level-${v}`))})]})},cE=({liIndex:u,mainNav:n})=>{const[g,C]=ut.useState(!1),R=ut.createRef();ut.useEffect(()=>{const v=S=>{R.current&&!R.current.contains(S.target)&&C(!1)};return document.addEventListener("click",v,!0),()=>{document.removeEventListener("click",v,!0)}},[R]);const I=()=>{C(!g)};return B.jsxs("li",{ref:R,tabIndex:n.subNav?0:-1,onClick:I,children:[n.subNav?B.jsx("button",{className:"menu-first-level",tabIndex:-1,children:n.name}):B.jsx(Xi,{className:"menu-first-level modern-link",to:n.href?n.href:"",children:n.name}),n.subNav&&B.jsx("ul",{className:`glass sub-nav-ul ${g?"sub-nav-ul-open":"sub-nav-ul-closed"}`,children:n.subNav.map((v,S)=>B.jsx("li",{id:`${S}-sub`,className:"flexrow bracket-wrapper MainNavColor",children:B.jsxs(Xi,{id:`${S}-link`,className:"modern-link flexrow primary-sub",to:v.href?v.href:"",children:[B.jsx("span",{className:"bracket",children:"[ "}),B.jsx("span",{className:"bracket-text",children:v.name})]},`${S}-link`)},`${S}-sub`))})]},`${u}-main`)},vE=()=>B.jsx("nav",{id:"MainMenu",className:"glassMainMenu",children:B.jsx("ul",{className:"horizontal-menu",children:S0.map((u,n)=>B.jsx(cE,{id:`${n}-top-nav`,liIndex:n,mainNav:u},`${n}-top-nav`))})}),pE=({isTouchScreen:u})=>B.jsxs("div",{id:"HeaderSection",children:[B.jsx(rE,{isTouchScreen:u}),B.jsx(dE,{isTouchScreen:u}),B.jsx(vE,{isTouchScreen:u})]}),mE=({blogURL:u,image:n,blogContent:g,title:C,date:R,tags:I,altText:v})=>B.jsxs("div",{id:"BlogPreview",className:"blogPreviewPane",children:[B.jsx("h2",{className:"blog-preview-title",children:C}),B.jsx("div",{className:"blog-preview-date",children:R}),B.jsx("div",{className:"blog-preview-content",children:g}),B.jsx(Xi,{className:"read-more-link",to:`/blog/${u}`,children:"...Read More"})]}),gE=({isLoading:u,posts:n,text:g})=>{const[C,R]=ut.useState();return ut.useEffect(()=>{R(n.sort((I,v)=>{let S=new Date(I.date),t=new Date(v.date);return S>t?-1:S===t?0:1}))},[n]),B.jsx(B.Fragment,{children:u?B.jsx(B.Fragment,{}):B.jsx("div",{id:"Blog",children:B.jsx("div",{className:"main-blog-list",children:C&&C.map((I,v)=>B.jsx(mE,{blogContent:I.content,date:I.date.toString(),title:I.title,blogURL:I.blogURL},`${v}-preview`))})})})},Ji=({text:u})=>B.jsx("span",{className:"inline-code-emphasis",children:u}),Oh=[{title:"Why Software Development - Blog Post 1",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"Over time, I have tried a few different industries to excel at and immerse in: writing, nursing, politics, massage therapy, etc. When none of those were panning out for a variety of life reasons, I wondered what is next then? I will keep taking classes in something, but ultimately, what do I want to do in terms of a professional career?"}),B.jsx("p",{children:"After one more setback trying to afford a college way too expensive for my income and circumstances, I returned back to my community college to keep taking general classes needed toward any science degree, as in higher level math science and any missing prerequisites. I thought, any of these classes could work toward a higher level degree toward a biology, physics or some engineering based degree, I\\'ll take them and see what I get inspired toward."}),B.jsx("p",{children:"I really enjoyed my higher level math courses, I had always thought of myself as being a little mediocre at math unless I had some phenomenal teacher which rarely exists. I decided I could definitely handle the rest of the math required for any major and continued on into Calculus I, which also went very well, it was like a math puzzle."}),B.jsx("p",{children:"In between semesters and busy times within classes, I decided to start a blog site on WordPress to post a couple essays I enjoyed writing, thinking it may also, additionally, inspire me to continue writing creatively as an outlet beyond academics. I still only have two posts, more to come perhaps in the future. However, what I experienced on the WordPress platform inspired me to take my first computer science class."}),B.jsx("p",{children:"I enjoyed the ease of use of using a pre-designed template, but always wanted to change some aspect or have the option of flexibility or more control over that template. I started looking into plugins and custom code and ftp, etc. Suddenly, I was learning HTML and CSS from eBooks and YouTube tutorials, learning how to make a mock in the designs of the template I had chosen for my blog. Forget blogging, from there, I enrolled in Introduction to Computer Science with C++ at my community college the very next semester."}),B.jsx("p",{children:"C++ was amazing! I noticed I got lost in time on my problems that were more difficult to solve, trying different ways to make the console applications run as intended, I would forget to eat at times. Maybe that's not good, but I never had any other task occupy my mind so much, it was amazing to have such an innate and intense focus. On the occasion I couldn't solve a problem immediately, I'd walk away from it, go do something else, but my mind was already back on the problem somehow, refreshed and ready to tackle the coding problem from some new angle I hadn't thought of previously."}),B.jsx("p",{children:"I thought this is amazing, I love this stuff, I would love to sit around (or stand for standing desks, I have to get one of those too maybe with a treadmill, not sure) and do nothing but solve these intricate problems all based on this complex network of keywords and functions that end up generating more amazing things such as video games, advanced electronics, cars, planes, medical equipment and anything else that could exist in the future, not on the market yet. It is a massive and infinite industry with so many avenues."}),B.jsx("p",{children:"Ready to move out of New York City and back to warm weather I applied at Florida International University for Computer Science and got accepted. That is all fun and well expect for entering back into the work/school game endless loop; but I decided to accelerate the learning and career process by applying to the Flatiron school, here, representative of this blog post, I think because technology changes so quickly it is best just to get immersed into the career path as soon as possible and start gaining experience."})]}),date:"1/1/2019",tags:["Flatiron","Bootcamp","Coding","Philosophical"],blogURL:"why-software"},{title:"Randomness",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"For this blog, I really wanted to do some reading and interpreting of philosophical and mathematical significance of the concept of something being random and make a nice, healthy introduction to computer code - random. Such a reading and research opened up a can of worms that fascinated me greatly. I knew I would get stuck on that for days, so as to move forward with my learning process in software development, I will open with a couple well-rounded quotes and return to my in-depth introduction at a later time."}),B.jsx("p",{className:"block-quote",children:"From philosopher Eric Hoffer: “Creativity is the ability to introduce order into the randomness of nature.”"}),B.jsx("p",{className:"block-quote",children:"From mathematician and computer scientist Robert R. Coveyou: “The generation of random numbers is too important to be left to chance.”"}),B.jsx("a",{className:"reference anchors",href:"www.random.org/quotations",rel:"noreferrer",target:"_blank",children:"www.random.org/quotations"}),B.jsx("p",{children:"One of my first favorite topics and exercises in my Introduction to Computer Science class was producing a random number or series of random numbers by code and understanding its implications. Computer science labs in randomness not only demonstrate the practicality of generating some random number simply for programming purposes. Randomness in computer language also innately triggers a deeper thought process on the concept of random in life, mathematics and philosophy. In order to explain this thought process further, I will reference C++ code I worked with in my Intro class and later to expand this fascination into Ruby language, I am currently learning, by exploring and reflecting on how random is accomplished in Ruby as well."}),B.jsx("h3",{className:"core-subsection",children:"C++ Random"}),B.jsxs("p",{children:["In C++, ",B.jsx("span",{className:"inline-code-emphasis",children:"rand()"}),", is used to generate seemingly random numbers. Below is the general code and result: "]}),B.jsx("div",{className:"figure-pres",children:B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Code"}),B.jsx("img",{src:"https://i.imgur.com/aJrFodB.jpg",alt:""})]})}),B.jsxs("div",{className:"figure-pres",children:[B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Run 1"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/tuOFLW6.jpg?1",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Run 2"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/tuOFLW6.jpg?1",alt:""})]})]}),B.jsx("p",{children:"Overall, the numbers seem random on execution 1, however, running this executable program file again produces the exact same result, therefore this isn’t exactly what is thought of a random experience in life or statistics or what experiential definition one prefers."}),B.jsxs("p",{children:["Alternatively, a different set of numbers can be generated by the use of"," ",B.jsx("span",{className:"inline-code-emphasis",children:"rand()"})," with a seed specifier in the syntax of"," ",B.jsx("span",{className:"inline-code-emphasis",children:"srand(somenumberyouwanthere)"}),":"]}),B.jsx("div",{className:"figure-pres",children:B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Code"}),B.jsx("img",{src:"https://i.imgur.com/Z28p5h6.jpg",alt:""})]})}),B.jsx("p",{children:"However the result is a different series of numbers, running the program again has the same resulting numbers."}),B.jsxs("div",{className:"figure-pres",children:[B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Run 1"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/G26RRcS.jpg?1",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Run 2"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/G26RRcS.jpg?1",alt:""})]})]}),B.jsxs("p",{children:["A do while loop in C++ using ",B.jsx("span",{className:"inline-code-emphasis",children:"rand()"})," can generate a different looking set of random numbers each time the user calls for it, but starting the program over again, generates the same set each time. Note, ",B.jsx("span",{className:"inline-code-emphasis",children:"srand()"})," with a parameter could still be incorporated into this but would have the similar conundrum noted above."]}),B.jsx("div",{className:"figure-pres",children:B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Code"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/uklE5uM.jpg",alt:""})]})}),B.jsx("p",{children:"Compilers are built on various logic and mathematical reasoning, so the interesting part is, at least for the moment in programming today, there is no true sense of random to a machine, a computer, a compiler, nor in computer language, and that is to say, no true sense of random in terms of its philosophical human experience. So what needs to be done, at least in C++ to make patterns stop repeating? What needs to happen so that the user can experience what they are used to calling random, even if just for that moment in time?"}),B.jsxs("p",{children:["Noteworthy from the question above is that computer language can use exactly that, time. In C++ to do so,",B.jsx("span",{className:"inline-code-emphasis",children:"<ctime>"})," is an inclusion necessary in C++ files to utilize time f unctions. From the ",B.jsx("span",{className:"inline-code-emphasis",children:"<ctime>"})," inclusion",B.jsx("span",{className:"inline-code-emphasis",children:"time()"})," can be incorporated into the",B.jsx("span",{className:"inline-code-emphasis",children:"srand()"})," setting the current time the program is executed, or the code is asked for, as the seed specifier and setting ",B.jsx("span",{className:"code-example",children:"time()"}),"to ",B.jsx("span",{className:"inline-code-emphasis",children:"NULL"}),", 0, or nullptr depending on C++ version."]}),B.jsxs("p",{children:["Once ctime is included ",B.jsx("span",{className:"inline-code-emphasis",children:"srand()"})," seed is set to",B.jsx("span",{className:"inline-code-emphasis",children:"time()"})," , ",B.jsx("span",{className:"inline-code-emphasis",children:"time()"}),"is set to ",B.jsx("span",{className:"inline-code-emphasis",children:"NULL"})," : ",B.jsx("span",{className:"inline-code-emphasis",children:"srand(time(NULL);"})]}),B.jsxs("p",{children:["From here ",B.jsx("span",{className:"inline-code-emphasis",children:"rand()"})," is utilized once again for output as in the above examples, or of course whatever one’s program may call for. The example below uses a combined version of all the techniques above to demonstrate the results of setting time as the ",B.jsx("span",{className:"inline-code-emphasis",children:"srand()"})," seed parameter."]}),B.jsx("div",{className:"figure-pres",children:B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Code"}),B.jsx("img",{src:"https://i.imgur.com/O6WEiB7.jpg",alt:""})]})}),B.jsxs("div",{className:"figure-pres",children:[B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Run 1"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/nebsV1b.jpg?1",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Run 2"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/g04Q0r7.jpg?1",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"Run 3"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/kloEnWM.jpg?1",alt:""})]})]}),B.jsx("p",{children:"Wouldn’t it be wonderful now, to go off on some tangent regarding physics having no concept of time beyond elapsed time for calculation? That would be a lot of fun, but for now, I’ll have to move on to how random works in Ruby."}),B.jsx("h3",{className:"core-subsection",children:"Random Ruby"}),B.jsxs("p",{children:["Of course, in ruby, there are methods on hand and ready to go simplifying the code involved. The primary method involves the use of ",B.jsx("span",{className:"inline-code-emphasis",children:"#rand"}),". Calling",B.jsx("span",{className:"inline-code-emphasis",children:"rand"})," by itself yields a random float. If a whole integer is desired typically ",B.jsx("span",{className:"inline-code-emphasis",children:"rand(1000)"}),", for example, will generate a random number between 0 and 1000. I tried to find a general maximum number available as in C++ but was unsuccessful so far."]}),B.jsxs("div",{className:"figure-pres",children:[B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"rand - no specification"}),B.jsx("img",{src:"https://i.imgur.com/q2jf4gv.jpg",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"float result"}),B.jsx("img",{src:"https://i.imgur.com/pDlwa3u.jpg",alt:""})]})]}),B.jsxs("div",{className:"figure-pres",children:[B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"rand - with integer range"}),B.jsx("img",{src:"https://i.imgur.com/yHfAvla.jpg",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"integer result"}),B.jsx("img",{src:"https://i.imgur.com/Himv9Kd.jpg",alt:""})]})]}),B.jsxs("p",{children:["In contrast to C++, Ruby ",B.jsx("span",{className:"inline-code-emphasis",children:"rand"})," methods are already setup to refer to a timestamp along with “the process id, and a sequence number” ",B.jsx("em",{children:"(ruby-doc.org)"}),". In order to get a series of 10 random numbers, for now between 0 and 1000, and not repeat each time the program is started or method is called again,",B.jsx("span",{className:"inline-code-emphasis",children:"rand(1000)"})," is sufficient in a while loop:"]}),B.jsxs("div",{className:"figure-pres",children:[B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"rand in a loop and called twice"}),B.jsx("img",{src:"https://i.imgur.com/BE3qlJr.jpg",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"result - different numbers"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/wPj6uuJ.jpg",alt:""})]})]}),B.jsxs("p",{children:["Similar to C++, ",B.jsx("span",{className:"inline-code-emphasis",children:"srand(somenumberhere)"}),", will cause a repeat of the same series each time a program is started or method is called once again. So, in Ruby, in particular,",B.jsx("span",{className:"inline-code-emphasis",children:"srand()"})," is helpful if one would like to repeat the same values by some seed."]}),B.jsxs("div",{className:"figure-pres",children:[B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"srand used with parameter"}),B.jsx("img",{src:"https://i.imgur.com/9TC1hZE.jpg",alt:""})]}),B.jsxs("div",{children:[B.jsx("figcaption",{className:"caption-pres",children:"result - same numbers"}),B.jsx("img",{className:"output",src:"https://i.imgur.com/JgYTTYu.jpg",alt:""})]})]}),B.jsx("p",{children:"I enjoy the C++ version slightly better as you can see exactly how that code is taking place and manipulating the values, why C++ is my favorite language all around, however. C++ brings out the philosophical nature a little more by an innate sense of questioning. I do enjoy the fact that the Ruby version is very simplistic and less exhausting to write, also why I have enjoyed Ruby overall. I suppose either language is sufficient and may just depend on the project or end result. I think, at this concluding moment, the quotes I chose are perfect for the ideas at work within this post."}),B.jsx("h3",{className:"core-subsection",children:"Works Cited "}),B.jsx("a",{className:"anchors",href:"https://ruby-doc.org/core-2.2.0/Random.html",target:"_blank",rel:"noreferrer",children:"Britt, James and Neurogami. “Random” Ruby-doc.org. https://ruby-doc.org/core-2.2.0/Random.html"}),B.jsx("a",{className:"anchors",href:"https://www.random.org/quotations/",target:"_blank",rel:"noreferrer",children:"RANDOM.ORG. https://www.random.org/quotations/"})]}),date:"1/4/2019",tags:["Flatiron","Bootcamp","Philosophical","Ruby","C++","Random Numbers"],blogURL:"randomness"},{title:"CLI Project, Noteworthy Points",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"The idea of my CLI project was a quick search for things to do in Miami today (or another date specified), scraping from Perez Art Museum and the Frost Science Museum’s Laser Friday’s page. Of course there are many more things to do in Miami on any given day, but the trick of this project was to demonstrate web scraping, object-oriented programming and also just make a nice clean code."}),B.jsxs("p",{children:["Project Setup:",B.jsx("br",{}),'File setup was a little tricky when first creating a gem projects files, it is handy however that initial file structure and the necessary inclusions, requirements and calls to certain files are incorporated automatically when using bundle gem "project-name". However the file setup is simplified, there are a few details to iron out in advance and upon project setup:']}),B.jsx("h3",{className:"core-subsection",children:"Project naming:"}),B.jsx("p",{children:"A different file structure is created with something such as miami_venues_today and miami_venues."}),B.jsxs("p",{children:["• ",B.jsx("span",{className:"inline-code-emphasis",children:"bundle gem miami_venues_today"})," will create several layers of files, one nested under the other, the file structure ends up looking a little more complicated, ",B.jsx("span",{className:"inline-code-emphasis",children:"lib/miami/venues/today"})," is generated in this example, but also affects the require parameters and adds unnecessary files to a simple project. Other projects could perhaps use such naming and file system, however, so it is still useful to know."]}),B.jsxs("p",{children:["• ",B.jsx("span",{className:"inline-code-emphasis",children:"bundle gem miami_venues"})," will create less file nests, making the require parameters much more simple and manageable, ",B.jsx("span",{className:"inline-code-emphasis",children:"lib/miami_venues"}),". These initial naming and file conventions are however manageable in either case, files can be easily deleted, added, renamed and the overall file structure changed, one just needs to makes sure all file inclusions match throughout the project’s files."]}),B.jsxs("p",{children:["The .gemspec file:",B.jsx("br",{}),B.jsx("span",{className:"inline-code-emphasis",children:"miami_venues.gemspec"}),", for example has a great deal of specifiers for publishing which need to be filled out especially if publishing. Generally, anything that has a “TODO” needs to be filled out with the appropriate value, or this publishing section could use to be commented out, if not publishing the gem."]}),B.jsx("p",{children:"More importantly, in the .gemspec file, at the bottom, various dependencies are added. Some are added initially, but for this particular project, pry and Nokogiri needed to be added in order to debug efficiently with pry and to utilize web scraping with nokogiri, the main focus of the project:"}),B.jsxs("div",{className:"code-block-snippet",children:['spec.add_development_dependency "pry"',B.jsx("br",{}),'spec.add_development_dependency "nokogiri"']}),B.jsx("h3",{className:"core-subsection",children:"Config or environment files:"}),B.jsxs("p",{children:["In the ",B.jsx("span",{className:"inline-code-emphasis",children:"/lib"})," directory, ",B.jsx("span",{className:"inline-code-emphasis",children:"miami_venues.rb"}),", was added as a means to ensure all the other files are incorporated, it is an environment or configuration type of file seen in other Ruby programs and setup. For example, I was used to the environment.rb file in a config folder from exercises I completed in the past. While researching other file setups for a gem CLI project I came across this particular setup: a ",B.jsx("span",{className:"inline-code-emphasis",children:"/config"})," folder is added, an"," ",B.jsx("span",{className:"inline-code-emphasis",children:"environment.rb"})," includes the necessary files to be used in the program and the"," ",B.jsx("span",{className:"inline-code-emphasis",children:"lib/miami_venues.rb"})," includes the environment file. There are a other, more concise examples to follow, but also interesting to see exactly how that file structure is initially created while creating a new gem, and good to know how all those files work together."]}),B.jsx("h3",{className:"core-subsection",children:"Learned some new things – dates and ranges"}),B.jsxs("p",{children:["The goals of the project were date focused, the CLI would have to ask for some user input and match today’s date or match some other specified date to what the user wants to find. The date specified would have to easily match to a list of event dates and pull those details up for the user. Each of the two websites I was interested in scraping had not only different date format’s within the text of an element, but had date ranges to work with as well. So, I had to research the ruby date methods. In order to use various the predefined date class and its methods, require ‘date’ had to be included at the top of the file along with pry, nokogiri and open-uri. Three date methods were extremely useful, ",B.jsx("span",{className:"inline-code-emphasis",children:"DateTime.Parse()"}),", ",B.jsx("span",{className:"inline-code-emphasis",children:".strftime()"})," and"," ",B.jsx("span",{className:"inline-code-emphasis",children:"Time.new"}),":"]}),B.jsxs("p",{children:[B.jsx("span",{className:"inline-code-emphasis",children:"DateTime.parse(‘date here in almost any format’)"}),", changes a date such as January, 1 2018 and makes the value a standardized version of time:"]}),B.jsx("div",{className:"figure-pres",children:B.jsx("div",{children:B.jsx("img",{className:"outlet",src:"https://i.imgur.com/4Tki4Ww.jpg/",alt:""})})}),B.jsxs("p",{children:["Once this date was standardized a specific formatted output can be returned with ",B.jsx("span",{className:"inline-code-emphasis",children:".strftime(“'%a %d %b %Y'”)"}),", these representing name value of the day, numerical value of the day, month and year, respectively :"]}),B.jsx("div",{className:"figure-pres",children:B.jsx("div",{children:B.jsx("img",{className:"outlet",src:"https://i.imgur.com/40DVLJ7.jpg",alt:""})})}),B.jsx("p",{children:"These methods were included in a helper method to pass in any date data gathered from the website and process them back out with the format above, in order to match the user date specified later."}),B.jsxs("p",{children:["Within the CLI if the user wants to check events for the current date and time, Time.new is called set to a variable. In order to display this time, puts needs to be used in conjunction with this time, for my program I utilized ",B.jsx("span",{className:"inline-code-emphasis",children:".strftime()"})," to standardize the format of the user's date to easily match with event dates:"]}),B.jsx("div",{className:"figure-pres",children:B.jsx("div",{children:B.jsx("img",{className:"outlet",src:"https://i.imgur.com/1SFcCVD.jpg",alt:""})})}),B.jsx("div",{className:"figure-pres",children:B.jsx("div",{children:B.jsx("img",{className:"outlet",src:"https://i.imgur.com/5TW5UGL.jpg",alt:""})})}),B.jsx("h3",{className:"core-subsection",children:"Self.ishness:"}),B.jsxs("p",{children:["So, at first I wasn’t thinking ahead and forgot all about the use of self and why it is used and how it is used and what the difference is, etc. I generally understood what it was doing in labs but hadn't yet put it into my own words. So, once I tried to combine my classes together and get everything functioning in the CLI, I was getting errors and why, oh, that’s why without defining my scraper methods as ",B.jsx("span",{className:"inline-code-emphasis",children:"self.scrape_something"}),", and just"," ",B.jsx("span",{className:"inline-code-emphasis",children:"scrape_something"}),": trying"]}),B.jsxs("p",{children:[B.jsx("span",{className:"inline-code-emphasis",children:"find_scraped_items.scrape_something"})," was returning an error. After changing to"," ",B.jsx("span",{className:"inline-code-emphasis",children:"self."}),", I could successfully interact my CLI, my Events class and my Scraper class together, setting variables equal to interacting objects. Also, learned that unless called in a very specific way, you can’t call an instance method within a class method, suddenly my date changing method I had worked on earlier wasn’t working, however just calling this"," ",B.jsx("span",{className:"inline-code-emphasis",children:"self.change_date_format"}),", and making that modification within the call to itself fixed this quickly."]}),B.jsx("h3",{className:"core-subsection",children:"I discovered an em dash:"}),B.jsxs("p",{children:["Or was it an en dash? I’m not sure and I kind of find it upsetting there is some difference between a hyphen “-“ an en dash “–”, and apparently one other similar larger than hyphen larger than en dash sized – em dash, Microsoft word makes an em or en automatically in certain circumstances, so that’s great. However, if you are attempting to make something such as ",B.jsx("span",{className:"inline-code-emphasis",children:".split(“-“)"})," find a split, in my example a date range, work when there is actually an em or en dash in the middle, ruby won’t catch it. I tried to look up character encoding and how I may use that, none of that was clear so I decided to see if I could use regex somehow. By inserting"," ",B.jsx("span",{className:"inline-code-emphasis",children:"/\\W[^ ,A-Z,1-9]/"})," into ",B.jsx("span",{className:"inline-code-emphasis",children:".split(/\\W[^ ,A-Z,1-9]/)"}),", I was able to exclude every character necessary except anything resembling a hyphen or dash and was finally able to proceed hours later!!!! Regex is really a good time!"]}),B.jsx("p",{className:"block-quote",children:"October 4, 2018 - February 17, 2019 (hyphen) July 21, 2017 – Sept. 1, 2019 (em or en dash)"}),B.jsx("p",{children:"After all the various tricks and pondering of life my CLI project took I am glad to have experienced it. There were several other stuck points possibly worth highlighting but these seemed the most useful and interesting."}),B.jsx("a",{className:"anchors",href:"https://youtu.be/IZuhB9wp3Wo",target:"_blank",rel:"noreferrer",children:"YouTube Demonstration"}),B.jsx("a",{className:"anchors",href:"https://github.com/Tsunamins/miami_venues.git",target:"_blank",rel:"noreferrer",children:"GitHub Repo"})]}),date:"2/12/2019",tags:["Flatiron","Bootcamp","Ruby","CLI"],blogURL:"cli-project"},{title:"Sinatra Project: Miami Rooftop Pools",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"“Something to keep track of,” the project mode page described on Flatiron School curriculum, well I had a million thoughts on things I could use to keep track of, some too simple some too complex. I thought, not that it is a realistic web app for a variety of reasons, but maybe a simple web based app to keep track of details of various rooftop pools, primarily at hotels, that are easy to visit, have special events where you can visit easily, that hold special events often, or if you had to book a room for a night or two to relax at the pool’s site."}),B.jsx("h3",{className:"core-subsection",children:"File Setup - first things, first"}),B.jsx("div",{className:"code-block-large",children:`if ActiveRecord::Migrator.needs_migration?
    raise 'Migrations are pending.
    Run rake 'db:migrate' to resolve the issue.'
End`}),B.jsx("p",{children:"To this:"}),B.jsx("div",{className:"code-block-large",children:`if ActiveRecord::Base.connection.migration_context.needs_migration?
    raise 'Migrations are pending. Run 'rake db:migrate' to resolve the issue.'
End`}),B.jsx("p",{children:"At the moment I don’t remember the error code, but if I can reproduce it or find it, I will add it here."}),B.jsx("p",{children:"Excellent, everything is setup and a little test to see that everything is in place:"}),B.jsx("div",{className:"code-block-snippet",children:`get '/' do
    "Hello World, Can this App Start?"
End`}),B.jsx("p",{children:"Run shotgun in the terminal and…No. It can't start."}),B.jsx("p",{className:"example or emphasis-block",children:"Run shotgun……and……Shotgun Error, or shotgun related error."}),B.jsx("p",{children:"After researching this further, I could not run shotgun on windows, or windows as is, I needed Linux or a Linux emulated system in place."}),B.jsx("p",{children:"I had a ton of trouble with the learn in browser IDE, I thought no way I’m only working through the learn browser, I will go crazy and abandon my studies. I almost set it up a week or so prior but held off, so, I decided to take out some extra time during my project and dual boot windows by installing linux and following a couple of setup instructions from Flatiron School help pages and setup guides (that is another blog post in itself). It was something I would have to do later, so, all the better to get it set up in advance, and, I like it better!"}),B.jsx("p",{children:"After getting the whole thing setup, including a few extra steps to get my wifi adapter working in Ubuntu/linux, I cloned my files, ran shotgun successfully and had a look at my ‘/’ route in the browser:"}),B.jsx("p",{className:"quote-block",children:"Hello World, Can this App Start?"}),B.jsx("p",{children:"It could start!! Celebration."}),B.jsx("h3",{className:"core-subsection",children:"Continuing the sinatra app setup, what was next?"}),B.jsx("p",{children:"All the labs had some paralleled example to work with, but I knew I may like some of my flow of controllers to work a little differently, but where to get started. Generally, I worked back and forth between pages and views, how will the first page look, make the page, make that route; how will the sign up page work, make the page, make the route."}),B.jsx("p",{children:"This is where I developed a clearer understanding as well between when I was specifying a route and when I was specifying an erb page within other directories. The previous labs always had similar names, so I was generalizing a lot and putting them into kind of the same category, even though I knew something was different."}),B.jsx("p",{children:"The sinatra project was really giving a good opportunity to see exactly what was happening in routes and page rendering and why it was happening, something I was not getting in the labs quite as much."}),B.jsx("h3",{className:"core-subsection",children:"Styling - an external css sheet and what to do with it:"}),B.jsx("p",{children:"Early on while making the pages I thought it best to get started on some styling. I added some initial style modifications and linked the file in the layout.erb page and…nothing happened. I looked up a few references to adding css styling in sinatra, found out stylesheets, images, etc. have to be in a directory called public. After setting that up, still nothing, until I found out a while later I had the public folder in the wrong place, hanging out in the app folder, it just needed to be a folder at the start of the root of the project. Css, finally worked after making this change, I then spent about 8 hours seeing how I could make my app look less 1996, semi-successfully."}),B.jsx("h3",{className:"core-subsection",children:"Weird sinatra shotgun/terminal errors:"}),B.jsx("p",{children:"I was working from VSCode via recommendation from one of Flatiron School's local environment setup guides and I got the following error after working a while, or something similar."}),B.jsx("p",{className:"block-quote",children:"start_tcp_server': no acceptor (port is in use or requires root privileges) (RuntimeError)"}),B.jsx("p",{children:"Cool, what does that mean? After some searching I found a few references to the fact that too many shotgun processes are working at once or a port is already in use, something to that effect, and the new process is interfering with an old running process. More often than not it has to do with not closing out shotgun properly with Ctrl+C. A variety of solutions are presented to find the processes that are causing the problem within the terminal:"}),B.jsx("div",{className:"code-block-snippet",children:"$ ps"}),B.jsx("div",{className:"code-block-snippet",children:"$ ps ax | grep rails"}),B.jsx("div",{className:"code-block-snippet",children:"$ ps ax | grep thin"}),B.jsx("div",{className:"code-block-snippet",children:"$ ps ax | grep ruby"}),B.jsx("p",{children:"All of these return some type of numbers, the solution next to enter in the terminal:"}),B.jsx("div",{className:"code-block-snippet",children:"$ kill -9 #one of the numbers here"}),B.jsx("p",{children:"I ran into the problem a couple of times while working and found that the most relevant to my current setup was ps ax | grep ruby. Each time I got a list with 2 or 3 entries, different numbers some with question marks, those with question marks were the ones to use to solve the problem."}),B.jsx("p",{children:"Overall the project was an excellent way to solidify my understanding of sinatra, routes, CRUD, etc and help me to move on successfully to the next section, Rails. It may have taken some extra time, but to start working with linux and a local environment a little ahead of schedule I can already see will be a big help when I am ready to start working locally on the rails section, no more IDE crashes, among other things. I already also have become familiarized with some common errors working in my own environment, so I think the delay on the project to set up the environment will end up speeding me up in the end."}),B.jsx("a",{className:"anchors",href:"https://youtu.be/rlPety4CSeY",target:"_blank",rel:"noreferrer",children:"YouTube Demonstration"}),B.jsx("a",{className:"anchors",href:"https://github.com/Tsunamins/miami_rooftop_pools",target:"_blank",rel:"noreferrer",children:"GitHub Repo"})]}),date:"6/12/2019",tags:["Flatiron","Bootcamp","Sinatra","Ruby"],blogURL:"miami-rooftop-pools"},{title:"Bcrypt Mysteries",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"Sometimes, while working through my coursework on Flatiron School, I have a tendency to generalize topics, methods, dependencies etc., in order to keep moving along at a somewhat efficient pace. And such generalization is likely fine, most of the time. Using 'pry', for example, I don't need to go into lengthy detail as to how that works, so long as I use it successfully and figure out what is needed. If I'm rounding down in ruby I can call .floor on a variable and not worry over how it happened I can just rely on it, probably only useful in the future if I were to build my own rounding technique or function in the future, for fun or whatever reason."}),B.jsx("p",{children:"Bcrypt was another gem I generalized, to move forward, I knew the components and where they needed to be placed:"}),B.jsxs("ol",{className:"numbered-blog",children:[B.jsxs("li",{children:["Including the ",B.jsx("strong",{children:"gem 'bcrypt'"})," in the Gemfile",B.jsx("br",{}),"example:",B.jsx("br",{}),B.jsx("div",{className:"code-block-snippet",children:"gem 'bcrypt', '~> 3.1.7'"})]}),B.jsxs("li",{children:["Incorporating a string based attribute in the User table called “",B.jsx("strong",{children:"password_digest"}),"”",B.jsx("br",{}),"example:",B.jsx("br",{}),"within a migration file:",B.jsx("br",{}),B.jsx("div",{className:"code-block-snippet",children:'t.string "password_digest"'})]}),B.jsxs("li",{children:["Adding/calling the method ",B.jsx("strong",{children:"has_secure_password"})," within the User model",B.jsx("br",{}),"example:"]})]}),B.jsx("div",{className:"code-block-snippet",children:`class User < ActiveRecord::Base
    has_secure_password
end`}),B.jsx("ol",{className:"numbered-blog",start:4,children:B.jsxs("li",{children:["Using the method ",B.jsx("strong",{children:".authenticate()"})," in a sessions controller while checking the validity of the password in combination with the user’s username or other identifier",B.jsx("br",{}),"Example",B.jsx("br",{}),"In the ",B.jsx("span",{className:"inline-code-emphasis",children:"def create"})," of a sessions controller:",B.jsx("br",{}),B.jsx("div",{className:"code-block-large",children:"if @user && @user.authenticate(params[:user][:password])"})]})}),B.jsx("p",{className:"quote-block",children:B.jsx("em",{children:"What is happening behind all of these components? Bcrypt itself? passworddigest? hassecurepassword? .authenticate()?"})}),B.jsx("h3",{className:"core-subsection",children:"What is bcrypt doing in the first place?"}),B.jsx("p",{children:"According to the gem description:"}),B.jsx("blockquote",{className:"block-quote",children:B.jsxs("p",{children:["“bcrypt() is a sophisticated and secure hash algorithm designed by The OpenBSD project for hashing passwords. The bcrypt Ruby gem provides a simple wrapper for safely handling passwords” (",B.jsx("a",{className:"anchors",href:"https://rubygems.org/gems/bcrypt/versions/3.1.12",target:"_blank",rel:"noreferrer",children:"Bcrypt, Ruby Gem"}),")."]})}),B.jsx("p",{children:"That’s cool, but what is a hash algorithm?"}),B.jsx("blockquote",{className:"block-quote",children:B.jsxs("p",{children:[`“Hash algorithms take a chunk of data (e.g., your user's password) and create a "digital fingerprint," or hash, of it. Because this process is not reversible, there's no way to go from the hash back to the password”`,B.jsx("br",{}),"(",B.jsx("a",{className:"anchors",href:"https://github.com/codahale/bcrypt-ruby",target:"_blank",rel:"noreferrer",children:"Codahale Github, Bcrypt"}),")."]})}),B.jsx("p",{children:"Ok, that’s fine. But what does that mean? What is a hash of something in this context? How does one go from a ‘chunk of data’ to a ‘digital fingerprint?’"}),B.jsxs("p",{children:["The rest of that answer complexly comes from discrete mathematics and combinatorics, if one wants to dive in that far (I do but not in this blog). However, after some light reading, the process of hashing involves mapping (creating a relationship between objects), data of random size, to another object of a fixed size. The idea of these functions, or why they are advantageous to using within encryption, is that they are very difficult to reverse, the are considered “one-way functions” (",B.jsx("a",{className:"anchors",href:"https://en.wikipedia.org/wiki/Cryptographic_hash_function",target:"_blank",rel:"noreferrer",children:"Wiki Cryptographic Hash Function"}),")."]}),B.jsxs("p",{children:["So Bcrypt essentially uses a mathematical function called hashing to scramble up passwords, nearly irreversibly. There are several different types of hashing functions or techniques, mathematically speaking. Several are listed here: ",B.jsx("a",{className:"anchors",href:"https://en.wikipedia.org/wiki/Hash_function#Hashing_variable-length_data",target:"_blank",rel:"noreferrer",children:"Wiki Hash function"}),". In this context, it doesn’t always refer to security encryption, but is relevant, or at least interesting to me, to read about some of these processes, but a bit too much to go into for this blog purpose."]}),B.jsx("h3",{className:"core-subsection",children:"Why Password_digest?"}),B.jsxs("p",{children:[B.jsx("code",{className:"code-block",children:"password_digest"})," is a requirement specific to bcrypt, likely a word chosen from and whatever way the developers of bcrypt wanted to name the handling of password attributes. However, it is interesting that the output of mathematical hash functions can be referred to as: hash values, hashes, digests or message digests, among other (",B.jsx("a",{className:"anchors",href:"https://en.wikipedia.org/wiki/Cryptographic_hash_function",target:"_blank",rel:"noreferrer",children:"Wiki Cryptographic Hash Function"})," &",B.jsx("a",{className:"anchors",href:"https://en.wikipedia.org/wiki/Hash_function#Hashing_variable-length_data",target:"_blank",rel:"noreferrer",children:"Wiki Hashing Variable Length Data"}),") . Also noteworthy, according to the documentation it has to be ",B.jsx("code",{className:"inline-code-emphasis",children:"someword_digest"})," in terms of calling has_secure_password, as it is looking for _digest, in particular and is the topic of the next section (",B.jsx("a",{className:"anchors",href:"https://github.com/codahale/bcrypt-ruby",target:"_blank",rel:"noreferrer",children:"Github Ruby Bcrypt"}),")."]}),B.jsxs("h3",{className:"core-subsection",children:[B.jsx("code",{className:"inline-code-emphasis",children:"has_secure_password"}),", is it really that easy, is that all I have to do?"]}),B.jsxs("p",{children:["There was a reading on it describing it, linking to documentation about it, etc. However, to move forward, I generalized ",B.jsx("code",{className:"inline-code-emphasis",children:"has_secure_password"}),", and put it on the back burner as something I should just go with and place into a User model, accepted it and called it a day."]}),B.jsxs("p",{children:["Reading further on bcrypt's github page, I discovered that the initial way to incorporate bcrypt into ruby is described a bit more complexly than simply ",B.jsx("code",{className:"inline-code-emphasis",children:"has_secure_password"}),", for example:"]}),B.jsx("pre",{className:"code-block-large",children:`require 'bcrypt'

    class User < ActiveRecord::Base
        #users.password_hash in the database is a :string
        include BCrypt

        def password
            @password ||= Password.new(password_hash)
        end

        def password=(new_password)
            @password = Password.create(new_password)
            self.password_hash = @password
        end
    end`}),B.jsxs("p",{children:["-From: ",B.jsx("a",{className:"anchors",href:"https://github.com/codahale/bcrypt-ruby",target:"_blank",rel:"noreferrer",children:"Github Bcrypt"})]}),B.jsxs("p",{children:["Their documentation goes onto mention, however, that later versions of rails incorporate this process within",B.jsx("code",{className:"inline-code-emphasis",children:"ActiveModel::SecurePassword"}),", allowing usage of ",B.jsx("code",{className:"inline-code-emphasis",children:"has_secure_password"}),". Oh so that’s why, but how does that work exactly, what does it do?"]}),B.jsxs("p",{children:["The definition of ",B.jsx("code",{className:"inline-code-emphasis",children:"has_secure_password"}),", incorporates a great deal necessary for password handling, including active record validations for the usage of an attribute with digest and password length, as there are limitations to the byte size a password should be for this algorithm. I found it a great deal more interesting to view the source/definition of ",B.jsx("code",{className:"inline-code-emphasis",children:"has_secure_password"}),", maybe that should be obvious, but I don't always look:"]}),B.jsx("div",{className:"code-block-large",children:`#File activemodel/lib/active_model/secure_password.rb, line 61

def has_secure_password(attribute = :password, validations: true)
#Load bcrypt gem only when has_secure_password is used.
#This is to avoid ActiveModel (and by extension the entire framework)
#being dependent on a binary library.

    begin
        require "bcrypt"
    rescue LoadError
        $stderr.puts "You don't have bcrypt installed in your application. Please add it to your Gemfile and run bundle install"
        raise
    end

    include InstanceMethodsOnActivation.new(attribute)

    if validations
        include ActiveModel::Validations

        #This ensures the model has a password by checking whether the password_digest
        #is present, so that this works with both new and existing records. However,
        #when there is an error, the message is added to the password attribute instead
        #so that the error message will make sense to the end-user.

        validate do |record|
            record.errors.add(attribute, :blank) unless record.send("#attribute_digest").present?
        end

        validates_length_of attribute, maximum: ActiveModel::SecurePassword::MAX_PASSWORD_LENGTH_ALLOWED
        validates_confirmation_of attribute, allow_blank: true
    end
end`}),B.jsxs("p",{children:["-From: ",B.jsx("a",{className:"anchors",href:"https://api.rubyonrails.org/classes/ActiveModel/SecurePassword/ClassMethods.html#method-i-has_secure_password",target:"_blank",rel:"noreferrer",children:"Has Secure Password"})]}),B.jsx("h3",{className:"core-subsection",children:".authenticate"}),B.jsx("p",{children:"I never thought about .authenticate either, and I didn't suppose it was just mysteriously picked up by bcrypt, so looking at the documentation on .authenticate, I noticed it does get reference from the Bcrypt class:"}),B.jsx("p",{children:"Authenticating a session has one more reference to bcrypt, this built method also refers to bcrypt within its definition:"}),B.jsx("div",{className:"code-block-large",children:`#File activemodel/lib/active_model/secure_password.rb, line 96
def authenticate(unencrypted_password)
    BCrypt::Password.new(password_digest).is_password?(unencrypted_password) && self
end`}),B.jsxs("p",{children:["-From:",B.jsx("a",{className:"anchors",href:"https://apidock.com/rails/ActiveModel/SecurePassword/InstanceMethodsOnActivation/authenticate",target:"_blank",rel:"noreferrer",children:"Secure Password Instance Methods"})]})]}),date:"10/4/2019",tags:["Flatiron","Bootcamp","Bcrypt","Ruby","Ruby on Rails","Encryption","Authentication"],blogURL:"bcrypt-mysteries"},{title:"Prototype I: A Cat's Dream - JS/Rails Project",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"JavaScript was a little weird at first after spending so much time on Rails. Eventually it all became clearer, so that’s fine.  I equated it to how I usually think about thinking about my thoughts stemming from some other thought."}),B.jsx("p",{children:"Time for the project, a single page web application. I browsed the project examples and wasn’t sure what I would want to do, but my first thought was some type of game that moves a character around on the screen via keyboard controls and does something fetch-worthy."}),B.jsx("p",{children:"I started looking into javascript based games, hoping to “keep it simple” by just writing something from vanilla javascript. I started down a path of viewing and working with a variety of youTube tutorials, basically making mini game engines:"}),B.jsxs("blockquote",{className:"block-quote",children:[B.jsx("p",{children:B.jsx("a",{className:"anchors",href:"https://www.youtube.com/channel/UCzQvgRgjjxhzEORvefubDPw",target:"_blank",rel:"noreferrer",children:"JavaScript Teacher"})}),B.jsx("p",{children:B.jsx("a",{className:"anchors",href:"https://www.youtube.com/channel/UCHpHBzk4fz3oeQ31hmCreGg",target:"_blank",rel:"noreferrer",children:"Technologies4me"})}),B.jsx("p",{children:B.jsx("a",{className:"anchors",href:"https://www.youtube.com/channel/UCdS3ojA8RL8t1r18Gj1cl6w",target:"_blank",rel:"noreferrer",children:"PothOnProgramming"})})]}),B.jsxs("div",{className:"",children:[B.jsxs("figure",{className:"figure-image",children:[B.jsx("img",{className:"accent-image-right",src:"/blog/pinktilesheet-1.png",alt:"fauxtel logo"}),B.jsx("figcaption",{className:"caption",children:"The Tilemap Result"})]}),B.jsx("p",{children:"During these tutorials, I discovered the process of converting a png image into a tile map based on parsing array values into pixel based coordinates of the png image. I discovered the use of Tiled to make a tile map with a little more ease, rather than typing in the array values needed, manually. Along with this I found a lot of details about animating images based on sprite sheets with different character positions. I found an excellent tutorial on the use of the program Tiled as well"})]}),B.jsx("blockquote",{className:"block-quote",children:B.jsx("p",{children:B.jsx("a",{className:"anchors",href:"https://www.youtube.com/channel/UCr-5TdGkKszdbboXXsFZJTQ",target:"_blank",rel:"noreferrer",children:"GamesFromScratch"})})}),B.jsx("p",{children:`However, all tutorials were extremely interesting and amazingly detailed, it certainly wasn't "keeping things simple."`}),B.jsx("p",{children:"It was wonderful to learn how to work with computer language to get positions of the mouse, keys, input, tile types and set up collision and I wanted to go through and understand all of them thoroughly, however, I worried over the time it would take me to custom make my own version of these games. The Tiled tutorials brought my attention to Phaser, a game engine built in javascript, and I was reluctant to try it right away to the point I spent some days brainstorming other ideas for fear of this whole tile game idea was going to take me too long and turn out to be a bad idea."}),B.jsx("p",{children:"I eventually went onto Phaser’s website"}),B.jsx("blockquote",{className:"block-quote",children:B.jsx("p",{children:B.jsx("a",{className:"anchors",href:"https://phaser.io/",target:"_blank",rel:"noreferrer",children:"Phaser"})})}),B.jsx("p",{children:"They have a great introduction to their engine on their website including a very simple tutorial on how to make a first game. I got through the tutorial in a couple hours with a pretty much fully functional mini game."}),B.jsx("p",{children:"Phaser already has collisions, overlaps, camera settings, scene settings, gravity attributes, colors, text setting, position getting/setting of every game component and a library of nearly every type of game need, organized and ready to go, and if you need something else you can add a custom class of whatever you feel like. Additionally, they have a great deal of user contributed tutorials and examples to get more ideas or see how something can work, an amazing documentation site and links to many other resources. Once I got the hang of Phaser as well, it was extremely easy to figure out how to manipulate my own objects and game elements by console.log(ing) the game element in question and having a look at its lengthy list of attributes, very intuitive from there on."}),B.jsxs("p",{children:["I discovered other game making resources, free to use game art, for example, from",B.jsx("a",{className:"anchors",href:"https://opengameart.org/",target:"_blank",rel:"noreferrer",children:"Open Game Art"}),".",B.jsx("br",{}),"However, I couldn’t help but want to make my own art, got a little stuck on what my game art theme and game may even be, so, while working through various phaser tutorials I started attempting my own game art, primarily on ",B.jsx("a",{className:"anchors",href:"https://www.pixilart.com/draw#",target:"_blank",rel:"noreferrer",children:"PixilArt"}),B.jsx("br",{}),"I eventually decided to use a random image I drew with Krita drawing software, a pink night sky with silhouetted black grass and trees as sort of a game’s title scene or landing page and figured to make game art based on this image, thus I came up with my game art theme. I made my animation frames for the player, enemy and an item to collect all on pixilart.com."]}),B.jsx("p",{children:"Many of these ideas and possibilities of integration came from the very first phaser tutorial showing player movement based on keyboard input, collision detection and player animation. Previously, with vanilla javascript I was ready to settle for a player with no animation that perhaps moved around and collected something on boring map and did nothing else."}),B.jsxs("p",{children:["Working through further Phaser tutorials with ",B.jsx("a",{className:"anchors",href:"https://academy.zenva.com/",target:"_blank",rel:"noreferrer",children:"Zenva"}),B.jsx("br",{}),"I found a great deal of tilemap based games with a great deal of examples of different elements to add to a game and different playing styles. I had planned to add a few more such as NPC’s and different scene or level transitions, but in the interest of time I left it to one, at least for now."]}),B.jsx("p",{children:"I’m not sure what I would have come up with had I decided to keep this project simple and do enough just to meet the requirements, but I’m glad I ventured into some processes of game making in collaboration with web development."}),B.jsx("a",{className:"anchors",href:"https://youtu.be/MamqFgSoqq8",target:"_blank",rel:"noreferrer",children:"YouTube Demonstration"}),B.jsx("a",{className:"anchors",href:"https://github.com/Tsunamins/a-cats-dream",target:"_blank",rel:"noreferrer",children:"GitHub"})]}),date:"1/4/2020",tags:["Flatiron","Bootcamp","JavaScript","Ruby","Ruby on Rails","DOM","Vanilla JS","Phaser"],blogURL:"a-cats-dream"},{title:"Fauxtel Hotels - The Final Project",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"When I first started my bootcamp I wanted to be done in 4 months or so. Since then, I’ve had a million soul draining restaurant shifts, two moves to new apartments, a handful of car troubles, financial worry over my restaurant based income, a viral pandemic and economic lockdown coupled with more anxious thoughts on financial stability. Four months came and went fast, considering, but finally the final project is ready."}),B.jsxs("p",{children:["The Project:",B.jsx("br",{}),"I had a few different ideas for a final, but ended up deciding on something I thought was interesting, a hotel brand’s single page application. Hotel brand websites often don’t do justice to the ease and convenience of booking everything all in one place, such as on websites like kayak.com."]}),B.jsx("p",{children:"I had a million ideas for how I could address pain points of a hotel brands website with a single page web application and the use of React."}),B.jsx("p",{children:"I ended up with a project, for the respect of time and moving forward, that is a good start to a hotel brand’s booking app, and could easily be expanded and improved upon, with time, which I plan to do, of course."}),B.jsxs("div",{className:"",children:[B.jsx("img",{className:"accent-image-right",src:"/blog/fauxtellogo2.png",alt:"fauxtel logo"}),B.jsx("p",{children:"It works, meets requirements and probably goes a little beyond."}),B.jsx("p",{children:"For this blog I think I’m going to just do a simple listing of things accomplished or features used:"}),B.jsxs("p",{children:[B.jsx("strong",{children:B.jsx("a",{className:"anchors",href:"https://www.npmjs.com/package/react-day-picker",target:"_blank",rel:"noreferrer",children:"React-day-picker:"})})," ",B.jsx("br",{}),"What seems most popular is the integration of a calendar view with user selected dates or date ranges is airbnb’s react-dates npm package. And yeah it’s fine. I tried 4 different calendar view packages in a separate program to see which one I liked working with best. Another reason my project took so long, more than likely! I ended up choosing, what I think part of react-dates uses actually is react-day-picker. I came across this while browsing hotel websites to see what they used, or to see if I found any calendar integration that I favored, on ",B.jsx("a",{className:"anchors",href:"https://www.loewshotels.com/",target:"_blank",rel:"noreferrer",children:"Loews Hotels"}),". The understanding of how to style this calendar, enable the user to select a date range and, set dates disabled, I happened to find a little more straightforward to use. Also with easy access and I plan to integrate it eventually, is the ability to add data to each calendar day. The original Loew’s hotel calendar I stumbled upon had prices and hotel availability embedded into the calendar view itself, fancy! I think, not sure, due to hotel closures those date previews have been removed for the time being."]})]}),B.jsxs("p",{children:[B.jsx("strong",{children:B.jsx("a",{className:"anchors",href:"https://guides.rubyonrails.org/action_mailer_basics.html",target:"_blank",rel:"noreferrer",children:"Action Mailer:"})})," ",B.jsx("br",{}),"Action Mailer, is a good time. A little tricky to get setup so you can see that you have actually sent out an email, once all the settings are correct, it is easily integrated into other actions in the controllers. It was a lot of fun after sitting at my computer for hours seeing an email that came from my localhost:3000. Currently, I have it set up to send an email on registration of a user and on new reservation. Plan to do more of course and go further to style the emails. Overall, I thought it was a quick and easy tool to enhance a project; perhaps also a good learning experience when integrating mailer’s from other backend technologies."]}),B.jsxs("p",{children:[B.jsx("strong",{children:"JWT web tokens:"}),B.jsx("br",{}),"I actually had wanted to do something like this for my javascript/rails project, but didn’t bother since it wasn’t required. Researching and deciding on which method of authentication/authorization to use for a single page web app: tokens, sessions, some other 3rd party integration like firebase or OAuth, was strenuous and probably added a few weeks of time to my project. Found lots of examples, some using redux but were a little disorganized, some using OAuth but a little tricky to understand as a first time integration. Also found lots of debates and articles and user comments on the downfalls of security in using tokens and the downfalls of using sessions instead. I ended up latching onto some of the videos in Learn Instruct on how to go about auth-ing and went with JWT tokens stored in localstorage. These videos were from globetrotter and react based authentication videos from Howard’s recorded lectures just to give at least semi-formal reference and acknowledgement. I understand the security implications and if I were to do a hotel web app for a company, I would look into the most secure measures, however, the thing I just wanted to do was understand the process of token based authentication and the basic use of jwt. Later, I plan to incorporate the session version back into my previous javascript/rails project, for the same purpose and reasoning and, as I move on, I’ll look into some 3rd party integration."]}),B.jsx("p",{children:"Might be missing other integrations here and there is overall, a great deal more I wanted to incorporate, which I probably will in the near future. In particular, my plans are to generate reservation codes via a gem available for rails and allow a user to make a reservation without logging in. I have an interest in incorporating a payment system, airline fares or at least trends and perhaps the “local” weather. Also wanted to dabble more in React native and would like to do a small mobile app as a companion to this web app that perhaps allows mobile check in and, in theory, door unlocking. So perhaps these are enhancements to accomplish in the near future!"}),B.jsx("a",{className:"anchors",href:"https://www.youtube.com/G4u_KgDfBYI",target:"_blank",rel:"noreferrer",children:"YouTube Demonstration"}),B.jsx("a",{className:"anchors",href:"https://github.com/Tsunamins/FauxtelHotels",target:"_blank",rel:"noreferrer",children:"GitHub Repo"})]}),date:"5/23/2020",tags:["Flatiron","Bootcamp","JavaScript","Ruby","Ruby on Rails","DOM","React","Redux","Final Project"],blogURL:"fauxtel-hotels"},{title:"Blog Inspiration, Interview Prep Warm-ups",content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsxs("div",{className:"",children:[B.jsx("img",{className:"accent-image-right",src:"/blog/keyboard.png",alt:"backlit keyboard"}),B.jsxs("p",{className:"",children:["I found I didn't get as much practice as I would have liked in my bootcamp like the coding exercises found on ",B.jsx("em",{children:B.jsx("a",{className:"anchors",href:"https://marketing.hackerrank.com/",target:"_blank",rel:"noreferrer",children:"Hacker Rank"})})," and ",B.jsx("em",{children:B.jsx("a",{className:"anchors",href:"https://www.codewars.com/",target:"_blank",rel:"noreferrer",children:"Codewars"})})," during the length of my self-paced bootcamp. The work-school game, plus labs and projects hanging over my head, often left me with a lack of dedicated time, or semantically, anxiety of time dedication. However, now that I am graduated, I have more time!  Coding exercise can be fun again, and a necessary step in light of potential, upcoming interviews."]})]}),B.jsxs("p",{children:["I dabbled in Hacker Rank's ",B.jsx("em",{children:"10 Days of JavaScript"})," and then moved onto",B.jsx("em",{children:" Interview Prep"}),", starting with the",B.jsx("em",{children:B.jsx("a",{className:"anchors",href:"https://www.hackerrank.com/interview/interview-preparation-kit/warmup/challenges",target:"_blank",rel:"noreferrer",children:" Warm-Up Challenges"})}),". So I thought I would highlight any setbacks, key points, maybe some initial thinking vs. finalized thinking, etc.  I suppose my plan with these types of posts will be to go in and occasionally optimize code or add more content to the process here, something like that!"]}),B.jsx("h3",{className:"core-subsection",children:B.jsx("a",{className:"anchors",href:"https://www.hackerrank.com/challenges/sock-merchant/problem?h_l=interview&playlist_slugs%5B%5D=interview-preparation-kit&playlist_slugs%5B%5D=warmup",target:"_blank",rel:"noreferrer",children:"Sock Merchant"})}),B.jsx("p",{children:"See the full description by visiting the link above in the section header.  In summary, the problem presents a pile of socks, unmatched, and numbers representing colors provided in the form of an array.  The idea is to find how many pairs of matching socks are in the array.  The exercise also provides the total number of socks in the pile."}),B.jsx("h3",{className:"core-subsection",children:"This one was pretty straightforward, my initial thoughts were:"}),B.jsxs("ul",{className:"ul-squares",children:[B.jsx("li",{className:"li-squares",children:"I'll need to provide some count of each sock color/number"}),B.jsx("li",{className:"li-squares",children:"Once I have that number I'll need to divide by 2 and subsequently round down"}),B.jsx("li",{className:"li-squares",children:"I'll need to isolate each color type"})]}),B.jsx("h3",{className:"core-subsection",children:"What I used..."}),B.jsxs("p",{children:["Isolate each color type, by filtering unique numbers with ",B.jsx("strong",{children:"Set"}),":"]}),B.jsx("div",{className:"code-block-snippet",children:"let unique = [...new Set(ar)]"}),B.jsxs("p",{children:["Count occurrence of each unique sock color with ",B.jsx("strong",{children:"reducer"}),":"]}),B.jsx("div",{className:"code-block-large",children:"(array, number) => array.reduce((acc, val) => (val === number ? acc + 1 : acc), 0);"}),B.jsxs("p",{children:["Add the reducer to a ",B.jsx("strong",{children:"for loop"}),", passing in the iterated unique socks array:"]}),B.jsx("div",{className:"code-block-large",children:`for (let i = 0; i < unique.length; i++) {
    let count = (countUnique(ar, unique[i]))
}`}),B.jsxs("p",{children:["Round down  unique sock count divided by 2, in case of an odd number with ",B.jsx("strong",{children:"Math.floor()"})]}),B.jsx("pre",{className:"pre-block",children:B.jsx("code",{className:"code-block",children:"let detMatchQty = Math.floor(count/2)"})}),B.jsx("p",{children:"Cool! I have matching socks, unlike my sock drawer!"}),B.jsx("p",{children:"Full code if a reader might like:"}),B.jsx("div",{className:"code-block-large",children:`function sockMerchant(n, ar) {
    let matchCount = 0
    let unique = [...new Set(ar)]
    for(let i = 0; < unique.length; i++){
        let count = (countUnique(ar, unique[i]))
        if(count > 1){
            let detMatchQty = Math.floor(count/2)
            matchCount = matchCount + detMatchQty
        }
    }
    return matchCount
}

const countUnique = (array, number) =>; 
array.reduce((acc, val) =>; 
(val === number ? acc + 1 : acc), 0);`}),B.jsx("h3",{className:"core-subsection",children:B.jsx("a",{className:"anchors",href:"https://www.hackerrank.com/challenges/counting-valleys/problem?h_l=interview&playlist_slugs%5B%5D=interview-preparation-kit&playlist_slugs%5B%5D=warmup",target:"_blank",rel:"noreferrer",children:"Counting Valleys"})}),B.jsx("p",{children:'The exercise presents the idea of creating a hiking tracker, so not just amount of steps during a hike but the type of step in terms of it being uphill or downhill.  The challenge gives a string of letters, denoting the journey, indicating "U" or "D" for the type of step taken.  The rules, thankfully, state a hike will always begin and end at sea level and the goal of the exercise is to determine the amount of valleys entered and exited.'}),B.jsx("h3",{className:"core-subsection",children:"Initial thoughts..."}),B.jsxs("ul",{className:"ul-squares",children:[B.jsx("li",{className:"li-squares",children:"Will probably want to use an array instead of a string"}),B.jsx("li",{className:"li-squares",children:"Something seemed like I would need to keep track of the reference to sea level"}),B.jsx("li",{className:"li-squares",children:"I would probably need a separate array to track and identify elevation"}),B.jsx("li",{className:"li-squares",children:"I may need something to identify being above or below sea level"}),B.jsx("li",{className:"li-squares",children:"Maybe some logic after this to demonstrate entering into a valley based on these ideas of elevation, altitude, sea level, etc."})]}),B.jsx("p",{children:"With this exercise, I got the idea well, but had a million notes and a million ideas of things I would need, kind of like the above notes.  I also got caught up in some worry over what if it doesn't go back up to where it came from in the data given is that considered an exit from a valley?  Oops, forgot what the instructions said, hikes given will begin and end at sea level."}),B.jsx("h3",{className:"core-subsection",children:"What I used..."}),B.jsx("p",{children:"Most important things to address, in the end, was, yes, keeping track of altitude in some way, (I didn't need all the ways I was originally thinking), but also establishing a distinction of what it means to at least enter a valley or exit a valley."}),B.jsxs("p",{children:["I kept a working reference to number of times a valley was entered, to be incremented, tracked altitude to be modified based on movement in the array steps, also ended up going with splitting the string into an array with",B.jsx("strong",{children:" .split()"}),":"]}),B.jsxs("div",{className:"code-block-snippet",children:["let enteredValley = 0;",B.jsx("br",{}),"let altitude = 0;",B.jsx("br",{}),'let steps = s.split("");']}),B.jsx("p",{children:"I used a helper function to track altitude:"}),B.jsx("div",{className:"code-block-large",children:`function handleAltitude(step, alt){
    if(step === "D"){
        alt--
    } else {
        alt++
    }
    return alt++
}`}),B.jsxs("p",{children:["Then I tracked the steps in a ",B.jsx("strong",{children:"for loop"}),` incrementing 'enteredValley' when altitude was at 0 && the next step === "D"`]}),B.jsx("div",{className:"code-block-large",children:`for (let i = 0; i < steps.length; i++){
    if (altitude === 0 && steps[i] === "D"){
        enteredValley++
    }
}`}),B.jsx("p",{children:"And...eventually, I tracked some valley hiking!"}),B.jsx("div",{className:"code-block-large",children:`function countingValleys(n, s) {
    let enteredValley = 0
    let altitude = 0
    let steps = s.split("");
            
    for (let i = 0; i < steps.length; i++){
        if (altitude === 0 && steps[i] === "D"){
            enteredValley++
        }
        altitude = handleAltitude(steps[i], altitude)
    }
    return enteredValley
}

function handleAltitude(step, alt){
    if (step === "D"){
        alt--
    } else {
        alt++
    }
    return alt++
}`}),B.jsx("h3",{className:"core-subsection",children:B.jsx("a",{className:"anchors",href:"https://www.hackerrank.com/challenges/repeated-string/problem?h_l=interview&playlist_slugs%5B%5D=interview-preparation-kit&playlist_slugs%5B%5D=warmup",target:"_blank",rel:"noreferrer",children:"Repeated String"})}),B.jsx("p",{children:"In repeated string, a number is given (i.e. n = 15), along with a string of characters, always including at least one a (i.e. 'acdca').  The goal is to find, as this string repeats infinitely (i.e. 'acdcaacdcaacdcaacdcaacdca....'), the umber of a's within the first n characters (i.e. the amount of a's occurring within the first 15 characters of the, above repeated string, in this case that would be 6 a's)."}),B.jsx("h3",{className:"core-subsection",children:"My initial thoughts..."}),B.jsxs("ul",{className:"ul-squares",children:[B.jsx("li",{className:"li-squares",children:"The string is to be extended at least to mock in finitely for the needed character quantity so I'll probably need . concat()"}),B.jsx("li",{className:"li-squares",children:"It involves finding occurrences, maybe it will be better to .split() and .join() at times"}),B.jsx("li",{className:"li-squares",children:"could use a regex"}),B.jsx("li",{className:"li-squares",children:"maybe some reducing"}),B.jsx("li",{className:"li-squares",children:"ohhhh, but wait, this problem offers the possibility of the string going up to 100 characters and n with the possibility of equaling up to 10^12, so scratch concat(ing), I'm sure HackerRank's tests don't have all day to see if I'm right"}),B.jsx("li",{children:"Also, some quick match should demonstrate how many a's would occur.  The given string is 5 letters and contains 2 a's, n = 15; with string.length, some regex to count a's, followed by some math basics: 15/5 = 3, 3 *2 = 6; that should help me solve"})]}),B.jsx("h3",{className:"core-subsection",children:"next..."}),B.jsx("p",{children:"In my first attempt, I was correct, dividing n by the string length and multiplying by the a count in the initial string passed a lot of tests.  However, many other tests failed, oops!  I had only been considering where n % string.length === 0 (where it divides evenly, with no remainder, just in case).  Oh of course, nothing said they were going to give me evenly divisible data.  I came up with a mini example to explain to myself what was needed next:"}),B.jsx("p",{children:"Take n = 10 and string = 'aba', if this string were to be considered infinitely, or at least, in this case, repeated to cover 10 characters, I would have 'abaabaabaaba...'.  At 10/3, I have 3.3333, rounded down to 3, I have 6 a's + some overflow into the next 'aba' set."}),B.jsx("p",{children:"abaabaaba | aba     So, I've worked with 9/10 characters, I need to consider, 10 - 9 = 1 more character.  So I need abaabaaba + a, in this case.  So I need the sub-string to position 1 of the next string set 'a', had the string been 'aaba', I would have gotten to 8/10 characters and need the sub-string up to position '2' of the next set, etc."}),B.jsx("h3",{className:"core-subsection",children:"What I Used"}),B.jsx("p",{children:"I counted the a's in the given string with .match(regex) and .length"}),B.jsx("div",{className:"code-block-large",children:"const a_Count = (s.match(/a/g)||[]).length"}),B.jsx("p",{children:"Used an if/else to go ahead and calculate if n % string.length === 0 and called the following external function, calculateA() if it was:"}),B.jsx("pre",{className:"pre-block code-block jsx",children:`function calculateA(n, sLength, a_Count){
    const stringRepeat = Math.floor(n / sLength) 
    return a_Count * stringRepeat
}`}),B.jsx("p",{children:"To tackle when n % string.length !== 0, first rounded down the division, multiplied by string.length (here defined it as sLength) and subtracted that from n, to find how many characters into the next string set would be needed, keeping it in the variable leftOver:"}),B.jsxs("div",{className:"code-block-large",children:["const roundRepeat = Math.floor(n / sLength) ",B.jsx("br",{}),"const leftOver = n - (roundRepeat * sLength)"]}),B.jsx("p",{children:"I then used .slice(start, end), to cut string segment to the needed portion and followed up with another regex/match to count the a's within the new string:"}),B.jsxs("div",{className:"code-block-large",children:["const addPortion = s.slice(0, leftOver)",B.jsx("br",{}),"const additionalAs = (addPortion.match(/a/g)||[]).length"]}),B.jsx("p",{children:"Then called stored the returned value of calculateA() in a variable, followed by adding the amount of additional As to the answer:"}),B.jsxs("div",{className:"code-block-large",children:["let roundedAnswer = calculateA(n, sLength, a_Count)",B.jsx("br",{}),"answer = additionalAs + roundedAnswer"]}),B.jsx("p",{children:"So that, is, my version of this exercise and the whole code below:"}),B.jsx("div",{className:"code-block-large",children:`function repeatedString(s, n) {
    let answer;
    const sLength = s.length
    const a_Count = (s.match(/a/g)||[]).length
            
    if(n % sLength === 0){
        answer = calculateA(n, sLength, a_Count)
    } else {
        const roundRepeat = Math.floor(n / sLength)
        const leftOver = n - (roundRepeat * sLength)
        const addPortion = s.slice(0, leftOver)
        const additionalAs = (addPortion.match(/a/g)||[]).length
        let roundedAnswer = calculateA(n, sLength, a_Count)
        answer = additionalAs + roundedAnswer
    }
    return answer
}

function calculateA(n, sLength, a_Count){
    const stringRepeat = Math.floor(n / sLength)
    return a_Count * stringRepeat
}`}),B.jsx("h3",{className:"core-subsection",children:B.jsx("a",{className:"anchors",href:"https://www.hackerrank.com/challenges/jumping-on-the-clouds/problem?h_l=interview&playlist_slugs%5B%5D=interview-preparation-kit&playlist_slugs%5B%5D=warmup",target:"_blank",rel:"noreferrer",children:"Jumping on Clouds"})}),B.jsx("p",{children:"This problem, gives an array of 0's and 1's, the idea is the 0's are safe clouds to jump on, while the 1's are not safe to jump on.  The array always starts and ends with 0 and 1's always have a 0 immediately before or after themselves. Given an array as the example highlights: c=[0, 1, 0, 0, 0, 1, 0], the idea would be to avoid jumping onto indices 1 and 5. The current cloud number a player is on, is the current element number, a player can then jump to clouds that equal the current cloud number plus 1 or 2, whichever would be more helpful in that move.  Player starts at cloud 0, for example, has the choice of jumping to cloud with a number of 0 + 1 or 0 + 2, for the first jump the player must jump 0 + 2 to skip 1."}),B.jsx("h3",{className:"core-subsection",children:"My initial thoughts..."}),B.jsx("p",{children:`My initial thoughts were that, before I iterate through arrays and establish positions and jumps and path's 1 vs. 2 and all I anticipated, shouldn't I be able to apply some math principle to always get to the right number? Well I don't know, I sort of figured that out, there is a pattern regarding how many 0's and how many jumps might take place, but the 1's and the variation of their placement, weren't becoming a clear pattern. So...besides that I thought I may need to have a function to calculate the player cloud number plus options 1 or 2.  I thought I might need to go to the trouble of defining whether a move was possible or not. I thought I might need to compare one path to another, which seemed excessive.  I thought I might need to keep track of the "player position."  I thought I might need to keep track of what happens in array iteration at and the next potential values in iteration at array[i] and array[i + 1] and if array[i+1] be the better result, then to go with that from an if statement  In the end I spend a lot of time on this one, got some things to pass with my first answer, but not enough of them to pass.`}),B.jsx("p",{children:"I was sort of on the right track, but after some review of the discussions I realized: 1) I had worked on problems too long that day. 2) I wasn't considering the right + 1 or + 2 moves during the correct iteration. 3) Player position was something to keep track of, but better to do so relative to iteration. 4) The total number of jumps could simply just be incremented based on checking for the availability of a +2 jump before a +1 jump. That would end up reflecting the minimum number of jumps."}),B.jsx("h3",{className:"core-subsection",children:"What I used:"}),B.jsx("p",{children:"I set a jumps and position variable to 0 outside the loops:"}),B.jsxs("div",{className:"code-block-snippet",children:["let jumps = 0;",B.jsx("br",{}),"let position = 0;"]}),B.jsxs("p",{children:["I used a ",B.jsx("strong",{children:"while loop"})," that set iteration condition based on the changing position:"]}),B.jsx("div",{className:"code-block-snippet",children:"while (position < c.length - 1) {"}),B.jsx("p",{children:"I checked for the ability to change position with a jump of 2 first, and if not a jump of 1, during each logic check, I incremented a jump by 1, and thus the rest of the code.  Break keyword I don't think is actually necessary, but in the discussions many used continue or break, so I thought I'd give it a try:"}),B.jsx("div",{className:"code-block-large",children:`function jumpingOnClouds(c) {
    let jumps = 0;
    let position = 0;
    while (position < c.length - 1) {
        if (c[position + 2] == 0) {
            position = position + 2;
            jumps++;
        } else if (c[position + 1] == 0) {
            position = position + 1;
            jumps++;
        } else {
            break;
        }
    }
    return jumps;
}`}),B.jsx("p",{children:"So, that, was interview warm-ups!"})]}),date:"6/20/2020",tags:["JavaScript","practice"],blogURL:"interview-prep-warmups"},{title:"Rails Project, Amateur Wine Reviewer: some reference points",date:"9/6/2019",blogURL:"rails-amateur-wine",tags:["Ruby on Rails","Flatiron School","CRUD","REST","MVC","Bcrypt","SSO","Google Sign In","Auths"],content:B.jsxs("div",{className:"blog-content-read-wrapper",children:[B.jsx("p",{children:"Rails added some excitement and dynamic features to the developer learning process. It was also a long 4 weeks worth of work. So for this blog about this post I’m going to make a sheet of references for frequently forgotten or frequently used code snippets, terminal commands and any other relevant items of interest; I will explain their importance where applicable."}),B.jsx("h3",{className:"core-subsection",children:"Generating a new skeleton of a Rails app, still frequently forgotten for now:"}),B.jsx("div",{className:"code-block-snippet",children:"rails new <filename-here>"}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"Why it’s important: creates nearly all the file structure necessary within the rails app, includes most needed gems and dependencies, and allows easy inclusion for reference to images and css sheets, among others."})}),B.jsx("h3",{className:"core-subsection",children:"Git local directory vs. rails command to build a new application:"}),B.jsx("p",{children:"It was tricky to get my local environment file structure on the same page after git cloning my repository down but also initiating a new rails app, tried restarting the process several times to consistently end up with a project folder within a project folder."}),B.jsx("p",{children:B.jsx("strong",{children:"My solution, instead of re-starting a new directory and new rails app:"})}),B.jsxs("ol",{className:"numbered-blog",children:[B.jsx("li",{children:"Moved the files in the file explorer up one directory"}),B.jsx("li",{children:"git Commit command"})]}),B.jsx("div",{className:"code-block-snippet",children:"git commit - m “message here”"}),B.jsxs("ol",{className:"numbered-blog",start:3,children:[B.jsx("li",{children:B.jsx("em",{children:"Error message: untracked files"})}),B.jsxs("li",{children:["Git track files/add files command ",B.jsx("br",{}),B.jsx("div",{className:"code-block-snippet",children:"git add <filename>/"}),B.jsx("br",{}),"(In this case I added all the files listed as untracked, individually)"]})]}),B.jsx("ol",{className:"numbered-blog",start:5,children:B.jsx("li",{children:"All the files were in the same directory now, in both local and remote environments. One last push:"})}),B.jsx("div",{className:"code-block-snippet",children:"git push -u origin master"}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"Push all the changes to the master branch that have been tracked/staged/committed/etc"})}),B.jsx("h3",{className:"core-subsection",children:"Frequently used, and finally not too frequently forgotten"}),B.jsx("div",{className:"code-block-snippet",children:"rake db:migrate"}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"run migrations on all the migrate files recently created"})}),B.jsx("div",{className:"code-block-snippet",children:"rake routes"}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"find all available routes as are currently defined in config/routes.rb"})}),B.jsx("h3",{className:"core-subsection",children:"Links and redirects within rails"}),B.jsx("div",{className:"code-block-snippet",children:"redirect_to <some_named_path>(optional variable depending)"}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"If the path has an :id, then a variable will need to be placed as a parameter"})}),B.jsx("div",{className:"code-block-snippet",children:"<%= link_to “What you want the link to say”, <some_named_path>(variable depending) %>"}),B.jsxs("p",{children:["Variation",B.jsx("br",{}),"If the link needs to say what’s stored in a variable:"]}),B.jsx("div",{className:"code-block-snippet",children:"<%= link_to post.title, <some_named_path>(variable depending) %>"}),B.jsx("h3",{className:"core-subsection",children:"Various Migrations"}),B.jsxs("p",{children:[B.jsx("strong",{children:"Basic table creations: with a variety of types"}),B.jsx("br",{}),"Within -class CreateTableName < ActiveRecord::Migration[5.2]"]}),B.jsx("div",{className:"code-block-large",children:`def change
    create_table :table_name do |t|
        t.string :name
        t.string :password_digest
        t.date :today 
        t.boolean :yes-or-no 
        t.integer :quantity 
        t.belongs_to :user, index: true, foreign_key: true
        t.references :favorited, polymorphic: true, index: true
    end
end`}),B.jsx("p",{children:B.jsx("strong",{children:"Table additions, subractions and changes, within def change:"})}),B.jsx("p",{children:"Drop table:"}),B.jsx("div",{className:"code-block-snippet",children:"drop_table :table_name"}),B.jsx("p",{children:"Add column:"}),B.jsx("div",{className:"code-block-snippet",children:"add_column :table_name, :column_name, :column_type"}),B.jsx("p",{children:"Delete column:"}),B.jsx("div",{className:"code-block-snippet",children:"remove_column :table_name, :column_name"}),B.jsx("p",{children:"Change column type:"}),B.jsx("div",{className:"code-block-snippet",children:"change_column :table_name, :column_name, :new_type"}),B.jsx("h3",{className:"core-subsection",children:"Explanation of Associations, as it applies to my project, * The Amateur Wine Reviewer *"}),B.jsxs("p",{children:["4 models were needed to ensure I was covering all the requirements, or so I thought, as I went along checking them off. The models are",B.jsx("div",{className:"code-block-snippet",children:"wine"}),B.jsx("div",{className:"code-block-snippet",children:"review"}),B.jsx("div",{className:"code-block-snippet",children:"user"}),B.jsx("div",{className:"code-block-snippet",children:"liked_review"}),B.jsx("div",{className:"code-block-snippet",children:"liked_review"}),"was added last in case review to user to wine was not sufficient enough for 2 of the requirements for the project",B.jsx("br",{}),B.jsxs("em",{children:["I adapted this example from the following resource on stackoverflow:",B.jsx("a",{className:"anchors",href:"https://stackoverflow.com/questions/13240109/implement-add-to-favorites-in-rails-3-4",target:"_blank",rel:"noreferrer",children:"Stackoverflow: Add Favorites Rails"})]})]}),B.jsx("div",{className:"code-block-large",children:`in: class User

has_many :reviews    
has_many :wines, through: :reviews  
has_many :liked_reviews
has_many :likes, through: :liked_reviews, source: :review
                `}),B.jsx("div",{className:"code-block-large",children:`in: class LikedReview

belongs_to :user
belongs_to :review`}),B.jsx("div",{className:"code-block-large",children:`in: class Review

belongs_to :user
belongs_to :wine 
has_many :liked_reviews
has_many :liked_by, through: :liked_reviews, source: :user`}),B.jsx("div",{className:"code-block-large",children:`in: class Wine

has_many :reviews  
has_many :users, through: :reviews`}),B.jsxs("p",{children:["I knew I had enough nearly enough association requirements met between",B.jsx("span",{className:"inline-code-emphasis",children:"User"}),",",B.jsx("span",{className:"inline-code-emphasis",children:"Wine"})," and",B.jsx("span",{className:"inline-code-emphasis",children:"Review"}),", however, I wasn’t sure about user submittable attributes so I added in the dynamic source based associations with ",B.jsx("span",{className:"code-block-snippet",children:"LikedReview"}),", this allowed to change the tense of the has_many through the liked_reviews to allow a differentiation in chaining against users vs. reviews themselves, all via the opposite source."]}),B.jsxs("p",{children:[B.jsx("strong",{children:"This required a couple other modifications"}),B.jsx("br",{}),"Instead of a",B.jsx("div",{className:"code-block-snippet",children:"LikedReviews controller"}),B.jsx("div",{className:"code-block-snippet",children:"#like"})," was added to the",B.jsx("div",{className:"code-block-snippet",children:"ReviewsController"})," as its own method:"]}),B.jsx("div",{className:"code-block-large",children:`def like
    @review = Review.find(params[:id])
    type = params[:type]
    if type == "like"

        current_user.likes <<; @review
        redirect_to like_review_path(current_user)

    elsif type == "unlike"
        current_user.likes.delete(@review)          
    end
end`}),B.jsx("p",{children:"**Additionally a new nested path was built specifying additional routes: **"}),B.jsx("div",{className:"code-block-large",children:`resources :reviews do
    put :like, on: :member
    get :like, on: :member
end`}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"This added 2 routes necessary:"})}),B.jsx("div",{className:"code-block-large",children:`like_review 
PUT /reviews/:id/like(.:format)   reviews#like 
GET /reviews/:id/like(.:format)   reviews#like`}),B.jsxs("ul",{className:"ul-squares",children:[B.jsxs("li",{className:"li-squares",children:["PUT was used in /reviews/show.html.erb:",B.jsx("br",{}),"To add the “like” or “unlike” functions that were sent back to reviews#like",B.jsx("br",{}),"And essentially become the user submittable attribute upon a review created"]}),B.jsxs("li",{className:"li-squares",children:["GET was used in /reviews/like.html.erb",B.jsx("br",{}),"To visit the current users liked reviews with the url /reviews/:id/like",B.jsx("br",{}),"Can of course do much more with it, however I was ready to turn the project in"]})]}),B.jsx("h3",{className:"core-subsection",children:"Places OmniAuth must appear:"}),B.jsx("p",{children:B.jsxs("em",{children:["And also noteworthy this is my quick summary, but I didn’t remember or discover all this on my own, I was referred to the following resource, describing most of these steps in greater detail at:",B.jsx("a",{className:"anchors",href:"https://medium.com/@rachel.hawa/google-authentication-strategy-for-rails-5-application-cd37947d2b1b",target:"_blank",rel:"noreferrer",children:"Google Authentication Strategy"})]})}),B.jsx("p",{children:B.jsx("strong",{children:"In this case google based login:"})}),B.jsxs("ol",{className:"numbered-blog",children:[B.jsxs("li",{children:["Setting this up with google at, approximately ",B.jsx("a",{className:"anchors",href:"https://console.developers.google.com",target:"_blank",rel:"noreferrer",children:"Google Developers"})]}),B.jsx("li",{children:"Generally speaking create a new app and work with the omniauth tabs, there’s more to it than that, but that’s the gist"}),B.jsx("li",{children:"Gemfile - needs three things added:"})]}),B.jsxs("blockquote",{className:"block-quote",children:[B.jsx("div",{className:"code-block-snippet",children:"Gem ‘omniauth’"}),B.jsx("div",{className:"code-block-snippet",children:"gem 'dotenv-rails'"}),B.jsx("div",{className:"code-block-snippet",children:"Gem 'omniauth-google-oauth2'"})]}),B.jsx("ol",{className:"numbered-blog",start:4,children:B.jsxs("li",{children:["Create an "," ",B.jsx("span",{className:"inline-code-emphasis",children:".env"})," "," root of the app to add the google client_id and client_secret, found while setting new app within google developers console"]})}),B.jsx("div",{className:"code-block-large",children:`So within the new .env file:
            
GOOGLE_CLIENT_ID=<generated number from google here>'̀'

GOOGLE_CLIENT_SECRET=<generated number from google here>'̀'`}),B.jsx("p",{children:"5) add .env to .gitignore file, just type in"}),B.jsx("div",{className:"code-block-snippet",children:".env"}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"add to the list of items ignored by github"})}),B.jsx("p",{children:"6) Create a omniauth.rb in /config/initializers, add all of this:"}),B.jsx("div",{className:"code-block-large",children:`Rails.application.config.middleware.use OmniAuth::Builder do
    provider :google_oauth2, ENV["GOOGLE_CLIENT_ID"],ENV["GOOGLE_CLIENT_SECRET"], skip_jwt: true
end
`}),B.jsx("p",{children:"7) In routes.rb add:"}),B.jsx("div",{className:"code-block-snippet",children:"get '/auth/:provider/callback' => 'sessions#omniauth'"}),B.jsx("p",{children:"8) In user.rb"}),B.jsx("div",{className:"code-block-large",children:`def self.from_omniauth(auth)
    where(email: auth.info.email).first_or_initialize do |user|
        user.username = auth.info.name
        user.email = auth.info.email
        user.password = SecureRandom.hex
    end
end`}),B.jsx("p",{children:"9) In SessionsController"}),B.jsx("div",{className:"code-block-large",children:`def omniauth
    @user = User.from_omniauth(auth)
    @user.save
    session[:user_id] = @user.id
    redirect_to user_path(@user)
end
`}),B.jsx("p",{children:"as well as:"}),B.jsx("div",{className:"code-block-snippet",children:`private
            
def auth
    request.env['omniauth.auth']
end`}),B.jsx("p",{children:"9) Basic link to use this to make a login/signup with google, placed wherever necessary:"}),B.jsx("div",{className:"code-block-large",children:`<%= link_to "Log In with Google", '/auth/google_oauth2' %>`}),B.jsx("div",{className:"code-block-large",children:`<%= link_to "Log In with Google", '/auth/google_oauth2' %>`}),B.jsx("p",{children:"10) Optional: I found the branding icons at"}),B.jsx("p",{children:B.jsx("a",{className:"anchors",href:"https://developers.google.com/identity/branding-guidelines",target:"_blank",rel:"noreferrer",children:"Google Branding Guidelines"})}),B.jsx("ul",{className:"ul-squares",children:B.jsx("li",{className:"li-squares",children:"With a set of downloads of different types of google images and instructions for use"})}),B.jsx("h3",{className:"core-subsection",children:"Speaking of logging, in don’t forget about in user.rb"}),B.jsx("div",{className:"code-block-snippet",children:"has_secure_password"}),B.jsxs("figure",{className:"",children:[B.jsx("img",{src:"/blog/bottlewitheffects.png",alt:"artistic wine bottle",className:"feature-image"}),B.jsx("figcaption",{className:"caption",children:"Also had fun in a photo editor!"})]})]})},{title:"Adding Vite to Replace react-scripts in a Firebase Hosted Project",content:B.jsxs("div",{children:[B.jsxs("p",{children:["For personal projects, I like to use ClickUp to track the endless ideas and “stories” for my product called a personal brand (something like that). So in light of all those ideas, choosing what's vital, over interest, keeping up appearances in code style, updating funky looking elements and original design ideas, etc; I let some things like old technology fall by the way side. One that had been bothering me for sometime: ",B.jsx("span",{className:"inline-code-emphasis",children:"react-scripts"}),"."]}),B.jsx("p",{children:"After exploring a few options, I decided to replace react-scripts from what I reasoned as the most expedient way, at least for now, using Vite. Noteworthy, had I deliberated on it more, it might not have gotten done at all (peculiarities of the mind). In boxing, a coach said once, you all get in your own way deciding what to do during freestyle, just hit the bag! this is the moment I realized this applied to me and my deliberations in all matters. Hit the bag, install Vite."}),B.jsx("p",{children:"Some common steps I found among various guides to get started: "}),B.jsxs("ol",{className:"numbered-blog",children:[B.jsx("li",{children:B.jsx("div",{className:"code-block-large",children:"npm install --save-dev vite @vitejs/plugin-react vite-tsconfig-paths vite-plugin-svgr"})}),B.jsxs("li",{children:["Adding a vite.config.js file with the following at the root:",B.jsx("div",{className:"code-block-large",children:`import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import viteTsconfigPaths from 'vite-tsconfig-paths';
import svgr from 'vite-plugin-svgr';


export default defineConfig({
    plugins: [
        react(), 
        viteTsconfigPaths(),
        svgr({
            include: '**/*.svg?react',
        }),
    ],
});
`})]}),B.jsxs("li",{children:[" Move index.html to the root of the project along with some additional changes:",B.jsxs("ul",{className:"ul-squares",children:[B.jsxs("li",{className:"li-squares",children:["Remove any uri prefixes of ",B.jsx(Ji,{text:"react-scripts"})]}),B.jsxs("li",{className:"li-squares",children:["Add a ",B.jsx(Ji,{text:"<script>"})," tag to the ",B.jsx(Ji,{text:"<body>"}),B.jsx(Ji,{text:'<script type="module" src="/src/index.tsx"><\/script>'})]})]})]}),B.jsxs("li",{children:["Change a variety of properties in tsconfig.json, under the compilerOptions parent attribute:",B.jsxs("ul",{className:"ul-squares",children:[B.jsxs("li",{className:"li-squares",children:['"target" property from "ES5" to "ESNext"',B.jsx("div",{className:"code-block-snippet",children:'"target": "ESNext"'}),B.jsxs("div",{className:"block-quote special-note",children:["What is this for? This ensures using the highest JavaScript version per the current Typescript version.",B.jsx("a",{className:"reference anchors",href:"https://www.typescriptlang.org/tsconfig/#target",rel:"noreferrer",target:"_blank",children:"TypeScript Docs: Target"})]})]}),B.jsxs("li",{className:"li-squares",children:['Add new property "types"',B.jsx("div",{className:"code-block-snippet",children:'types": ["vite/client", "vite-plugin-svgr/client"]'}),B.jsxs("div",{className:"block-quote special-note",children:["What are some of these for?",B.jsx("br",{}),'"vite/client" in particular can be used instead of adding a separate file called ',B.jsx(Ji,{text:"vite-env.d.ts"}),"  with just this one line "," ",B.jsx(Ji,{text:'/// <reference types="vite/client" />'}),'. The intention of this is to stabilize "the environment of client side code" per '," ",B.jsx("a",{className:"reference anchors",href:"https://vitejs.dev/guide/features.html#client-types",rel:"noreferrer",target:"_blank",children:"Vite Docs"}),`. To make the blog an interesting read, fun fact, they use the word "shim" to describe this, this is a device sold at the Home Depot, a retail organization I hailed from before hailing from the restaurant industry. It's a device meant to stabilize larger objects on the fly. In the restaurant industry, the next chapter of work, we called these Wobble Wedges, a common brand of restaurant table stabilization to keep your cell phone and drink from flailing off the table, a must have to keep complaints at bay.`]})]}),B.jsxs("li",{className:"li-squares",children:["Changed ",B.jsx(Ji,{text:"esModuleInterop"})," from true to false",B.jsxs("div",{className:"block-quote special-note",children:["I saw this in many configurations, could be useful to remain true after reading the",B.jsx("a",{className:"reference anchors",href:"https://www.typescriptlang.org/tsconfig/#esModuleInterop",rel:"noreferrer",target:"_blank",children:"TypeScript docs"}),". , but leaving it for now. It is meant to handle some possible misinterpretation of different styles of imports such as 'require'."]})]}),B.jsxs("li",{className:"li-squares",children:["Changed ",B.jsx(Ji,{text:"skipLibCheck"})," from true to false",B.jsxs("div",{className:"block-quote special-note",children:["This is another setting that could come in handy as true, it could make compilation time faster, it skips checks on type differentiation that could occur in perhaps your own project or numerous versions of the same package in node_modules.",B.jsx("a",{className:"reference anchors",href:"https://www.typescriptlang.org/tsconfig/#skipLibCheck",rel:"noreferrer",target:"_blank",children:"Typescript skipLibCheck"}),"."]})]})]})]}),B.jsxs("li",{children:["Change the scripts property in package.json:",B.jsx("div",{className:"code-block-large",children:`"scripts": {
  "start": "vite",
  "build": "tsc && vite build",
  "serve": "vite preview"
},
`})]})]}),B.jsx("p",{children:"After these general steps, I was on the edge of my seat waiting for this part, it’s time to npm uninstall react scripts and delete the react-app-env.d.ts file!!!"}),B.jsx("p",{children:"Some noteworthy errors and warnings per my setup: "}),B.jsxs("p",{children:[B.jsx("em",{children:"On npm start,"})," I got an error:",B.jsx("br",{}),B.jsx("br",{}),B.jsxs("div",{className:"code-block-large",children:['The plugin "externalize-deps" was triggered by this import',B.jsx("br",{}),"vite.config.ts:3:30:",B.jsx("br",{}),"3 │ import viteTsconfigPaths from 'vite-tsconfig-paths';",B.jsx("br",{})]}),B.jsx("div",{children:`The rest of the error noted some documentation. Essentially it reflects there's an issue loading modules with require, noteworthy the esModuleInterop property set to true might have helped with this as well, something to try later. Either way, the docs pointing to the issue recommended, as one solution, setting a property "type" to "module" in the package.json. This resolved the issue.`})]}),B.jsxs("p",{children:[B.jsx("em",{children:"A new warning"})," based on the way file paths can be referenced, noted asset files such as images could have improved imports: "]}),B.jsxs("div",{className:"code-block-large",children:["Files in the public directory are served at the root path.",B.jsx("br",{}),"Instead of /public/BGDiagramSteamPunk.png, use /BGDiagramSteamPunk.png."]}),B.jsxs("p",{children:[B.jsx("em",{children:"One final error,"})," needed to npm run build to firebase deploy the latest changes but: "]}),B.jsxs("div",{className:"code-block-large",children:["Found 1 error in node_modules/phaser/types/phaser.d.ts:9766’",B.jsx("br",{}),"https://github.com/phaserjs/phaser/issues/4661",B.jsx("br",{}),`This is a TypeScript requirement, not a polyfill. In your tsconfig.json file add "scripthost" in the lib array otherwise you won't get the ActiveXObject types included.`]}),B.jsx("p",{children:'So with this error, as it recommends, simply adding to the array in the "lib" property of tsconfig resolved the issue.'}),B.jsx("p",{children:B.jsx("em",{children:"Wait there's more........"})}),B.jsxs("p",{children:['Upon writing my blog post and getting thrilled to stay relevant in society today, I discovered npm run build and firebase deploy were not showing changes to my site. Apparently, there are some recommended firebase settings to coordinate this. In the end, I had to change the "public" property to "dist" and remove the items from my "ignore" property array. This was noted on',B.jsx("a",{className:"reference anchors",href:"https://vitejs.dev/guide/static-deploy.html#google-firebase",rel:"noreferrer",target:"_blank",children:"Vite Docs: Google Firebase"})]}),B.jsx("p",{children:"An opportunity to learn something new, uplift something quickly and get an up to date blog post out there!"})]}),date:"8/31/2024",tags:["vite","typescript","firebase","react-scripts","react"],blogURL:"replace-react-scripts"}],xE=({blogURL:u,image:n,blogContent:g,title:C,date:R,tags:I,altText:v,...S})=>B.jsxs("div",{id:u,className:"blog-read-container",children:[B.jsx("div",{className:"blog-read-title",children:C}),B.jsx("div",{className:"blog-read-date",children:R}),B.jsx("div",{className:"blog-read-content",children:g})]}),ao=({classNames:u,text:n,...g})=>B.jsx("div",{id:g.id,className:u,children:n}),yE=()=>{const[u,n]=ut.useState(!1),[g,C]=ut.useState(!1),[R,I]=ut.useState(!1),[v,S]=ut.useState(!1);return ut.useEffect(()=>{setTimeout(()=>{n(!0)},3e3),setTimeout(()=>{C(!0)},6e3),setTimeout(()=>{I(!0)},9e3),setTimeout(()=>{S(!0)},12e3)},[]),B.jsxs("div",{id:"Hero",children:[u?B.jsxs("div",{children:[B.jsx(u0,{figureNumber:"2"}),B.jsx(ao,{classNames:"fade-in-only main-text diagram-outline",text:"Alison Reilly"})]}):B.jsx(ao,{classNames:"fade-in-out-text main-text",text:"Welcome"}),g?R?B.jsx(ao,{classNames:"fade-in-only support-text support-text-adjust-title",text:"Software Engineer"}):B.jsx(ao,{classNames:"fade-in-out-text support-text support-text-adjust",text:"React TypeScript Python"}):null,v?B.jsxs("div",{className:"action-buttons",children:[B.jsx(Xi,{className:"modern-link action-button partial-border-pseudo",to:"/resume",children:"View Experience"}),B.jsx(Xi,{className:"modern-link action-button partial-border-pseudo",to:"/projects",children:"View Foundations"})]}):null]})},TE=({isLoading:u})=>B.jsxs(B.Fragment,{children:[" ",u?null:B.jsx("div",{id:"About",className:"main-wrapper",children:B.jsxs("div",{className:"main-content glassAbout",children:[B.jsx("div",{className:"p-div",children:"After dabbling with a WordPress site, once upon a time, with a free stock template, I realized I wanted to learn more on how to take control of a webpage with html and css. Soon after, I realized I really liked the concept of coding and wondered if I might like to take that to the next level. I had been taking classes at my local community college while living in New York, uncertain of what I really wanted to do and decided to enroll in Intro to Computer science."}),B.jsx("div",{className:"p-div",children:"The class was the best I had ever taken. Nothing like a usual class, sitting and routinely memorizing things, making flash cards or cramming. In contrast, I had a million opportunities to problem solve something hands on, instantly see the result and use my overthinking nature to my advantage."}),B.jsx("div",{className:"p-div",children:"From there, I continued taking more classes, relocating to Miami, FL in between. After years of work / school exhaustion, I finally decided to try a bootcamp to accelerate the learning towards a specific career by enrolling at the Flatiron school's online program."}),B.jsx("div",{className:"p-div",children:"My background work experience is in the restaurant industry, meeting a great deal of amazing people. However it presented many stressful times, I am ever grateful for the time in the restaurant industry where I learned to work under pressure to perfection, thinking on my feet and massive amounts of teamwork."}),B.jsx("div",{className:"p-div",children:"A little on more personal interests. I love video games; I have a PS5, some of my favorite games are Skyrim, Fallout, Destiny and Assassin's creed series. I like wine, in particular French, Italian and Spanish wines. I like good food, not a food snob or a foodie so much, but definitely like to find good quality and unique features when dining out. I like warm weather and warm water, thus my permanent residence in Miami, FL. For exercise I like yoga, CrossFit and running. And occasionally rotate through other miscellaneous activities such as salsa dancing and inline skating."})]})})]}),EE=({altText:u,image:n})=>B.jsx("div",{id:"ImageDisplay",children:B.jsx("img",{src:n,alt:u})}),SE=({video:u})=>B.jsx("div",{children:B.jsx("iframe",{id:"video-iframe",className:"youtubeIframe",width:"400",height:"200",src:u,title:"YouTube video player",allow:"web-share",allowFullScreen:!0})}),Dh=({className:u,externalLink:n,internalBlog:g,link:C,linkText:R,image:I,linkTextColor:v})=>B.jsxs("div",{className:"flexcolumn",style:{rowGap:"10px"},children:[B.jsx("a",{"aria-hidden":"true",className:`modern-link ${u}`,href:C,style:{backgroundImage:`URL(${I})`,backgroundSize:"contain"},target:n?"_blank":"",rel:n?"noreferrer":"",children:" "}),g?B.jsx("a",{className:`modern-link center-text ${u}`,href:C,style:{color:`${v}`},target:n?"_blank":"",rel:n?"noreferrer":"",children:R}):B.jsx(Xi,{className:`modern-link center-text ${u}`,to:C||"",children:R})]}),Nh="/assets/buttonscale100-YVb-5UQY.png";var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=function(u){const n=[];let g=0;for(let C=0;C<u.length;C++){let R=u.charCodeAt(C);R<128?n[g++]=R:R<2048?(n[g++]=R>>6|192,n[g++]=R&63|128):(R&64512)===55296&&C+1<u.length&&(u.charCodeAt(C+1)&64512)===56320?(R=65536+((R&1023)<<10)+(u.charCodeAt(++C)&1023),n[g++]=R>>18|240,n[g++]=R>>12&63|128,n[g++]=R>>6&63|128,n[g++]=R&63|128):(n[g++]=R>>12|224,n[g++]=R>>6&63|128,n[g++]=R&63|128)}return n},CE=function(u){const n=[];let g=0,C=0;for(;g<u.length;){const R=u[g++];if(R<128)n[C++]=String.fromCharCode(R);else if(R>191&&R<224){const I=u[g++];n[C++]=String.fromCharCode((R&31)<<6|I&63)}else if(R>239&&R<365){const I=u[g++],v=u[g++],S=u[g++],t=((R&7)<<18|(I&63)<<12|(v&63)<<6|S&63)-65536;n[C++]=String.fromCharCode(55296+(t>>10)),n[C++]=String.fromCharCode(56320+(t&1023))}else{const I=u[g++],v=u[g++];n[C++]=String.fromCharCode((R&15)<<12|(I&63)<<6|v&63)}}return n.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(u,n){if(!Array.isArray(u))throw Error("encodeByteArray takes an array as a parameter");this.init_();const g=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let R=0;R<u.length;R+=3){const I=u[R],v=R+1<u.length,S=v?u[R+1]:0,t=R+2<u.length,h=t?u[R+2]:0,m=I>>2,l=(I&3)<<4|S>>4;let a=(S&15)<<2|h>>6,r=h&63;t||(r=64,v||(a=64)),C.push(g[m],g[l],g[a],g[r])}return C.join("")},encodeString(u,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(u):this.encodeByteArray(C0(u),n)},decodeString(u,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(u):CE(this.decodeStringToByteArray(u,n))},decodeStringToByteArray(u,n){this.init_();const g=n?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let R=0;R<u.length;){const I=g[u.charAt(R++)],S=R<u.length?g[u.charAt(R)]:0;++R;const h=R<u.length?g[u.charAt(R)]:64;++R;const l=R<u.length?g[u.charAt(R)]:64;if(++R,I==null||S==null||h==null||l==null)throw new wE;const a=I<<2|S>>4;if(C.push(a),h!==64){const r=S<<4&240|h>>2;if(C.push(r),l!==64){const i=h<<6&192|l;C.push(i)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let u=0;u<this.ENCODED_VALS.length;u++)this.byteToCharMap_[u]=this.ENCODED_VALS.charAt(u),this.charToByteMap_[this.byteToCharMap_[u]]=u,this.byteToCharMapWebSafe_[u]=this.ENCODED_VALS_WEBSAFE.charAt(u),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[u]]=u,u>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(u)]=u,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(u)]=u)}}};class wE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AE=function(u){const n=C0(u);return w0.encodeByteArray(n,!0)},rl=function(u){return AE(u).replace(/\./g,"")},PE=function(u){try{return w0.decodeString(u,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=()=>RE().__FIREBASE_DEFAULTS__,IE=()=>{if(typeof process>"u"||typeof kv>"u")return;const u=kv.__FIREBASE_DEFAULTS__;if(u)return JSON.parse(u)},FE=()=>{if(typeof document>"u")return;let u;try{u=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=u&&PE(u[1]);return n&&JSON.parse(n)},hd=()=>{try{return ME()||IE()||FE()}catch(u){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${u}`);return}},LE=u=>{var n,g;return(g=(n=hd())===null||n===void 0?void 0:n.emulatorHosts)===null||g===void 0?void 0:g[u]},OE=u=>{const n=LE(u);if(!n)return;const g=n.lastIndexOf(":");if(g<=0||g+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const C=parseInt(n.substring(g+1),10);return n[0]==="["?[n.substring(1,g-1),C]:[n.substring(0,g),C]},A0=()=>{var u;return(u=hd())===null||u===void 0?void 0:u.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,g)=>{this.resolve=n,this.reject=g})}wrapCallback(n){return(g,C)=>{g?this.reject(g):this.resolve(C),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(g):n(g,C))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(u,n){if(u.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const g={alg:"none",type:"JWT"},C=n||"demo-project",R=u.iat||0,I=u.sub||u.user_id;if(!I)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const v=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:R,exp:R+3600,auth_time:R,sub:I,user_id:I,firebase:{sign_in_provider:"custom",identities:{}}},u);return[rl(JSON.stringify(g)),rl(JSON.stringify(v)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bE(){var u;const n=(u=hd())===null||u===void 0?void 0:u.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VE(){const u=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof u=="object"&&u.id!==void 0}function GE(){return!bE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P0(){try{return typeof indexedDB=="object"}catch{return!1}}function R0(){return new Promise((u,n)=>{try{let g=!0;const C="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(C);R.onsuccess=()=>{R.result.close(),g||self.indexedDB.deleteDatabase(C),u(!0)},R.onupgradeneeded=()=>{g=!1},R.onerror=()=>{var I;n(((I=R.error)===null||I===void 0?void 0:I.message)||"")}}catch(g){n(g)}})}function UE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="FirebaseError";class Mn extends Error{constructor(n,g,C){super(g),this.code=n,this.customData=C,this.name=zE,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(n,g,C){this.service=n,this.serviceName=g,this.errors=C}create(n,...g){const C=g[0]||{},R=`${this.service}/${n}`,I=this.errors[n],v=I?XE(I,C):"Error",S=`${this.serviceName}: ${v} (${R}).`;return new Mn(R,S,C)}}function XE(u,n){return u.replace(YE,(g,C)=>{const R=n[C];return R!=null?String(R):`<${C}?>`})}const YE=/\{\$([^}]+)}/g;function al(u,n){if(u===n)return!0;const g=Object.keys(u),C=Object.keys(n);for(const R of g){if(!C.includes(R))return!1;const I=u[R],v=n[R];if(Kv(I)&&Kv(v)){if(!al(I,v))return!1}else if(I!==v)return!1}for(const R of C)if(!g.includes(R))return!1;return!0}function Kv(u){return u!==null&&typeof u=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=1e3,jE=2,HE=4*60*60*1e3,kE=.5;function $v(u,n=WE,g=jE){const C=n*Math.pow(g,u),R=Math.round(kE*C*(Math.random()-.5)*2);return Math.min(HE,C+R)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(u){return u&&u._delegate?u._delegate:u}class Yi{constructor(n,g,C){this.name=n,this.instanceFactory=g,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(n,g){this.name=n,this.container=g,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const g=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(g)){const C=new DE;if(this.instancesDeferred.set(g,C),this.isInitialized(g)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:g});R&&C.resolve(R)}catch{}}return this.instancesDeferred.get(g).promise}getImmediate(n){var g;const C=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),R=(g=n==null?void 0:n.optional)!==null&&g!==void 0?g:!1;if(this.isInitialized(C)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:C})}catch(I){if(R)return null;throw I}else{if(R)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(QE(n))try{this.getOrInitializeService({instanceIdentifier:bn})}catch{}for(const[g,C]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(g);try{const I=this.getOrInitializeService({instanceIdentifier:R});C.resolve(I)}catch{}}}}clearInstance(n=bn){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(g=>"INTERNAL"in g).map(g=>g.INTERNAL.delete()),...n.filter(g=>"_delete"in g).map(g=>g._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=bn){return this.instances.has(n)}getOptions(n=bn){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:g={}}=n,C=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:C,options:g});for(const[I,v]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(I);C===S&&v.resolve(R)}return R}onInit(n,g){var C;const R=this.normalizeInstanceIdentifier(g),I=(C=this.onInitCallbacks.get(R))!==null&&C!==void 0?C:new Set;I.add(n),this.onInitCallbacks.set(R,I);const v=this.instances.get(R);return v&&n(v,R),()=>{I.delete(n)}}invokeOnInitCallbacks(n,g){const C=this.onInitCallbacks.get(g);if(C)for(const R of C)try{R(n,g)}catch{}}getOrInitializeService({instanceIdentifier:n,options:g={}}){let C=this.instances.get(n);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:$E(n),options:g}),this.instances.set(n,C),this.instancesOptions.set(n,g),this.invokeOnInitCallbacks(C,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,C)}catch{}return C||null}normalizeInstanceIdentifier(n=bn){return this.component?this.component.multipleInstances?n:bn:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $E(u){return u===bn?void 0:u}function QE(u){return u.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const g=this.getProvider(n.name);if(g.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);g.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const g=new KE(n,this);return this.providers.set(n,g),g}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(u){u[u.DEBUG=0]="DEBUG",u[u.VERBOSE=1]="VERBOSE",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.SILENT=5]="SILENT"})(Dt||(Dt={}));const ZE={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},qE=Dt.INFO,_E={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},tS=(u,n,...g)=>{if(n<u.logLevel)return;const C=new Date().toISOString(),R=_E[n];if(R)console[R](`[${C}]  ${u.name}:`,...g);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class fd{constructor(n){this.name=n,this._logLevel=qE,this._logHandler=tS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Dt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?ZE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...n),this._logHandler(this,Dt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...n),this._logHandler(this,Dt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...n),this._logHandler(this,Dt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...n),this._logHandler(this,Dt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...n),this._logHandler(this,Dt.ERROR,...n)}}const eS=(u,n)=>n.some(g=>u instanceof g);let Qv,Jv;function iS(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nS(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,ju=new WeakMap,I0=new WeakMap,Bh=new WeakMap,dd=new WeakMap;function sS(u){const n=new Promise((g,C)=>{const R=()=>{u.removeEventListener("success",I),u.removeEventListener("error",v)},I=()=>{g(gn(u.result)),R()},v=()=>{C(u.error),R()};u.addEventListener("success",I),u.addEventListener("error",v)});return n.then(g=>{g instanceof IDBCursor&&M0.set(g,u)}).catch(()=>{}),dd.set(n,u),n}function rS(u){if(ju.has(u))return;const n=new Promise((g,C)=>{const R=()=>{u.removeEventListener("complete",I),u.removeEventListener("error",v),u.removeEventListener("abort",v)},I=()=>{g(),R()},v=()=>{C(u.error||new DOMException("AbortError","AbortError")),R()};u.addEventListener("complete",I),u.addEventListener("error",v),u.addEventListener("abort",v)});ju.set(u,n)}let Hu={get(u,n,g){if(u instanceof IDBTransaction){if(n==="done")return ju.get(u);if(n==="objectStoreNames")return u.objectStoreNames||I0.get(u);if(n==="store")return g.objectStoreNames[1]?void 0:g.objectStore(g.objectStoreNames[0])}return gn(u[n])},set(u,n,g){return u[n]=g,!0},has(u,n){return u instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in u}};function aS(u){Hu=u(Hu)}function oS(u){return u===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...g){const C=u.call(bh(this),n,...g);return I0.set(C,n.sort?n.sort():[n]),gn(C)}:nS().includes(u)?function(...n){return u.apply(bh(this),n),gn(M0.get(this))}:function(...n){return gn(u.apply(bh(this),n))}}function lS(u){return typeof u=="function"?oS(u):(u instanceof IDBTransaction&&rS(u),eS(u,iS())?new Proxy(u,Hu):u)}function gn(u){if(u instanceof IDBRequest)return sS(u);if(Bh.has(u))return Bh.get(u);const n=lS(u);return n!==u&&(Bh.set(u,n),dd.set(n,u)),n}const bh=u=>dd.get(u);function F0(u,n,{blocked:g,upgrade:C,blocking:R,terminated:I}={}){const v=indexedDB.open(u,n),S=gn(v);return C&&v.addEventListener("upgradeneeded",t=>{C(gn(v.result),t.oldVersion,t.newVersion,gn(v.transaction),t)}),g&&v.addEventListener("blocked",t=>g(t.oldVersion,t.newVersion,t)),S.then(t=>{I&&t.addEventListener("close",()=>I()),R&&t.addEventListener("versionchange",h=>R(h.oldVersion,h.newVersion,h))}).catch(()=>{}),S}const hS=["get","getKey","getAll","getAllKeys","count"],uS=["put","add","delete","clear"],Vh=new Map;function Zv(u,n){if(!(u instanceof IDBDatabase&&!(n in u)&&typeof n=="string"))return;if(Vh.get(n))return Vh.get(n);const g=n.replace(/FromIndex$/,""),C=n!==g,R=uS.includes(g);if(!(g in(C?IDBIndex:IDBObjectStore).prototype)||!(R||hS.includes(g)))return;const I=async function(v,...S){const t=this.transaction(v,R?"readwrite":"readonly");let h=t.store;return C&&(h=h.index(S.shift())),(await Promise.all([h[g](...S),R&&t.done]))[0]};return Vh.set(n,I),I}aS(u=>({...u,get:(n,g,C)=>Zv(n,g)||u.get(n,g,C),has:(n,g)=>!!Zv(n,g)||u.has(n,g)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(g=>{if(dS(g)){const C=g.getImmediate();return`${C.library}/${C.version}`}else return null}).filter(g=>g).join(" ")}}function dS(u){const n=u.getComponent();return(n==null?void 0:n.type)==="VERSION"}const ku="@firebase/app",qv="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new fd("@firebase/app"),cS="@firebase/app-compat",vS="@firebase/analytics-compat",pS="@firebase/analytics",mS="@firebase/app-check-compat",gS="@firebase/app-check",xS="@firebase/auth",yS="@firebase/auth-compat",TS="@firebase/database",ES="@firebase/database-compat",SS="@firebase/functions",CS="@firebase/functions-compat",wS="@firebase/installations",AS="@firebase/installations-compat",PS="@firebase/messaging",RS="@firebase/messaging-compat",MS="@firebase/performance",IS="@firebase/performance-compat",FS="@firebase/remote-config",LS="@firebase/remote-config-compat",OS="@firebase/storage",DS="@firebase/storage-compat",NS="@firebase/firestore",BS="@firebase/vertexai-preview",bS="@firebase/firestore-compat",VS="firebase",GS="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="[DEFAULT]",US={[ku]:"fire-core",[cS]:"fire-core-compat",[pS]:"fire-analytics",[vS]:"fire-analytics-compat",[gS]:"fire-app-check",[mS]:"fire-app-check-compat",[xS]:"fire-auth",[yS]:"fire-auth-compat",[TS]:"fire-rtdb",[ES]:"fire-rtdb-compat",[SS]:"fire-fn",[CS]:"fire-fn-compat",[wS]:"fire-iid",[AS]:"fire-iid-compat",[PS]:"fire-fcm",[RS]:"fire-fcm-compat",[MS]:"fire-perf",[IS]:"fire-perf-compat",[FS]:"fire-rc",[LS]:"fire-rc-compat",[OS]:"fire-gcs",[DS]:"fire-gcs-compat",[NS]:"fire-fst",[bS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[VS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new Map,zS=new Map,$u=new Map;function _v(u,n){try{u.container.addComponent(n)}catch(g){Wi.debug(`Component ${n.name} failed to register with FirebaseApp ${u.name}`,g)}}function En(u){const n=u.name;if($u.has(n))return Wi.debug(`There were multiple attempts to register component ${n}.`),!1;$u.set(n,u);for(const g of ol.values())_v(g,u);for(const g of zS.values())_v(g,u);return!0}function wa(u,n){const g=u.container.getProvider("heartbeat").getImmediate({optional:!0});return g&&g.triggerHeartbeat(),u.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xn=new Ol("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(n,g,C){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},g),this._name=g.name,this._automaticDataCollectionEnabled=g.automaticDataCollectionEnabled,this._container=C,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=GS;function L0(u,n={}){let g=u;typeof n!="object"&&(n={name:n});const C=Object.assign({name:Ku,automaticDataCollectionEnabled:!1},n),R=C.name;if(typeof R!="string"||!R)throw xn.create("bad-app-name",{appName:String(R)});if(g||(g=A0()),!g)throw xn.create("no-options");const I=ol.get(R);if(I){if(al(g,I.options)&&al(C,I.config))return I;throw xn.create("duplicate-app",{appName:R})}const v=new JE(R);for(const t of $u.values())v.addComponent(t);const S=new YS(g,C,v);return ol.set(R,S),S}function O0(u=Ku){const n=ol.get(u);if(!n&&u===Ku&&A0())return L0();if(!n)throw xn.create("no-app",{appName:u});return n}function wi(u,n,g){var C;let R=(C=US[u])!==null&&C!==void 0?C:u;g&&(R+=`-${g}`);const I=R.match(/\s|\//),v=n.match(/\s|\//);if(I||v){const S=[`Unable to register library "${R}" with version "${n}":`];I&&S.push(`library name "${R}" contains illegal characters (whitespace or "/")`),I&&v&&S.push("and"),v&&S.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Wi.warn(S.join(" "));return}En(new Yi(`${R}-version`,()=>({library:R,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebase-heartbeat-database",HS=1,da="firebase-heartbeat-store";let Gh=null;function D0(){return Gh||(Gh=F0(jS,HS,{upgrade:(u,n)=>{switch(n){case 0:try{u.createObjectStore(da)}catch(g){console.warn(g)}}}}).catch(u=>{throw xn.create("idb-open",{originalErrorMessage:u.message})})),Gh}async function kS(u){try{const g=(await D0()).transaction(da),C=await g.objectStore(da).get(N0(u));return await g.done,C}catch(n){if(n instanceof Mn)Wi.warn(n.message);else{const g=xn.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(g.message)}}}async function tp(u,n){try{const C=(await D0()).transaction(da,"readwrite");await C.objectStore(da).put(n,N0(u)),await C.done}catch(g){if(g instanceof Mn)Wi.warn(g.message);else{const C=xn.create("idb-set",{originalErrorMessage:g==null?void 0:g.message});Wi.warn(C.message)}}}function N0(u){return`${u.name}!${u.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1024,$S=30*24*60*60*1e3;class QS{constructor(n){this.container=n,this._heartbeatsCache=null;const g=this.container.getProvider("app").getImmediate();this._storage=new ZS(g),this._heartbeatsCachePromise=this._storage.read().then(C=>(this._heartbeatsCache=C,C))}async triggerHeartbeat(){var n,g,C;try{const I=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),v=ep();return console.log("heartbeats",(n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats),((g=this._heartbeatsCache)===null||g===void 0?void 0:g.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((C=this._heartbeatsCache)===null||C===void 0?void 0:C.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===v||this._heartbeatsCache.heartbeats.some(S=>S.date===v)?void 0:(this._heartbeatsCache.heartbeats.push({date:v,agent:I}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(S=>{const t=new Date(S.date).valueOf();return Date.now()-t<=$S}),this._storage.overwrite(this._heartbeatsCache))}catch(R){Wi.warn(R)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const g=ep(),{heartbeatsToSend:C,unsentEntries:R}=JS(this._heartbeatsCache.heartbeats),I=rl(JSON.stringify({version:2,heartbeats:C}));return this._heartbeatsCache.lastSentHeartbeatDate=g,R.length>0?(this._heartbeatsCache.heartbeats=R,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),I}catch(g){return Wi.warn(g),""}}}function ep(){return new Date().toISOString().substring(0,10)}function JS(u,n=KS){const g=[];let C=u.slice();for(const R of u){const I=g.find(v=>v.agent===R.agent);if(I){if(I.dates.push(R.date),ip(g)>n){I.dates.pop();break}}else if(g.push({agent:R.agent,dates:[R.date]}),ip(g)>n){g.pop();break}C=C.slice(1)}return{heartbeatsToSend:g,unsentEntries:C}}class ZS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P0()?R0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const g=await kS(this.app);return g!=null&&g.heartbeats?g:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var g;if(await this._canUseIndexedDBPromise){const R=await this.read();return tp(this.app,{lastSentHeartbeatDate:(g=n.lastSentHeartbeatDate)!==null&&g!==void 0?g:R.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var g;if(await this._canUseIndexedDBPromise){const R=await this.read();return tp(this.app,{lastSentHeartbeatDate:(g=n.lastSentHeartbeatDate)!==null&&g!==void 0?g:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...n.heartbeats]})}else return}}function ip(u){return rl(JSON.stringify({version:2,heartbeats:u})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(u){En(new Yi("platform-logger",n=>new fS(n),"PRIVATE")),En(new Yi("heartbeat",n=>new QS(n),"PRIVATE")),wi(ku,qv,u),wi(ku,qv,"esm2017"),wi("fire-js","")}qS("");var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jn,B0;(function(){var u;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(T,E){function y(){}y.prototype=E.prototype,T.D=E.prototype,T.prototype=new y,T.prototype.constructor=T,T.C=function(w,A,P){for(var M=Array(arguments.length-2),L=2;L<arguments.length;L++)M[L-2]=arguments[L];return E.prototype[A].apply(w,M)}}function g(){this.blockSize=-1}function C(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(C,g),C.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function R(T,E,y){y||(y=0);var w=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)w[A]=E.charCodeAt(y++)|E.charCodeAt(y++)<<8|E.charCodeAt(y++)<<16|E.charCodeAt(y++)<<24;else for(A=0;16>A;++A)w[A]=E[y++]|E[y++]<<8|E[y++]<<16|E[y++]<<24;E=T.g[0],y=T.g[1],A=T.g[2];var P=T.g[3],M=E+(P^y&(A^P))+w[0]+3614090360&4294967295;E=y+(M<<7&4294967295|M>>>25),M=P+(A^E&(y^A))+w[1]+3905402710&4294967295,P=E+(M<<12&4294967295|M>>>20),M=A+(y^P&(E^y))+w[2]+606105819&4294967295,A=P+(M<<17&4294967295|M>>>15),M=y+(E^A&(P^E))+w[3]+3250441966&4294967295,y=A+(M<<22&4294967295|M>>>10),M=E+(P^y&(A^P))+w[4]+4118548399&4294967295,E=y+(M<<7&4294967295|M>>>25),M=P+(A^E&(y^A))+w[5]+1200080426&4294967295,P=E+(M<<12&4294967295|M>>>20),M=A+(y^P&(E^y))+w[6]+2821735955&4294967295,A=P+(M<<17&4294967295|M>>>15),M=y+(E^A&(P^E))+w[7]+4249261313&4294967295,y=A+(M<<22&4294967295|M>>>10),M=E+(P^y&(A^P))+w[8]+1770035416&4294967295,E=y+(M<<7&4294967295|M>>>25),M=P+(A^E&(y^A))+w[9]+2336552879&4294967295,P=E+(M<<12&4294967295|M>>>20),M=A+(y^P&(E^y))+w[10]+4294925233&4294967295,A=P+(M<<17&4294967295|M>>>15),M=y+(E^A&(P^E))+w[11]+2304563134&4294967295,y=A+(M<<22&4294967295|M>>>10),M=E+(P^y&(A^P))+w[12]+1804603682&4294967295,E=y+(M<<7&4294967295|M>>>25),M=P+(A^E&(y^A))+w[13]+4254626195&4294967295,P=E+(M<<12&4294967295|M>>>20),M=A+(y^P&(E^y))+w[14]+2792965006&4294967295,A=P+(M<<17&4294967295|M>>>15),M=y+(E^A&(P^E))+w[15]+1236535329&4294967295,y=A+(M<<22&4294967295|M>>>10),M=E+(A^P&(y^A))+w[1]+4129170786&4294967295,E=y+(M<<5&4294967295|M>>>27),M=P+(y^A&(E^y))+w[6]+3225465664&4294967295,P=E+(M<<9&4294967295|M>>>23),M=A+(E^y&(P^E))+w[11]+643717713&4294967295,A=P+(M<<14&4294967295|M>>>18),M=y+(P^E&(A^P))+w[0]+3921069994&4294967295,y=A+(M<<20&4294967295|M>>>12),M=E+(A^P&(y^A))+w[5]+3593408605&4294967295,E=y+(M<<5&4294967295|M>>>27),M=P+(y^A&(E^y))+w[10]+38016083&4294967295,P=E+(M<<9&4294967295|M>>>23),M=A+(E^y&(P^E))+w[15]+3634488961&4294967295,A=P+(M<<14&4294967295|M>>>18),M=y+(P^E&(A^P))+w[4]+3889429448&4294967295,y=A+(M<<20&4294967295|M>>>12),M=E+(A^P&(y^A))+w[9]+568446438&4294967295,E=y+(M<<5&4294967295|M>>>27),M=P+(y^A&(E^y))+w[14]+3275163606&4294967295,P=E+(M<<9&4294967295|M>>>23),M=A+(E^y&(P^E))+w[3]+4107603335&4294967295,A=P+(M<<14&4294967295|M>>>18),M=y+(P^E&(A^P))+w[8]+1163531501&4294967295,y=A+(M<<20&4294967295|M>>>12),M=E+(A^P&(y^A))+w[13]+2850285829&4294967295,E=y+(M<<5&4294967295|M>>>27),M=P+(y^A&(E^y))+w[2]+4243563512&4294967295,P=E+(M<<9&4294967295|M>>>23),M=A+(E^y&(P^E))+w[7]+1735328473&4294967295,A=P+(M<<14&4294967295|M>>>18),M=y+(P^E&(A^P))+w[12]+2368359562&4294967295,y=A+(M<<20&4294967295|M>>>12),M=E+(y^A^P)+w[5]+4294588738&4294967295,E=y+(M<<4&4294967295|M>>>28),M=P+(E^y^A)+w[8]+2272392833&4294967295,P=E+(M<<11&4294967295|M>>>21),M=A+(P^E^y)+w[11]+1839030562&4294967295,A=P+(M<<16&4294967295|M>>>16),M=y+(A^P^E)+w[14]+4259657740&4294967295,y=A+(M<<23&4294967295|M>>>9),M=E+(y^A^P)+w[1]+2763975236&4294967295,E=y+(M<<4&4294967295|M>>>28),M=P+(E^y^A)+w[4]+1272893353&4294967295,P=E+(M<<11&4294967295|M>>>21),M=A+(P^E^y)+w[7]+4139469664&4294967295,A=P+(M<<16&4294967295|M>>>16),M=y+(A^P^E)+w[10]+3200236656&4294967295,y=A+(M<<23&4294967295|M>>>9),M=E+(y^A^P)+w[13]+681279174&4294967295,E=y+(M<<4&4294967295|M>>>28),M=P+(E^y^A)+w[0]+3936430074&4294967295,P=E+(M<<11&4294967295|M>>>21),M=A+(P^E^y)+w[3]+3572445317&4294967295,A=P+(M<<16&4294967295|M>>>16),M=y+(A^P^E)+w[6]+76029189&4294967295,y=A+(M<<23&4294967295|M>>>9),M=E+(y^A^P)+w[9]+3654602809&4294967295,E=y+(M<<4&4294967295|M>>>28),M=P+(E^y^A)+w[12]+3873151461&4294967295,P=E+(M<<11&4294967295|M>>>21),M=A+(P^E^y)+w[15]+530742520&4294967295,A=P+(M<<16&4294967295|M>>>16),M=y+(A^P^E)+w[2]+3299628645&4294967295,y=A+(M<<23&4294967295|M>>>9),M=E+(A^(y|~P))+w[0]+4096336452&4294967295,E=y+(M<<6&4294967295|M>>>26),M=P+(y^(E|~A))+w[7]+1126891415&4294967295,P=E+(M<<10&4294967295|M>>>22),M=A+(E^(P|~y))+w[14]+2878612391&4294967295,A=P+(M<<15&4294967295|M>>>17),M=y+(P^(A|~E))+w[5]+4237533241&4294967295,y=A+(M<<21&4294967295|M>>>11),M=E+(A^(y|~P))+w[12]+1700485571&4294967295,E=y+(M<<6&4294967295|M>>>26),M=P+(y^(E|~A))+w[3]+2399980690&4294967295,P=E+(M<<10&4294967295|M>>>22),M=A+(E^(P|~y))+w[10]+4293915773&4294967295,A=P+(M<<15&4294967295|M>>>17),M=y+(P^(A|~E))+w[1]+2240044497&4294967295,y=A+(M<<21&4294967295|M>>>11),M=E+(A^(y|~P))+w[8]+1873313359&4294967295,E=y+(M<<6&4294967295|M>>>26),M=P+(y^(E|~A))+w[15]+4264355552&4294967295,P=E+(M<<10&4294967295|M>>>22),M=A+(E^(P|~y))+w[6]+2734768916&4294967295,A=P+(M<<15&4294967295|M>>>17),M=y+(P^(A|~E))+w[13]+1309151649&4294967295,y=A+(M<<21&4294967295|M>>>11),M=E+(A^(y|~P))+w[4]+4149444226&4294967295,E=y+(M<<6&4294967295|M>>>26),M=P+(y^(E|~A))+w[11]+3174756917&4294967295,P=E+(M<<10&4294967295|M>>>22),M=A+(E^(P|~y))+w[2]+718787259&4294967295,A=P+(M<<15&4294967295|M>>>17),M=y+(P^(A|~E))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(A+(M<<21&4294967295|M>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+P&4294967295}C.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var y=E-this.blockSize,w=this.B,A=this.h,P=0;P<E;){if(A==0)for(;P<=y;)R(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<E;)if(w[A++]=T.charCodeAt(P++),A==this.blockSize){R(this,w),A=0;break}}else for(;P<E;)if(w[A++]=T[P++],A==this.blockSize){R(this,w),A=0;break}}this.h=A,this.o+=E},C.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var y=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=y&255,y/=256;for(this.u(T),T=Array(16),E=y=0;4>E;++E)for(var w=0;32>w;w+=8)T[y++]=this.g[E]>>>w&255;return T};function I(T,E){var y=S;return Object.prototype.hasOwnProperty.call(y,T)?y[T]:y[T]=E(T)}function v(T,E){this.h=E;for(var y=[],w=!0,A=T.length-1;0<=A;A--){var P=T[A]|0;w&&P==E||(y[A]=P,w=!1)}this.g=y}var S={};function t(T){return-128<=T&&128>T?I(T,function(E){return new v([E|0],0>E?-1:0)}):new v([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return l;if(0>T)return f(h(-T));for(var E=[],y=1,w=0;T>=y;w++)E[w]=T/y|0,y*=4294967296;return new v(E,0)}function m(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return f(m(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=h(Math.pow(E,8)),w=l,A=0;A<T.length;A+=8){var P=Math.min(8,T.length-A),M=parseInt(T.substring(A,A+P),E);8>P?(P=h(Math.pow(E,P)),w=w.j(P).add(h(M))):(w=w.j(y),w=w.add(h(M)))}return w}var l=t(0),a=t(1),r=t(16777216);u=v.prototype,u.m=function(){if(s(this))return-f(this).m();for(var T=0,E=1,y=0;y<this.g.length;y++){var w=this.i(y);T+=(0<=w?w:4294967296+w)*E,E*=4294967296}return T},u.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(i(this))return"0";if(s(this))return"-"+f(this).toString(T);for(var E=h(Math.pow(T,6)),y=this,w="";;){var A=c(y,E).g;y=e(y,A.j(E));var P=((0<y.g.length?y.g[0]:y.h)>>>0).toString(T);if(y=A,i(y))return P+w;for(;6>P.length;)P="0"+P;w=P+w}},u.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function i(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function s(T){return T.h==-1}u.l=function(T){return T=e(this,T),s(T)?-1:i(T)?0:1};function f(T){for(var E=T.g.length,y=[],w=0;w<E;w++)y[w]=~T.g[w];return new v(y,~T.h).add(a)}u.abs=function(){return s(this)?f(this):this},u.add=function(T){for(var E=Math.max(this.g.length,T.g.length),y=[],w=0,A=0;A<=E;A++){var P=w+(this.i(A)&65535)+(T.i(A)&65535),M=(P>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);w=M>>>16,P&=65535,M&=65535,y[A]=M<<16|P}return new v(y,y[y.length-1]&-2147483648?-1:0)};function e(T,E){return T.add(f(E))}u.j=function(T){if(i(this)||i(T))return l;if(s(this))return s(T)?f(this).j(f(T)):f(f(this).j(T));if(s(T))return f(this.j(f(T)));if(0>this.l(r)&&0>T.l(r))return h(this.m()*T.m());for(var E=this.g.length+T.g.length,y=[],w=0;w<2*E;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var A=0;A<T.g.length;A++){var P=this.i(w)>>>16,M=this.i(w)&65535,L=T.i(A)>>>16,F=T.i(A)&65535;y[2*w+2*A]+=M*F,o(y,2*w+2*A),y[2*w+2*A+1]+=P*F,o(y,2*w+2*A+1),y[2*w+2*A+1]+=M*L,o(y,2*w+2*A+1),y[2*w+2*A+2]+=P*L,o(y,2*w+2*A+2)}for(w=0;w<E;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=E;w<2*E;w++)y[w]=0;return new v(y,0)};function o(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function d(T,E){this.g=T,this.h=E}function c(T,E){if(i(E))throw Error("division by zero");if(i(T))return new d(l,l);if(s(T))return E=c(f(T),E),new d(f(E.g),f(E.h));if(s(E))return E=c(T,f(E)),new d(f(E.g),E.h);if(30<T.g.length){if(s(T)||s(E))throw Error("slowDivide_ only works with positive integers.");for(var y=a,w=E;0>=w.l(T);)y=p(y),w=p(w);var A=x(y,1),P=x(w,1);for(w=x(w,2),y=x(y,2);!i(w);){var M=P.add(w);0>=M.l(T)&&(A=A.add(y),P=M),w=x(w,1),y=x(y,1)}return E=e(T,A.j(E)),new d(A,E)}for(A=l;0<=T.l(E);){for(y=Math.max(1,Math.floor(T.m()/E.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),P=h(y),M=P.j(E);s(M)||0<M.l(T);)y-=w,P=h(y),M=P.j(E);i(P)&&(P=a),A=A.add(P),T=e(T,M)}return new d(A,T)}u.A=function(T){return c(this,T).h},u.and=function(T){for(var E=Math.max(this.g.length,T.g.length),y=[],w=0;w<E;w++)y[w]=this.i(w)&T.i(w);return new v(y,this.h&T.h)},u.or=function(T){for(var E=Math.max(this.g.length,T.g.length),y=[],w=0;w<E;w++)y[w]=this.i(w)|T.i(w);return new v(y,this.h|T.h)},u.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),y=[],w=0;w<E;w++)y[w]=this.i(w)^T.i(w);return new v(y,this.h^T.h)};function p(T){for(var E=T.g.length+1,y=[],w=0;w<E;w++)y[w]=T.i(w)<<1|T.i(w-1)>>>31;return new v(y,T.h)}function x(T,E){var y=E>>5;E%=32;for(var w=T.g.length-y,A=[],P=0;P<w;P++)A[P]=0<E?T.i(P+y)>>>E|T.i(P+y+1)<<32-E:T.i(P+y);return new v(A,T.h)}C.prototype.digest=C.prototype.v,C.prototype.reset=C.prototype.s,C.prototype.update=C.prototype.u,B0=C,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=h,v.fromString=m,jn=v}).apply(typeof np<"u"?np:typeof self<"u"?self:typeof window<"u"?window:{});var oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b0,V0,Fr,G0,Mo,Qu,U0,z0,X0;(function(){var u,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(D,j,$){return D==Array.prototype||D==Object.prototype||(D[j]=$.value),D};function g(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof oo=="object"&&oo];for(var j=0;j<D.length;++j){var $=D[j];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var C=g(this);function R(D,j){if(j)t:{var $=C;D=D.split(".");for(var q=0;q<D.length-1;q++){var it=D[q];if(!(it in $))break t;$=$[it]}D=D[D.length-1],q=$[D],j=j(q),j!=q&&j!=null&&n($,D,{configurable:!0,writable:!0,value:j})}}function I(D,j){D instanceof String&&(D+="");var $=0,q=!1,it={next:function(){if(!q&&$<D.length){var at=$++;return{value:j(at,D[at]),done:!1}}return q=!0,{done:!0,value:void 0}}};return it[Symbol.iterator]=function(){return it},it}R("Array.prototype.values",function(D){return D||function(){return I(this,function(j,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var v=v||{},S=this||self;function t(D){var j=typeof D;return j=j!="object"?j:D?Array.isArray(D)?"array":j:"null",j=="array"||j=="object"&&typeof D.length=="number"}function h(D){var j=typeof D;return j=="object"&&D!=null||j=="function"}function m(D,j,$){return D.call.apply(D.bind,arguments)}function l(D,j,$){if(!D)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,q),D.apply(j,it)}}return function(){return D.apply(j,arguments)}}function a(D,j,$){return a=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:l,a.apply(null,arguments)}function r(D,j){var $=Array.prototype.slice.call(arguments,1);return function(){var q=$.slice();return q.push.apply(q,arguments),D.apply(this,q)}}function i(D,j){function $(){}$.prototype=j.prototype,D.aa=j.prototype,D.prototype=new $,D.prototype.constructor=D,D.Qb=function(q,it,at){for(var ct=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)ct[Xt-2]=arguments[Xt];return j.prototype[it].apply(q,ct)}}function s(D){const j=D.length;if(0<j){const $=Array(j);for(let q=0;q<j;q++)$[q]=D[q];return $}return[]}function f(D,j){for(let $=1;$<arguments.length;$++){const q=arguments[$];if(t(q)){const it=D.length||0,at=q.length||0;D.length=it+at;for(let ct=0;ct<at;ct++)D[it+ct]=q[ct]}else D.push(q)}}class e{constructor(j,$){this.i=j,this.j=$,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function o(D){return/^[\s\xa0]*$/.test(D)}function d(){var D=S.navigator;return D&&(D=D.userAgent)?D:""}function c(D){return c[" "](D),D}c[" "]=function(){};var p=d().indexOf("Gecko")!=-1&&!(d().toLowerCase().indexOf("webkit")!=-1&&d().indexOf("Edge")==-1)&&!(d().indexOf("Trident")!=-1||d().indexOf("MSIE")!=-1)&&d().indexOf("Edge")==-1;function x(D,j,$){for(const q in D)j.call($,D[q],q,D)}function T(D,j){for(const $ in D)j.call(void 0,D[$],$,D)}function E(D){const j={};for(const $ in D)j[$]=D[$];return j}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(D,j){let $,q;for(let it=1;it<arguments.length;it++){q=arguments[it];for($ in q)D[$]=q[$];for(let at=0;at<y.length;at++)$=y[at],Object.prototype.hasOwnProperty.call(q,$)&&(D[$]=q[$])}}function A(D){var j=1;D=D.split(":");const $=[];for(;0<j&&D.length;)$.push(D.shift()),j--;return D.length&&$.push(D.join(":")),$}function P(D){S.setTimeout(()=>{throw D},0)}function M(){var D=X;let j=null;return D.g&&(j=D.g,D.g=D.g.next,D.g||(D.h=null),j.next=null),j}class L{constructor(){this.h=this.g=null}add(j,$){const q=F.get();q.set(j,$),this.h?this.h.next=q:this.g=q,this.h=q}}var F=new e(()=>new N,D=>D.reset());class N{constructor(){this.next=this.g=this.h=null}set(j,$){this.h=j,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let b,V=!1,X=new L,W=()=>{const D=S.Promise.resolve(void 0);b=()=>{D.then(k)}};var k=()=>{for(var D;D=M();){try{D.h.call(D.g)}catch($){P($)}var j=F;j.j(D),100>j.h&&(j.h++,D.next=j.g,j.g=D)}V=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(D,j){this.type=D,this.g=this.target=j,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var D=!1,j=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const $=()=>{};S.addEventListener("test",$,j),S.removeEventListener("test",$,j)}catch{}return D}();function O(D,j){if(U.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D){var $=this.type=D.type,q=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;if(this.target=D.target||D.srcElement,this.g=j,j=D.relatedTarget){if(p){t:{try{c(j.nodeName);var it=!0;break t}catch{}it=!1}it||(j=null)}}else $=="mouseover"?j=D.fromElement:$=="mouseout"&&(j=D.toElement);this.relatedTarget=j,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=typeof D.pointerType=="string"?D.pointerType:G[D.pointerType]||"",this.state=D.state,this.i=D,D.defaultPrevented&&O.aa.h.call(this)}}i(O,U);var G={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),H=0;function K(D,j,$,q,it){this.listener=D,this.proxy=null,this.src=j,this.type=$,this.capture=!!q,this.ha=it,this.key=++H,this.da=this.fa=!1}function J(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function Z(D){this.src=D,this.g={},this.h=0}Z.prototype.add=function(D,j,$,q,it){var at=D.toString();D=this.g[at],D||(D=this.g[at]=[],this.h++);var ct=tt(D,j,q,it);return-1<ct?(j=D[ct],$||(j.fa=!1)):(j=new K(j,this.src,at,!!q,it),j.fa=$,D.push(j)),j};function _(D,j){var $=j.type;if($ in D.g){var q=D.g[$],it=Array.prototype.indexOf.call(q,j,void 0),at;(at=0<=it)&&Array.prototype.splice.call(q,it,1),at&&(J(j),D.g[$].length==0&&(delete D.g[$],D.h--))}}function tt(D,j,$,q){for(var it=0;it<D.length;++it){var at=D[it];if(!at.da&&at.listener==j&&at.capture==!!$&&at.ha==q)return it}return-1}var et="closure_lm_"+(1e6*Math.random()|0),nt={};function rt(D,j,$,q,it){if(Array.isArray(j)){for(var at=0;at<j.length;at++)rt(D,j[at],$,q,it);return null}return $=wt($),D&&D[z]?D.K(j,$,h(q)?!!q.capture:!!q,it):st(D,j,$,!1,q,it)}function st(D,j,$,q,it,at){if(!j)throw Error("Invalid event type");var ct=h(it)?!!it.capture:!!it,Xt=vt(D);if(Xt||(D[et]=Xt=new Z(D)),$=Xt.add(j,$,q,ct,at),$.proxy)return $;if(q=lt(),$.proxy=q,q.src=D,q.listener=$,D.addEventListener)Y||(it=ct),it===void 0&&(it=!1),D.addEventListener(j.toString(),q,it);else if(D.attachEvent)D.attachEvent(xt(j.toString()),q);else if(D.addListener&&D.removeListener)D.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return $}function lt(){function D($){return j.call(D.src,D.listener,$)}const j=ot;return D}function mt(D,j,$,q,it){if(Array.isArray(j))for(var at=0;at<j.length;at++)mt(D,j[at],$,q,it);else q=h(q)?!!q.capture:!!q,$=wt($),D&&D[z]?(D=D.i,j=String(j).toString(),j in D.g&&(at=D.g[j],$=tt(at,$,q,it),-1<$&&(J(at[$]),Array.prototype.splice.call(at,$,1),at.length==0&&(delete D.g[j],D.h--)))):D&&(D=vt(D))&&(j=D.g[j.toString()],D=-1,j&&(D=tt(j,$,q,it)),($=-1<D?j[D]:null)&&gt($))}function gt(D){if(typeof D!="number"&&D&&!D.da){var j=D.src;if(j&&j[z])_(j.i,D);else{var $=D.type,q=D.proxy;j.removeEventListener?j.removeEventListener($,q,D.capture):j.detachEvent?j.detachEvent(xt($),q):j.addListener&&j.removeListener&&j.removeListener(q),($=vt(j))?(_($,D),$.h==0&&($.src=null,j[et]=null)):J(D)}}}function xt(D){return D in nt?nt[D]:nt[D]="on"+D}function ot(D,j){if(D.da)D=!0;else{j=new O(j,this);var $=D.listener,q=D.ha||D.src;D.fa&&gt(D),D=$.call(q,j)}return D}function vt(D){return D=D[et],D instanceof Z?D:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(D){return typeof D=="function"?D:(D[dt]||(D[dt]=function(j){return D.handleEvent(j)}),D[dt])}function Tt(){Q.call(this),this.i=new Z(this),this.M=this,this.F=null}i(Tt,Q),Tt.prototype[z]=!0,Tt.prototype.removeEventListener=function(D,j,$,q){mt(this,D,j,$,q)};function Mt(D,j){var $,q=D.F;if(q)for($=[];q;q=q.F)$.push(q);if(D=D.M,q=j.type||j,typeof j=="string")j=new U(j,D);else if(j instanceof U)j.target=j.target||D;else{var it=j;j=new U(q,D),w(j,it)}if(it=!0,$)for(var at=$.length-1;0<=at;at--){var ct=j.g=$[at];it=Vt(ct,q,!0,j)&&it}if(ct=j.g=D,it=Vt(ct,q,!0,j)&&it,it=Vt(ct,q,!1,j)&&it,$)for(at=0;at<$.length;at++)ct=j.g=$[at],it=Vt(ct,q,!1,j)&&it}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var D=this.i,j;for(j in D.g){for(var $=D.g[j],q=0;q<$.length;q++)J($[q]);delete D.g[j],D.h--}}this.F=null},Tt.prototype.K=function(D,j,$,q){return this.i.add(String(D),j,!1,$,q)},Tt.prototype.L=function(D,j,$,q){return this.i.add(String(D),j,!0,$,q)};function Vt(D,j,$,q){if(j=D.i.g[String(j)],!j)return!0;j=j.concat();for(var it=!0,at=0;at<j.length;++at){var ct=j[at];if(ct&&!ct.da&&ct.capture==$){var Xt=ct.listener,ge=ct.ha||ct.src;ct.fa&&_(D.i,ct),it=Xt.call(ge,q)!==!1&&it}}return it&&!q.defaultPrevented}function It(D,j,$){if(typeof D=="function")$&&(D=a(D,$));else if(D&&typeof D.handleEvent=="function")D=a(D.handleEvent,D);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:S.setTimeout(D,j||0)}function At(D){D.g=It(()=>{D.g=null,D.i&&(D.i=!1,At(D))},D.l);const j=D.h;D.h=null,D.m.apply(null,j)}class zt extends Q{constructor(j,$){super(),this.m=j,this.l=$,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(D){Q.call(this),this.h=D,this.g={}}i(Wt,Q);var te=[];function se(D){x(D.g,function(j,$){this.g.hasOwnProperty($)&&gt(j)},D),D.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),se(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=S.JSON.stringify,Mi=S.JSON.parse,Ii=class{stringify(D){return S.JSON.stringify(D,void 0)}parse(D){return S.JSON.parse(D,void 0)}};function ai(){}ai.prototype.h=null;function pi(D){return D.h||(D.h=D.i())}function mi(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hl(){U.call(this,"d")}i(Hl,U);function kl(){U.call(this,"c")}i(kl,U);var In={},Xd=null;function Ia(){return Xd=Xd||new Tt}In.La="serverreachability";function Yd(D){U.call(this,In.La,D)}i(Yd,U);function sr(D){const j=Ia();Mt(j,new Yd(j))}In.STAT_EVENT="statevent";function Wd(D,j){U.call(this,In.STAT_EVENT,D),this.stat=j}i(Wd,U);function De(D){const j=Ia();Mt(j,new Wd(j,D))}In.Ma="timingevent";function jd(D,j){U.call(this,In.Ma,D),this.size=j}i(jd,U);function rr(D,j){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){D()},j)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function hy(D,j,$,q,it,at){D.info(function(){if(D.g)if(at)for(var ct="",Xt=at.split("&"),ge=0;ge<Xt.length;ge++){var bt=Xt[ge].split("=");if(1<bt.length){var we=bt[0];bt=bt[1];var Ae=we.split("_");ct=2<=Ae.length&&Ae[1]=="type"?ct+(we+"="+bt+"&"):ct+(we+"=redacted&")}}else ct=null;else ct=at;return"XMLHTTP REQ ("+q+") [attempt "+it+"]: "+j+`
`+$+`
`+ct})}function uy(D,j,$,q,it,at,ct){D.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+it+"]: "+j+`
`+$+`
`+at+" "+ct})}function as(D,j,$,q){D.info(function(){return"XMLHTTP TEXT ("+j+"): "+dy(D,$)+(q?" "+q:"")})}function fy(D,j){D.info(function(){return"TIMEOUT: "+j})}ar.prototype.info=function(){};function dy(D,j){if(!D.g)return j;if(!j)return null;try{var $=JSON.parse(j);if($){for(D=0;D<$.length;D++)if(Array.isArray($[D])){var q=$[D];if(!(2>q.length)){var it=q[1];if(Array.isArray(it)&&!(1>it.length)){var at=it[0];if(at!="noop"&&at!="stop"&&at!="close")for(var ct=1;ct<it.length;ct++)it[ct]=""}}}}return me($)}catch{return j}}var Fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kl;function La(){}i(La,ai),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Kl=new La;function ki(D,j,$,q){this.j=D,this.i=j,this.l=$,this.R=q||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kd}function kd(){this.i=null,this.g="",this.h=!1}var Kd={},$l={};function Ql(D,j,$){D.L=1,D.v=Ba(Fi(j)),D.m=$,D.P=!0,$d(D,null)}function $d(D,j){D.F=Date.now(),Oa(D),D.A=Fi(D.v);var $=D.A,q=D.R;Array.isArray(q)||(q=[String(q)]),lc($.i,"t",q),D.C=0,$=D.j.J,D.h=new kd,D.g=Pc(D.j,$?j:null,!D.m),0<D.O&&(D.M=new zt(a(D.Y,D,D.g),D.O)),j=D.U,$=D.g,q=D.ca;var it="readystatechange";Array.isArray(it)||(it&&(te[0]=it.toString()),it=te);for(var at=0;at<it.length;at++){var ct=rt($,it[at],q||j.handleEvent,!1,j.h||j);if(!ct)break;j.g[ct.key]=ct}j=D.H?E(D.H):{},D.m?(D.u||(D.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.A,D.u,D.m,j)):(D.u="GET",D.g.ea(D.A,D.u,null,j)),sr(),hy(D.i,D.u,D.A,D.l,D.R,D.m)}ki.prototype.ca=function(D){D=D.target;const j=this.M;j&&Li(D)==3?j.j():this.Y(D)},ki.prototype.Y=function(D){try{if(D==this.g)t:{const Ae=Li(this.g);var j=this.g.Ba();const hs=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||pc(this.g)))){this.J||Ae!=4||j==7||(j==8||0>=hs?sr(3):sr(2)),Jl(this);var $=this.g.Z();this.X=$;e:if(Qd(this)){var q=pc(this.g);D="";var it=q.length,at=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),or(this);var ct="";break e}this.h.i=new S.TextDecoder}for(j=0;j<it;j++)this.h.h=!0,D+=this.h.i.decode(q[j],{stream:!(at&&j==it-1)});q.length=0,this.h.g+=D,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=$==200,uy(this.i,this.u,this.A,this.l,this.R,Ae,$),this.o){if(this.T&&!this.K){e:{if(this.g){var Xt,ge=this.g;if((Xt=ge.g?ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!o(Xt)){var bt=Xt;break e}}bt=null}if($=bt)as(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zl(this,$);else{this.o=!1,this.s=3,De(12),Fn(this),or(this);break t}}if(this.P){$=!0;let oi;for(;!this.J&&this.C<ct.length;)if(oi=cy(this,ct),oi==$l){Ae==4&&(this.s=4,De(14),$=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==Kd){this.s=4,De(15),as(this.i,this.l,ct,"[Invalid Chunk]"),$=!1;break}else as(this.i,this.l,oi,null),Zl(this,oi);if(Qd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||ct.length!=0||this.h.h||(this.s=1,De(16),$=!1),this.o=this.o&&$,!$)as(this.i,this.l,ct,"[Invalid Chunked Response]"),Fn(this),or(this);else if(0<ct.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),nh(we),we.M=!0,De(11))}}else as(this.i,this.l,ct,null),Zl(this,ct);Ae==4&&Fn(this),this.o&&!this.J&&(Ae==4?Sc(this.j,this):(this.o=!1,Oa(this)))}else Fy(this.g),$==400&&0<ct.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),Fn(this),or(this)}}}catch{}finally{}};function Qd(D){return D.g?D.u=="GET"&&D.L!=2&&D.j.Ca:!1}function cy(D,j){var $=D.C,q=j.indexOf(`
`,$);return q==-1?$l:($=Number(j.substring($,q)),isNaN($)?Kd:(q+=1,q+$>j.length?$l:(j=j.slice(q,q+$),D.C=q+$,j)))}ki.prototype.cancel=function(){this.J=!0,Fn(this)};function Oa(D){D.S=Date.now()+D.I,Jd(D,D.I)}function Jd(D,j){if(D.B!=null)throw Error("WatchDog timer not null");D.B=rr(a(D.ba,D),j)}function Jl(D){D.B&&(S.clearTimeout(D.B),D.B=null)}ki.prototype.ba=function(){this.B=null;const D=Date.now();0<=D-this.S?(fy(this.i,this.A),this.L!=2&&(sr(),De(17)),Fn(this),this.s=2,or(this)):Jd(this,this.S-D)};function or(D){D.j.G==0||D.J||Sc(D.j,D)}function Fn(D){Jl(D);var j=D.M;j&&typeof j.ma=="function"&&j.ma(),D.M=null,se(D.U),D.g&&(j=D.g,D.g=null,j.abort(),j.ma())}function Zl(D,j){try{var $=D.j;if($.G!=0&&($.g==D||ql($.h,D))){if(!D.K&&ql($.h,D)&&$.G==3){try{var q=$.Da.g.parse(j)}catch{q=null}if(Array.isArray(q)&&q.length==3){var it=q;if(it[0]==0){t:if(!$.u){if($.g)if($.g.F+3e3<D.F)za($),Ga($);else break t;ih($),De(18)}}else $.za=it[1],0<$.za-$.T&&37500>it[2]&&$.F&&$.v==0&&!$.C&&($.C=rr(a($.Za,$),6e3));if(1>=_d($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else On($,11)}else if((D.K||$.g==D)&&za($),!o(j))for(it=$.Da.g.parse(j),j=0;j<it.length;j++){let bt=it[j];if($.T=bt[0],bt=bt[1],$.G==2)if(bt[0]=="c"){$.K=bt[1],$.ia=bt[2];const we=bt[3];we!=null&&($.la=we,$.j.info("VER="+$.la));const Ae=bt[4];Ae!=null&&($.Aa=Ae,$.j.info("SVER="+$.Aa));const hs=bt[5];hs!=null&&typeof hs=="number"&&0<hs&&(q=1.5*hs,$.L=q,$.j.info("backChannelRequestTimeoutMs_="+q)),q=$;const oi=D.g;if(oi){const Ya=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var at=q.h;at.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(_l(at,at.h),at.h=null))}if(q.D){const sh=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;sh&&(q.ya=sh,jt(q.I,q.D,sh))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-D.F,$.j.info("Handshake RTT: "+$.R+"ms")),q=$;var ct=D;if(q.qa=Ac(q,q.J?q.ia:null,q.W),ct.K){tc(q.h,ct);var Xt=ct,ge=q.L;ge&&(Xt.I=ge),Xt.B&&(Jl(Xt),Oa(Xt)),q.g=ct}else Tc(q);0<$.i.length&&Ua($)}else bt[0]!="stop"&&bt[0]!="close"||On($,7);else $.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?On($,7):eh($):bt[0]!="noop"&&$.l&&$.l.ta(bt),$.v=0)}}sr(4)}catch{}}var vy=class{constructor(D,j){this.g=D,this.map=j}};function Zd(D){this.l=D||10,S.PerformanceNavigationTiming?(D=S.performance.getEntriesByType("navigation"),D=0<D.length&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qd(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function _d(D){return D.h?1:D.g?D.g.size:0}function ql(D,j){return D.h?D.h==j:D.g?D.g.has(j):!1}function _l(D,j){D.g?D.g.add(j):D.h=j}function tc(D,j){D.h&&D.h==j?D.h=null:D.g&&D.g.has(j)&&D.g.delete(j)}Zd.prototype.cancel=function(){if(this.i=ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function ec(D){if(D.h!=null)return D.i.concat(D.h.D);if(D.g!=null&&D.g.size!==0){let j=D.i;for(const $ of D.g.values())j=j.concat($.D);return j}return s(D.i)}function py(D){if(D.V&&typeof D.V=="function")return D.V();if(typeof Map<"u"&&D instanceof Map||typeof Set<"u"&&D instanceof Set)return Array.from(D.values());if(typeof D=="string")return D.split("");if(t(D)){for(var j=[],$=D.length,q=0;q<$;q++)j.push(D[q]);return j}j=[],$=0;for(q in D)j[$++]=D[q];return j}function my(D){if(D.na&&typeof D.na=="function")return D.na();if(!D.V||typeof D.V!="function"){if(typeof Map<"u"&&D instanceof Map)return Array.from(D.keys());if(!(typeof Set<"u"&&D instanceof Set)){if(t(D)||typeof D=="string"){var j=[];D=D.length;for(var $=0;$<D;$++)j.push($);return j}j=[],$=0;for(const q in D)j[$++]=q;return j}}}function ic(D,j){if(D.forEach&&typeof D.forEach=="function")D.forEach(j,void 0);else if(t(D)||typeof D=="string")Array.prototype.forEach.call(D,j,void 0);else for(var $=my(D),q=py(D),it=q.length,at=0;at<it;at++)j.call(void 0,q[at],$&&$[at],D)}var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gy(D,j){if(D){D=D.split("&");for(var $=0;$<D.length;$++){var q=D[$].indexOf("="),it=null;if(0<=q){var at=D[$].substring(0,q);it=D[$].substring(q+1)}else at=D[$];j(at,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function Ln(D){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,D instanceof Ln){this.h=D.h,Da(this,D.j),this.o=D.o,this.g=D.g,Na(this,D.s),this.l=D.l;var j=D.i,$=new ur;$.i=j.i,j.g&&($.g=new Map(j.g),$.h=j.h),sc(this,$),this.m=D.m}else D&&(j=String(D).match(nc))?(this.h=!1,Da(this,j[1]||"",!0),this.o=lr(j[2]||""),this.g=lr(j[3]||"",!0),Na(this,j[4]),this.l=lr(j[5]||"",!0),sc(this,j[6]||"",!0),this.m=lr(j[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Ln.prototype.toString=function(){var D=[],j=this.j;j&&D.push(hr(j,rc,!0),":");var $=this.g;return($||j=="file")&&(D.push("//"),(j=this.o)&&D.push(hr(j,rc,!0),"@"),D.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&D.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&D.push("/"),D.push(hr($,$.charAt(0)=="/"?Ty:yy,!0))),($=this.i.toString())&&D.push("?",$),($=this.m)&&D.push("#",hr($,Sy)),D.join("")};function Fi(D){return new Ln(D)}function Da(D,j,$){D.j=$?lr(j,!0):j,D.j&&(D.j=D.j.replace(/:$/,""))}function Na(D,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);D.s=j}else D.s=null}function sc(D,j,$){j instanceof ur?(D.i=j,Cy(D.i,D.h)):($||(j=hr(j,Ey)),D.i=new ur(j,D.h))}function jt(D,j,$){D.i.set(j,$)}function Ba(D){return jt(D,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),D}function lr(D,j){return D?j?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function hr(D,j,$){return typeof D=="string"?(D=encodeURI(D).replace(j,xy),$&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function xy(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var rc=/[#\/\?@]/g,yy=/[#\?:]/g,Ty=/[#\?]/g,Ey=/[#\?@]/g,Sy=/#/g;function ur(D,j){this.h=this.g=null,this.i=D||null,this.j=!!j}function Ki(D){D.g||(D.g=new Map,D.h=0,D.i&&gy(D.i,function(j,$){D.add(decodeURIComponent(j.replace(/\+/g," ")),$)}))}u=ur.prototype,u.add=function(D,j){Ki(this),this.i=null,D=os(this,D);var $=this.g.get(D);return $||this.g.set(D,$=[]),$.push(j),this.h+=1,this};function ac(D,j){Ki(D),j=os(D,j),D.g.has(j)&&(D.i=null,D.h-=D.g.get(j).length,D.g.delete(j))}function oc(D,j){return Ki(D),j=os(D,j),D.g.has(j)}u.forEach=function(D,j){Ki(this),this.g.forEach(function($,q){$.forEach(function(it){D.call(j,it,q,this)},this)},this)},u.na=function(){Ki(this);const D=Array.from(this.g.values()),j=Array.from(this.g.keys()),$=[];for(let q=0;q<j.length;q++){const it=D[q];for(let at=0;at<it.length;at++)$.push(j[q])}return $},u.V=function(D){Ki(this);let j=[];if(typeof D=="string")oc(this,D)&&(j=j.concat(this.g.get(os(this,D))));else{D=Array.from(this.g.values());for(let $=0;$<D.length;$++)j=j.concat(D[$])}return j},u.set=function(D,j){return Ki(this),this.i=null,D=os(this,D),oc(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[j]),this.h+=1,this},u.get=function(D,j){return D?(D=this.V(D),0<D.length?String(D[0]):j):j};function lc(D,j,$){ac(D,j),0<$.length&&(D.i=null,D.g.set(os(D,j),s($)),D.h+=$.length)}u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],j=Array.from(this.g.keys());for(var $=0;$<j.length;$++){var q=j[$];const at=encodeURIComponent(String(q)),ct=this.V(q);for(q=0;q<ct.length;q++){var it=at;ct[q]!==""&&(it+="="+encodeURIComponent(String(ct[q]))),D.push(it)}}return this.i=D.join("&")};function os(D,j){return j=String(j),D.j&&(j=j.toLowerCase()),j}function Cy(D,j){j&&!D.j&&(Ki(D),D.i=null,D.g.forEach(function($,q){var it=q.toLowerCase();q!=it&&(ac(this,q),lc(this,it,$))},D)),D.j=j}function wy(D,j){const $=new ar;if(S.Image){const q=new Image;q.onload=r($i,$,"TestLoadImage: loaded",!0,j,q),q.onerror=r($i,$,"TestLoadImage: error",!1,j,q),q.onabort=r($i,$,"TestLoadImage: abort",!1,j,q),q.ontimeout=r($i,$,"TestLoadImage: timeout",!1,j,q),S.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=D}else j(!1)}function Ay(D,j){const $=new ar,q=new AbortController,it=setTimeout(()=>{q.abort(),$i($,"TestPingServer: timeout",!1,j)},1e4);fetch(D,{signal:q.signal}).then(at=>{clearTimeout(it),at.ok?$i($,"TestPingServer: ok",!0,j):$i($,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(it),$i($,"TestPingServer: error",!1,j)})}function $i(D,j,$,q,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),q($)}catch{}}function Py(){this.g=new Ii}function Ry(D,j,$){const q=$||"";try{ic(D,function(it,at){let ct=it;h(it)&&(ct=me(it)),j.push(q+at+"="+encodeURIComponent(ct))})}catch(it){throw j.push(q+"type="+encodeURIComponent("_badmap")),it}}function fr(D){this.l=D.Ub||null,this.j=D.eb||!1}i(fr,ai),fr.prototype.g=function(){return new ba(this.l,this.j)},fr.prototype.i=function(D){return function(){return D}}({});function ba(D,j){Tt.call(this),this.D=D,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}i(ba,Tt),u=ba.prototype,u.open=function(D,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=D,this.A=j,this.readyState=1,cr(this)},u.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};D&&(j.body=D),(this.D||S).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},u.Sa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else D.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(D){D.j.read().then(D.Pa.bind(D)).catch(D.ga.bind(D))}u.Pa=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var j=D.value?D.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!D.done}))&&(this.response=this.responseText+=j)}D.done?dr(this):cr(this),this.readyState==3&&hc(this)}},u.Ra=function(D){this.g&&(this.response=this.responseText=D,dr(this))},u.Qa=function(D){this.g&&(this.response=D,dr(this))},u.ga=function(){this.g&&dr(this)};function dr(D){D.readyState=4,D.l=null,D.j=null,D.v=null,cr(D)}u.setRequestHeader=function(D,j){this.u.append(D,j)},u.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],j=this.h.entries();for(var $=j.next();!$.done;)$=$.value,D.push($[0]+": "+$[1]),$=j.next();return D.join(`\r
`)};function cr(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function uc(D){let j="";return x(D,function($,q){j+=q,j+=":",j+=$,j+=`\r
`}),j}function th(D,j,$){t:{for(q in $){var q=!1;break t}q=!0}q||($=uc($),typeof D=="string"?$!=null&&encodeURIComponent(String($)):jt(D,j,$))}function Zt(D){Tt.call(this),this.headers=new Map,this.o=D||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}i(Zt,Tt);var My=/^https?$/i,Iy=["POST","PUT"];u=Zt.prototype,u.Ha=function(D){this.J=D},u.ea=function(D,j,$,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);j=j?j.toUpperCase():"GET",this.D=D,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kl.g(),this.v=this.o?pi(this.o):pi(Kl),this.g.onreadystatechange=a(this.Ea,this);try{this.B=!0,this.g.open(j,String(D),!0),this.B=!1}catch(at){fc(this,at);return}if(D=$||"",$=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var it in q)$.set(it,q[it]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const at of q.keys())$.set(at,q.get(at));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from($.keys()).find(at=>at.toLowerCase()=="content-type"),it=S.FormData&&D instanceof S.FormData,!(0<=Array.prototype.indexOf.call(Iy,j,void 0))||q||it||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,ct]of $)this.g.setRequestHeader(at,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vc(this),this.u=!0,this.g.send(D),this.u=!1}catch(at){fc(this,at)}};function fc(D,j){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=j,D.m=5,dc(D),Va(D)}function dc(D){D.A||(D.A=!0,Mt(D,"complete"),Mt(D,"error"))}u.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=D||7,Mt(this,"complete"),Mt(this,"abort"),Va(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Zt.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?cc(this):this.bb())},u.bb=function(){cc(this)};function cc(D){if(D.h&&typeof v<"u"&&(!D.v[1]||Li(D)!=4||D.Z()!=2)){if(D.u&&Li(D)==4)It(D.Ea,0,D);else if(Mt(D,"readystatechange"),Li(D)==4){D.h=!1;try{const ct=D.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break t;default:j=!1}var $;if(!($=j)){var q;if(q=ct===0){var it=String(D.D).match(nc)[1]||null;!it&&S.self&&S.self.location&&(it=S.self.location.protocol.slice(0,-1)),q=!My.test(it?it.toLowerCase():"")}$=q}if($)Mt(D,"complete"),Mt(D,"success");else{D.m=6;try{var at=2<Li(D)?D.g.statusText:""}catch{at=""}D.l=at+" ["+D.Z()+"]",dc(D)}}finally{Va(D)}}}}function Va(D,j){if(D.g){vc(D);const $=D.g,q=D.v[0]?()=>{}:null;D.g=null,D.v=null,j||Mt(D,"ready");try{$.onreadystatechange=q}catch{}}}function vc(D){D.I&&(S.clearTimeout(D.I),D.I=null)}u.isActive=function(){return!!this.g};function Li(D){return D.g?D.g.readyState:0}u.Z=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(D){if(this.g){var j=this.g.responseText;return D&&j.indexOf(D)==0&&(j=j.substring(D.length)),Mi(j)}};function pc(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.H){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function Fy(D){const j={};D=(D.g&&2<=Li(D)&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<D.length;q++){if(o(D[q]))continue;var $=A(D[q]);const it=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const at=j[it]||[];j[it]=at,at.push($)}T(j,function(q){return q.join(", ")})}u.Ba=function(){return this.m},u.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(D,j,$){return $&&$.internalChannelParams&&$.internalChannelParams[D]||j}function mc(D){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vr("failFast",!1,D),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vr("baseRetryDelayMs",5e3,D),this.cb=vr("retryDelaySeedMs",1e4,D),this.Wa=vr("forwardChannelMaxRetries",2,D),this.wa=vr("forwardChannelRequestTimeoutMs",2e4,D),this.pa=D&&D.xmlHttpFactory||void 0,this.Xa=D&&D.Tb||void 0,this.Ca=D&&D.useFetchStreams||!1,this.L=void 0,this.J=D&&D.supportsCrossDomainXhr||!1,this.K="",this.h=new Zd(D&&D.concurrentRequestLimit),this.Da=new Py,this.P=D&&D.fastHandshake||!1,this.O=D&&D.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=D&&D.Rb||!1,D&&D.xa&&this.j.xa(),D&&D.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&D&&D.detectBufferingProxy||!1,this.ja=void 0,D&&D.longPollingTimeout&&0<D.longPollingTimeout&&(this.ja=D.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}u=mc.prototype,u.la=8,u.G=1,u.connect=function(D,j,$,q){De(0),this.W=D,this.H=j||{},$&&q!==void 0&&(this.H.OSID=$,this.H.OAID=q),this.F=this.X,this.I=Ac(this,null,this.W),Ua(this)};function eh(D){if(gc(D),D.G==3){var j=D.U++,$=Fi(D.I);if(jt($,"SID",D.K),jt($,"RID",j),jt($,"TYPE","terminate"),pr(D,$),j=new ki(D,D.j,j),j.L=2,j.v=Ba(Fi($)),$=!1,S.navigator&&S.navigator.sendBeacon)try{$=S.navigator.sendBeacon(j.v.toString(),"")}catch{}!$&&S.Image&&(new Image().src=j.v,$=!0),$||(j.g=Pc(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Oa(j)}wc(D)}function Ga(D){D.g&&(nh(D),D.g.cancel(),D.g=null)}function gc(D){Ga(D),D.u&&(S.clearTimeout(D.u),D.u=null),za(D),D.h.cancel(),D.s&&(typeof D.s=="number"&&S.clearTimeout(D.s),D.s=null)}function Ua(D){if(!qd(D.h)&&!D.s){D.s=!0;var j=D.Ga;b||W(),V||(b(),V=!0),X.add(j,D),D.B=0}}function Ly(D,j){return _d(D.h)>=D.h.j-(D.s?1:0)?!1:D.s?(D.i=j.D.concat(D.i),!0):D.G==1||D.G==2||D.B>=(D.Va?0:D.Wa)?!1:(D.s=rr(a(D.Ga,D,j),Cc(D,D.B)),D.B++,!0)}u.Ga=function(D){if(this.s)if(this.s=null,this.G==1){if(!D){this.U=Math.floor(1e5*Math.random()),D=this.U++;const it=new ki(this,this.j,D);let at=this.o;if(this.S&&(at?(at=E(at),w(at,this.S)):at=this.S),this.m!==null||this.O||(it.H=at,at=null),this.P)t:{for(var j=0,$=0;$<this.i.length;$++){e:{var q=this.i[$];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break e}q=void 0}if(q===void 0)break;if(j+=q,4096<j){j=$;break t}if(j===4096||$===this.i.length-1){j=$+1;break t}}j=1e3}else j=1e3;j=yc(this,it,j),$=Fi(this.I),jt($,"RID",D),jt($,"CVER",22),this.D&&jt($,"X-HTTP-Session-Id",this.D),pr(this,$),at&&(this.O?j="headers="+encodeURIComponent(String(uc(at)))+"&"+j:this.m&&th($,this.m,at)),_l(this.h,it),this.Ua&&jt($,"TYPE","init"),this.P?(jt($,"$req",j),jt($,"SID","null"),it.T=!0,Ql(it,$,null)):Ql(it,$,j),this.G=2}}else this.G==3&&(D?xc(this,D):this.i.length==0||qd(this.h)||xc(this))};function xc(D,j){var $;j?$=j.l:$=D.U++;const q=Fi(D.I);jt(q,"SID",D.K),jt(q,"RID",$),jt(q,"AID",D.T),pr(D,q),D.m&&D.o&&th(q,D.m,D.o),$=new ki(D,D.j,$,D.B+1),D.m===null&&($.H=D.o),j&&(D.i=j.D.concat(D.i)),j=yc(D,$,1e3),$.I=Math.round(.5*D.wa)+Math.round(.5*D.wa*Math.random()),_l(D.h,$),Ql($,q,j)}function pr(D,j){D.H&&x(D.H,function($,q){jt(j,q,$)}),D.l&&ic({},function($,q){jt(j,q,$)})}function yc(D,j,$){$=Math.min(D.i.length,$);var q=D.l?a(D.l.Na,D.l,D):null;t:{var it=D.i;let at=-1;for(;;){const ct=["count="+$];at==-1?0<$?(at=it[0].g,ct.push("ofs="+at)):at=0:ct.push("ofs="+at);let Xt=!0;for(let ge=0;ge<$;ge++){let bt=it[ge].g;const we=it[ge].map;if(bt-=at,0>bt)at=Math.max(0,it[ge].g-100),Xt=!1;else try{Ry(we,ct,"req"+bt+"_")}catch{q&&q(we)}}if(Xt){q=ct.join("&");break t}}}return D=D.i.splice(0,$),j.D=D,q}function Tc(D){if(!D.g&&!D.u){D.Y=1;var j=D.Fa;b||W(),V||(b(),V=!0),X.add(j,D),D.v=0}}function ih(D){return D.g||D.u||3<=D.v?!1:(D.Y++,D.u=rr(a(D.Fa,D),Cc(D,D.v)),D.v++,!0)}u.Fa=function(){if(this.u=null,Ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var D=2*this.R;this.j.info("BP detection timer enabled: "+D),this.A=rr(a(this.ab,this),D)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Ga(this),Ec(this))};function nh(D){D.A!=null&&(S.clearTimeout(D.A),D.A=null)}function Ec(D){D.g=new ki(D,D.j,"rpc",D.Y),D.m===null&&(D.g.H=D.o),D.g.O=0;var j=Fi(D.qa);jt(j,"RID","rpc"),jt(j,"SID",D.K),jt(j,"AID",D.T),jt(j,"CI",D.F?"0":"1"),!D.F&&D.ja&&jt(j,"TO",D.ja),jt(j,"TYPE","xmlhttp"),pr(D,j),D.m&&D.o&&th(j,D.m,D.o),D.L&&(D.g.I=D.L);var $=D.g;D=D.ia,$.L=1,$.v=Ba(Fi(j)),$.m=null,$.P=!0,$d($,D)}u.Za=function(){this.C!=null&&(this.C=null,Ga(this),ih(this),De(19))};function za(D){D.C!=null&&(S.clearTimeout(D.C),D.C=null)}function Sc(D,j){var $=null;if(D.g==j){za(D),nh(D),D.g=null;var q=2}else if(ql(D.h,j))$=j.D,tc(D.h,j),q=1;else return;if(D.G!=0){if(j.o)if(q==1){$=j.m?j.m.length:0,j=Date.now()-j.F;var it=D.B;q=Ia(),Mt(q,new jd(q,$)),Ua(D)}else Tc(D);else if(it=j.s,it==3||it==0&&0<j.X||!(q==1&&Ly(D,j)||q==2&&ih(D)))switch($&&0<$.length&&(j=D.h,j.i=j.i.concat($)),it){case 1:On(D,5);break;case 4:On(D,10);break;case 3:On(D,6);break;default:On(D,2)}}}function Cc(D,j){let $=D.Ta+Math.floor(Math.random()*D.cb);return D.isActive()||($*=2),$*j}function On(D,j){if(D.j.info("Error code "+j),j==2){var $=a(D.fb,D),q=D.Xa;const it=!q;q=new Ln(q||"//www.google.com/images/cleardot.gif"),S.location&&S.location.protocol=="http"||Da(q,"https"),Ba(q),it?wy(q.toString(),$):Ay(q.toString(),$)}else De(2);D.G=0,D.l&&D.l.sa(j),wc(D),gc(D)}u.fb=function(D){D?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function wc(D){if(D.G=0,D.ka=[],D.l){const j=ec(D.h);(j.length!=0||D.i.length!=0)&&(f(D.ka,j),f(D.ka,D.i),D.h.i.length=0,s(D.i),D.i.length=0),D.l.ra()}}function Ac(D,j,$){var q=$ instanceof Ln?Fi($):new Ln($);if(q.g!="")j&&(q.g=j+"."+q.g),Na(q,q.s);else{var it=S.location;q=it.protocol,j=j?j+"."+it.hostname:it.hostname,it=+it.port;var at=new Ln(null);q&&Da(at,q),j&&(at.g=j),it&&Na(at,it),$&&(at.l=$),q=at}return $=D.D,j=D.ya,$&&j&&jt(q,$,j),jt(q,"VER",D.la),pr(D,q),q}function Pc(D,j,$){if(j&&!D.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=D.Ca&&!D.pa?new Zt(new fr({eb:$})):new Zt(D.pa),j.Ha(D.J),j}u.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}u=Rc.prototype,u.ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){};function Xa(){}Xa.prototype.g=function(D,j){return new ke(D,j)};function ke(D,j){Tt.call(this),this.g=new mc(j),this.l=D,this.h=j&&j.messageUrlParams||null,D=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(D?D["X-WebChannel-Content-Type"]=j.messageContentType:D={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(D?D["X-WebChannel-Client-Profile"]=j.va:D={"X-WebChannel-Client-Profile":j.va}),this.g.S=D,(D=j&&j.Sb)&&!o(D)&&(this.g.m=D),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!o(j)&&(this.g.D=j,D=this.h,D!==null&&j in D&&(D=this.h,j in D&&delete D[j])),this.j=new ls(this)}i(ke,Tt),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){eh(this.g)},ke.prototype.o=function(D){var j=this.g;if(typeof D=="string"){var $={};$.__data__=D,D=$}else this.u&&($={},$.__data__=me(D),D=$);j.i.push(new vy(j.Ya++,D)),j.G==3&&Ua(j)},ke.prototype.N=function(){this.g.l=null,delete this.j,eh(this.g),delete this.g,ke.aa.N.call(this)};function Mc(D){Hl.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var j=D.__sm__;if(j){t:{for(const $ in j){D=$;break t}D=void 0}(this.i=D)&&(D=this.i,j=j!==null&&D in j?j[D]:void 0),this.data=j}else this.data=D}i(Mc,Hl);function Ic(){kl.call(this),this.status=1}i(Ic,kl);function ls(D){this.g=D}i(ls,Rc),ls.prototype.ua=function(){Mt(this.g,"a")},ls.prototype.ta=function(D){Mt(this.g,new Mc(D))},ls.prototype.sa=function(D){Mt(this.g,new Ic)},ls.prototype.ra=function(){Mt(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,X0=function(){return new Xa},z0=function(){return Ia()},U0=In,Qu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,Mo=Fa,Hd.COMPLETE="complete",G0=Hd,mi.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Fr=mi,V0=fr,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,b0=Zt}).apply(typeof oo<"u"?oo:typeof self<"u"?self:typeof window<"u"?window:{});const sp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ie.UNAUTHENTICATED=new Ie(null),Ie.GOOGLE_CREDENTIALS=new Ie("google-credentials-uid"),Ie.FIRST_PARTY=new Ie("first-party-uid"),Ie.MOCK_USER=new Ie("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new fd("@firebase/firestore");function wr(){return qn.logLevel}function Et(u,...n){if(qn.logLevel<=Dt.DEBUG){const g=n.map(cd);qn.debug(`Firestore (${_s}): ${u}`,...g)}}function ji(u,...n){if(qn.logLevel<=Dt.ERROR){const g=n.map(cd);qn.error(`Firestore (${_s}): ${u}`,...g)}}function Ys(u,...n){if(qn.logLevel<=Dt.WARN){const g=n.map(cd);qn.warn(`Firestore (${_s}): ${u}`,...g)}}function cd(u){if(typeof u=="string")return u;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(g){return JSON.stringify(g)}(u)}catch{return u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(u="Unexpected state"){const n=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: `+u;throw ji(n),new Error(n)}function he(u,n){u||Rt()}function Ot(u,n){return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Mn{constructor(n,g){super(n,g),this.code=n,this.message=g,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.promise=new Promise((n,g)=>{this.resolve=n,this.reject=g})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(n,g){this.user=g,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class _S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,g){n.enqueueRetryable(()=>g(Ie.UNAUTHENTICATED))}shutdown(){}}class tC{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,g){this.changeListener=g,n.enqueueRetryable(()=>g(this.token.user))}shutdown(){this.changeListener=null}}class eC{constructor(n){this.t=n,this.currentUser=Ie.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,g){let C=this.i;const R=t=>this.i!==C?(C=this.i,g(t)):Promise.resolve();let I=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new Hn,n.enqueueRetryable(()=>R(this.currentUser))};const v=()=>{const t=I;n.enqueueRetryable(async()=>{await t.promise,await R(this.currentUser)})},S=t=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(t=>S(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?S(t):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new Hn)}},0),v()}getToken(){const n=this.i,g=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(g).then(C=>this.i!==n?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):C?(he(typeof C.accessToken=="string"),new Y0(C.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return he(n===null||typeof n=="string"),new Ie(n)}}class iC{constructor(n,g,C){this.l=n,this.h=g,this.P=C,this.type="FirstParty",this.user=Ie.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nC{constructor(n,g,C){this.l=n,this.h=g,this.P=C}getToken(){return Promise.resolve(new iC(this.l,this.h,this.P))}start(n,g){n.enqueueRetryable(()=>g(Ie.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sC{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rC{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,g){const C=I=>{I.error!=null&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${I.error.message}`);const v=I.token!==this.R;return this.R=I.token,Et("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?g(I.token):Promise.resolve()};this.o=I=>{n.enqueueRetryable(()=>C(I))};const R=I=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=I,this.appCheck.addTokenListener(this.o)};this.A.onInit(I=>R(I)),setTimeout(()=>{if(!this.appCheck){const I=this.A.getImmediate({optional:!0});I?R(I):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(g=>g?(he(typeof g.token=="string"),this.R=g.token,new sC(g.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(u){const n=typeof self<"u"&&(self.crypto||self.msCrypto),g=new Uint8Array(u);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(g);else for(let C=0;C<u;C++)g[C]=Math.floor(256*Math.random());return g}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g=Math.floor(256/n.length)*n.length;let C="";for(;C.length<20;){const R=aC(40);for(let I=0;I<R.length;++I)C.length<20&&R[I]<g&&(C+=n.charAt(R[I]%n.length))}return C}}function Gt(u,n){return u<n?-1:u>n?1:0}function Ws(u,n,g){return u.length===n.length&&u.every((C,R)=>g(C,n[R]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(n,g){if(this.seconds=n,this.nanoseconds=g,g<0)throw new St(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+g);if(g>=1e9)throw new St(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+g);if(n<-62135596800)throw new St(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new St(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return je.fromMillis(Date.now())}static fromDate(n){return je.fromMillis(n.getTime())}static fromMillis(n){const g=Math.floor(n/1e3),C=Math.floor(1e6*(n-1e3*g));return new je(g,C)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Gt(this.nanoseconds,n.nanoseconds):Gt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const n=this.seconds- -62135596800;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Pt(n)}static min(){return new Pt(new je(0,0))}static max(){return new Pt(new je(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(n,g,C){g===void 0?g=0:g>n.length&&Rt(),C===void 0?C=n.length-g:C>n.length-g&&Rt(),this.segments=n,this.offset=g,this.len=C}get length(){return this.len}isEqual(n){return ca.comparator(this,n)===0}child(n){const g=this.segments.slice(this.offset,this.limit());return n instanceof ca?n.forEach(C=>{g.push(C)}):g.push(n),this.construct(g)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let g=0;g<this.length;g++)if(this.get(g)!==n.get(g))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let g=0;g<this.length;g++)if(this.get(g)!==n.get(g))return!1;return!0}forEach(n){for(let g=this.offset,C=this.limit();g<C;g++)n(this.segments[g])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,g){const C=Math.min(n.length,g.length);for(let R=0;R<C;R++){const I=n.get(R),v=g.get(R);if(I<v)return-1;if(I>v)return 1}return n.length<g.length?-1:n.length>g.length?1:0}}class _t extends ca{construct(n,g,C){return new _t(n,g,C)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const g=[];for(const C of n){if(C.indexOf("//")>=0)throw new St(pt.INVALID_ARGUMENT,`Invalid segment (${C}). Paths must not contain // in them.`);g.push(...C.split("/").filter(R=>R.length>0))}return new _t(g)}static emptyPath(){return new _t([])}}const lC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ca{construct(n,g,C){return new Be(n,g,C)}static isValidIdentifier(n){return lC.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(n){const g=[];let C="",R=0;const I=()=>{if(C.length===0)throw new St(pt.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);g.push(C),C=""};let v=!1;for(;R<n.length;){const S=n[R];if(S==="\\"){if(R+1===n.length)throw new St(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const t=n[R+1];if(t!=="\\"&&t!=="."&&t!=="`")throw new St(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);C+=t,R+=2}else S==="`"?(v=!v,R++):S!=="."||v?(C+=S,R++):(I(),R++)}if(I(),v)throw new St(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Be(g)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(n){this.path=n}static fromPath(n){return new Ct(_t.fromString(n))}static fromName(n){return new Ct(_t.fromString(n).popFirst(5))}static empty(){return new Ct(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&_t.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,g){return _t.comparator(n.path,g.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ct(new _t(n.slice()))}}function hC(u,n){const g=u.toTimestamp().seconds,C=u.toTimestamp().nanoseconds+1,R=Pt.fromTimestamp(C===1e9?new je(g+1,0):new je(g,C));return new Sn(R,Ct.empty(),n)}function uC(u){return new Sn(u.readTime,u.key,-1)}class Sn{constructor(n,g,C){this.readTime=n,this.documentKey=g,this.largestBatchId=C}static min(){return new Sn(Pt.min(),Ct.empty(),-1)}static max(){return new Sn(Pt.max(),Ct.empty(),-1)}}function fC(u,n){let g=u.readTime.compareTo(n.readTime);return g!==0?g:(g=Ct.comparator(u.documentKey,n.documentKey),g!==0?g:Gt(u.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(u){if(u.code!==pt.FAILED_PRECONDITION||u.message!==dC)throw u;Et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(g=>{this.isDone=!0,this.result=g,this.nextCallback&&this.nextCallback(g)},g=>{this.isDone=!0,this.error=g,this.catchCallback&&this.catchCallback(g)})}catch(n){return this.next(void 0,n)}next(n,g){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(g,this.error):this.wrapSuccess(n,this.result):new ht((C,R)=>{this.nextCallback=I=>{this.wrapSuccess(n,I).next(C,R)},this.catchCallback=I=>{this.wrapFailure(g,I).next(C,R)}})}toPromise(){return new Promise((n,g)=>{this.next(n,g)})}wrapUserFunction(n){try{const g=n();return g instanceof ht?g:ht.resolve(g)}catch(g){return ht.reject(g)}}wrapSuccess(n,g){return n?this.wrapUserFunction(()=>n(g)):ht.resolve(g)}wrapFailure(n,g){return n?this.wrapUserFunction(()=>n(g)):ht.reject(g)}static resolve(n){return new ht((g,C)=>{g(n)})}static reject(n){return new ht((g,C)=>{C(n)})}static waitFor(n){return new ht((g,C)=>{let R=0,I=0,v=!1;n.forEach(S=>{++R,S.next(()=>{++I,v&&I===R&&g()},t=>C(t))}),v=!0,I===R&&g()})}static or(n){let g=ht.resolve(!1);for(const C of n)g=g.next(R=>R?ht.resolve(R):C());return g}static forEach(n,g){const C=[];return n.forEach((R,I)=>{C.push(g.call(this,R,I))}),this.waitFor(C)}static mapArray(n,g){return new ht((C,R)=>{const I=n.length,v=new Array(I);let S=0;for(let t=0;t<I;t++){const h=t;g(n[h]).next(m=>{v[h]=m,++S,S===I&&C(v)},m=>R(m))}})}static doWhile(n,g){return new ht((C,R)=>{const I=()=>{n()===!0?g().next(()=>{I()},R):C()};I()})}}function vC(u){const n=u.match(/Android ([\d.]+)/i),g=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(g)}function Aa(u){return u.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(n,g){this.previousValue=n,g&&(g.sequenceNumberHandler=C=>this.ie(C),this.se=C=>g.writeSequenceNumber(C))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}pd.oe=-1;function Dl(u){return u==null}function Ju(u){return u===0&&1/u==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(u){let n=0;for(const g in u)Object.prototype.hasOwnProperty.call(u,g)&&n++;return n}function Nl(u,n){for(const g in u)Object.prototype.hasOwnProperty.call(u,g)&&n(g,u[g])}function pC(u){for(const n in u)if(Object.prototype.hasOwnProperty.call(u,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(n,g){this.comparator=n,this.root=g||ye.EMPTY}insert(n,g){return new ne(this.comparator,this.root.insert(n,g,this.comparator).copy(null,null,ye.BLACK,null,null))}remove(n){return new ne(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ye.BLACK,null,null))}get(n){let g=this.root;for(;!g.isEmpty();){const C=this.comparator(n,g.key);if(C===0)return g.value;C<0?g=g.left:C>0&&(g=g.right)}return null}indexOf(n){let g=0,C=this.root;for(;!C.isEmpty();){const R=this.comparator(n,C.key);if(R===0)return g+C.left.size;R<0?C=C.left:(g+=C.left.size+1,C=C.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((g,C)=>(n(g,C),!1))}toString(){const n=[];return this.inorderTraversal((g,C)=>(n.push(`${g}:${C}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new lo(this.root,n,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new lo(this.root,n,this.comparator,!0)}}class lo{constructor(n,g,C,R){this.isReverse=R,this.nodeStack=[];let I=1;for(;!n.isEmpty();)if(I=g?C(n.key,g):1,g&&R&&(I*=-1),I<0)n=this.isReverse?n.left:n.right;else{if(I===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const g={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return g}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ye{constructor(n,g,C,R,I){this.key=n,this.value=g,this.color=C??ye.RED,this.left=R??ye.EMPTY,this.right=I??ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,g,C,R,I){return new ye(n??this.key,g??this.value,C??this.color,R??this.left,I??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,g,C){let R=this;const I=C(n,R.key);return R=I<0?R.copy(null,null,null,R.left.insert(n,g,C),null):I===0?R.copy(null,g,null,null,null):R.copy(null,null,null,null,R.right.insert(n,g,C)),R.fixUp()}removeMin(){if(this.left.isEmpty())return ye.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,g){let C,R=this;if(g(n,R.key)<0)R.left.isEmpty()||R.left.isRed()||R.left.left.isRed()||(R=R.moveRedLeft()),R=R.copy(null,null,null,R.left.remove(n,g),null);else{if(R.left.isRed()&&(R=R.rotateRight()),R.right.isEmpty()||R.right.isRed()||R.right.left.isRed()||(R=R.moveRedRight()),g(n,R.key)===0){if(R.right.isEmpty())return ye.EMPTY;C=R.right.min(),R=R.copy(C.key,C.value,null,null,R.right.removeMin())}R=R.copy(null,null,null,null,R.right.remove(n,g))}return R.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,g)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const n=this.left.check();if(n!==this.right.check())throw Rt();return n+(this.isRed()?0:1)}}ye.EMPTY=null,ye.RED=!0,ye.BLACK=!1;ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(n,g,C,R,I){return this}insert(n,g,C){return new ye(n,g)}remove(n,g){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(n){this.comparator=n,this.data=new ne(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((g,C)=>(n(g),!1))}forEachInRange(n,g){const C=this.data.getIteratorFrom(n[0]);for(;C.hasNext();){const R=C.getNext();if(this.comparator(R.key,n[1])>=0)return;g(R.key)}}forEachWhile(n,g){let C;for(C=g!==void 0?this.data.getIteratorFrom(g):this.data.getIterator();C.hasNext();)if(!n(C.getNext().key))return}firstAfterOrEqual(n){const g=this.data.getIteratorFrom(n);return g.hasNext()?g.getNext().key:null}getIterator(){return new ap(this.data.getIterator())}getIteratorFrom(n){return new ap(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let g=this;return g.size<n.size&&(g=n,n=this),n.forEach(C=>{g=g.add(C)}),g}isEqual(n){if(!(n instanceof Ee)||this.size!==n.size)return!1;const g=this.data.getIterator(),C=n.data.getIterator();for(;g.hasNext();){const R=g.getNext().key,I=C.getNext().key;if(this.comparator(R,I)!==0)return!1}return!0}toArray(){const n=[];return this.forEach(g=>{n.push(g)}),n}toString(){const n=[];return this.forEach(g=>n.push(g)),"SortedSet("+n.toString()+")"}copy(n){const g=new Ee(this.comparator);return g.data=n,g}}class ap{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(n){this.fields=n,n.sort(Be.comparator)}static empty(){return new an([])}unionWith(n){let g=new Ee(Be.comparator);for(const C of this.fields)g=g.add(C);for(const C of n)g=g.add(C);return new an(g.toArray())}covers(n){for(const g of this.fields)if(g.isPrefixOf(n))return!0;return!1}isEqual(n){return Ws(this.fields,n.fields,(g,C)=>g.isEqual(C))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(n){this.binaryString=n}static fromBase64String(n){const g=function(R){try{return atob(R)}catch(I){throw typeof DOMException<"u"&&I instanceof DOMException?new W0("Invalid base64 string: "+I):I}}(n);return new Ce(g)}static fromUint8Array(n){const g=function(R){let I="";for(let v=0;v<R.length;++v)I+=String.fromCharCode(R[v]);return I}(n);return new Ce(g)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(g){return btoa(g)}(this.binaryString)}toUint8Array(){return function(g){const C=new Uint8Array(g.length);for(let R=0;R<g.length;R++)C[R]=g.charCodeAt(R);return C}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Gt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const mC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cn(u){if(he(!!u),typeof u=="string"){let n=0;const g=mC.exec(u);if(he(!!g),g[1]){let R=g[1];R=(R+"000000000").substr(0,9),n=Number(R)}const C=new Date(u);return{seconds:Math.floor(C.getTime()/1e3),nanos:n}}return{seconds:ee(u.seconds),nanos:ee(u.nanos)}}function ee(u){return typeof u=="number"?u:typeof u=="string"?Number(u):0}function _n(u){return typeof u=="string"?Ce.fromBase64String(u):Ce.fromUint8Array(u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(u){var n,g;return((g=(((n=u==null?void 0:u.mapValue)===null||n===void 0?void 0:n.fields)||{}).__type__)===null||g===void 0?void 0:g.stringValue)==="server_timestamp"}function gd(u){const n=u.mapValue.fields.__previous_value__;return md(n)?gd(n):n}function va(u){const n=Cn(u.mapValue.fields.__local_write_time__.timestampValue);return new je(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(n,g,C,R,I,v,S,t,h){this.databaseId=n,this.appId=g,this.persistenceKey=C,this.host=R,this.ssl=I,this.forceLongPolling=v,this.autoDetectLongPolling=S,this.longPollingOptions=t,this.useFetchStreams=h}}class pa{constructor(n,g){this.projectId=n,this.database=g||"(default)"}static empty(){return new pa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(n){return n instanceof pa&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?md(u)?4:yC(u)?9007199254740991:xC(u)?10:11:Rt()}function Pi(u,n){if(u===n)return!0;const g=ts(u);if(g!==ts(n))return!1;switch(g){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===n.booleanValue;case 4:return va(u).isEqual(va(n));case 3:return function(R,I){if(typeof R.timestampValue=="string"&&typeof I.timestampValue=="string"&&R.timestampValue.length===I.timestampValue.length)return R.timestampValue===I.timestampValue;const v=Cn(R.timestampValue),S=Cn(I.timestampValue);return v.seconds===S.seconds&&v.nanos===S.nanos}(u,n);case 5:return u.stringValue===n.stringValue;case 6:return function(R,I){return _n(R.bytesValue).isEqual(_n(I.bytesValue))}(u,n);case 7:return u.referenceValue===n.referenceValue;case 8:return function(R,I){return ee(R.geoPointValue.latitude)===ee(I.geoPointValue.latitude)&&ee(R.geoPointValue.longitude)===ee(I.geoPointValue.longitude)}(u,n);case 2:return function(R,I){if("integerValue"in R&&"integerValue"in I)return ee(R.integerValue)===ee(I.integerValue);if("doubleValue"in R&&"doubleValue"in I){const v=ee(R.doubleValue),S=ee(I.doubleValue);return v===S?Ju(v)===Ju(S):isNaN(v)&&isNaN(S)}return!1}(u,n);case 9:return Ws(u.arrayValue.values||[],n.arrayValue.values||[],Pi);case 10:case 11:return function(R,I){const v=R.mapValue.fields||{},S=I.mapValue.fields||{};if(rp(v)!==rp(S))return!1;for(const t in v)if(v.hasOwnProperty(t)&&(S[t]===void 0||!Pi(v[t],S[t])))return!1;return!0}(u,n);default:return Rt()}}function ma(u,n){return(u.values||[]).find(g=>Pi(g,n))!==void 0}function js(u,n){if(u===n)return 0;const g=ts(u),C=ts(n);if(g!==C)return Gt(g,C);switch(g){case 0:case 9007199254740991:return 0;case 1:return Gt(u.booleanValue,n.booleanValue);case 2:return function(I,v){const S=ee(I.integerValue||I.doubleValue),t=ee(v.integerValue||v.doubleValue);return S<t?-1:S>t?1:S===t?0:isNaN(S)?isNaN(t)?0:-1:1}(u,n);case 3:return op(u.timestampValue,n.timestampValue);case 4:return op(va(u),va(n));case 5:return Gt(u.stringValue,n.stringValue);case 6:return function(I,v){const S=_n(I),t=_n(v);return S.compareTo(t)}(u.bytesValue,n.bytesValue);case 7:return function(I,v){const S=I.split("/"),t=v.split("/");for(let h=0;h<S.length&&h<t.length;h++){const m=Gt(S[h],t[h]);if(m!==0)return m}return Gt(S.length,t.length)}(u.referenceValue,n.referenceValue);case 8:return function(I,v){const S=Gt(ee(I.latitude),ee(v.latitude));return S!==0?S:Gt(ee(I.longitude),ee(v.longitude))}(u.geoPointValue,n.geoPointValue);case 9:return lp(u.arrayValue,n.arrayValue);case 10:return function(I,v){var S,t,h,m;const l=I.fields||{},a=v.fields||{},r=(S=l.value)===null||S===void 0?void 0:S.arrayValue,i=(t=a.value)===null||t===void 0?void 0:t.arrayValue,s=Gt(((h=r==null?void 0:r.values)===null||h===void 0?void 0:h.length)||0,((m=i==null?void 0:i.values)===null||m===void 0?void 0:m.length)||0);return s!==0?s:lp(r,i)}(u.mapValue,n.mapValue);case 11:return function(I,v){if(I===ho.mapValue&&v===ho.mapValue)return 0;if(I===ho.mapValue)return 1;if(v===ho.mapValue)return-1;const S=I.fields||{},t=Object.keys(S),h=v.fields||{},m=Object.keys(h);t.sort(),m.sort();for(let l=0;l<t.length&&l<m.length;++l){const a=Gt(t[l],m[l]);if(a!==0)return a;const r=js(S[t[l]],h[m[l]]);if(r!==0)return r}return Gt(t.length,m.length)}(u.mapValue,n.mapValue);default:throw Rt()}}function op(u,n){if(typeof u=="string"&&typeof n=="string"&&u.length===n.length)return Gt(u,n);const g=Cn(u),C=Cn(n),R=Gt(g.seconds,C.seconds);return R!==0?R:Gt(g.nanos,C.nanos)}function lp(u,n){const g=u.values||[],C=n.values||[];for(let R=0;R<g.length&&R<C.length;++R){const I=js(g[R],C[R]);if(I)return I}return Gt(g.length,C.length)}function Hs(u){return Zu(u)}function Zu(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(g){const C=Cn(g);return`time(${C.seconds},${C.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?function(g){return _n(g).toBase64()}(u.bytesValue):"referenceValue"in u?function(g){return Ct.fromName(g).toString()}(u.referenceValue):"geoPointValue"in u?function(g){return`geo(${g.latitude},${g.longitude})`}(u.geoPointValue):"arrayValue"in u?function(g){let C="[",R=!0;for(const I of g.values||[])R?R=!1:C+=",",C+=Zu(I);return C+"]"}(u.arrayValue):"mapValue"in u?function(g){const C=Object.keys(g.fields||{}).sort();let R="{",I=!0;for(const v of C)I?I=!1:R+=",",R+=`${v}:${Zu(g.fields[v])}`;return R+"}"}(u.mapValue):Rt()}function qu(u){return!!u&&"integerValue"in u}function xd(u){return!!u&&"arrayValue"in u}function hp(u){return!!u&&"nullValue"in u}function up(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Uh(u){return!!u&&"mapValue"in u}function xC(u){var n,g;return((g=(((n=u==null?void 0:u.mapValue)===null||n===void 0?void 0:n.fields)||{}).__type__)===null||g===void 0?void 0:g.stringValue)==="__vector__"}function Yr(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&typeof u.timestampValue=="object")return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const n={mapValue:{fields:{}}};return Nl(u.mapValue.fields,(g,C)=>n.mapValue.fields[g]=Yr(C)),n}if(u.arrayValue){const n={arrayValue:{values:[]}};for(let g=0;g<(u.arrayValue.values||[]).length;++g)n.arrayValue.values[g]=Yr(u.arrayValue.values[g]);return n}return Object.assign({},u)}function yC(u){return(((u.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(n){this.value=n}static empty(){return new Ei({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let g=this.value;for(let C=0;C<n.length-1;++C)if(g=(g.mapValue.fields||{})[n.get(C)],!Uh(g))return null;return g=(g.mapValue.fields||{})[n.lastSegment()],g||null}}set(n,g){this.getFieldsMap(n.popLast())[n.lastSegment()]=Yr(g)}setAll(n){let g=Be.emptyPath(),C={},R=[];n.forEach((v,S)=>{if(!g.isImmediateParentOf(S)){const t=this.getFieldsMap(g);this.applyChanges(t,C,R),C={},R=[],g=S.popLast()}v?C[S.lastSegment()]=Yr(v):R.push(S.lastSegment())});const I=this.getFieldsMap(g);this.applyChanges(I,C,R)}delete(n){const g=this.field(n.popLast());Uh(g)&&g.mapValue.fields&&delete g.mapValue.fields[n.lastSegment()]}isEqual(n){return Pi(this.value,n.value)}getFieldsMap(n){let g=this.value;g.mapValue.fields||(g.mapValue={fields:{}});for(let C=0;C<n.length;++C){let R=g.mapValue.fields[n.get(C)];Uh(R)&&R.mapValue.fields||(R={mapValue:{fields:{}}},g.mapValue.fields[n.get(C)]=R),g=R}return g.mapValue.fields}applyChanges(n,g,C){Nl(g,(R,I)=>n[R]=I);for(const R of C)delete n[R]}clone(){return new Ei(Yr(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(n,g,C,R,I,v,S){this.key=n,this.documentType=g,this.version=C,this.readTime=R,this.createTime=I,this.data=v,this.documentState=S}static newInvalidDocument(n){return new Le(n,0,Pt.min(),Pt.min(),Pt.min(),Ei.empty(),0)}static newFoundDocument(n,g,C,R){return new Le(n,1,g,Pt.min(),C,R,0)}static newNoDocument(n,g){return new Le(n,2,g,Pt.min(),Pt.min(),Ei.empty(),0)}static newUnknownDocument(n,g){return new Le(n,3,g,Pt.min(),Pt.min(),Ei.empty(),2)}convertToFoundDocument(n,g){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=g,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Le&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(n,g){this.position=n,this.inclusive=g}}function fp(u,n,g){let C=0;for(let R=0;R<u.position.length;R++){const I=n[R],v=u.position[R];if(I.field.isKeyField()?C=Ct.comparator(Ct.fromName(v.referenceValue),g.key):C=js(v,g.data.field(I.field)),I.dir==="desc"&&(C*=-1),C!==0)break}return C}function dp(u,n){if(u===null)return n===null;if(n===null||u.inclusive!==n.inclusive||u.position.length!==n.position.length)return!1;for(let g=0;g<u.position.length;g++)if(!Pi(u.position[g],n.position[g]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(n,g="asc"){this.field=n,this.dir=g}}function TC(u,n){return u.dir===n.dir&&u.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{}class fe extends j0{constructor(n,g,C){super(),this.field=n,this.op=g,this.value=C}static create(n,g,C){return n.isKeyField()?g==="in"||g==="not-in"?this.createKeyFieldInFilter(n,g,C):new SC(n,g,C):g==="array-contains"?new AC(n,C):g==="in"?new PC(n,C):g==="not-in"?new RC(n,C):g==="array-contains-any"?new MC(n,C):new fe(n,g,C)}static createKeyFieldInFilter(n,g,C){return g==="in"?new CC(n,C):new wC(n,C)}matches(n){const g=n.data.field(this.field);return this.op==="!="?g!==null&&this.matchesComparison(js(g,this.value)):g!==null&&ts(this.value)===ts(g)&&this.matchesComparison(js(g,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends j0{constructor(n,g){super(),this.filters=n,this.op=g,this.ae=null}static create(n,g){return new Ri(n,g)}matches(n){return H0(this)?this.filters.find(g=>!g.matches(n))===void 0:this.filters.find(g=>g.matches(n))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((n,g)=>n.concat(g.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function H0(u){return u.op==="and"}function k0(u){return EC(u)&&H0(u)}function EC(u){for(const n of u.filters)if(n instanceof Ri)return!1;return!0}function _u(u){if(u instanceof fe)return u.field.canonicalString()+u.op.toString()+Hs(u.value);if(k0(u))return u.filters.map(n=>_u(n)).join(",");{const n=u.filters.map(g=>_u(g)).join(",");return`${u.op}(${n})`}}function K0(u,n){return u instanceof fe?function(C,R){return R instanceof fe&&C.op===R.op&&C.field.isEqual(R.field)&&Pi(C.value,R.value)}(u,n):u instanceof Ri?function(C,R){return R instanceof Ri&&C.op===R.op&&C.filters.length===R.filters.length?C.filters.reduce((I,v,S)=>I&&K0(v,R.filters[S]),!0):!1}(u,n):void Rt()}function $0(u){return u instanceof fe?function(g){return`${g.field.canonicalString()} ${g.op} ${Hs(g.value)}`}(u):u instanceof Ri?function(g){return g.op.toString()+" {"+g.getFilters().map($0).join(" ,")+"}"}(u):"Filter"}class SC extends fe{constructor(n,g,C){super(n,g,C),this.key=Ct.fromName(C.referenceValue)}matches(n){const g=Ct.comparator(n.key,this.key);return this.matchesComparison(g)}}class CC extends fe{constructor(n,g){super(n,"in",g),this.keys=Q0("in",g)}matches(n){return this.keys.some(g=>g.isEqual(n.key))}}class wC extends fe{constructor(n,g){super(n,"not-in",g),this.keys=Q0("not-in",g)}matches(n){return!this.keys.some(g=>g.isEqual(n.key))}}function Q0(u,n){var g;return(((g=n.arrayValue)===null||g===void 0?void 0:g.values)||[]).map(C=>Ct.fromName(C.referenceValue))}class AC extends fe{constructor(n,g){super(n,"array-contains",g)}matches(n){const g=n.data.field(this.field);return xd(g)&&ma(g.arrayValue,this.value)}}class PC extends fe{constructor(n,g){super(n,"in",g)}matches(n){const g=n.data.field(this.field);return g!==null&&ma(this.value.arrayValue,g)}}class RC extends fe{constructor(n,g){super(n,"not-in",g)}matches(n){if(ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const g=n.data.field(this.field);return g!==null&&!ma(this.value.arrayValue,g)}}class MC extends fe{constructor(n,g){super(n,"array-contains-any",g)}matches(n){const g=n.data.field(this.field);return!(!xd(g)||!g.arrayValue.values)&&g.arrayValue.values.some(C=>ma(this.value.arrayValue,C))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(n,g=null,C=[],R=[],I=null,v=null,S=null){this.path=n,this.collectionGroup=g,this.orderBy=C,this.filters=R,this.limit=I,this.startAt=v,this.endAt=S,this.ue=null}}function cp(u,n=null,g=[],C=[],R=null,I=null,v=null){return new IC(u,n,g,C,R,I,v)}function yd(u){const n=Ot(u);if(n.ue===null){let g=n.path.canonicalString();n.collectionGroup!==null&&(g+="|cg:"+n.collectionGroup),g+="|f:",g+=n.filters.map(C=>_u(C)).join(","),g+="|ob:",g+=n.orderBy.map(C=>function(I){return I.field.canonicalString()+I.dir}(C)).join(","),Dl(n.limit)||(g+="|l:",g+=n.limit),n.startAt&&(g+="|lb:",g+=n.startAt.inclusive?"b:":"a:",g+=n.startAt.position.map(C=>Hs(C)).join(",")),n.endAt&&(g+="|ub:",g+=n.endAt.inclusive?"a:":"b:",g+=n.endAt.position.map(C=>Hs(C)).join(",")),n.ue=g}return n.ue}function Td(u,n){if(u.limit!==n.limit||u.orderBy.length!==n.orderBy.length)return!1;for(let g=0;g<u.orderBy.length;g++)if(!TC(u.orderBy[g],n.orderBy[g]))return!1;if(u.filters.length!==n.filters.length)return!1;for(let g=0;g<u.filters.length;g++)if(!K0(u.filters[g],n.filters[g]))return!1;return u.collectionGroup===n.collectionGroup&&!!u.path.isEqual(n.path)&&!!dp(u.startAt,n.startAt)&&dp(u.endAt,n.endAt)}function tf(u){return Ct.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(n,g=null,C=[],R=[],I=null,v="F",S=null,t=null){this.path=n,this.collectionGroup=g,this.explicitOrderBy=C,this.filters=R,this.limit=I,this.limitType=v,this.startAt=S,this.endAt=t,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FC(u,n,g,C,R,I,v,S){return new Bl(u,n,g,C,R,I,v,S)}function J0(u){return new Bl(u)}function vp(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}function LC(u){return u.collectionGroup!==null}function Wr(u){const n=Ot(u);if(n.ce===null){n.ce=[];const g=new Set;for(const I of n.explicitOrderBy)n.ce.push(I),g.add(I.field.canonicalString());const C=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(v){let S=new Ee(Be.comparator);return v.filters.forEach(t=>{t.getFlattenedFilters().forEach(h=>{h.isInequality()&&(S=S.add(h.field))})}),S})(n).forEach(I=>{g.has(I.canonicalString())||I.isKeyField()||n.ce.push(new hl(I,C))}),g.has(Be.keyField().canonicalString())||n.ce.push(new hl(Be.keyField(),C))}return n.ce}function Ai(u){const n=Ot(u);return n.le||(n.le=OC(n,Wr(u))),n.le}function OC(u,n){if(u.limitType==="F")return cp(u.path,u.collectionGroup,n,u.filters,u.limit,u.startAt,u.endAt);{n=n.map(R=>{const I=R.dir==="desc"?"asc":"desc";return new hl(R.field,I)});const g=u.endAt?new ll(u.endAt.position,u.endAt.inclusive):null,C=u.startAt?new ll(u.startAt.position,u.startAt.inclusive):null;return cp(u.path,u.collectionGroup,n,u.filters,u.limit,g,C)}}function ef(u,n,g){return new Bl(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),n,g,u.startAt,u.endAt)}function bl(u,n){return Td(Ai(u),Ai(n))&&u.limitType===n.limitType}function Z0(u){return`${yd(Ai(u))}|lt:${u.limitType}`}function fs(u){return`Query(target=${function(g){let C=g.path.canonicalString();return g.collectionGroup!==null&&(C+=" collectionGroup="+g.collectionGroup),g.filters.length>0&&(C+=`, filters: [${g.filters.map(R=>$0(R)).join(", ")}]`),Dl(g.limit)||(C+=", limit: "+g.limit),g.orderBy.length>0&&(C+=`, orderBy: [${g.orderBy.map(R=>function(v){return`${v.field.canonicalString()} (${v.dir})`}(R)).join(", ")}]`),g.startAt&&(C+=", startAt: ",C+=g.startAt.inclusive?"b:":"a:",C+=g.startAt.position.map(R=>Hs(R)).join(",")),g.endAt&&(C+=", endAt: ",C+=g.endAt.inclusive?"a:":"b:",C+=g.endAt.position.map(R=>Hs(R)).join(",")),`Target(${C})`}(Ai(u))}; limitType=${u.limitType})`}function Vl(u,n){return n.isFoundDocument()&&function(C,R){const I=R.key.path;return C.collectionGroup!==null?R.key.hasCollectionId(C.collectionGroup)&&C.path.isPrefixOf(I):Ct.isDocumentKey(C.path)?C.path.isEqual(I):C.path.isImmediateParentOf(I)}(u,n)&&function(C,R){for(const I of Wr(C))if(!I.field.isKeyField()&&R.data.field(I.field)===null)return!1;return!0}(u,n)&&function(C,R){for(const I of C.filters)if(!I.matches(R))return!1;return!0}(u,n)&&function(C,R){return!(C.startAt&&!function(v,S,t){const h=fp(v,S,t);return v.inclusive?h<=0:h<0}(C.startAt,Wr(C),R)||C.endAt&&!function(v,S,t){const h=fp(v,S,t);return v.inclusive?h>=0:h>0}(C.endAt,Wr(C),R))}(u,n)}function DC(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function q0(u){return(n,g)=>{let C=!1;for(const R of Wr(u)){const I=NC(R,n,g);if(I!==0)return I;C=C||R.field.isKeyField()}return 0}}function NC(u,n,g){const C=u.field.isKeyField()?Ct.comparator(n.key,g.key):function(I,v,S){const t=v.data.field(I),h=S.data.field(I);return t!==null&&h!==null?js(t,h):Rt()}(u.field,n,g);switch(u.dir){case"asc":return C;case"desc":return-1*C;default:return Rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(n,g){this.mapKeyFn=n,this.equalsFn=g,this.inner={},this.innerSize=0}get(n){const g=this.mapKeyFn(n),C=this.inner[g];if(C!==void 0){for(const[R,I]of C)if(this.equalsFn(R,n))return I}}has(n){return this.get(n)!==void 0}set(n,g){const C=this.mapKeyFn(n),R=this.inner[C];if(R===void 0)return this.inner[C]=[[n,g]],void this.innerSize++;for(let I=0;I<R.length;I++)if(this.equalsFn(R[I][0],n))return void(R[I]=[n,g]);R.push([n,g]),this.innerSize++}delete(n){const g=this.mapKeyFn(n),C=this.inner[g];if(C===void 0)return!1;for(let R=0;R<C.length;R++)if(this.equalsFn(C[R][0],n))return C.length===1?delete this.inner[g]:C.splice(R,1),this.innerSize--,!0;return!1}forEach(n){Nl(this.inner,(g,C)=>{for(const[R,I]of C)n(R,I)})}isEmpty(){return pC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new ne(Ct.comparator);function wn(){return BC}const _0=new ne(Ct.comparator);function Lr(...u){let n=_0;for(const g of u)n=n.insert(g.key,g);return n}function bC(u){let n=_0;return u.forEach((g,C)=>n=n.insert(g,C.overlayedDocument)),n}function zn(){return jr()}function tx(){return jr()}function jr(){return new tr(u=>u.toString(),(u,n)=>u.isEqual(n))}const VC=new Ee(Ct.comparator);function Nt(...u){let n=VC;for(const g of u)n=n.add(g);return n}const GC=new Ee(Gt);function UC(){return GC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(u,n){if(u.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(n)?"-0":n}}function XC(u){return{integerValue:""+u}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this._=void 0}}function YC(u,n,g){return u instanceof nf?function(R,I){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:R.seconds,nanos:R.nanoseconds}}}};return I&&md(I)&&(I=gd(I)),I&&(v.fields.__previous_value__=I),{mapValue:v}}(g,n):u instanceof ul?ex(u,n):u instanceof fl?ix(u,n):function(R,I){const v=jC(R,I),S=pp(v)+pp(R.Pe);return qu(v)&&qu(R.Pe)?XC(S):zC(R.serializer,S)}(u,n)}function WC(u,n,g){return u instanceof ul?ex(u,n):u instanceof fl?ix(u,n):g}function jC(u,n){return u instanceof sf?function(C){return qu(C)||function(I){return!!I&&"doubleValue"in I}(C)}(n)?n:{integerValue:0}:null}class nf extends Gl{}class ul extends Gl{constructor(n){super(),this.elements=n}}function ex(u,n){const g=nx(n);for(const C of u.elements)g.some(R=>Pi(R,C))||g.push(C);return{arrayValue:{values:g}}}class fl extends Gl{constructor(n){super(),this.elements=n}}function ix(u,n){let g=nx(n);for(const C of u.elements)g=g.filter(R=>!Pi(R,C));return{arrayValue:{values:g}}}class sf extends Gl{constructor(n,g){super(),this.serializer=n,this.Pe=g}}function pp(u){return ee(u.integerValue||u.doubleValue)}function nx(u){return xd(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}function HC(u,n){return u.field.isEqual(n.field)&&function(C,R){return C instanceof ul&&R instanceof ul||C instanceof fl&&R instanceof fl?Ws(C.elements,R.elements,Pi):C instanceof sf&&R instanceof sf?Pi(C.Pe,R.Pe):C instanceof nf&&R instanceof nf}(u.transform,n.transform)}class kn{constructor(n,g){this.updateTime=n,this.exists=g}static none(){return new kn}static exists(n){return new kn(void 0,n)}static updateTime(n){return new kn(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Io(u,n){return u.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(u.updateTime):u.exists===void 0||u.exists===n.isFoundDocument()}class Ed{}function sx(u,n){if(!u.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return u.isNoDocument()?new KC(u.key,kn.none()):new Sd(u.key,u.data,kn.none());{const g=u.data,C=Ei.empty();let R=new Ee(Be.comparator);for(let I of n.fields)if(!R.has(I)){let v=g.field(I);v===null&&I.length>1&&(I=I.popLast(),v=g.field(I)),v===null?C.delete(I):C.set(I,v),R=R.add(I)}return new Ul(u.key,C,new an(R.toArray()),kn.none())}}function kC(u,n,g){u instanceof Sd?function(R,I,v){const S=R.value.clone(),t=gp(R.fieldTransforms,I,v.transformResults);S.setAll(t),I.convertToFoundDocument(v.version,S).setHasCommittedMutations()}(u,n,g):u instanceof Ul?function(R,I,v){if(!Io(R.precondition,I))return void I.convertToUnknownDocument(v.version);const S=gp(R.fieldTransforms,I,v.transformResults),t=I.data;t.setAll(rx(R)),t.setAll(S),I.convertToFoundDocument(v.version,t).setHasCommittedMutations()}(u,n,g):function(R,I,v){I.convertToNoDocument(v.version).setHasCommittedMutations()}(0,n,g)}function Hr(u,n,g,C){return u instanceof Sd?function(I,v,S,t){if(!Io(I.precondition,v))return S;const h=I.value.clone(),m=xp(I.fieldTransforms,t,v);return h.setAll(m),v.convertToFoundDocument(v.version,h).setHasLocalMutations(),null}(u,n,g,C):u instanceof Ul?function(I,v,S,t){if(!Io(I.precondition,v))return S;const h=xp(I.fieldTransforms,t,v),m=v.data;return m.setAll(rx(I)),m.setAll(h),v.convertToFoundDocument(v.version,m).setHasLocalMutations(),S===null?null:S.unionWith(I.fieldMask.fields).unionWith(I.fieldTransforms.map(l=>l.field))}(u,n,g,C):function(I,v,S){return Io(I.precondition,v)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):S}(u,n,g)}function mp(u,n){return u.type===n.type&&!!u.key.isEqual(n.key)&&!!u.precondition.isEqual(n.precondition)&&!!function(C,R){return C===void 0&&R===void 0||!(!C||!R)&&Ws(C,R,(I,v)=>HC(I,v))}(u.fieldTransforms,n.fieldTransforms)&&(u.type===0?u.value.isEqual(n.value):u.type!==1||u.data.isEqual(n.data)&&u.fieldMask.isEqual(n.fieldMask))}class Sd extends Ed{constructor(n,g,C,R=[]){super(),this.key=n,this.value=g,this.precondition=C,this.fieldTransforms=R,this.type=0}getFieldMask(){return null}}class Ul extends Ed{constructor(n,g,C,R,I=[]){super(),this.key=n,this.data=g,this.fieldMask=C,this.precondition=R,this.fieldTransforms=I,this.type=1}getFieldMask(){return this.fieldMask}}function rx(u){const n=new Map;return u.fieldMask.fields.forEach(g=>{if(!g.isEmpty()){const C=u.data.field(g);n.set(g,C)}}),n}function gp(u,n,g){const C=new Map;he(u.length===g.length);for(let R=0;R<g.length;R++){const I=u[R],v=I.transform,S=n.data.field(I.field);C.set(I.field,WC(v,S,g[R]))}return C}function xp(u,n,g){const C=new Map;for(const R of u){const I=R.transform,v=g.data.field(R.field);C.set(R.field,YC(I,v,n))}return C}class KC extends Ed{constructor(n,g){super(),this.key=n,this.precondition=g,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(n,g,C,R){this.batchId=n,this.localWriteTime=g,this.baseMutations=C,this.mutations=R}applyToRemoteDocument(n,g){const C=g.mutationResults;for(let R=0;R<this.mutations.length;R++){const I=this.mutations[R];I.key.isEqual(n.key)&&kC(I,n,C[R])}}applyToLocalView(n,g){for(const C of this.baseMutations)C.key.isEqual(n.key)&&(g=Hr(C,n,g,this.localWriteTime));for(const C of this.mutations)C.key.isEqual(n.key)&&(g=Hr(C,n,g,this.localWriteTime));return g}applyToLocalDocumentSet(n,g){const C=tx();return this.mutations.forEach(R=>{const I=n.get(R.key),v=I.overlayedDocument;let S=this.applyToLocalView(v,I.mutatedFields);S=g.has(R.key)?null:S;const t=sx(v,S);t!==null&&C.set(R.key,t),v.isValidDocument()||v.convertToNoDocument(Pt.min())}),C}keys(){return this.mutations.reduce((n,g)=>n.add(g.key),Nt())}isEqual(n){return this.batchId===n.batchId&&Ws(this.mutations,n.mutations,(g,C)=>mp(g,C))&&Ws(this.baseMutations,n.baseMutations,(g,C)=>mp(g,C))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(n,g){this.largestBatchId=n,this.mutation=g}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(n,g){this.count=n,this.unchangedNames=g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re,Lt;function ax(u){if(u===void 0)return ji("GRPC error has no .code"),pt.UNKNOWN;switch(u){case re.OK:return pt.OK;case re.CANCELLED:return pt.CANCELLED;case re.UNKNOWN:return pt.UNKNOWN;case re.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case re.INTERNAL:return pt.INTERNAL;case re.UNAVAILABLE:return pt.UNAVAILABLE;case re.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case re.NOT_FOUND:return pt.NOT_FOUND;case re.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case re.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case re.ABORTED:return pt.ABORTED;case re.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case re.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case re.DATA_LOSS:return pt.DATA_LOSS;default:return Rt()}}(Lt=re||(re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new jn([4294967295,4294967295],0);function yp(u){const n=ZC().encode(u),g=new B0;return g.update(n),new Uint8Array(g.digest())}function Tp(u){const n=new DataView(u.buffer),g=n.getUint32(0,!0),C=n.getUint32(4,!0),R=n.getUint32(8,!0),I=n.getUint32(12,!0);return[new jn([g,C],0),new jn([R,I],0)]}class Cd{constructor(n,g,C){if(this.bitmap=n,this.padding=g,this.hashCount=C,g<0||g>=8)throw new Or(`Invalid padding: ${g}`);if(C<0)throw new Or(`Invalid hash count: ${C}`);if(n.length>0&&this.hashCount===0)throw new Or(`Invalid hash count: ${C}`);if(n.length===0&&g!==0)throw new Or(`Invalid padding when bitmap length is 0: ${g}`);this.Ie=8*n.length-g,this.Te=jn.fromNumber(this.Ie)}Ee(n,g,C){let R=n.add(g.multiply(jn.fromNumber(C)));return R.compare(qC)===1&&(R=new jn([R.getBits(0),R.getBits(1)],0)),R.modulo(this.Te).toNumber()}de(n){return(this.bitmap[Math.floor(n/8)]&1<<n%8)!=0}mightContain(n){if(this.Ie===0)return!1;const g=yp(n),[C,R]=Tp(g);for(let I=0;I<this.hashCount;I++){const v=this.Ee(C,R,I);if(!this.de(v))return!1}return!0}static create(n,g,C){const R=n%8==0?0:8-n%8,I=new Uint8Array(Math.ceil(n/8)),v=new Cd(I,R,g);return C.forEach(S=>v.insert(S)),v}insert(n){if(this.Ie===0)return;const g=yp(n),[C,R]=Tp(g);for(let I=0;I<this.hashCount;I++){const v=this.Ee(C,R,I);this.Ae(v)}}Ae(n){const g=Math.floor(n/8),C=n%8;this.bitmap[g]|=1<<C}}class Or extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(n,g,C,R,I){this.snapshotVersion=n,this.targetChanges=g,this.targetMismatches=C,this.documentUpdates=R,this.resolvedLimboDocuments=I}static createSynthesizedRemoteEventForCurrentChange(n,g,C){const R=new Map;return R.set(n,Pa.createSynthesizedTargetChangeForCurrentChange(n,g,C)),new zl(Pt.min(),R,new ne(Gt),wn(),Nt())}}class Pa{constructor(n,g,C,R,I){this.resumeToken=n,this.current=g,this.addedDocuments=C,this.modifiedDocuments=R,this.removedDocuments=I}static createSynthesizedTargetChangeForCurrentChange(n,g,C){return new Pa(C,g,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(n,g,C,R){this.Re=n,this.removedTargetIds=g,this.key=C,this.Ve=R}}class ox{constructor(n,g){this.targetId=n,this.me=g}}class lx{constructor(n,g,C=Ce.EMPTY_BYTE_STRING,R=null){this.state=n,this.targetIds=g,this.resumeToken=C,this.cause=R}}class Ep{constructor(){this.fe=0,this.ge=Cp(),this.pe=Ce.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=Nt(),g=Nt(),C=Nt();return this.ge.forEach((R,I)=>{switch(I){case 0:n=n.add(R);break;case 2:g=g.add(R);break;case 1:C=C.add(R);break;default:Rt()}}),new Pa(this.pe,this.ye,n,g,C)}Ce(){this.we=!1,this.ge=Cp()}Fe(n,g){this.we=!0,this.ge=this.ge.insert(n,g)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _C{constructor(n){this.Le=n,this.Be=new Map,this.ke=wn(),this.qe=Sp(),this.Qe=new ne(Gt)}Ke(n){for(const g of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(g,n.Ve):this.Ue(g,n.key,n.Ve);for(const g of n.removedTargetIds)this.Ue(g,n.key,n.Ve)}We(n){this.forEachTarget(n,g=>{const C=this.Ge(g);switch(n.state){case 0:this.ze(g)&&C.De(n.resumeToken);break;case 1:C.Oe(),C.Se||C.Ce(),C.De(n.resumeToken);break;case 2:C.Oe(),C.Se||this.removeTarget(g);break;case 3:this.ze(g)&&(C.Ne(),C.De(n.resumeToken));break;case 4:this.ze(g)&&(this.je(g),C.De(n.resumeToken));break;default:Rt()}})}forEachTarget(n,g){n.targetIds.length>0?n.targetIds.forEach(g):this.Be.forEach((C,R)=>{this.ze(R)&&g(R)})}He(n){const g=n.targetId,C=n.me.count,R=this.Je(g);if(R){const I=R.target;if(tf(I))if(C===0){const v=new Ct(I.path);this.Ue(g,v,Le.newNoDocument(v,Pt.min()))}else he(C===1);else{const v=this.Ye(g);if(v!==C){const S=this.Ze(n),t=S?this.Xe(S,n,v):1;if(t!==0){this.je(g);const h=t===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(g,h)}}}}}Ze(n){const g=n.me.unchangedNames;if(!g||!g.bits)return null;const{bits:{bitmap:C="",padding:R=0},hashCount:I=0}=g;let v,S;try{v=_n(C).toUint8Array()}catch(t){if(t instanceof W0)return Ys("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{S=new Cd(v,R,I)}catch(t){return Ys(t instanceof Or?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return S.Ie===0?null:S}Xe(n,g,C){return g.me.count===C-this.nt(n,g.targetId)?0:2}nt(n,g){const C=this.Le.getRemoteKeysForTarget(g);let R=0;return C.forEach(I=>{const v=this.Le.tt(),S=`projects/${v.projectId}/databases/${v.database}/documents/${I.path.canonicalString()}`;n.mightContain(S)||(this.Ue(g,I,null),R++)}),R}rt(n){const g=new Map;this.Be.forEach((I,v)=>{const S=this.Je(v);if(S){if(I.current&&tf(S.target)){const t=new Ct(S.target.path);this.ke.get(t)!==null||this.it(v,t)||this.Ue(v,t,Le.newNoDocument(t,n))}I.be&&(g.set(v,I.ve()),I.Ce())}});let C=Nt();this.qe.forEach((I,v)=>{let S=!0;v.forEachWhile(t=>{const h=this.Je(t);return!h||h.purpose==="TargetPurposeLimboResolution"||(S=!1,!1)}),S&&(C=C.add(I))}),this.ke.forEach((I,v)=>v.setReadTime(n));const R=new zl(n,g,this.Qe,this.ke,C);return this.ke=wn(),this.qe=Sp(),this.Qe=new ne(Gt),R}$e(n,g){if(!this.ze(n))return;const C=this.it(n,g.key)?2:0;this.Ge(n).Fe(g.key,C),this.ke=this.ke.insert(g.key,g),this.qe=this.qe.insert(g.key,this.st(g.key).add(n))}Ue(n,g,C){if(!this.ze(n))return;const R=this.Ge(n);this.it(n,g)?R.Fe(g,1):R.Me(g),this.qe=this.qe.insert(g,this.st(g).delete(n)),C&&(this.ke=this.ke.insert(g,C))}removeTarget(n){this.Be.delete(n)}Ye(n){const g=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+g.addedDocuments.size-g.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let g=this.Be.get(n);return g||(g=new Ep,this.Be.set(n,g)),g}st(n){let g=this.qe.get(n);return g||(g=new Ee(Gt),this.qe=this.qe.insert(n,g)),g}ze(n){const g=this.Je(n)!==null;return g||Et("WatchChangeAggregator","Detected inactive target",n),g}Je(n){const g=this.Be.get(n);return g&&g.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new Ep),this.Le.getRemoteKeysForTarget(n).forEach(g=>{this.Ue(n,g,null)})}it(n,g){return this.Le.getRemoteKeysForTarget(n).has(g)}}function Sp(){return new ne(Ct.comparator)}function Cp(){return new ne(Ct.comparator)}const tw={asc:"ASCENDING",desc:"DESCENDING"},ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iw={and:"AND",or:"OR"};class nw{constructor(n,g){this.databaseId=n,this.useProto3Json=g}}function rf(u,n){return u.useProto3Json||Dl(n)?n:{value:n}}function sw(u,n){return u.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function rw(u,n){return u.useProto3Json?n.toBase64():n.toUint8Array()}function Os(u){return he(!!u),Pt.fromTimestamp(function(g){const C=Cn(g);return new je(C.seconds,C.nanos)}(u))}function aw(u,n){return af(u,n).canonicalString()}function af(u,n){const g=function(R){return new _t(["projects",R.projectId,"databases",R.database])}(u).child("documents");return n===void 0?g:g.child(n)}function hx(u){const n=_t.fromString(u);return he(vx(n)),n}function zh(u,n){const g=hx(n);if(g.get(1)!==u.databaseId.projectId)throw new St(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+g.get(1)+" vs "+u.databaseId.projectId);if(g.get(3)!==u.databaseId.database)throw new St(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+g.get(3)+" vs "+u.databaseId.database);return new Ct(fx(g))}function ux(u,n){return aw(u.databaseId,n)}function ow(u){const n=hx(u);return n.length===4?_t.emptyPath():fx(n)}function wp(u){return new _t(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function fx(u){return he(u.length>4&&u.get(4)==="documents"),u.popFirst(5)}function lw(u,n){let g;if("targetChange"in n){n.targetChange;const C=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Rt()}(n.targetChange.targetChangeType||"NO_CHANGE"),R=n.targetChange.targetIds||[],I=function(h,m){return h.useProto3Json?(he(m===void 0||typeof m=="string"),Ce.fromBase64String(m||"")):(he(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ce.fromUint8Array(m||new Uint8Array))}(u,n.targetChange.resumeToken),v=n.targetChange.cause,S=v&&function(h){const m=h.code===void 0?pt.UNKNOWN:ax(h.code);return new St(m,h.message||"")}(v);g=new lx(C,R,I,S||null)}else if("documentChange"in n){n.documentChange;const C=n.documentChange;C.document,C.document.name,C.document.updateTime;const R=zh(u,C.document.name),I=Os(C.document.updateTime),v=C.document.createTime?Os(C.document.createTime):Pt.min(),S=new Ei({mapValue:{fields:C.document.fields}}),t=Le.newFoundDocument(R,I,v,S),h=C.targetIds||[],m=C.removedTargetIds||[];g=new Fo(h,m,t.key,t)}else if("documentDelete"in n){n.documentDelete;const C=n.documentDelete;C.document;const R=zh(u,C.document),I=C.readTime?Os(C.readTime):Pt.min(),v=Le.newNoDocument(R,I),S=C.removedTargetIds||[];g=new Fo([],S,v.key,v)}else if("documentRemove"in n){n.documentRemove;const C=n.documentRemove;C.document;const R=zh(u,C.document),I=C.removedTargetIds||[];g=new Fo([],I,R,null)}else{if(!("filter"in n))return Rt();{n.filter;const C=n.filter;C.targetId;const{count:R=0,unchangedNames:I}=C,v=new JC(R,I),S=C.targetId;g=new ox(S,v)}}return g}function hw(u,n){return{documents:[ux(u,n.path)]}}function uw(u,n){const g={structuredQuery:{}},C=n.path;let R;n.collectionGroup!==null?(R=C,g.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(R=C.popLast(),g.structuredQuery.from=[{collectionId:C.lastSegment()}]),g.parent=ux(u,R);const I=function(h){if(h.length!==0)return cx(Ri.create(h,"and"))}(n.filters);I&&(g.structuredQuery.where=I);const v=function(h){if(h.length!==0)return h.map(m=>function(a){return{field:ds(a.field),direction:cw(a.dir)}}(m))}(n.orderBy);v&&(g.structuredQuery.orderBy=v);const S=rf(u,n.limit);return S!==null&&(g.structuredQuery.limit=S),n.startAt&&(g.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(n.startAt)),n.endAt&&(g.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(n.endAt)),{_t:g,parent:R}}function fw(u){let n=ow(u.parent);const g=u.structuredQuery,C=g.from?g.from.length:0;let R=null;if(C>0){he(C===1);const m=g.from[0];m.allDescendants?R=m.collectionId:n=n.child(m.collectionId)}let I=[];g.where&&(I=function(l){const a=dx(l);return a instanceof Ri&&k0(a)?a.getFilters():[a]}(g.where));let v=[];g.orderBy&&(v=function(l){return l.map(a=>function(i){return new hl(cs(i.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(i.direction))}(a))}(g.orderBy));let S=null;g.limit&&(S=function(l){let a;return a=typeof l=="object"?l.value:l,Dl(a)?null:a}(g.limit));let t=null;g.startAt&&(t=function(l){const a=!!l.before,r=l.values||[];return new ll(r,a)}(g.startAt));let h=null;return g.endAt&&(h=function(l){const a=!l.before,r=l.values||[];return new ll(r,a)}(g.endAt)),FC(n,R,v,I,S,"F",t,h)}function dw(u,n){const g=function(R){switch(R){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(n.purpose);return g==null?null:{"goog-listen-tags":g}}function dx(u){return u.unaryFilter!==void 0?function(g){switch(g.unaryFilter.op){case"IS_NAN":const C=cs(g.unaryFilter.field);return fe.create(C,"==",{doubleValue:NaN});case"IS_NULL":const R=cs(g.unaryFilter.field);return fe.create(R,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const I=cs(g.unaryFilter.field);return fe.create(I,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=cs(g.unaryFilter.field);return fe.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(u):u.fieldFilter!==void 0?function(g){return fe.create(cs(g.fieldFilter.field),function(R){switch(R){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(g.fieldFilter.op),g.fieldFilter.value)}(u):u.compositeFilter!==void 0?function(g){return Ri.create(g.compositeFilter.filters.map(C=>dx(C)),function(R){switch(R){case"AND":return"and";case"OR":return"or";default:return Rt()}}(g.compositeFilter.op))}(u):Rt()}function cw(u){return tw[u]}function vw(u){return ew[u]}function pw(u){return iw[u]}function ds(u){return{fieldPath:u.canonicalString()}}function cs(u){return Be.fromServerFormat(u.fieldPath)}function cx(u){return u instanceof fe?function(g){if(g.op==="=="){if(up(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NAN"}};if(hp(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(up(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NOT_NAN"}};if(hp(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(g.field),op:vw(g.op),value:g.value}}}(u):u instanceof Ri?function(g){const C=g.getFilters().map(R=>cx(R));return C.length===1?C[0]:{compositeFilter:{op:pw(g.op),filters:C}}}(u):Rt()}function vx(u){return u.length>=4&&u.get(0)==="projects"&&u.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(n,g,C,R,I=Pt.min(),v=Pt.min(),S=Ce.EMPTY_BYTE_STRING,t=null){this.target=n,this.targetId=g,this.purpose=C,this.sequenceNumber=R,this.snapshotVersion=I,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=S,this.expectedCount=t}withSequenceNumber(n){return new on(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,g){return new on(this.target,this.targetId,this.purpose,this.sequenceNumber,g,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new on(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new on(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(n){this.ct=n}}function gw(u){const n=fw({parent:u.parent,structuredQuery:u.structuredQuery});return u.limitType==="LAST"?ef(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.un=new yw}addToCollectionParentIndex(n,g){return this.un.add(g),ht.resolve()}getCollectionParents(n,g){return ht.resolve(this.un.getEntries(g))}addFieldIndex(n,g){return ht.resolve()}deleteFieldIndex(n,g){return ht.resolve()}deleteAllFieldIndexes(n){return ht.resolve()}createTargetIndexes(n,g){return ht.resolve()}getDocumentsMatchingTarget(n,g){return ht.resolve(null)}getIndexType(n,g){return ht.resolve(0)}getFieldIndexes(n,g){return ht.resolve([])}getNextCollectionGroupToUpdate(n){return ht.resolve(null)}getMinOffset(n,g){return ht.resolve(Sn.min())}getMinOffsetFromCollectionGroup(n,g){return ht.resolve(Sn.min())}updateCollectionGroup(n,g,C){return ht.resolve()}updateIndexEntries(n,g){return ht.resolve()}}class yw{constructor(){this.index={}}add(n){const g=n.lastSegment(),C=n.popLast(),R=this.index[g]||new Ee(_t.comparator),I=!R.has(C);return this.index[g]=R.add(C),I}has(n){const g=n.lastSegment(),C=n.popLast(),R=this.index[g];return R&&R.has(C)}getEntries(n){return(this.index[n]||new Ee(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new ks(0)}static kn(){return new ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.changes=new tr(n=>n.toString(),(n,g)=>n.isEqual(g)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,g){this.assertNotApplied(),this.changes.set(n,Le.newInvalidDocument(n).setReadTime(g))}getEntry(n,g){this.assertNotApplied();const C=this.changes.get(g);return C!==void 0?ht.resolve(C):this.getFromCache(n,g)}getEntries(n,g){return this.getAllFromCache(n,g)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(n,g){this.overlayedDocument=n,this.mutatedFields=g}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(n,g,C,R){this.remoteDocumentCache=n,this.mutationQueue=g,this.documentOverlayCache=C,this.indexManager=R}getDocument(n,g){let C=null;return this.documentOverlayCache.getOverlay(n,g).next(R=>(C=R,this.remoteDocumentCache.getEntry(n,g))).next(R=>(C!==null&&Hr(C.mutation,R,an.empty(),je.now()),R))}getDocuments(n,g){return this.remoteDocumentCache.getEntries(n,g).next(C=>this.getLocalViewOfDocuments(n,C,Nt()).next(()=>C))}getLocalViewOfDocuments(n,g,C=Nt()){const R=zn();return this.populateOverlays(n,R,g).next(()=>this.computeViews(n,g,R,C).next(I=>{let v=Lr();return I.forEach((S,t)=>{v=v.insert(S,t.overlayedDocument)}),v}))}getOverlayedDocuments(n,g){const C=zn();return this.populateOverlays(n,C,g).next(()=>this.computeViews(n,g,C,Nt()))}populateOverlays(n,g,C){const R=[];return C.forEach(I=>{g.has(I)||R.push(I)}),this.documentOverlayCache.getOverlays(n,R).next(I=>{I.forEach((v,S)=>{g.set(v,S)})})}computeViews(n,g,C,R){let I=wn();const v=jr(),S=function(){return jr()}();return g.forEach((t,h)=>{const m=C.get(h.key);R.has(h.key)&&(m===void 0||m.mutation instanceof Ul)?I=I.insert(h.key,h):m!==void 0?(v.set(h.key,m.mutation.getFieldMask()),Hr(m.mutation,h,m.mutation.getFieldMask(),je.now())):v.set(h.key,an.empty())}),this.recalculateAndSaveOverlays(n,I).next(t=>(t.forEach((h,m)=>v.set(h,m)),g.forEach((h,m)=>{var l;return S.set(h,new Ew(m,(l=v.get(h))!==null&&l!==void 0?l:null))}),S))}recalculateAndSaveOverlays(n,g){const C=jr();let R=new ne((v,S)=>v-S),I=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,g).next(v=>{for(const S of v)S.keys().forEach(t=>{const h=g.get(t);if(h===null)return;let m=C.get(t)||an.empty();m=S.applyToLocalView(h,m),C.set(t,m);const l=(R.get(S.batchId)||Nt()).add(t);R=R.insert(S.batchId,l)})}).next(()=>{const v=[],S=R.getReverseIterator();for(;S.hasNext();){const t=S.getNext(),h=t.key,m=t.value,l=tx();m.forEach(a=>{if(!I.has(a)){const r=sx(g.get(a),C.get(a));r!==null&&l.set(a,r),I=I.add(a)}}),v.push(this.documentOverlayCache.saveOverlays(n,h,l))}return ht.waitFor(v)}).next(()=>C)}recalculateAndSaveOverlaysForDocumentKeys(n,g){return this.remoteDocumentCache.getEntries(n,g).next(C=>this.recalculateAndSaveOverlays(n,C))}getDocumentsMatchingQuery(n,g,C,R){return function(v){return Ct.isDocumentKey(v.path)&&v.collectionGroup===null&&v.filters.length===0}(g)?this.getDocumentsMatchingDocumentQuery(n,g.path):LC(g)?this.getDocumentsMatchingCollectionGroupQuery(n,g,C,R):this.getDocumentsMatchingCollectionQuery(n,g,C,R)}getNextDocuments(n,g,C,R){return this.remoteDocumentCache.getAllFromCollectionGroup(n,g,C,R).next(I=>{const v=R-I.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,g,C.largestBatchId,R-I.size):ht.resolve(zn());let S=-1,t=I;return v.next(h=>ht.forEach(h,(m,l)=>(S<l.largestBatchId&&(S=l.largestBatchId),I.get(m)?ht.resolve():this.remoteDocumentCache.getEntry(n,m).next(a=>{t=t.insert(m,a)}))).next(()=>this.populateOverlays(n,h,I)).next(()=>this.computeViews(n,t,h,Nt())).next(m=>({batchId:S,changes:bC(m)})))})}getDocumentsMatchingDocumentQuery(n,g){return this.getDocument(n,new Ct(g)).next(C=>{let R=Lr();return C.isFoundDocument()&&(R=R.insert(C.key,C)),R})}getDocumentsMatchingCollectionGroupQuery(n,g,C,R){const I=g.collectionGroup;let v=Lr();return this.indexManager.getCollectionParents(n,I).next(S=>ht.forEach(S,t=>{const h=function(l,a){return new Bl(a,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(g,t.child(I));return this.getDocumentsMatchingCollectionQuery(n,h,C,R).next(m=>{m.forEach((l,a)=>{v=v.insert(l,a)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(n,g,C,R){let I;return this.documentOverlayCache.getOverlaysForCollection(n,g.path,C.largestBatchId).next(v=>(I=v,this.remoteDocumentCache.getDocumentsMatchingQuery(n,g,C,I,R))).next(v=>{I.forEach((t,h)=>{const m=h.getKey();v.get(m)===null&&(v=v.insert(m,Le.newInvalidDocument(m)))});let S=Lr();return v.forEach((t,h)=>{const m=I.get(t);m!==void 0&&Hr(m.mutation,h,an.empty(),je.now()),Vl(g,h)&&(S=S.insert(t,h))}),S})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,g){return ht.resolve(this.hr.get(g))}saveBundleMetadata(n,g){return this.hr.set(g.id,function(R){return{id:R.id,version:R.version,createTime:Os(R.createTime)}}(g)),ht.resolve()}getNamedQuery(n,g){return ht.resolve(this.Pr.get(g))}saveNamedQuery(n,g){return this.Pr.set(g.name,function(R){return{name:R.name,query:gw(R.bundledQuery),readTime:Os(R.readTime)}}(g)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.overlays=new ne(Ct.comparator),this.Ir=new Map}getOverlay(n,g){return ht.resolve(this.overlays.get(g))}getOverlays(n,g){const C=zn();return ht.forEach(g,R=>this.getOverlay(n,R).next(I=>{I!==null&&C.set(R,I)})).next(()=>C)}saveOverlays(n,g,C){return C.forEach((R,I)=>{this.ht(n,g,I)}),ht.resolve()}removeOverlaysForBatchId(n,g,C){const R=this.Ir.get(C);return R!==void 0&&(R.forEach(I=>this.overlays=this.overlays.remove(I)),this.Ir.delete(C)),ht.resolve()}getOverlaysForCollection(n,g,C){const R=zn(),I=g.length+1,v=new Ct(g.child("")),S=this.overlays.getIteratorFrom(v);for(;S.hasNext();){const t=S.getNext().value,h=t.getKey();if(!g.isPrefixOf(h.path))break;h.path.length===I&&t.largestBatchId>C&&R.set(t.getKey(),t)}return ht.resolve(R)}getOverlaysForCollectionGroup(n,g,C,R){let I=new ne((h,m)=>h-m);const v=this.overlays.getIterator();for(;v.hasNext();){const h=v.getNext().value;if(h.getKey().getCollectionGroup()===g&&h.largestBatchId>C){let m=I.get(h.largestBatchId);m===null&&(m=zn(),I=I.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const S=zn(),t=I.getIterator();for(;t.hasNext()&&(t.getNext().value.forEach((h,m)=>S.set(h,m)),!(S.size()>=R)););return ht.resolve(S)}ht(n,g,C){const R=this.overlays.get(C.key);if(R!==null){const v=this.Ir.get(R.largestBatchId).delete(C.key);this.Ir.set(R.largestBatchId,v)}this.overlays=this.overlays.insert(C.key,new QC(g,C));let I=this.Ir.get(g);I===void 0&&(I=Nt(),this.Ir.set(g,I)),this.Ir.set(g,I.add(C.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.sessionToken=Ce.EMPTY_BYTE_STRING}getSessionToken(n){return ht.resolve(this.sessionToken)}setSessionToken(n,g){return this.sessionToken=g,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.Tr=new Ee(ce.Er),this.dr=new Ee(ce.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,g){const C=new ce(n,g);this.Tr=this.Tr.add(C),this.dr=this.dr.add(C)}Rr(n,g){n.forEach(C=>this.addReference(C,g))}removeReference(n,g){this.Vr(new ce(n,g))}mr(n,g){n.forEach(C=>this.removeReference(C,g))}gr(n){const g=new Ct(new _t([])),C=new ce(g,n),R=new ce(g,n+1),I=[];return this.dr.forEachInRange([C,R],v=>{this.Vr(v),I.push(v.key)}),I}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const g=new Ct(new _t([])),C=new ce(g,n),R=new ce(g,n+1);let I=Nt();return this.dr.forEachInRange([C,R],v=>{I=I.add(v.key)}),I}containsKey(n){const g=new ce(n,0),C=this.Tr.firstAfterOrEqual(g);return C!==null&&n.isEqual(C.key)}}class ce{constructor(n,g){this.key=n,this.wr=g}static Er(n,g){return Ct.comparator(n.key,g.key)||Gt(n.wr,g.wr)}static Ar(n,g){return Gt(n.wr,g.wr)||Ct.comparator(n.key,g.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(n,g){this.indexManager=n,this.referenceDelegate=g,this.mutationQueue=[],this.Sr=1,this.br=new Ee(ce.Er)}checkEmpty(n){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(n,g,C,R){const I=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const v=new $C(I,g,C,R);this.mutationQueue.push(v);for(const S of R)this.br=this.br.add(new ce(S.key,I)),this.indexManager.addToCollectionParentIndex(n,S.key.path.popLast());return ht.resolve(v)}lookupMutationBatch(n,g){return ht.resolve(this.Dr(g))}getNextMutationBatchAfterBatchId(n,g){const C=g+1,R=this.vr(C),I=R<0?0:R;return ht.resolve(this.mutationQueue.length>I?this.mutationQueue[I]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(n){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,g){const C=new ce(g,0),R=new ce(g,Number.POSITIVE_INFINITY),I=[];return this.br.forEachInRange([C,R],v=>{const S=this.Dr(v.wr);I.push(S)}),ht.resolve(I)}getAllMutationBatchesAffectingDocumentKeys(n,g){let C=new Ee(Gt);return g.forEach(R=>{const I=new ce(R,0),v=new ce(R,Number.POSITIVE_INFINITY);this.br.forEachInRange([I,v],S=>{C=C.add(S.wr)})}),ht.resolve(this.Cr(C))}getAllMutationBatchesAffectingQuery(n,g){const C=g.path,R=C.length+1;let I=C;Ct.isDocumentKey(I)||(I=I.child(""));const v=new ce(new Ct(I),0);let S=new Ee(Gt);return this.br.forEachWhile(t=>{const h=t.key.path;return!!C.isPrefixOf(h)&&(h.length===R&&(S=S.add(t.wr)),!0)},v),ht.resolve(this.Cr(S))}Cr(n){const g=[];return n.forEach(C=>{const R=this.Dr(C);R!==null&&g.push(R)}),g}removeMutationBatch(n,g){he(this.Fr(g.batchId,"removed")===0),this.mutationQueue.shift();let C=this.br;return ht.forEach(g.mutations,R=>{const I=new ce(R.key,g.batchId);return C=C.delete(I),this.referenceDelegate.markPotentiallyOrphaned(n,R.key)}).next(()=>{this.br=C})}On(n){}containsKey(n,g){const C=new ce(g,0),R=this.br.firstAfterOrEqual(C);return ht.resolve(g.isEqual(R&&R.key))}performConsistencyCheck(n){return this.mutationQueue.length,ht.resolve()}Fr(n,g){return this.vr(n)}vr(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Dr(n){const g=this.vr(n);return g<0||g>=this.mutationQueue.length?null:this.mutationQueue[g]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(n){this.Mr=n,this.docs=function(){return new ne(Ct.comparator)}(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,g){const C=g.key,R=this.docs.get(C),I=R?R.size:0,v=this.Mr(g);return this.docs=this.docs.insert(C,{document:g.mutableCopy(),size:v}),this.size+=v-I,this.indexManager.addToCollectionParentIndex(n,C.path.popLast())}removeEntry(n){const g=this.docs.get(n);g&&(this.docs=this.docs.remove(n),this.size-=g.size)}getEntry(n,g){const C=this.docs.get(g);return ht.resolve(C?C.document.mutableCopy():Le.newInvalidDocument(g))}getEntries(n,g){let C=wn();return g.forEach(R=>{const I=this.docs.get(R);C=C.insert(R,I?I.document.mutableCopy():Le.newInvalidDocument(R))}),ht.resolve(C)}getDocumentsMatchingQuery(n,g,C,R){let I=wn();const v=g.path,S=new Ct(v.child("")),t=this.docs.getIteratorFrom(S);for(;t.hasNext();){const{key:h,value:{document:m}}=t.getNext();if(!v.isPrefixOf(h.path))break;h.path.length>v.length+1||fC(uC(m),C)<=0||(R.has(m.key)||Vl(g,m))&&(I=I.insert(m.key,m.mutableCopy()))}return ht.resolve(I)}getAllFromCollectionGroup(n,g,C,R){Rt()}Or(n,g){return ht.forEach(this.docs,C=>g(C))}newChangeBuffer(n){return new Mw(this)}getSize(n){return ht.resolve(this.size)}}class Mw extends Tw{constructor(n){super(),this.cr=n}applyChanges(n){const g=[];return this.changes.forEach((C,R)=>{R.isValidDocument()?g.push(this.cr.addEntry(n,R)):this.cr.removeEntry(C)}),ht.waitFor(g)}getFromCache(n,g){return this.cr.getEntry(n,g)}getAllFromCache(n,g){return this.cr.getEntries(n,g)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(n){this.persistence=n,this.Nr=new tr(g=>yd(g),Td),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wd,this.targetCount=0,this.kr=ks.Bn()}forEachTarget(n,g){return this.Nr.forEach((C,R)=>g(R)),ht.resolve()}getLastRemoteSnapshotVersion(n){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ht.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(n,g,C){return C&&(this.lastRemoteSnapshotVersion=C),g>this.Lr&&(this.Lr=g),ht.resolve()}Kn(n){this.Nr.set(n.target,n);const g=n.targetId;g>this.highestTargetId&&(this.kr=new ks(g),this.highestTargetId=g),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,g){return this.Kn(g),this.targetCount+=1,ht.resolve()}updateTargetData(n,g){return this.Kn(g),ht.resolve()}removeTargetData(n,g){return this.Nr.delete(g.target),this.Br.gr(g.targetId),this.targetCount-=1,ht.resolve()}removeTargets(n,g,C){let R=0;const I=[];return this.Nr.forEach((v,S)=>{S.sequenceNumber<=g&&C.get(S.targetId)===null&&(this.Nr.delete(v),I.push(this.removeMatchingKeysForTargetId(n,S.targetId)),R++)}),ht.waitFor(I).next(()=>R)}getTargetCount(n){return ht.resolve(this.targetCount)}getTargetData(n,g){const C=this.Nr.get(g)||null;return ht.resolve(C)}addMatchingKeys(n,g,C){return this.Br.Rr(g,C),ht.resolve()}removeMatchingKeys(n,g,C){this.Br.mr(g,C);const R=this.persistence.referenceDelegate,I=[];return R&&g.forEach(v=>{I.push(R.markPotentiallyOrphaned(n,v))}),ht.waitFor(I)}removeMatchingKeysForTargetId(n,g){return this.Br.gr(g),ht.resolve()}getMatchingKeysForTargetId(n,g){const C=this.Br.yr(g);return ht.resolve(C)}containsKey(n,g){return ht.resolve(this.Br.containsKey(g))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(n,g){this.qr={},this.overlays={},this.Qr=new pd(0),this.Kr=!1,this.Kr=!0,this.$r=new Aw,this.referenceDelegate=n(this),this.Ur=new Iw(this),this.indexManager=new xw,this.remoteDocumentCache=function(R){return new Rw(R)}(C=>this.referenceDelegate.Wr(C)),this.serializer=new mw(g),this.Gr=new Cw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let g=this.overlays[n.toKey()];return g||(g=new ww,this.overlays[n.toKey()]=g),g}getMutationQueue(n,g){let C=this.qr[n.toKey()];return C||(C=new Pw(g,this.referenceDelegate),this.qr[n.toKey()]=C),C}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,g,C){Et("MemoryPersistence","Starting transaction:",n);const R=new Lw(this.Qr.next());return this.referenceDelegate.zr(),C(R).next(I=>this.referenceDelegate.jr(R).next(()=>I)).toPromise().then(I=>(R.raiseOnCommittedEvent(),I))}Hr(n,g){return ht.or(Object.values(this.qr).map(C=>()=>C.containsKey(n,g)))}}class Lw extends cC{constructor(n){super(),this.currentSequenceNumber=n}}class Ad{constructor(n){this.persistence=n,this.Jr=new wd,this.Yr=null}static Zr(n){return new Ad(n)}get Xr(){if(this.Yr)return this.Yr;throw Rt()}addReference(n,g,C){return this.Jr.addReference(C,g),this.Xr.delete(C.toString()),ht.resolve()}removeReference(n,g,C){return this.Jr.removeReference(C,g),this.Xr.add(C.toString()),ht.resolve()}markPotentiallyOrphaned(n,g){return this.Xr.add(g.toString()),ht.resolve()}removeTarget(n,g){this.Jr.gr(g.targetId).forEach(R=>this.Xr.add(R.toString()));const C=this.persistence.getTargetCache();return C.getMatchingKeysForTargetId(n,g.targetId).next(R=>{R.forEach(I=>this.Xr.add(I.toString()))}).next(()=>C.removeTargetData(n,g))}zr(){this.Yr=new Set}jr(n){const g=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.Xr,C=>{const R=Ct.fromPath(C);return this.ei(n,R).next(I=>{I||g.removeEntry(R,Pt.min())})}).next(()=>(this.Yr=null,g.apply(n)))}updateLimboDocument(n,g){return this.ei(n,g).next(C=>{C?this.Xr.delete(g.toString()):this.Xr.add(g.toString())})}Wr(n){return 0}ei(n,g){return ht.or([()=>ht.resolve(this.Jr.containsKey(g)),()=>this.persistence.getTargetCache().containsKey(n,g),()=>this.persistence.Hr(n,g)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(n,g,C,R){this.targetId=n,this.fromCache=g,this.$i=C,this.Ui=R}static Wi(n,g){let C=Nt(),R=Nt();for(const I of g.docChanges)switch(I.type){case 0:C=C.add(I.doc.key);break;case 1:R=R.add(I.doc.key)}return new Pd(n,g.fromCache,C,R)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GE()?8:vC(BE())>0?6:4}()}initialize(n,g){this.Ji=n,this.indexManager=g,this.Gi=!0}getDocumentsMatchingQuery(n,g,C,R){const I={result:null};return this.Yi(n,g).next(v=>{I.result=v}).next(()=>{if(!I.result)return this.Zi(n,g,R,C).next(v=>{I.result=v})}).next(()=>{if(I.result)return;const v=new Ow;return this.Xi(n,g,v).next(S=>{if(I.result=S,this.zi)return this.es(n,g,v,S.size)})}).next(()=>I.result)}es(n,g,C,R){return C.documentReadCount<this.ji?(wr()<=Dt.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",fs(g),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ht.resolve()):(wr()<=Dt.DEBUG&&Et("QueryEngine","Query:",fs(g),"scans",C.documentReadCount,"local documents and returns",R,"documents as results."),C.documentReadCount>this.Hi*R?(wr()<=Dt.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",fs(g),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ai(g))):ht.resolve())}Yi(n,g){if(vp(g))return ht.resolve(null);let C=Ai(g);return this.indexManager.getIndexType(n,C).next(R=>R===0?null:(g.limit!==null&&R===1&&(g=ef(g,null,"F"),C=Ai(g)),this.indexManager.getDocumentsMatchingTarget(n,C).next(I=>{const v=Nt(...I);return this.Ji.getDocuments(n,v).next(S=>this.indexManager.getMinOffset(n,C).next(t=>{const h=this.ts(g,S);return this.ns(g,h,v,t.readTime)?this.Yi(n,ef(g,null,"F")):this.rs(n,h,g,t)}))})))}Zi(n,g,C,R){return vp(g)||R.isEqual(Pt.min())?ht.resolve(null):this.Ji.getDocuments(n,C).next(I=>{const v=this.ts(g,I);return this.ns(g,v,C,R)?ht.resolve(null):(wr()<=Dt.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",R.toString(),fs(g)),this.rs(n,v,g,hC(R,-1)).next(S=>S))})}ts(n,g){let C=new Ee(q0(n));return g.forEach((R,I)=>{Vl(n,I)&&(C=C.add(I))}),C}ns(n,g,C,R){if(n.limit===null)return!1;if(C.size!==g.size)return!0;const I=n.limitType==="F"?g.last():g.first();return!!I&&(I.hasPendingWrites||I.version.compareTo(R)>0)}Xi(n,g,C){return wr()<=Dt.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",fs(g)),this.Ji.getDocumentsMatchingQuery(n,g,Sn.min(),C)}rs(n,g,C,R){return this.Ji.getDocumentsMatchingQuery(n,C,R).next(I=>(g.forEach(v=>{I=I.insert(v.key,v)}),I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(n,g,C,R){this.persistence=n,this.ss=g,this.serializer=R,this.os=new ne(Gt),this._s=new tr(I=>yd(I),Td),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(C)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Sw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",g=>n.collect(g,this.os))}}function Bw(u,n,g,C){return new Nw(u,n,g,C)}async function px(u,n){const g=Ot(u);return await g.persistence.runTransaction("Handle user change","readonly",C=>{let R;return g.mutationQueue.getAllMutationBatches(C).next(I=>(R=I,g.ls(n),g.mutationQueue.getAllMutationBatches(C))).next(I=>{const v=[],S=[];let t=Nt();for(const h of R){v.push(h.batchId);for(const m of h.mutations)t=t.add(m.key)}for(const h of I){S.push(h.batchId);for(const m of h.mutations)t=t.add(m.key)}return g.localDocuments.getDocuments(C,t).next(h=>({hs:h,removedBatchIds:v,addedBatchIds:S}))})})}function mx(u){const n=Ot(u);return n.persistence.runTransaction("Get last remote snapshot version","readonly",g=>n.Ur.getLastRemoteSnapshotVersion(g))}function bw(u,n){const g=Ot(u),C=n.snapshotVersion;let R=g.os;return g.persistence.runTransaction("Apply remote event","readwrite-primary",I=>{const v=g.cs.newChangeBuffer({trackRemovals:!0});R=g.os;const S=[];n.targetChanges.forEach((m,l)=>{const a=R.get(l);if(!a)return;S.push(g.Ur.removeMatchingKeys(I,m.removedDocuments,l).next(()=>g.Ur.addMatchingKeys(I,m.addedDocuments,l)));let r=a.withSequenceNumber(I.currentSequenceNumber);n.targetMismatches.get(l)!==null?r=r.withResumeToken(Ce.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):m.resumeToken.approximateByteSize()>0&&(r=r.withResumeToken(m.resumeToken,C)),R=R.insert(l,r),function(s,f,e){return s.resumeToken.approximateByteSize()===0||f.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8?!0:e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size>0}(a,r,m)&&S.push(g.Ur.updateTargetData(I,r))});let t=wn(),h=Nt();if(n.documentUpdates.forEach(m=>{n.resolvedLimboDocuments.has(m)&&S.push(g.persistence.referenceDelegate.updateLimboDocument(I,m))}),S.push(Vw(I,v,n.documentUpdates).next(m=>{t=m.Ps,h=m.Is})),!C.isEqual(Pt.min())){const m=g.Ur.getLastRemoteSnapshotVersion(I).next(l=>g.Ur.setTargetsMetadata(I,I.currentSequenceNumber,C));S.push(m)}return ht.waitFor(S).next(()=>v.apply(I)).next(()=>g.localDocuments.getLocalViewOfDocuments(I,t,h)).next(()=>t)}).then(I=>(g.os=R,I))}function Vw(u,n,g){let C=Nt(),R=Nt();return g.forEach(I=>C=C.add(I)),n.getEntries(u,C).next(I=>{let v=wn();return g.forEach((S,t)=>{const h=I.get(S);t.isFoundDocument()!==h.isFoundDocument()&&(R=R.add(S)),t.isNoDocument()&&t.version.isEqual(Pt.min())?(n.removeEntry(S,t.readTime),v=v.insert(S,t)):!h.isValidDocument()||t.version.compareTo(h.version)>0||t.version.compareTo(h.version)===0&&h.hasPendingWrites?(n.addEntry(t),v=v.insert(S,t)):Et("LocalStore","Ignoring outdated watch update for ",S,". Current version:",h.version," Watch version:",t.version)}),{Ps:v,Is:R}})}function Gw(u,n){const g=Ot(u);return g.persistence.runTransaction("Allocate target","readwrite",C=>{let R;return g.Ur.getTargetData(C,n).next(I=>I?(R=I,ht.resolve(R)):g.Ur.allocateTargetId(C).next(v=>(R=new on(n,v,"TargetPurposeListen",C.currentSequenceNumber),g.Ur.addTargetData(C,R).next(()=>R))))}).then(C=>{const R=g.os.get(C.targetId);return(R===null||C.snapshotVersion.compareTo(R.snapshotVersion)>0)&&(g.os=g.os.insert(C.targetId,C),g._s.set(n,C.targetId)),C})}async function of(u,n,g){const C=Ot(u),R=C.os.get(n),I=g?"readwrite":"readwrite-primary";try{g||await C.persistence.runTransaction("Release target",I,v=>C.persistence.referenceDelegate.removeTarget(v,R))}catch(v){if(!Aa(v))throw v;Et("LocalStore",`Failed to update sequence numbers for target ${n}: ${v}`)}C.os=C.os.remove(n),C._s.delete(R.target)}function Ap(u,n,g){const C=Ot(u);let R=Pt.min(),I=Nt();return C.persistence.runTransaction("Execute query","readwrite",v=>function(t,h,m){const l=Ot(t),a=l._s.get(m);return a!==void 0?ht.resolve(l.os.get(a)):l.Ur.getTargetData(h,m)}(C,v,Ai(n)).next(S=>{if(S)return R=S.lastLimboFreeSnapshotVersion,C.Ur.getMatchingKeysForTargetId(v,S.targetId).next(t=>{I=t})}).next(()=>C.ss.getDocumentsMatchingQuery(v,n,g?R:Pt.min(),g?I:Nt())).next(S=>(Uw(C,DC(n),S),{documents:S,Ts:I})))}function Uw(u,n,g){let C=u.us.get(n)||Pt.min();g.forEach((R,I)=>{I.readTime.compareTo(C)>0&&(C=I.readTime)}),u.us.set(n,C)}class Pp{constructor(){this.activeTargetIds=UC()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class zw{constructor(){this.so=new Pp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,g,C){}addLocalQueryTarget(n){return this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,g,C){this.oo[n]=g}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Pp,Promise.resolve()}handleUserChange(n,g,C){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{_o(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo=null;function Xh(){return uo===null?uo=function(){return 268435456+Math.round(2147483648*Math.random())}():uo++,"0x"+uo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me="WebChannelConnection";class jw extends class{constructor(g){this.databaseInfo=g,this.databaseId=g.databaseId;const C=g.ssl?"https":"http",R=encodeURIComponent(this.databaseId.projectId),I=encodeURIComponent(this.databaseId.database);this.Do=C+"://"+g.host,this.vo=`projects/${R}/databases/${I}`,this.Co=this.databaseId.database==="(default)"?`project_id=${R}`:`project_id=${R}&database_id=${I}`}get Fo(){return!1}Mo(g,C,R,I,v){const S=Xh(),t=this.xo(g,C.toUriEncodedString());Et("RestConnection",`Sending RPC '${g}' ${S}:`,t,R);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,I,v),this.No(g,t,h,R).then(m=>(Et("RestConnection",`Received RPC '${g}' ${S}: `,m),m),m=>{throw Ys("RestConnection",`RPC '${g}' ${S} failed with error: `,m,"url: ",t,"request:",R),m})}Lo(g,C,R,I,v,S){return this.Mo(g,C,R,I,v)}Oo(g,C,R){g["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),g["Content-Type"]="text/plain",this.databaseInfo.appId&&(g["X-Firebase-GMPID"]=this.databaseInfo.appId),C&&C.headers.forEach((I,v)=>g[v]=I),R&&R.headers.forEach((I,v)=>g[v]=I)}xo(g,C){const R=Yw[g];return`${this.Do}/v1/${C}:${R}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,g,C,R){const I=Xh();return new Promise((v,S)=>{const t=new b0;t.setWithCredentials(!0),t.listenOnce(G0.COMPLETE,()=>{try{switch(t.getLastErrorCode()){case Mo.NO_ERROR:const m=t.getResponseJson();Et(Me,`XHR for RPC '${n}' ${I} received:`,JSON.stringify(m)),v(m);break;case Mo.TIMEOUT:Et(Me,`RPC '${n}' ${I} timed out`),S(new St(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Mo.HTTP_ERROR:const l=t.getStatus();if(Et(Me,`RPC '${n}' ${I} failed with status:`,l,"response text:",t.getResponseText()),l>0){let a=t.getResponseJson();Array.isArray(a)&&(a=a[0]);const r=a==null?void 0:a.error;if(r&&r.status&&r.message){const i=function(f){const e=f.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(e)>=0?e:pt.UNKNOWN}(r.status);S(new St(i,r.message))}else S(new St(pt.UNKNOWN,"Server responded with status "+t.getStatus()))}else S(new St(pt.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{Et(Me,`RPC '${n}' ${I} completed.`)}});const h=JSON.stringify(R);Et(Me,`RPC '${n}' ${I} sending request:`,R),t.send(g,"POST",h,C,15)})}Bo(n,g,C){const R=Xh(),I=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],v=X0(),S=z0(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(t.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(t.xmlHttpFactory=new V0({})),this.Oo(t.initMessageHeaders,g,C),t.encodeInitMessageHeaders=!0;const m=I.join("");Et(Me,`Creating RPC '${n}' stream ${R}: ${m}`,t);const l=v.createWebChannel(m,t);let a=!1,r=!1;const i=new Ww({Io:f=>{r?Et(Me,`Not sending because RPC '${n}' stream ${R} is closed:`,f):(a||(Et(Me,`Opening RPC '${n}' stream ${R} transport.`),l.open(),a=!0),Et(Me,`RPC '${n}' stream ${R} sending:`,f),l.send(f))},To:()=>l.close()}),s=(f,e,o)=>{f.listen(e,d=>{try{o(d)}catch(c){setTimeout(()=>{throw c},0)}})};return s(l,Fr.EventType.OPEN,()=>{r||(Et(Me,`RPC '${n}' stream ${R} transport opened.`),i.yo())}),s(l,Fr.EventType.CLOSE,()=>{r||(r=!0,Et(Me,`RPC '${n}' stream ${R} transport closed`),i.So())}),s(l,Fr.EventType.ERROR,f=>{r||(r=!0,Ys(Me,`RPC '${n}' stream ${R} transport errored:`,f),i.So(new St(pt.UNAVAILABLE,"The operation could not be completed")))}),s(l,Fr.EventType.MESSAGE,f=>{var e;if(!r){const o=f.data[0];he(!!o);const d=o,c=d.error||((e=d[0])===null||e===void 0?void 0:e.error);if(c){Et(Me,`RPC '${n}' stream ${R} received error:`,c);const p=c.status;let x=function(y){const w=re[y];if(w!==void 0)return ax(w)}(p),T=c.message;x===void 0&&(x=pt.INTERNAL,T="Unknown error status: "+p+" with message "+c.message),r=!0,i.So(new St(x,T)),l.close()}else Et(Me,`RPC '${n}' stream ${R} received:`,o),i.bo(o)}}),s(S,U0.STAT_EVENT,f=>{f.stat===Qu.PROXY?Et(Me,`RPC '${n}' stream ${R} detected buffering proxy`):f.stat===Qu.NOPROXY&&Et(Me,`RPC '${n}' stream ${R} detected no buffering proxy`)}),setTimeout(()=>{i.wo()},0),i}}function Yh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(u){return new nw(u,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(n,g,C=1e3,R=1.5,I=6e4){this.ui=n,this.timerId=g,this.ko=C,this.qo=R,this.Qo=I,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const g=Math.floor(this.Ko+this.zo()),C=Math.max(0,Date.now()-this.Uo),R=Math.max(0,g-C);R>0&&Et("ExponentialBackoff",`Backing off for ${R} ms (base delay: ${this.Ko} ms, delay with jitter: ${g} ms, last attempt: ${C} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,R,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(n,g,C,R,I,v,S,t){this.ui=n,this.Ho=C,this.Jo=R,this.connection=I,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=S,this.listener=t,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xx(n,g)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(n,g){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,n!==4?this.t_.reset():g&&g.code===pt.RESOURCE_EXHAUSTED?(ji(g.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):g&&g.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.mo(g)}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),g=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([C,R])=>{this.Yo===g&&this.P_(C,R)},C=>{n(()=>{const R=new St(pt.UNKNOWN,"Fetching auth token failed: "+C.message);return this.I_(R)})})}P_(n,g){const C=this.h_(this.Yo);this.stream=this.T_(n,g),this.stream.Eo(()=>{C(()=>this.listener.Eo())}),this.stream.Ro(()=>{C(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(R=>{C(()=>this.I_(R))}),this.stream.onMessage(R=>{C(()=>++this.e_==1?this.E_(R):this.onNext(R))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(n){return Et("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return g=>{this.ui.enqueueAndForget(()=>this.Yo===n?g():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kw extends Hw{constructor(n,g,C,R,I,v){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",g,C,R,v),this.serializer=I}T_(n,g){return this.connection.Bo("Listen",n,g)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const g=lw(this.serializer,n),C=function(I){if(!("targetChange"in I))return Pt.min();const v=I.targetChange;return v.targetIds&&v.targetIds.length?Pt.min():v.readTime?Os(v.readTime):Pt.min()}(n);return this.listener.d_(g,C)}A_(n){const g={};g.database=wp(this.serializer),g.addTarget=function(I,v){let S;const t=v.target;if(S=tf(t)?{documents:hw(I,t)}:{query:uw(I,t)._t},S.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){S.resumeToken=rw(I,v.resumeToken);const h=rf(I,v.expectedCount);h!==null&&(S.expectedCount=h)}else if(v.snapshotVersion.compareTo(Pt.min())>0){S.readTime=sw(I,v.snapshotVersion.toTimestamp());const h=rf(I,v.expectedCount);h!==null&&(S.expectedCount=h)}return S}(this.serializer,n);const C=dw(this.serializer,n);C&&(g.labels=C),this.a_(g)}R_(n){const g={};g.database=wp(this.serializer),g.removeTarget=n,this.a_(g)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends class{}{constructor(n,g,C,R){super(),this.authCredentials=n,this.appCheckCredentials=g,this.connection=C,this.serializer=R,this.y_=!1}w_(){if(this.y_)throw new St(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,g,C,R){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([I,v])=>this.connection.Mo(n,af(g,C),R,I,v)).catch(I=>{throw I.name==="FirebaseError"?(I.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),I):new St(pt.UNKNOWN,I.toString())})}Lo(n,g,C,R,I){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,S])=>this.connection.Lo(n,af(g,C),R,v,S,I)).catch(v=>{throw v.name==="FirebaseError"?(v.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new St(pt.UNKNOWN,v.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $w{constructor(n,g){this.asyncQueue=n,this.onlineStateHandler=g,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,n==="Online"&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const g=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ji(g),this.D_=!1):Et("OnlineStateTracker",g)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(n,g,C,R,I){this.localStore=n,this.datastore=g,this.asyncQueue=C,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=I,this.k_._o(v=>{C.enqueueAndForget(async()=>{Ma(this)&&(Et("RemoteStore","Restarting streams for network reachability change."),await async function(t){const h=Ot(t);h.L_.add(4),await Ra(h),h.q_.set("Unknown"),h.L_.delete(4),await Xl(h)}(this))})}),this.q_=new $w(C,R)}}async function Xl(u){if(Ma(u))for(const n of u.B_)await n(!0)}async function Ra(u){for(const n of u.B_)await n(!1)}function yx(u,n){const g=Ot(u);g.N_.has(n.targetId)||(g.N_.set(n.targetId,n),Fd(g)?Id(g):er(g).r_()&&Md(g,n))}function Rd(u,n){const g=Ot(u),C=er(g);g.N_.delete(n),C.r_()&&Tx(g,n),g.N_.size===0&&(C.r_()?C.o_():Ma(g)&&g.q_.set("Unknown"))}function Md(u,n){if(u.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Pt.min())>0){const g=u.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(g)}er(u).A_(n)}function Tx(u,n){u.Q_.xe(n),er(u).R_(n)}function Id(u){u.Q_=new _C({getRemoteKeysForTarget:n=>u.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>u.N_.get(n)||null,tt:()=>u.datastore.serializer.databaseId}),er(u).start(),u.q_.v_()}function Fd(u){return Ma(u)&&!er(u).n_()&&u.N_.size>0}function Ma(u){return Ot(u).L_.size===0}function Ex(u){u.Q_=void 0}async function Jw(u){u.q_.set("Online")}async function Zw(u){u.N_.forEach((n,g)=>{Md(u,n)})}async function qw(u,n){Ex(u),Fd(u)?(u.q_.M_(n),Id(u)):u.q_.set("Unknown")}async function _w(u,n,g){if(u.q_.set("Online"),n instanceof lx&&n.state===2&&n.cause)try{await async function(R,I){const v=I.cause;for(const S of I.targetIds)R.N_.has(S)&&(await R.remoteSyncer.rejectListen(S,v),R.N_.delete(S),R.Q_.removeTarget(S))}(u,n)}catch(C){Et("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),C),await Mp(u,C)}else if(n instanceof Fo?u.Q_.Ke(n):n instanceof ox?u.Q_.He(n):u.Q_.We(n),!g.isEqual(Pt.min()))try{const C=await mx(u.localStore);g.compareTo(C)>=0&&await function(I,v){const S=I.Q_.rt(v);return S.targetChanges.forEach((t,h)=>{if(t.resumeToken.approximateByteSize()>0){const m=I.N_.get(h);m&&I.N_.set(h,m.withResumeToken(t.resumeToken,v))}}),S.targetMismatches.forEach((t,h)=>{const m=I.N_.get(t);if(!m)return;I.N_.set(t,m.withResumeToken(Ce.EMPTY_BYTE_STRING,m.snapshotVersion)),Tx(I,t);const l=new on(m.target,t,h,m.sequenceNumber);Md(I,l)}),I.remoteSyncer.applyRemoteEvent(S)}(u,g)}catch(C){Et("RemoteStore","Failed to raise snapshot:",C),await Mp(u,C)}}async function Mp(u,n,g){if(!Aa(n))throw n;u.L_.add(1),await Ra(u),u.q_.set("Offline"),g||(g=()=>mx(u.localStore)),u.asyncQueue.enqueueRetryable(async()=>{Et("RemoteStore","Retrying IndexedDB access"),await g(),u.L_.delete(1),await Xl(u)})}async function Ip(u,n){const g=Ot(u);g.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const C=Ma(g);g.L_.add(3),await Ra(g),C&&g.q_.set("Unknown"),await g.remoteSyncer.handleCredentialChange(n),g.L_.delete(3),await Xl(g)}async function tA(u,n){const g=Ot(u);n?(g.L_.delete(2),await Xl(g)):n||(g.L_.add(2),await Ra(g),g.q_.set("Unknown"))}function er(u){return u.K_||(u.K_=function(g,C,R){const I=Ot(g);return I.w_(),new kw(C,I.connection,I.authCredentials,I.appCheckCredentials,I.serializer,R)}(u.datastore,u.asyncQueue,{Eo:Jw.bind(null,u),Ro:Zw.bind(null,u),mo:qw.bind(null,u),d_:_w.bind(null,u)}),u.B_.push(async n=>{n?(u.K_.s_(),Fd(u)?Id(u):u.q_.set("Unknown")):(await u.K_.stop(),Ex(u))})),u.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(n,g,C,R,I){this.asyncQueue=n,this.timerId=g,this.targetTimeMs=C,this.op=R,this.removalCallback=I,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,g,C,R,I){const v=Date.now()+C,S=new Ld(n,g,v,R,I);return S.start(C),S}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(pt.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sx(u,n){if(ji("AsyncQueue",`${n}: ${u}`),Aa(u))return new St(pt.UNAVAILABLE,`${n}: ${u}`);throw u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(n){this.comparator=n?(g,C)=>n(g,C)||Ct.comparator(g.key,C.key):(g,C)=>Ct.comparator(g.key,C.key),this.keyedMap=Lr(),this.sortedSet=new ne(this.comparator)}static emptySet(n){return new Ds(n.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const g=this.keyedMap.get(n);return g?this.sortedSet.indexOf(g):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((g,C)=>(n(g),!1))}add(n){const g=this.delete(n.key);return g.copy(g.keyedMap.insert(n.key,n),g.sortedSet.insert(n,null))}delete(n){const g=this.get(n);return g?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(g)):this}isEqual(n){if(!(n instanceof Ds)||this.size!==n.size)return!1;const g=this.sortedSet.getIterator(),C=n.sortedSet.getIterator();for(;g.hasNext();){const R=g.getNext().key,I=C.getNext().key;if(!R.isEqual(I))return!1}return!0}toString(){const n=[];return this.forEach(g=>{n.push(g.toString())}),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,g){const C=new Ds;return C.comparator=this.comparator,C.keyedMap=n,C.sortedSet=g,C}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.W_=new ne(Ct.comparator)}track(n){const g=n.doc.key,C=this.W_.get(g);C?n.type!==0&&C.type===3?this.W_=this.W_.insert(g,n):n.type===3&&C.type!==1?this.W_=this.W_.insert(g,{type:C.type,doc:n.doc}):n.type===2&&C.type===2?this.W_=this.W_.insert(g,{type:2,doc:n.doc}):n.type===2&&C.type===0?this.W_=this.W_.insert(g,{type:0,doc:n.doc}):n.type===1&&C.type===0?this.W_=this.W_.remove(g):n.type===1&&C.type===2?this.W_=this.W_.insert(g,{type:1,doc:C.doc}):n.type===0&&C.type===1?this.W_=this.W_.insert(g,{type:2,doc:n.doc}):Rt():this.W_=this.W_.insert(g,n)}G_(){const n=[];return this.W_.inorderTraversal((g,C)=>{n.push(C)}),n}}class Ks{constructor(n,g,C,R,I,v,S,t,h){this.query=n,this.docs=g,this.oldDocs=C,this.docChanges=R,this.mutatedKeys=I,this.fromCache=v,this.syncStateChanged=S,this.excludesMetadataChanges=t,this.hasCachedResults=h}static fromInitialDocuments(n,g,C,R,I){const v=[];return g.forEach(S=>{v.push({type:0,doc:S})}),new Ks(n,g,Ds.emptySet(g),v,C,R,!0,!1,I)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&bl(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const g=this.docChanges,C=n.docChanges;if(g.length!==C.length)return!1;for(let R=0;R<g.length;R++)if(g[R].type!==C[R].type||!g[R].doc.isEqual(C[R].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class iA{constructor(){this.queries=Lp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(g,C){const R=Ot(g),I=R.queries;R.queries=Lp(),I.forEach((v,S)=>{for(const t of S.j_)t.onError(C)})})(this,new St(pt.ABORTED,"Firestore shutting down"))}}function Lp(){return new tr(u=>Z0(u),bl)}async function nA(u,n){const g=Ot(u);let C=3;const R=n.query;let I=g.queries.get(R);I?!I.H_()&&n.J_()&&(C=2):(I=new eA,C=n.J_()?0:1);try{switch(C){case 0:I.z_=await g.onListen(R,!0);break;case 1:I.z_=await g.onListen(R,!1);break;case 2:await g.onFirstRemoteStoreListen(R)}}catch(v){const S=Sx(v,`Initialization of query '${fs(n.query)}' failed`);return void n.onError(S)}g.queries.set(R,I),I.j_.push(n),n.Z_(g.onlineState),I.z_&&n.X_(I.z_)&&Od(g)}async function sA(u,n){const g=Ot(u),C=n.query;let R=3;const I=g.queries.get(C);if(I){const v=I.j_.indexOf(n);v>=0&&(I.j_.splice(v,1),I.j_.length===0?R=n.J_()?0:1:!I.H_()&&n.J_()&&(R=2))}switch(R){case 0:return g.queries.delete(C),g.onUnlisten(C,!0);case 1:return g.queries.delete(C),g.onUnlisten(C,!1);case 2:return g.onLastRemoteStoreUnlisten(C);default:return}}function rA(u,n){const g=Ot(u);let C=!1;for(const R of n){const I=R.query,v=g.queries.get(I);if(v){for(const S of v.j_)S.X_(R)&&(C=!0);v.z_=R}}C&&Od(g)}function aA(u,n,g){const C=Ot(u),R=C.queries.get(n);if(R)for(const I of R.j_)I.onError(g);C.queries.delete(n)}function Od(u){u.Y_.forEach(n=>{n.next()})}var lf,Op;(Op=lf||(lf={})).ea="default",Op.Cache="cache";class oA{constructor(n,g,C){this.query=n,this.ta=g,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=C||{}}X_(n){if(!this.options.includeMetadataChanges){const C=[];for(const R of n.docChanges)R.type!==3&&C.push(R);n=new Ks(n.query,n.docs,n.oldDocs,C,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let g=!1;return this.na?this.ia(n)&&(this.ta.next(n),g=!0):this.sa(n,this.onlineState)&&(this.oa(n),g=!0),this.ra=n,g}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let g=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),g=!0),g}sa(n,g){if(!n.fromCache||!this.J_())return!0;const C=g!=="Offline";return(!this.options._a||!C)&&(!n.docs.isEmpty()||n.hasCachedResults||g==="Offline")}ia(n){if(n.docChanges.length>0)return!0;const g=this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!g)&&this.options.includeMetadataChanges===!0}oa(n){n=Ks.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==lf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(n){this.key=n}}class wx{constructor(n){this.key=n}}class lA{constructor(n,g){this.query=n,this.Ta=g,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=q0(n),this.Ra=new Ds(this.Aa)}get Va(){return this.Ta}ma(n,g){const C=g?g.fa:new Fp,R=g?g.Ra:this.Ra;let I=g?g.mutatedKeys:this.mutatedKeys,v=R,S=!1;const t=this.query.limitType==="F"&&R.size===this.query.limit?R.last():null,h=this.query.limitType==="L"&&R.size===this.query.limit?R.first():null;if(n.inorderTraversal((m,l)=>{const a=R.get(m),r=Vl(this.query,l)?l:null,i=!!a&&this.mutatedKeys.has(a.key),s=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let f=!1;a&&r?a.data.isEqual(r.data)?i!==s&&(C.track({type:3,doc:r}),f=!0):this.ga(a,r)||(C.track({type:2,doc:r}),f=!0,(t&&this.Aa(r,t)>0||h&&this.Aa(r,h)<0)&&(S=!0)):!a&&r?(C.track({type:0,doc:r}),f=!0):a&&!r&&(C.track({type:1,doc:a}),f=!0,(t||h)&&(S=!0)),f&&(r?(v=v.add(r),I=s?I.add(m):I.delete(m)):(v=v.delete(m),I=I.delete(m)))}),this.query.limit!==null)for(;v.size>this.query.limit;){const m=this.query.limitType==="F"?v.last():v.first();v=v.delete(m.key),I=I.delete(m.key),C.track({type:1,doc:m})}return{Ra:v,fa:C,ns:S,mutatedKeys:I}}ga(n,g){return n.hasLocalMutations&&g.hasCommittedMutations&&!g.hasLocalMutations}applyChanges(n,g,C,R){const I=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const v=n.fa.G_();v.sort((m,l)=>function(r,i){const s=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return s(r)-s(i)}(m.type,l.type)||this.Aa(m.doc,l.doc)),this.pa(C),R=R!=null&&R;const S=g&&!R?this.ya():[],t=this.da.size===0&&this.current&&!R?1:0,h=t!==this.Ea;return this.Ea=t,v.length!==0||h?{snapshot:new Ks(this.query,n.Ra,I,v,n.mutatedKeys,t===0,h,!1,!!C&&C.resumeToken.approximateByteSize()>0),wa:S}:{wa:S}}Z_(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(g=>this.Ta=this.Ta.add(g)),n.modifiedDocuments.forEach(g=>{}),n.removedDocuments.forEach(g=>this.Ta=this.Ta.delete(g)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=Nt(),this.Ra.forEach(C=>{this.Sa(C.key)&&(this.da=this.da.add(C.key))});const g=[];return n.forEach(C=>{this.da.has(C)||g.push(new wx(C))}),this.da.forEach(C=>{n.has(C)||g.push(new Cx(C))}),g}ba(n){this.Ta=n.Ts,this.da=Nt();const g=this.ma(n.documents);return this.applyChanges(g,!0)}Da(){return Ks.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hA{constructor(n,g,C){this.query=n,this.targetId=g,this.view=C}}class uA{constructor(n){this.key=n,this.va=!1}}class fA{constructor(n,g,C,R,I,v){this.localStore=n,this.remoteStore=g,this.eventManager=C,this.sharedClientState=R,this.currentUser=I,this.maxConcurrentLimboResolutions=v,this.Ca={},this.Fa=new tr(S=>Z0(S),bl),this.Ma=new Map,this.xa=new Set,this.Oa=new ne(Ct.comparator),this.Na=new Map,this.La=new wd,this.Ba={},this.ka=new Map,this.qa=ks.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dA(u,n,g=!0){const C=Ix(u);let R;const I=C.Fa.get(n);return I?(C.sharedClientState.addLocalQueryTarget(I.targetId),R=I.view.Da()):R=await Ax(C,n,g,!0),R}async function cA(u,n){const g=Ix(u);await Ax(g,n,!0,!1)}async function Ax(u,n,g,C){const R=await Gw(u.localStore,Ai(n)),I=R.targetId,v=g?u.sharedClientState.addLocalQueryTarget(I):"not-current";let S;return C&&(S=await vA(u,n,I,v==="current",R.resumeToken)),u.isPrimaryClient&&g&&yx(u.remoteStore,R),S}async function vA(u,n,g,C,R){u.Ka=(l,a,r)=>async function(s,f,e,o){let d=f.view.ma(e);d.ns&&(d=await Ap(s.localStore,f.query,!1).then(({documents:T})=>f.view.ma(T,d)));const c=o&&o.targetChanges.get(f.targetId),p=o&&o.targetMismatches.get(f.targetId)!=null,x=f.view.applyChanges(d,s.isPrimaryClient,c,p);return Np(s,f.targetId,x.wa),x.snapshot}(u,l,a,r);const I=await Ap(u.localStore,n,!0),v=new lA(n,I.Ts),S=v.ma(I.documents),t=Pa.createSynthesizedTargetChangeForCurrentChange(g,C&&u.onlineState!=="Offline",R),h=v.applyChanges(S,u.isPrimaryClient,t);Np(u,g,h.wa);const m=new hA(n,g,v);return u.Fa.set(n,m),u.Ma.has(g)?u.Ma.get(g).push(n):u.Ma.set(g,[n]),h.snapshot}async function pA(u,n,g){const C=Ot(u),R=C.Fa.get(n),I=C.Ma.get(R.targetId);if(I.length>1)return C.Ma.set(R.targetId,I.filter(v=>!bl(v,n))),void C.Fa.delete(n);C.isPrimaryClient?(C.sharedClientState.removeLocalQueryTarget(R.targetId),C.sharedClientState.isActiveQueryTarget(R.targetId)||await of(C.localStore,R.targetId,!1).then(()=>{C.sharedClientState.clearQueryState(R.targetId),g&&Rd(C.remoteStore,R.targetId),hf(C,R.targetId)}).catch(vd)):(hf(C,R.targetId),await of(C.localStore,R.targetId,!0))}async function mA(u,n){const g=Ot(u),C=g.Fa.get(n),R=g.Ma.get(C.targetId);g.isPrimaryClient&&R.length===1&&(g.sharedClientState.removeLocalQueryTarget(C.targetId),Rd(g.remoteStore,C.targetId))}async function Px(u,n){const g=Ot(u);try{const C=await bw(g.localStore,n);n.targetChanges.forEach((R,I)=>{const v=g.Na.get(I);v&&(he(R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size<=1),R.addedDocuments.size>0?v.va=!0:R.modifiedDocuments.size>0?he(v.va):R.removedDocuments.size>0&&(he(v.va),v.va=!1))}),await Mx(g,C,n)}catch(C){await vd(C)}}function Dp(u,n,g){const C=Ot(u);if(C.isPrimaryClient&&g===0||!C.isPrimaryClient&&g===1){const R=[];C.Fa.forEach((I,v)=>{const S=v.view.Z_(n);S.snapshot&&R.push(S.snapshot)}),function(v,S){const t=Ot(v);t.onlineState=S;let h=!1;t.queries.forEach((m,l)=>{for(const a of l.j_)a.Z_(S)&&(h=!0)}),h&&Od(t)}(C.eventManager,n),R.length&&C.Ca.d_(R),C.onlineState=n,C.isPrimaryClient&&C.sharedClientState.setOnlineState(n)}}async function gA(u,n,g){const C=Ot(u);C.sharedClientState.updateQueryState(n,"rejected",g);const R=C.Na.get(n),I=R&&R.key;if(I){let v=new ne(Ct.comparator);v=v.insert(I,Le.newNoDocument(I,Pt.min()));const S=Nt().add(I),t=new zl(Pt.min(),new Map,new ne(Gt),v,S);await Px(C,t),C.Oa=C.Oa.remove(I),C.Na.delete(n),Dd(C)}else await of(C.localStore,n,!1).then(()=>hf(C,n,g)).catch(vd)}function hf(u,n,g=null){u.sharedClientState.removeLocalQueryTarget(n);for(const C of u.Ma.get(n))u.Fa.delete(C),g&&u.Ca.$a(C,g);u.Ma.delete(n),u.isPrimaryClient&&u.La.gr(n).forEach(C=>{u.La.containsKey(C)||Rx(u,C)})}function Rx(u,n){u.xa.delete(n.path.canonicalString());const g=u.Oa.get(n);g!==null&&(Rd(u.remoteStore,g),u.Oa=u.Oa.remove(n),u.Na.delete(g),Dd(u))}function Np(u,n,g){for(const C of g)C instanceof Cx?(u.La.addReference(C.key,n),xA(u,C)):C instanceof wx?(Et("SyncEngine","Document no longer in limbo: "+C.key),u.La.removeReference(C.key,n),u.La.containsKey(C.key)||Rx(u,C.key)):Rt()}function xA(u,n){const g=n.key,C=g.path.canonicalString();u.Oa.get(g)||u.xa.has(C)||(Et("SyncEngine","New document in limbo: "+g),u.xa.add(C),Dd(u))}function Dd(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const n=u.xa.values().next().value;u.xa.delete(n);const g=new Ct(_t.fromString(n)),C=u.qa.next();u.Na.set(C,new uA(g)),u.Oa=u.Oa.insert(g,C),yx(u.remoteStore,new on(Ai(J0(g.path)),C,"TargetPurposeLimboResolution",pd.oe))}}async function Mx(u,n,g){const C=Ot(u),R=[],I=[],v=[];C.Fa.isEmpty()||(C.Fa.forEach((S,t)=>{v.push(C.Ka(t,n,g).then(h=>{var m;if((h||g)&&C.isPrimaryClient){const l=h?!h.fromCache:(m=g==null?void 0:g.targetChanges.get(t.targetId))===null||m===void 0?void 0:m.current;C.sharedClientState.updateQueryState(t.targetId,l?"current":"not-current")}if(h){R.push(h);const l=Pd.Wi(t.targetId,h);I.push(l)}}))}),await Promise.all(v),C.Ca.d_(R),await async function(t,h){const m=Ot(t);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>ht.forEach(h,a=>ht.forEach(a.$i,r=>m.persistence.referenceDelegate.addReference(l,a.targetId,r)).next(()=>ht.forEach(a.Ui,r=>m.persistence.referenceDelegate.removeReference(l,a.targetId,r)))))}catch(l){if(!Aa(l))throw l;Et("LocalStore","Failed to update sequence numbers: "+l)}for(const l of h){const a=l.targetId;if(!l.fromCache){const r=m.os.get(a),i=r.snapshotVersion,s=r.withLastLimboFreeSnapshotVersion(i);m.os=m.os.insert(a,s)}}}(C.localStore,I))}async function yA(u,n){const g=Ot(u);if(!g.currentUser.isEqual(n)){Et("SyncEngine","User change. New user:",n.toKey());const C=await px(g.localStore,n);g.currentUser=n,function(I,v){I.ka.forEach(S=>{S.forEach(t=>{t.reject(new St(pt.CANCELLED,v))})}),I.ka.clear()}(g,"'waitForPendingWrites' promise is rejected due to a user change."),g.sharedClientState.handleUserChange(n,C.removedBatchIds,C.addedBatchIds),await Mx(g,C.hs)}}function TA(u,n){const g=Ot(u),C=g.Na.get(n);if(C&&C.va)return Nt().add(C.key);{let R=Nt();const I=g.Ma.get(n);if(!I)return R;for(const v of I){const S=g.Fa.get(v);R=R.unionWith(S.view.Va)}return R}}function Ix(u){const n=Ot(u);return n.remoteStore.remoteSyncer.applyRemoteEvent=Px.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=TA.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=gA.bind(null,n),n.Ca.d_=rA.bind(null,n.eventManager),n.Ca.$a=aA.bind(null,n.eventManager),n}class Bp{constructor(){this.synchronizeTabs=!1}async initialize(n){this.serializer=gx(n.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(n),this.persistence=this.createPersistence(n),await this.persistence.start(),this.localStore=this.createLocalStore(n),this.gcScheduler=this.createGarbageCollectionScheduler(n,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(n,this.localStore)}createGarbageCollectionScheduler(n,g){return null}createIndexBackfillerScheduler(n,g){return null}createLocalStore(n){return Bw(this.persistence,new Dw,n.initialUser,this.serializer)}createPersistence(n){return new Fw(Ad.Zr,this.serializer)}createSharedClientState(n){return new zw}async terminate(){var n,g;(n=this.gcScheduler)===null||n===void 0||n.stop(),(g=this.indexBackfillerScheduler)===null||g===void 0||g.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class EA{async initialize(n,g){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(g),this.remoteStore=this.createRemoteStore(g),this.eventManager=this.createEventManager(g),this.syncEngine=this.createSyncEngine(g,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=C=>Dp(this.syncEngine,C,1),this.remoteStore.remoteSyncer.handleCredentialChange=yA.bind(null,this.syncEngine),await tA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new iA}()}createDatastore(n){const g=gx(n.databaseInfo.databaseId),C=function(I){return new jw(I)}(n.databaseInfo);return function(I,v,S,t){return new Kw(I,v,S,t)}(n.authCredentials,n.appCheckCredentials,C,g)}createRemoteStore(n){return function(C,R,I,v,S){return new Qw(C,R,I,v,S)}(this.localStore,this.datastore,n.asyncQueue,g=>Dp(this.syncEngine,g,0),function(){return Rp.D()?new Rp:new Xw}())}createSyncEngine(n,g){return function(R,I,v,S,t,h,m){const l=new fA(R,I,v,S,t,h);return m&&(l.Qa=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,g)}async terminate(){var n,g;await async function(R){const I=Ot(R);Et("RemoteStore","RemoteStore shutting down."),I.L_.add(5),await Ra(I),I.k_.shutdown(),I.q_.set("Unknown")}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(g=this.eventManager)===null||g===void 0||g.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ga(this.observer.next,n)}error(n){this.observer.error?this.Ga(this.observer.error,n):ji("Uncaught Error in snapshot listener:",n.toString())}za(){this.muted=!0}Ga(n,g){this.muted||setTimeout(()=>{this.muted||n(g)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(n,g,C,R){this.authCredentials=n,this.appCheckCredentials=g,this.asyncQueue=C,this.databaseInfo=R,this.user=Ie.UNAUTHENTICATED,this.clientId=oC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(C,async I=>{Et("FirestoreClient","Received user=",I.uid),await this.authCredentialListener(I),this.user=I}),this.appCheckCredentials.start(C,I=>(Et("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(g){const C=Sx(g,"Failed to shutdown persistence");n.reject(C)}}),n.promise}}async function Wh(u,n){u.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const g=u.configuration;await n.initialize(g);let C=g.initialUser;u.setCredentialChangeListener(async R=>{C.isEqual(R)||(await px(n.localStore,R),C=R)}),n.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=n}async function bp(u,n){u.asyncQueue.verifyOperationInProgress();const g=await AA(u);Et("FirestoreClient","Initializing OnlineComponentProvider"),await n.initialize(g,u.configuration),u.setCredentialChangeListener(C=>Ip(n.remoteStore,C)),u.setAppCheckTokenChangeListener((C,R)=>Ip(n.remoteStore,R)),u._onlineComponents=n}function wA(u){return u.name==="FirebaseError"?u.code===pt.FAILED_PRECONDITION||u.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}async function AA(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Et("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wh(u,u._uninitializedComponentsProvider._offline)}catch(n){const g=n;if(!wA(g))throw g;Ys("Error using user provided cache. Falling back to memory cache: "+g),await Wh(u,new Bp)}}else Et("FirestoreClient","Using default OfflineComponentProvider"),await Wh(u,new Bp);return u._offlineComponents}async function PA(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Et("FirestoreClient","Using user provided OnlineComponentProvider"),await bp(u,u._uninitializedComponentsProvider._online)):(Et("FirestoreClient","Using default OnlineComponentProvider"),await bp(u,new EA))),u._onlineComponents}async function RA(u){const n=await PA(u),g=n.eventManager;return g.onListen=dA.bind(null,n.syncEngine),g.onUnlisten=pA.bind(null,n.syncEngine),g.onFirstRemoteStoreListen=cA.bind(null,n.syncEngine),g.onLastRemoteStoreUnlisten=mA.bind(null,n.syncEngine),g}function MA(u,n,g={}){const C=new Hn;return u.asyncQueue.enqueueAndForget(async()=>function(I,v,S,t,h){const m=new SA({next:a=>{v.enqueueAndForget(()=>sA(I,l)),a.fromCache&&t.source==="server"?h.reject(new St(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(a)},error:a=>h.reject(a)}),l=new oA(S,m,{includeMetadataChanges:!0,_a:!0});return nA(I,l)}(await RA(u),u.asyncQueue,n,g,C)),C.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(u){const n={};return u.timeoutSeconds!==void 0&&(n.timeoutSeconds=u.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map;function IA(u,n,g,C){if(n===!0&&C===!0)throw new St(pt.INVALID_ARGUMENT,`${u} and ${g} cannot be used together.`)}function Gp(u){if(Ct.isDocumentKey(u))throw new St(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function FA(u){if(u===void 0)return"undefined";if(u===null)return"null";if(typeof u=="string")return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if(typeof u=="number"||typeof u=="boolean")return""+u;if(typeof u=="object"){if(u instanceof Array)return"an array";{const n=function(C){return C.constructor?C.constructor.name:null}(u);return n?`a custom ${n} object`:"an object"}}return typeof u=="function"?"a function":Rt()}function uf(u,n){if("_delegate"in u&&(u=u._delegate),!(u instanceof n)){if(n.name===u.constructor.name)throw new St(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const g=FA(u);throw new St(pt.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${g}`)}}return u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(n){var g,C;if(n.host===void 0){if(n.ssl!==void 0)throw new St(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=(g=n.ssl)===null||g===void 0||g;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<1048576)throw new St(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}IA("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fx((C=n.experimentalLongPollingOptions)!==null&&C!==void 0?C:{}),function(I){if(I.timeoutSeconds!==void 0){if(isNaN(I.timeoutSeconds))throw new St(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (must not be NaN)`);if(I.timeoutSeconds<5)throw new St(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (minimum allowed value is 5)`);if(I.timeoutSeconds>30)throw new St(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${I.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(C,R){return C.timeoutSeconds===R.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Nd{constructor(n,g,C,R){this._authCredentials=n,this._appCheckCredentials=g,this._databaseId=C,this._app=R,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Up({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(n){if(this._settingsFrozen)throw new St(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Up(n),n.credentials!==void 0&&(this._authCredentials=function(C){if(!C)return new _S;switch(C.type){case"firstParty":return new nC(C.sessionIndex||"0",C.iamToken||null,C.authTokenFactory||null);case"provider":return C.client;default:throw new St(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(g){const C=Vp.get(g);C&&(Et("ComponentProvider","Removing Datastore"),Vp.delete(g),C.terminate())}(this),Promise.resolve()}}function LA(u,n,g,C={}){var R;const I=(u=uf(u,Nd))._getSettings(),v=`${n}:${g}`;if(I.host!=="firestore.googleapis.com"&&I.host!==v&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},I),{host:v,ssl:!1})),C.mockUserToken){let S,t;if(typeof C.mockUserToken=="string")S=C.mockUserToken,t=Ie.MOCK_USER;else{S=NE(C.mockUserToken,(R=u._app)===null||R===void 0?void 0:R.options.projectId);const h=C.mockUserToken.sub||C.mockUserToken.user_id;if(!h)throw new St(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t=new Ie(h)}u._authCredentials=new tC(new Y0(S,t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(n,g,C){this.converter=g,this._query=C,this.type="query",this.firestore=n}withConverter(n){return new Yl(this.firestore,n,this._query)}}class ir{constructor(n,g,C){this.converter=g,this._key=C,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new ir(this.firestore,n,this._key)}}class Ns extends Yl{constructor(n,g,C){super(n,g,J0(C)),this._path=C,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new ir(this.firestore,null,new Ct(n))}withConverter(n){return new Ns(this.firestore,n,this._path)}}function OA(u,n,...g){if(u=ud(u),u instanceof Nd){const C=_t.fromString(n,...g);return Gp(C),new Ns(u,null,C)}{if(!(u instanceof ir||u instanceof Ns))throw new St(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const C=u._path.child(_t.fromString(n,...g));return Gp(C),new Ns(u.firestore,null,C)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new xx(this,"async_queue_retry"),this.Eu=()=>{const g=Yh();g&&Et("AsyncQueue","Visibility state changed to "+g.visibilityState),this.t_.jo()};const n=Yh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.du(),this.Au(n)}enterRestrictedMode(n){if(!this.cu){this.cu=!0,this.Iu=n||!1;const g=Yh();g&&typeof g.removeEventListener=="function"&&g.removeEventListener("visibilitychange",this.Eu)}}enqueue(n){if(this.du(),this.cu)return new Promise(()=>{});const g=new Hn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(n().then(g.resolve,g.reject),g.promise)).then(()=>g.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.uu.push(n),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(n){if(!Aa(n))throw n;Et("AsyncQueue","Operation failed with retryable error: "+n)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(n){const g=this.au.then(()=>(this.Pu=!0,n().catch(C=>{this.hu=C,this.Pu=!1;const R=function(v){let S=v.message||"";return v.stack&&(S=v.stack.includes(v.message)?v.stack:v.message+`
`+v.stack),S}(C);throw ji("INTERNAL UNHANDLED ERROR: ",R),C}).then(C=>(this.Pu=!1,C))));return this.au=g,g}enqueueAfterDelay(n,g,C){this.du(),this.Tu.indexOf(n)>-1&&(g=0);const R=Ld.createAndSchedule(this,n,g,C,I=>this.Vu(I));return this.lu.push(R),R}du(){this.hu&&Rt()}verifyOperationInProgress(){}async mu(){let n;do n=this.au,await n;while(n!==this.au)}fu(n){for(const g of this.lu)if(g.timerId===n)return!0;return!1}gu(n){return this.mu().then(()=>{this.lu.sort((g,C)=>g.targetTimeMs-C.targetTimeMs);for(const g of this.lu)if(g.skipDelay(),n!=="all"&&g.timerId===n)break;return this.mu()})}pu(n){this.Tu.push(n)}Vu(n){const g=this.lu.indexOf(n);this.lu.splice(g,1)}}class Lx extends Nd{constructor(n,g,C,R){super(n,g,C,R),this.type="firestore",this._queue=function(){return new DA}(),this._persistenceKey=(R==null?void 0:R.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ox(this),this._firestoreClient.terminate()}}function NA(u,n){const g=typeof u=="object"?u:O0(),C=typeof u=="string"?u:"(default)",R=wa(g,"firestore").getImmediate({identifier:C});if(!R._initialized){const I=OE("firestore");I&&LA(R,...I)}return R}function BA(u){return u._firestoreClient||Ox(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function Ox(u){var n,g,C;const R=u._freezeSettings(),I=function(S,t,h,m){return new gC(S,t,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Fx(m.experimentalLongPollingOptions),m.useFetchStreams)}(u._databaseId,((n=u._app)===null||n===void 0?void 0:n.options.appId)||"",u._persistenceKey,R);u._firestoreClient=new CA(u._authCredentials,u._appCheckCredentials,u._queue,I),!((g=R.localCache)===null||g===void 0)&&g._offlineComponentProvider&&(!((C=R.localCache)===null||C===void 0)&&C._onlineComponentProvider)&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:R.localCache.kind,_offline:R.localCache._offlineComponentProvider,_online:R.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new dl(Ce.fromBase64String(n))}catch(g){throw new St(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+g)}}static fromUint8Array(n){return new dl(Ce.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(...n){for(let g=0;g<n.length;++g)if(n[g].length===0)throw new St(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(n,g){if(!isFinite(n)||n<-90||n>90)throw new St(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(g)||g<-180||g>180)throw new St(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+g);this._lat=n,this._long=g}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Gt(this._lat,n._lat)||Gt(this._long,n._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(n){this._values=(n||[]).map(g=>g)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(C,R){if(C.length!==R.length)return!1;for(let I=0;I<C.length;++I)if(C[I]!==R[I])return!1;return!0}(this._values,n._values)}}const GA=new RegExp("[~\\*/\\[\\]]");function UA(u,n,g){if(n.search(GA)>=0)throw zp(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,u);try{return new Dx(...n.split("."))._internalPath}catch{throw zp(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u)}}function zp(u,n,g,C,R){let I=`Function ${n}() called with invalid data`;I+=". ";let v="";return new St(pt.INVALID_ARGUMENT,I+u+v)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(n,g,C,R,I){this._firestore=n,this._userDataWriter=g,this._key=C,this._document=R,this._converter=I}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new zA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const g=this._document.data.field(Bx("DocumentSnapshot.get",n));if(g!==null)return this._userDataWriter.convertValue(g)}}}class zA extends Nx{data(){return super.data()}}function Bx(u,n){return typeof n=="string"?UA(u,n):n instanceof Dx?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(u){if(u.limitType==="L"&&u.explicitOrderBy.length===0)throw new St(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YA{convertValue(n,g="none"){switch(ts(n)){case 0:return null;case 1:return n.booleanValue;case 2:return ee(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,g);case 5:return n.stringValue;case 6:return this.convertBytes(_n(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,g);case 11:return this.convertObject(n.mapValue,g);case 10:return this.convertVectorValue(n.mapValue);default:throw Rt()}}convertObject(n,g){return this.convertObjectMap(n.fields,g)}convertObjectMap(n,g="none"){const C={};return Nl(n,(R,I)=>{C[R]=this.convertValue(I,g)}),C}convertVectorValue(n){var g,C,R;const I=(R=(C=(g=n.fields)===null||g===void 0?void 0:g.value.arrayValue)===null||C===void 0?void 0:C.values)===null||R===void 0?void 0:R.map(v=>ee(v.doubleValue));return new VA(I)}convertGeoPoint(n){return new bA(ee(n.latitude),ee(n.longitude))}convertArray(n,g){return(n.values||[]).map(C=>this.convertValue(C,g))}convertServerTimestamp(n,g){switch(g){case"previous":const C=gd(n);return C==null?null:this.convertValue(C,g);case"estimate":return this.convertTimestamp(va(n));default:return null}}convertTimestamp(n){const g=Cn(n);return new je(g.seconds,g.nanos)}convertDocumentKey(n,g){const C=_t.fromString(n);he(vx(C));const R=new pa(C.get(1),C.get(3)),I=new Ct(C.popFirst(5));return R.isEqual(g)||ji(`Document ${I} contains a document reference within a different database (${R.projectId}/${R.database}) which is not supported. It will be treated as a reference in the current database (${g.projectId}/${g.database}) instead.`),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(n,g){this.hasPendingWrites=n,this.fromCache=g}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class WA extends Nx{constructor(n,g,C,R,I,v){super(n,g,C,R,v),this._firestore=n,this._firestoreImpl=n,this.metadata=I}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const g=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(g,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,g={}){if(this._document){const C=this._document.data.field(Bx("DocumentSnapshot.get",n));if(C!==null)return this._userDataWriter.convertValue(C,g.serverTimestamps)}}}class Lo extends WA{data(n={}){return super.data(n)}}class jA{constructor(n,g,C,R){this._firestore=n,this._userDataWriter=g,this._snapshot=R,this.metadata=new fo(R.hasPendingWrites,R.fromCache),this.query=C}get docs(){const n=[];return this.forEach(g=>n.push(g)),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,g){this._snapshot.docs.forEach(C=>{n.call(g,new Lo(this._firestore,this._userDataWriter,C.key,C,new fo(this._snapshot.mutatedKeys.has(C.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const g=!!n.includeMetadataChanges;if(g&&this._snapshot.excludesMetadataChanges)throw new St(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===g||(this._cachedChanges=function(R,I){if(R._snapshot.oldDocs.isEmpty()){let v=0;return R._snapshot.docChanges.map(S=>{const t=new Lo(R._firestore,R._userDataWriter,S.doc.key,S.doc,new fo(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);return S.doc,{type:"added",doc:t,oldIndex:-1,newIndex:v++}})}{let v=R._snapshot.oldDocs;return R._snapshot.docChanges.filter(S=>I||S.type!==3).map(S=>{const t=new Lo(R._firestore,R._userDataWriter,S.doc.key,S.doc,new fo(R._snapshot.mutatedKeys.has(S.doc.key),R._snapshot.fromCache),R.query.converter);let h=-1,m=-1;return S.type!==0&&(h=v.indexOf(S.doc.key),v=v.delete(S.doc.key)),S.type!==1&&(v=v.add(S.doc),m=v.indexOf(S.doc.key)),{type:HA(S.type),doc:t,oldIndex:h,newIndex:m}})}}(this,g),this._cachedChangesIncludeMetadataChanges=g),this._cachedChanges}}function HA(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}class kA extends YA{constructor(n){super(),this.firestore=n}convertBytes(n){return new dl(n)}convertReference(n){const g=this.convertDocumentKey(n,this.firestore._databaseId);return new ir(this.firestore,null,g)}}function KA(u){u=uf(u,Yl);const n=uf(u.firestore,Lx),g=BA(n),C=new kA(n);return XA(u._query),MA(g,u._query).then(R=>new jA(n,C,u,R))}(function(n,g=!0){(function(R){_s=R})(WS),En(new Yi("firestore",(C,{instanceIdentifier:R,options:I})=>{const v=C.getProvider("app").getImmediate(),S=new Lx(new eC(C.getProvider("auth-internal")),new rC(C.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new St(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(h.options.projectId,m)}(v,R),v);return I=Object.assign({useFetchStreams:g},I),S._setSettings(I),S},"PUBLIC").setMultipleInstances(!0)),wi(sp,"4.7.0",n),wi(sp,"4.7.0","esm2017")})();const $A=async(u,n)=>{await KA(OA(qR,"projectDetails")).then(g=>{const C=g.docs.map(R=>({...R.data(),id:R.id}));n(C)})},QA=({isLoading:u})=>{const[n,g]=ut.useState([]);return ut.useEffect(()=>{$A(n,g)},[]),B.jsx(B.Fragment,{children:u?B.jsx(B.Fragment,{}):B.jsx("div",{id:"Projects",children:B.jsx("div",{className:"project-list",children:oE.map((C,R)=>B.jsxs("div",{className:"project-item",children:[B.jsx("div",{className:"project-title",children:C.title}),B.jsx("span",{className:"project-diagram-vertical",children:"|"}),C.demoType==="video"?B.jsx(SE,{video:C.href}):B.jsx(EE,{image:C.href,altText:C.title}),B.jsxs("div",{className:"project-description",children:[B.jsxs("span",{children:["Fig. ",uE[R]," - "]}),C.description]}),B.jsxs("div",{className:"flexrow links-display",children:[B.jsx(Dh,{className:"project-button",image:Nh,link:typeof C.githubURL=="string"?C.githubURL:C.githubURL[0],linkText:"GitHub",linkTextColor:"#EDDEA4"}),C.blogURL&&B.jsx(Dh,{className:"project-button",image:Nh,link:C.blogURL,linkText:"Blog",linkTextColor:"#EDDEA4"}),C.youTubeURL&&B.jsx(Dh,{className:"project-button",image:Nh,link:C.youTubeURL,linkText:"YouTube",linkTextColor:"#EDDEA4",externalLink:!0})]})]},`${R}-project`))})})})};var bx={exports:{}};(function(u,n){(function(C,R){u.exports=R()})(Dy,()=>(()=>{var g={6659:v=>{var S=Object.prototype.hasOwnProperty,t="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1));function m(i,s,f){this.fn=i,this.context=s,this.once=f||!1}function l(i,s,f,e,o){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new m(f,e||i,o),c=t?t+s:s;return i._events[c]?i._events[c].fn?i._events[c]=[i._events[c],d]:i._events[c].push(d):(i._events[c]=d,i._eventsCount++),i}function a(i,s){--i._eventsCount===0?i._events=new h:delete i._events[s]}function r(){this._events=new h,this._eventsCount=0}r.prototype.eventNames=function(){var s=[],f,e;if(this._eventsCount===0)return s;for(e in f=this._events)S.call(f,e)&&s.push(t?e.slice(1):e);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(f)):s},r.prototype.listeners=function(s){var f=t?t+s:s,e=this._events[f];if(!e)return[];if(e.fn)return[e.fn];for(var o=0,d=e.length,c=new Array(d);o<d;o++)c[o]=e[o].fn;return c},r.prototype.listenerCount=function(s){var f=t?t+s:s,e=this._events[f];return e?e.fn?1:e.length:0},r.prototype.emit=function(s,f,e,o,d,c){var p=t?t+s:s;if(!this._events[p])return!1;var x=this._events[p],T=arguments.length,E,y;if(x.fn){switch(x.once&&this.removeListener(s,x.fn,void 0,!0),T){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,e),!0;case 4:return x.fn.call(x.context,f,e,o),!0;case 5:return x.fn.call(x.context,f,e,o,d),!0;case 6:return x.fn.call(x.context,f,e,o,d,c),!0}for(y=1,E=new Array(T-1);y<T;y++)E[y-1]=arguments[y];x.fn.apply(x.context,E)}else{var w=x.length,A;for(y=0;y<w;y++)switch(x[y].once&&this.removeListener(s,x[y].fn,void 0,!0),T){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,f);break;case 3:x[y].fn.call(x[y].context,f,e);break;case 4:x[y].fn.call(x[y].context,f,e,o);break;default:if(!E)for(A=1,E=new Array(T-1);A<T;A++)E[A-1]=arguments[A];x[y].fn.apply(x[y].context,E)}}return!0},r.prototype.on=function(s,f,e){return l(this,s,f,e,!1)},r.prototype.once=function(s,f,e){return l(this,s,f,e,!0)},r.prototype.removeListener=function(s,f,e,o){var d=t?t+s:s;if(!this._events[d])return this;if(!f)return a(this,d),this;var c=this._events[d];if(c.fn)c.fn===f&&(!o||c.once)&&(!e||c.context===e)&&a(this,d);else{for(var p=0,x=[],T=c.length;p<T;p++)(c[p].fn!==f||o&&!c[p].once||e&&c[p].context!==e)&&x.push(c[p]);x.length?this._events[d]=x.length===1?x[0]:x:a(this,d)}return this},r.prototype.removeAllListeners=function(s){var f;return s?(f=t?t+s:s,this._events[f]&&a(this,f)):(this._events=new h,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=t,r.EventEmitter=r,v.exports=r},62270:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82590),m=function(l,a,r,i){for(var s=l[0],f=1;f<l.length;f++){var e=l[f];h(e,s,a,r,i),s=e}return l};v.exports=m},61148:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s){return h(l,"angle",a,r,i,s)};v.exports=m},22015:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var l=0;l<t.length;l++){var a=t[l];h.call(m,a)}return t};v.exports=S},31060:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){m===void 0&&(m=0);for(var l=m;l<t.length;l++){var a=t[l],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};v.exports=S},52367:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){m===void 0&&(m=0);for(var l=m;l<t.length;l++){var a=t[l],r=!0;for(var i in h)a[i]!==h[i]&&(r=!1);if(r)return a}return null};v.exports=S},12673:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40327),m=t(84093),l=t(72632),a=t(72283),r=t(71030),i=new r({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1).setOrigin(0,0),s=function(f,e){e===void 0&&(e={});var o=e.hasOwnProperty("width"),d=e.hasOwnProperty("height"),c=l(e,"width",-1),p=l(e,"height",-1),x=l(e,"cellWidth",1),T=l(e,"cellHeight",x),E=l(e,"position",m.TOP_LEFT),y=l(e,"x",0),w=l(e,"y",0),A=0,P=0,M=c*x,L=p*T;i.setPosition(y,w),i.setSize(x,T);for(var F=0;F<f.length;F++)if(h(f[F],i,E),o&&c===-1)i.x+=x;else if(d&&p===-1)i.y+=T;else if(d&&!o){if(P+=T,i.y+=T,P===L&&(P=0,A+=x,i.y=w,i.x+=x,A===M))break}else if(A+=x,i.x+=x,A===M&&(A=0,P+=T,i.x=y,i.y+=T,P===L))break;return f};v.exports=s},691:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s){return h(l,"alpha",a,r,i,s)};v.exports=m},3877:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s){return h(l,"x",a,r,i,s)};v.exports=m},71020:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s,f,e){return r==null&&(r=a),h(l,"x",a,i,f,e),h(l,"y",r,s,f,e)};v.exports=m},28970:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s){return h(l,"y",a,r,i,s)};v.exports=m},82249:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m===void 0&&(m=0),l===void 0&&(l=6.28);for(var a=m,r=(l-m)/t.length,i=h.x,s=h.y,f=h.radius,e=0;e<t.length;e++)t[e].x=i+f*Math.cos(a),t[e].y=s+f*Math.sin(a),a+=r;return t};v.exports=S},30285:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m===void 0&&(m=0),l===void 0&&(l=6.28);for(var a=m,r=(l-m)/t.length,i=h.width/2,s=h.height/2,f=0;f<t.length;f++)t[f].x=h.x+i*Math.cos(a),t[f].y=h.y+s*Math.sin(a),a+=r;return t};v.exports=S},61557:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8570),m=function(l,a){for(var r=h(a,l.length),i=0;i<l.length;i++){var s=l[i],f=r[i];s.x=f.x,s.y=f.y}return l};v.exports=m},63549:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40053),m=t(77640),l=t(38487),a=function(r,i,s){s===void 0&&(s=0);var f=h(i,!1,r.length);s>0?m(f,s):s<0&&l(f,Math.abs(s));for(var e=0;e<r.length;e++)r[e].x=f[e].x,r[e].y=f[e].y;return r};v.exports=a},51629:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(58813),m=function(l,a,r){var i=h({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r),s=h({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},r),f=h({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},r);i.pop(),s.pop(),f.pop(),i=i.concat(s,f);for(var e=i.length/l.length,o=0,d=0;d<l.length;d++){var c=l[d],p=i[Math.floor(o)];c.x=p.x,c.y=p.y,o+=e}return l};v.exports=m},1045:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var l=0;l<t.length;l++){var a=t[l];a.anims&&a.anims.play(h,m)}return t};v.exports=S},6124:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a,r){l===void 0&&(l=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,s=0,f=t.length;if(r===1)for(i=a;i<f;i++)t[i][h]+=m+s*l,s++;else for(i=a;i>=0;i--)t[i][h]+=m+s*l,s++;return t};v.exports=S},23646:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a,r){l===void 0&&(l=0),a===void 0&&(a=0),r===void 0&&(r=1);var i,s=0,f=t.length;if(r===1)for(i=a;i<f;i++)t[i][h]=m+s*l,s++;else for(i=a;i>=0;i--)t[i][h]=m+s*l,s++;return t};v.exports=S},4392:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30977),m=function(l,a){for(var r=0;r<l.length;r++)h(a,l[r]);return l};v.exports=m},94985:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72006),m=function(l,a){for(var r=0;r<l.length;r++)h(a,l[r]);return l};v.exports=m},63305:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74077),m=function(l,a){for(var r=0;r<l.length;r++)h(a,l[r]);return l};v.exports=m},90739:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(30001),m=function(l,a){for(var r=0;r<l.length;r++)h(a,l[r]);return l};v.exports=m},91417:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99761),m=function(l,a){for(var r=0;r<l.length;r++)h(a,l[r]);return l};v.exports=m},26182:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s){return h(l,"rotation",a,r,i,s)};v.exports=m},87299:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72395),m=t(53996),l=function(a,r,i){for(var s=r.x,f=r.y,e=0;e<a.length;e++){var o=a[e];h(o,s,f,i,Math.max(1,m(o.x,o.y,s,f)))}return a};v.exports=l},92194:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72395),m=function(l,a,r,i){var s=a.x,f=a.y;if(i===0)return l;for(var e=0;e<l.length;e++)h(l[e],s,f,r,i);return l};v.exports=m},30363:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s){return h(l,"scaleX",a,r,i,s)};v.exports=m},51449:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s,f,e){return r==null&&(r=a),h(l,"scaleX",a,i,f,e),h(l,"scaleY",r,s,f,e)};v.exports=m},64895:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6124),m=function(l,a,r,i,s){return h(l,"scaleY",a,r,i,s)};v.exports=m},30329:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"alpha",a,r,i,s)};v.exports=m},43954:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i){return h(l,"blendMode",a,0,r,i)};v.exports=m},70688:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"depth",a,r,i,s)};v.exports=m},8314:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var l=0;l<t.length;l++)t[l].setInteractive(h,m);return t};v.exports=S},12894:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s,f,e){return r==null&&(r=a),h(l,"originX",a,i,f,e),h(l,"originY",r,s,f,e),l.forEach(function(o){o.updateDisplayOrigin()}),l};v.exports=m},38767:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"rotation",a,r,i,s)};v.exports=m},18584:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s,f,e){return r==null&&(r=a),h(l,"scaleX",a,i,f,e),h(l,"scaleY",r,s,f,e)};v.exports=m},17381:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"scaleX",a,r,i,s)};v.exports=m},74370:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"scaleY",a,r,i,s)};v.exports=m},27773:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s,f,e){return r==null&&(r=a),h(l,"scrollFactorX",a,i,f,e),h(l,"scrollFactorY",r,s,f,e)};v.exports=m},75257:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"scrollFactorX",a,r,i,s)};v.exports=m},54512:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"scrollFactorY",a,r,i,s)};v.exports=m},69423:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){for(var r=0;r<t.length;r++)t[r].setTint(h,m,l,a);return t};v.exports=S},58291:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i){return h(l,"visible",a,0,r,i)};v.exports=m},94833:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"x",a,r,i,s)};v.exports=m},14284:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s,f,e){return r==null&&(r=a),h(l,"x",a,i,f,e),h(l,"y",r,s,f,e)};v.exports=m},96574:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23646),m=function(l,a,r,i,s){return h(l,"y",a,r,i,s)};v.exports=m},74086:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s){i===void 0&&(i=0),s===void 0&&(s=new h);var f,e,o=l.length;if(o===1)f=l[0].x,e=l[0].y,l[0].x=a,l[0].y=r;else{var d=1,c=0;i===0&&(c=o-1,d=o-2),f=l[c].x,e=l[c].y,l[c].x=a,l[c].y=r;for(var p=0;p<o;p++)if(!(d>=o||d===-1)){var x=l[d],T=x.x,E=x.y;x.x=f,x.y=e,f=T,e=E,i===0?d--:d++}}return s.x=f,s.y=e,s};v.exports=m},86347:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18592),m=function(l){return h(l)};v.exports=m},1558:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5514),m=function(l,a,r,i,s){s===void 0&&(s=!1);var f=Math.abs(i-r)/l.length,e;if(s)for(e=0;e<l.length;e++)l[e][a]+=h(e*f,r,i);else for(e=0;e<l.length;e++)l[e][a]=h(e*f,r,i);return l};v.exports=m},9938:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87736),m=function(l,a,r,i,s){s===void 0&&(s=!1);var f=Math.abs(i-r)/l.length,e;if(s)for(e=0;e<l.length;e++)l[e][a]+=h(e*f,r,i);else for(e=0;e<l.length;e++)l[e][a]=h(e*f,r,i);return l};v.exports=m},71060:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){if(a===void 0&&(a=!1),t.length===0)return t;if(t.length===1)return a?t[0][h]+=(l+m)/2:t[0][h]=(l+m)/2,t;var r=Math.abs(l-m)/(t.length-1),i;if(a)for(i=0;i<t.length;i++)t[i][h]+=i*r+m;else for(i=0;i<t.length;i++)t[i][h]=i*r+m;return t};v.exports=S},11207:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].visible=!t[h].visible;return t};v.exports=S},24404:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1071),m=function(l,a,r){r===void 0&&(r=0);for(var i=0;i<l.length;i++){var s=l[i];s.x=h(s.x,a.left-r,a.right+r),s.y=h(s.y,a.top-r,a.bottom+r)}return l};v.exports=m},83979:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AlignTo:t(62270),Angle:t(61148),Call:t(22015),GetFirst:t(31060),GetLast:t(52367),GridAlign:t(12673),IncAlpha:t(691),IncX:t(3877),IncXY:t(71020),IncY:t(28970),PlaceOnCircle:t(82249),PlaceOnEllipse:t(30285),PlaceOnLine:t(61557),PlaceOnRectangle:t(63549),PlaceOnTriangle:t(51629),PlayAnimation:t(1045),PropertyValueInc:t(6124),PropertyValueSet:t(23646),RandomCircle:t(4392),RandomEllipse:t(94985),RandomLine:t(63305),RandomRectangle:t(90739),RandomTriangle:t(91417),Rotate:t(26182),RotateAround:t(87299),RotateAroundDistance:t(92194),ScaleX:t(30363),ScaleXY:t(51449),ScaleY:t(64895),SetAlpha:t(30329),SetBlendMode:t(43954),SetDepth:t(70688),SetHitArea:t(8314),SetOrigin:t(12894),SetRotation:t(38767),SetScale:t(18584),SetScaleX:t(17381),SetScaleY:t(74370),SetScrollFactor:t(27773),SetScrollFactorX:t(75257),SetScrollFactorY:t(54512),SetTint:t(69423),SetVisible:t(58291),SetX:t(94833),SetXY:t(14284),SetY:t(96574),ShiftPosition:t(74086),Shuffle:t(86347),SmootherStep:t(9938),SmoothStep:t(1558),Spread:t(71060),ToggleVisible:t(11207),WrapInRectangle:t(24404)}},85463:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(16938),a=t(2406),r=t(71519),i=t(10850),s=t(28834),f=new m({initialize:function(o,d,c){this.manager=o,this.key=d,this.type="frame",this.frames=this.getFrames(o.textureManager,i(c,"frames",[]),i(c,"defaultTextureKey",null),i(c,"sortFrames",!0)),this.frameRate=i(c,"frameRate",null),this.duration=i(c,"duration",null),this.msPerFrame,this.skipMissedFrames=i(c,"skipMissedFrames",!0),this.delay=i(c,"delay",0),this.repeat=i(c,"repeat",0),this.repeatDelay=i(c,"repeatDelay",0),this.yoyo=i(c,"yoyo",!1),this.showBeforeDelay=i(c,"showBeforeDelay",!1),this.showOnStart=i(c,"showOnStart",!1),this.hideOnComplete=i(c,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(l.PAUSE_ALL,this.pause,this),this.manager.on(l.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(e,o,d,c){d===null&&c===null?(e.frameRate=24,e.duration=24/o*1e3):d&&c===null?(e.duration=d,e.frameRate=o/(d/1e3)):(e.frameRate=c,e.duration=o/c*1e3),e.msPerFrame=1e3/e.frameRate},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,o){var d=this.getFrames(this.manager.textureManager,o);if(d.length>0){if(e===0)this.frames=d.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(d);else{var c=this.frames.slice(0,e),p=this.frames.slice(e);this.frames=c.concat(d,p)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},getFirstTick:function(e){e.accumulator=0,e.nextTick=e.msPerFrame+e.currentFrame.duration},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,o,d,c){c===void 0&&(c=!0);var p=[],x,T,E=1,y,w;if(typeof o=="string"){if(w=o,!e.exists(w))return console.warn('Texture "%s" not found',w),p;var A=e.get(w),P=A.getFrameNames();c&&s(P),o=[],P.forEach(function(V){o.push({key:w,frame:V})})}if(!Array.isArray(o)||o.length===0)return p;for(y=0;y<o.length;y++){var M=o[y],L=i(M,"key",d);if(L){var F=i(M,"frame",0),N=e.getFrame(L,F);if(!N){console.warn('Texture "%s" not found',L);continue}T=new r(L,F,E,N),T.duration=i(M,"duration",0),T.isFirst=!x,x&&(x.nextFrame=T,T.prevFrame=x),p.push(T),x=T,E++}}if(p.length>0){T.isLast=!0,T.nextFrame=p[0],p[0].prevFrame=T;var b=1/(p.length-1);for(y=0;y<p.length;y++)p[y].progress=y*b}return p},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.msPerFrame+e.currentFrame.duration},getFrameByProgress:function(e){return e=h(e,0,1),a(e,this.frames,"progress")},nextFrame:function(e){var o=e.currentFrame;o.isLast?e.yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e.inReverse&&e.forward?e.forward=!1:this.repeatAnimation(e):e.complete():this.updateAndGetNextTick(e,o.nextFrame)},handleYoyoFrame:function(e,o){if(o||(o=!1),e.inReverse===!o&&e.repeatCounter>0){(e.repeatDelay===0||e.pendingRepeat)&&(e.forward=o),this.repeatAnimation(e);return}if(e.inReverse!==o&&e.repeatCounter===0){e.complete();return}e.forward=o;var d=o?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,d)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var o=e.currentFrame;o.isFirst?e.yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?e.inReverse&&!e.forward?this.repeatAnimation(e):(e.forward=!0,this.repeatAnimation(e)):e.complete():this.updateAndGetNextTick(e,o.prevFrame)},updateAndGetNextTick:function(e,o){e.setCurrentFrame(o),this.getNextTick(e)},removeFrame:function(e){var o=this.frames.indexOf(e);return o!==-1&&this.removeFrameAt(o),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(e._pendingStop===2){if(e._pendingStopValue===0)return e.stop();e._pendingStopValue--}e.repeatDelay>0&&!e.pendingRepeat?(e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e.repeatDelay):(e.repeatCounter--,e.forward?e.setCurrentFrame(e.currentFrame.nextFrame):e.setCurrentFrame(e.currentFrame.prevFrame),e.isPlaying&&(this.getNextTick(e),e.handleRepeat()))},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(o){e.frames.push(o.toJSON())}),e},updateFrameSequence:function(){for(var e=this.frames.length,o=1/(e-1),d,c=0;c<e;c++)d=this.frames[c],d.index=c+1,d.isFirst=!1,d.isLast=!1,d.progress=c*o,c===0?(d.isFirst=!0,e===1?(d.isLast=!0,d.nextFrame=d,d.prevFrame=d):(d.isLast=!1,d.prevFrame=this.frames[e-1],d.nextFrame=this.frames[c+1])):c===e-1&&e>1?(d.isLast=!0,d.prevFrame=this.frames[e-2],d.nextFrame=this.frames[0]):e>1&&(d.prevFrame=this.frames[c-1],d.nextFrame=this.frames[c+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(l.PAUSE_ALL,this.pause,this),this.manager.off(l.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});v.exports=f},71519:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i,s,f){f===void 0&&(f=!1),this.textureKey=a,this.textureFrame=r,this.index=i,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});v.exports=m},90249:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85463),m=t(56694),l=t(33885),a=t(6659),r=t(16938),i=t(97081),s=t(72632),f=t(10850),e=t(83392),o=t(13401),d=t(76400),c=new m({Extends:a,initialize:function(x){a.call(this),this.game=x,this.textureManager=null,this.globalTimeScale=1,this.anims=new l,this.mixes=new l,this.paused=!1,this.name="AnimationManager",x.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(p,x,T){var E=this.anims,y=this.mixes,w=typeof p=="string"?p:p.key,A=typeof x=="string"?x:x.key;if(E.has(w)&&E.has(A)){var P=y.get(w);P||(P={}),P[A]=T,y.set(w,P)}return this},removeMix:function(p,x){var T=this.mixes,E=typeof p=="string"?p:p.key,y=T.get(E);if(y)if(x){var w=typeof x=="string"?x:x.key;y.hasOwnProperty(w)&&delete y[w]}else x||T.delete(E);return this},getMix:function(p,x){var T=this.mixes,E=typeof p=="string"?p:p.key,y=typeof x=="string"?x:x.key,w=T.get(E);return w&&w.hasOwnProperty(y)?w[y]:0},add:function(p,x){return this.anims.has(p)?(console.warn("Animation key exists: "+p),this):(x.key=p,this.anims.set(p,x),this.emit(r.ADD_ANIMATION,p,x),this)},exists:function(p){return this.anims.has(p)},createFromAseprite:function(p,x,T){var E=[],y=this.game.cache.json.get(p);if(!y)return console.warn("No Aseprite data found for: "+p),E;var w=this,A=f(y,"meta",null),P=f(y,"frames",null);if(A&&P){var M=f(A,"frameTags",[]);M.forEach(function(L){var F=[],N=s(L,"name",null),b=s(L,"from",0),V=s(L,"to",0),X=s(L,"direction","forward");if(N&&(!x||x&&x.indexOf(N)>-1)){for(var W=0,k=b;k<=V;k++){var Q=k.toString(),U=P[Q];if(U){var Y=s(U,"duration",e.MAX_SAFE_INTEGER);F.push({key:p,frame:Q,duration:Y}),W+=Y}}var O=W/F.length;F.forEach(function(H){H.duration-=O}),X==="reverse"&&(F=F.reverse());var G={key:N,frames:F,duration:W,yoyo:X==="pingpong"},z;T?T.anims&&(z=T.anims.create(G)):z=w.create(G),z&&E.push(z)}})}return E},create:function(p){var x=p.key,T=!1;return x&&(T=this.get(x),T?console.warn("AnimationManager key already exists: "+x):(T=new h(this,x,p),this.anims.set(x,T),this.emit(r.ADD_ANIMATION,x,T))),T},fromJSON:function(p,x){x===void 0&&(x=!1),x&&this.anims.clear(),typeof p=="string"&&(p=JSON.parse(p));var T=[];if(p.hasOwnProperty("anims")&&Array.isArray(p.anims)){for(var E=0;E<p.anims.length;E++)T.push(this.create(p.anims[E]));p.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=p.globalTimeScale)}else p.hasOwnProperty("key")&&p.type==="frame"&&T.push(this.create(p));return T},generateFrameNames:function(p,x){var T=f(x,"prefix",""),E=f(x,"start",0),y=f(x,"end",0),w=f(x,"suffix",""),A=f(x,"zeroPad",0),P=f(x,"outputArray",[]),M=f(x,"frames",!1);if(!this.textureManager.exists(p))return console.warn('Texture "%s" not found',p),P;var L=this.textureManager.get(p);if(!L)return P;var F;if(x)for(M||(M=o(E,y)),F=0;F<M.length;F++){var N=T+d(M[F],A,"0",1)+w;L.has(N)?P.push({key:p,frame:N}):console.warn('Frame "%s" not found in texture "%s"',N,p)}else for(M=L.getFrameNames(),F=0;F<M.length;F++)P.push({key:p,frame:M[F]});return P},generateFrameNumbers:function(p,x){var T=f(x,"start",0),E=f(x,"end",-1),y=f(x,"first",!1),w=f(x,"outputArray",[]),A=f(x,"frames",!1);if(!this.textureManager.exists(p))return console.warn('Texture "%s" not found',p),w;var P=this.textureManager.get(p);if(!P)return w;y&&P.has(y)&&w.push({key:p,frame:y}),A||(E===-1&&(E=P.frameTotal-2),A=o(T,E));for(var M=0;M<A.length;M++){var L=A[M];P.has(L)?w.push({key:p,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,p)}return w},get:function(p){return this.anims.get(p)},getAnimsFromTexture:function(p){for(var x=this.textureManager.get(p),T=x.key,E=this.anims.getArray(),y=[],w=0;w<E.length;w++)for(var A=E[w],P=A.frames,M=0;M<P.length;M++)if(P[M].textureKey===T){y.push(A.key);break}return y},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(r.PAUSE_ALL)),this},play:function(p,x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)x[T].anims.play(p);return this},staggerPlay:function(p,x,T,E){T===void 0&&(T=0),E===void 0&&(E=!0),Array.isArray(x)||(x=[x]);var y=x.length;E||y--;for(var w=0;w<x.length;w++){var A=T<0?Math.abs(T)*(y-w):T*w;x[w].anims.playAfterDelay(p,A)}return this},remove:function(p){var x=this.get(p);return x&&(this.emit(r.REMOVE_ANIMATION,p,x),this.anims.delete(p),this.removeMix(p)),x},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(r.RESUME_ALL)),this},toJSON:function(p){var x={anims:[],globalTimeScale:this.globalTimeScale};return p!==void 0&&p!==""?x.anims.push(this.anims.get(p).toJSON()):this.anims.each(function(T,E){x.anims.push(E.toJSON())}),x},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});v.exports=c},16569:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(33885),l=t(72632),a=t(16938),r=t(85463),i=new h({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(s){var f=this.parent;if(s===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(s)||(s=[s]);for(var e=0;e<s.length;e++){var o=s[e];this.nextAnim?this.nextAnimsQueue.push(o):this.nextAnim=o}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(s){this.isPlaying&&this.stop();var f=this.animationManager,e=typeof s=="string"?s:l(s,"key",null),o=this.exists(e)?this.get(e):f.get(e);if(!o)console.warn("Missing animation: "+e);else{this.currentAnim=o;var d=o.getTotalFrames(),c=l(s,"frameRate",o.frameRate),p=l(s,"duration",o.duration);o.calculateDuration(this,d,p,c),this.delay=l(s,"delay",o.delay),this.repeat=l(s,"repeat",o.repeat),this.repeatDelay=l(s,"repeatDelay",o.repeatDelay),this.yoyo=l(s,"yoyo",o.yoyo),this.showBeforeDelay=l(s,"showBeforeDelay",o.showBeforeDelay),this.showOnStart=l(s,"showOnStart",o.showOnStart),this.hideOnComplete=l(s,"hideOnComplete",o.hideOnComplete),this.skipMissedFrames=l(s,"skipMissedFrames",o.skipMissedFrames),this.timeScale=l(s,"timeScale",this.timeScale);var x=l(s,"startFrame",0);x>o.getTotalFrames()&&(x=0);var T=o.frames[x];x===0&&!this.forward&&(T=o.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(s){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),s!==void 0&&this.setCurrentFrame(s),this.parent},resume:function(s){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),s!==void 0&&this.setCurrentFrame(s),this.parent},playAfterDelay:function(s,f){if(!this.isPlaying)this.delayCounter=f,this.play(s,!0);else{var e=this.nextAnim,o=this.nextAnimsQueue;e&&o.unshift(e),this.nextAnim=s,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(s,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(s);else{var e=this.nextAnim,o=this.nextAnimsQueue;e&&o.unshift(e),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=s,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(s,f){f===void 0&&(f=!1);var e=this.currentAnim,o=this.parent,d=typeof s=="string"?s:s.key;if(f&&this.isPlaying&&e.key===d)return o;if(e&&this.isPlaying){var c=this.animationManager.getMix(e.key,s);if(c>0)return this.playAfterDelay(s,c)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s)},playReverse:function(s,f){f===void 0&&(f=!1);var e=typeof s=="string"?s:s.key;return f&&this.isPlaying&&this.currentAnim.key===e?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(s))},startAnimation:function(s){this.load(s);var f=this.currentAnim,e=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),e},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(s,f){var e=this.currentAnim;if(e){var o=this.currentFrame,d=this.parent,c=o.textureFrame;d.emit(s,e,o,d,c),f&&d.emit(f+e.key,e,o,d,c)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var s=this.currentFrame;if(!s)return 0;var f=s.progress;return this.inReverse&&(f*=-1),f},setProgress:function(s){return this.forward||(s=1-s),this.setCurrentFrame(this.currentAnim.getFrameByProgress(s)),this.parent},setRepeat:function(s){return this.repeatCounter=s===-1?Number.MAX_VALUE:s,this.parent},globalRemove:function(s,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(s,f){s===void 0&&(s=!1),f===void 0&&(f=!1);var e=this.currentAnim,o=this.parent;return e?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),e.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!s,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(e.frames[0]),this.parent):o},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(s)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var s=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(s)}return this.parent},stopAfterDelay:function(s){return this._pendingStop=1,this._pendingStopValue=s,this.parent},stopAfterRepeat:function(s){return s===void 0&&(s=1),this.repeatCounter!==-1&&s>this.repeatCounter&&(s=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=s,this.parent},stopOnFrame:function(s){return this._pendingStop=3,this._pendingStopValue=s,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(s,f){var e=this.currentAnim;if(!(!this.isPlaying||!e||e.paused)){if(this.accumulator+=f*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?e.nextFrame(this):e.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var o=0;do this.forward?e.nextFrame(this):e.previousFrame(this),o++;while(this.isPlaying&&this.accumulator>this.nextTick&&o<60)}}},setCurrentFrame:function(s){var f=this.parent;return this.currentFrame=s,f.texture=s.frame.texture,f.frame=s.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),s.setAlpha&&(f.alpha=s.alpha),f.setSizeToFrame(),f._originComponent&&(s.frame.customPivot?f.setOrigin(s.frame.pivotX,s.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===s&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(s){return this.anims?this.anims.get(s):null},exists:function(s){return this.anims?this.anims.has(s):!1},create:function(s){var f=s.key,e=!1;return f&&(e=this.get(f),e?console.warn("Animation key already exists: "+f):(e=new r(this,f,s),this.anims||(this.anims=new m),this.anims.set(f,e))),e},createFromAseprite:function(s,f){return this.animationManager.createFromAseprite(s,f,this.parent)},generateFrameNames:function(s,f){return this.animationManager.generateFrameNames(s,f)},generateFrameNumbers:function(s,f){return this.animationManager.generateFrameNumbers(s,f)},remove:function(s){var f=this.get(s);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(s)),f},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});v.exports=i},44509:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},84563:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete"},61586:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete-"},72175:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrepeat"},568:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrestart"},37690:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstart"},58525:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstop"},5243:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationupdate"},10598:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},4860:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},31865:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},16938:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD_ANIMATION:t(44509),ANIMATION_COMPLETE:t(84563),ANIMATION_COMPLETE_KEY:t(61586),ANIMATION_REPEAT:t(72175),ANIMATION_RESTART:t(568),ANIMATION_START:t(37690),ANIMATION_STOP:t(58525),ANIMATION_UPDATE:t(5243),PAUSE_ALL:t(10598),REMOVE_ANIMATION:t(4860),RESUME_ALL:t(31865)}},13517:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Animation:t(85463),AnimationFrame:t(71519),AnimationManager:t(90249),AnimationState:t(16569),Events:t(16938)}},23740:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(33885),l=t(6659),a=t(69773),r=new h({initialize:function(){this.entries=new m,this.events=new l},add:function(i,s){return this.entries.set(i,s),this.events.emit(a.ADD,this,i,s),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var s=this.get(i);return s&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});v.exports=r},43474:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23740),m=t(56694),l=t(97081),a=new m({initialize:function(i){this.game=i,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(l.DESTROY,this.destroy,this)},addCustom:function(r){return this.custom.hasOwnProperty(r)||(this.custom[r]=new h),this.custom[r]},destroy:function(){for(var r=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<r.length;i++)this[r[i]].destroy(),this[r[i]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});v.exports=a},94762:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},75968:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},69773:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(94762),REMOVE:t(75968)}},45820:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BaseCache:t(23740),CacheManager:t(43474),Events:t(69773)}},51052:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(75606),a=t(6659),r=t(89787),i=t(74118),s=t(69360),f=t(93222),e=t(93736),o=new h({Extends:a,Mixins:[m.AlphaSingle,m.Visible],initialize:function(c,p,x,T){c===void 0&&(c=0),p===void 0&&(p=0),x===void 0&&(x=0),T===void 0&&(T=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=c,this._y=p,this._width=x,this._height=T,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new e(x/2,T/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(d){this.renderList.push(d)},setOrigin:function(d,c){return d===void 0&&(d=.5),c===void 0&&(c=d),this.originX=d,this.originY=c,this},getScroll:function(d,c,p){p===void 0&&(p=new e);var x=this.width*.5,T=this.height*.5;return p.x=d-x,p.y=c-T,this.useBounds&&(p.x=this.clampX(p.x),p.y=this.clampY(p.y)),p},centerOnX:function(d){var c=this.width*.5;return this.midPoint.x=d,this.scrollX=d-c,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(d){var c=this.height*.5;return this.midPoint.y=d,this.scrollY=d-c,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(d,c){return this.centerOnX(d),this.centerOnY(c),this},centerToBounds:function(){if(this.useBounds){var d=this._bounds,c=this.width*.5,p=this.height*.5;this.midPoint.set(d.centerX,d.centerY),this.scrollX=d.centerX-c,this.scrollY=d.centerY-p}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(d){if(this.disableCull)return d;var c=this.matrix.matrix,p=c[0],x=c[1],T=c[2],E=c[3],y=p*E-x*T;if(!y)return d;var w=c[4],A=c[5],P=this.scrollX,M=this.scrollY,L=this.width,F=this.height,N=this.y,b=N+F,V=this.x,X=V+L,W=this.culledObjects,k=d.length;y=1/y,W.length=0;for(var Q=0;Q<k;++Q){var U=d[Q];if(!U.hasOwnProperty("width")||U.parentContainer){W.push(U);continue}var Y=U.width,O=U.height,G=U.x-P*U.scrollFactorX-Y*U.originX,z=U.y-M*U.scrollFactorY-O*U.originY,H=G*p+z*T+w,K=G*x+z*E+A,J=(G+Y)*p+(z+O)*T+w,Z=(G+Y)*x+(z+O)*E+A;J>V&&H<X&&Z>N&&K<b&&W.push(U)}return W},getWorldPoint:function(d,c,p){p===void 0&&(p=new e);var x=this.matrix.matrix,T=x[0],E=x[1],y=x[2],w=x[3],A=x[4],P=x[5],M=T*w-E*y;if(!M)return p.x=d,p.y=c,p;M=1/M;var L=w*M,F=-E*M,N=-y*M,b=T*M,V=(y*P-w*A)*M,X=(E*A-T*P)*M,W=Math.cos(this.rotation),k=Math.sin(this.rotation),Q=this.zoomX,U=this.zoomY,Y=this.scrollX,O=this.scrollY,G=d+(Y*W-O*k)*Q,z=c+(Y*k+O*W)*U;return p.x=G*L+z*N+V,p.y=G*F+z*b+X,p},ignore:function(d){var c=this.id;Array.isArray(d)||(d=[d]);for(var p=0;p<d.length;p++){var x=d[p];Array.isArray(x)?this.ignore(x):x.isParent?this.ignore(x.getChildren()):x.cameraFilter|=c}return this},preRender:function(){this.renderList.length=0;var d=this.width,c=this.height,p=d*.5,x=c*.5,T=this.zoomX,E=this.zoomY,y=this.matrix,w=d*this.originX,A=c*this.originY,P=this.scrollX,M=this.scrollY;this.useBounds&&(P=this.clampX(P),M=this.clampY(M)),this.roundPixels&&(w=Math.round(w),A=Math.round(A)),this.scrollX=P,this.scrollY=M;var L=P+p,F=M+x;this.midPoint.set(L,F);var N=d/T,b=c/E;this.worldView.setTo(L-N/2,F-b/2,N,b),y.applyITRS(this.x+w,this.y+A,this.rotation,T,E),y.translate(-w,-A)},clampX:function(d){var c=this._bounds,p=this.displayWidth,x=c.x+(p-this.width)/2,T=Math.max(x,x+c.width-p);return d<x?d=x:d>T&&(d=T),d},clampY:function(d){var c=this._bounds,p=this.displayHeight,x=c.y+(p-this.height)/2,T=Math.max(x,x+c.height-p);return d<x?d=x:d>T&&(d=T),d},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(d){return d===void 0&&(d=0),this.rotation=l(d),this},setBackgroundColor:function(d){return d===void 0&&(d="rgba(0,0,0,0)"),this.backgroundColor=f(d),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(d,c,p,x,T){return T===void 0&&(T=!1),this._bounds.setTo(d,c,p,x),this.dirty=!0,this.useBounds=!0,T?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(d){d===void 0&&(d=new i);var c=this._bounds;return d.setTo(c.x,c.y,c.width,c.height),d},setName:function(d){return d===void 0&&(d=""),this.name=d,this},setPosition:function(d,c){return c===void 0&&(c=d),this.x=d,this.y=c,this},setRotation:function(d){return d===void 0&&(d=0),this.rotation=d,this},setRoundPixels:function(d){return this.roundPixels=d,this},setScene:function(d,c){c===void 0&&(c=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=d,this.isSceneCamera=c;var p=d.sys;return this.sceneManager=p.game.scene,this.scaleManager=p.scale,this.cameraManager=p.cameras,this.updateSystem(),this},setScroll:function(d,c){return c===void 0&&(c=d),this.scrollX=d,this.scrollY=c,this},setSize:function(d,c){return c===void 0&&(c=d),this.width=d,this.height=c,this},setViewport:function(d,c,p,x){return this.x=d,this.y=c,this.width=p,this.height=x,this},setZoom:function(d,c){return d===void 0&&(d=1),c===void 0&&(c=d),d===0&&(d=.001),c===0&&(c=.001),this.zoomX=d,this.zoomY=c,this},setMask:function(d,c){return c===void 0&&(c=!0),this.mask=d,this._maskCamera=c?this.cameraManager.default:this,this},clearMask:function(d){return d===void 0&&(d=!1),d&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var d={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(d.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),d},update:function(){},setIsSceneCamera:function(d){return this.isSceneCamera=d,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var d=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,c=this.sceneManager;d&&!this._customViewport?c.customViewports++:!d&&this._customViewport&&c.customViewports--,this.dirty=!0,this._customViewport=d}},destroy:function(){this.emit(r.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(d){this._x=d,this.updateSystem()}},y:{get:function(){return this._y},set:function(d){this._y=d,this.updateSystem()}},width:{get:function(){return this._width},set:function(d){this._width=d,this.updateSystem()}},height:{get:function(){return this._height},set:function(d){this._height=d,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(d){d!==this._scrollX&&(this._scrollX=d,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(d){d!==this._scrollY&&(this._scrollY=d,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(d){this._zoomX=d,this._zoomY=d,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(d){this._zoomX=d,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(d){this._zoomY=d,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(d){this._rotation=d,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});v.exports=o},47751:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51052),m=t(79993),l=t(82897),a=t(56694),r=t(64937),i=t(53030),s=t(89787),f=t(42798),e=t(74118),o=t(93736),d=new a({Extends:h,Mixins:[r.PostPipeline],initialize:function(p,x,T,E){h.call(this,p,x,T,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new o(1,1),this.followOffset=new o,this.deadzone=null,this._follow=null},setDeadzone:function(c,p){if(c===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=c,this.deadzone.height=p):this.deadzone=new e(0,0,c,p),this._follow){var x=this.width/2,T=this.height/2,E=this._follow.x-this.followOffset.x,y=this._follow.y-this.followOffset.y;this.midPoint.set(E,y),this.scrollX=E-x,this.scrollY=y-T}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(c,p,x,T,E,y){return this.fadeEffect.start(!1,c,p,x,T,!0,E,y)},fadeOut:function(c,p,x,T,E,y){return this.fadeEffect.start(!0,c,p,x,T,!0,E,y)},fadeFrom:function(c,p,x,T,E,y,w){return this.fadeEffect.start(!1,c,p,x,T,E,y,w)},fade:function(c,p,x,T,E,y,w){return this.fadeEffect.start(!0,c,p,x,T,E,y,w)},flash:function(c,p,x,T,E,y,w){return this.flashEffect.start(c,p,x,T,E,y,w)},shake:function(c,p,x,T,E){return this.shakeEffect.start(c,p,x,T,E)},pan:function(c,p,x,T,E,y,w){return this.panEffect.start(c,p,x,T,E,y,w)},rotateTo:function(c,p,x,T,E,y,w){return this.rotateToEffect.start(c,p,x,T,E,y,w)},zoomTo:function(c,p,x,T,E,y){return this.zoomEffect.start(c,p,x,T,E,y)},preRender:function(){this.renderList.length=0;var c=this.width,p=this.height,x=c*.5,T=p*.5,E=this.zoom,y=this.matrix,w=c*this.originX,A=p*this.originY,P=this._follow,M=this.deadzone,L=this.scrollX,F=this.scrollY;M&&m(M,this.midPoint.x,this.midPoint.y);var N=!1;if(this.roundPixels&&(w=Math.floor(w),A=Math.floor(A)),P&&!this.panEffect.isRunning){var b=this.lerp,V=P.x-this.followOffset.x,X=P.y-this.followOffset.y;this.roundPixels&&(V=Math.floor(V),X=Math.floor(X)),M?(V<M.x?L=f(L,L-(M.x-V),b.x):V>M.right&&(L=f(L,L+(V-M.right),b.x)),X<M.y?F=f(F,F-(M.y-X),b.y):X>M.bottom&&(F=f(F,F+(X-M.bottom),b.y))):(L=f(L,V-w,b.x),F=f(F,X-A,b.y)),N=!0}this.useBounds&&(L=this.clampX(L),F=this.clampY(F)),this.roundPixels&&(L=Math.floor(L),F=Math.floor(F)),this.scrollX=L,this.scrollY=F;var W=L+x,k=F+T;this.midPoint.set(W,k);var Q=c/E,U=p/E,Y=W-Q/2,O=k-U/2;this.roundPixels&&(Y=Math.floor(Y),O=Math.floor(O)),this.worldView.setTo(Y,O,Q,U),y.applyITRS(Math.floor(this.x+w),Math.floor(this.y+A),this.rotation,E,E),y.translate(-w,-A),this.shakeEffect.preRender(),N&&this.emit(s.FOLLOW_UPDATE,this,P)},setLerp:function(c,p){return c===void 0&&(c=1),p===void 0&&(p=c),this.lerp.set(c,p),this},setFollowOffset:function(c,p){return c===void 0&&(c=0),p===void 0&&(p=0),this.followOffset.set(c,p),this},startFollow:function(c,p,x,T,E,y){p===void 0&&(p=!1),x===void 0&&(x=1),T===void 0&&(T=x),E===void 0&&(E=0),y===void 0&&(y=E),this._follow=c,this.roundPixels=p,x=l(x,0,1),T=l(T,0,1),this.lerp.set(x,T),this.followOffset.set(E,y);var w=this.width/2,A=this.height/2,P=c.x-E,M=c.y-y;return this.midPoint.set(P,M),this.scrollX=P-w,this.scrollY=M-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(c,p){this.visible&&(this.rotateToEffect.update(c,p),this.panEffect.update(c,p),this.zoomEffect.update(c,p),this.shakeEffect.update(c,p),this.flashEffect.update(c,p),this.fadeEffect.update(c,p))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});v.exports=d},62382:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47751),m=t(56694),l=t(72632),a=t(91963),r=t(94287),i=t(40444),s=t(7599),f=new m({initialize:function(o){this.scene=o,this.systems=o.sys,this.roundPixels=o.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,o.sys.events.once(s.BOOT,this.boot,this),o.sys.events.on(s.START,this.start,this)},boot:function(){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,e.scale.width,e.scale.height).setScene(this.scene),e.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0]}var o=this.systems.events;o.on(s.UPDATE,this.update,this),o.once(s.SHUTDOWN,this.shutdown,this)},add:function(e,o,d,c,p,x){e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),p===void 0&&(p=!1),x===void 0&&(x="");var T=new h(e,o,d,c);return T.setName(x),T.setScene(this.scene),T.setRoundPixels(this.roundPixels),T.id=this.getNextID(),this.cameras.push(T),p&&(this.main=T),T},addExisting:function(e,o){o===void 0&&(o=!1);var d=this.cameras.indexOf(e);return d===-1?(e.id=this.getNextID(),e.setRoundPixels(this.roundPixels),this.cameras.push(e),o&&(this.main=e),e):null},getNextID:function(){for(var e=this.cameras,o=1,d=0;d<32;d++){for(var c=!1,p=0;p<e.length;p++){var x=e[p];if(x&&x.id===o){c=!0;continue}}if(c)o=o<<1;else return o}return 0},getTotal:function(e){e===void 0&&(e=!1);for(var o=0,d=this.cameras,c=0;c<d.length;c++){var p=d[c];(!e||e&&p.visible)&&o++}return o},fromJSON:function(e){Array.isArray(e)||(e=[e]);for(var o=this.scene.sys.scale.width,d=this.scene.sys.scale.height,c=0;c<e.length;c++){var p=e[c],x=l(p,"x",0),T=l(p,"y",0),E=l(p,"width",o),y=l(p,"height",d),w=this.add(x,T,E,y);w.name=l(p,"name",""),w.zoom=l(p,"zoom",1),w.rotation=l(p,"rotation",0),w.scrollX=l(p,"scrollX",0),w.scrollY=l(p,"scrollY",0),w.roundPixels=l(p,"roundPixels",!1),w.visible=l(p,"visible",!0);var A=l(p,"backgroundColor",!1);A&&w.setBackgroundColor(A);var P=l(p,"bounds",null);if(P){var M=l(P,"x",0),L=l(P,"y",0),F=l(P,"width",o),N=l(P,"height",d);w.setBounds(M,L,F,N)}}return this},getCamera:function(e){for(var o=this.cameras,d=0;d<o.length;d++)if(o[d].name===e)return o[d];return null},getCamerasBelowPointer:function(e){for(var o=this.cameras,d=e.x,c=e.y,p=[],x=0;x<o.length;x++){var T=o[x];T.visible&&T.inputEnabled&&r(T,d,c)&&p.unshift(T)}return p},remove:function(e,o){o===void 0&&(o=!0),Array.isArray(e)||(e=[e]);for(var d=0,c=this.cameras,p=0;p<e.length;p++){var x=c.indexOf(e[p]);x!==-1&&(o?c[x].destroy():c[x].renderList=[],c.splice(x,1),d++)}return!this.main&&c[0]&&(this.main=c[0]),d},render:function(e,o){for(var d=this.scene,c=this.cameras,p=0;p<c.length;p++){var x=c[p];if(x.visible&&x.alpha>0){x.preRender();var T=this.getVisibleChildren(o.getChildren(),x);e.render(d,T,x)}}},getVisibleChildren:function(e,o){return e.filter(function(d){return d.willRender(o)})},resetAll:function(){for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(e,o){for(var d=0;d<this.cameras.length;d++)this.cameras[d].update(e,o)},onResize:function(e,o,d,c,p){for(var x=0;x<this.cameras.length;x++){var T=this.cameras[x];T._x===0&&T._y===0&&T._width===c&&T._height===p&&T.setSize(o.width,o.height)}},resize:function(e,o){for(var d=0;d<this.cameras.length;d++)this.cameras[d].setSize(e,o)},shutdown:function(){this.main=void 0;for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();this.cameras=[];var o=this.systems.events;o.off(s.UPDATE,this.update,this),o.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(i.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});a.register("CameraManager",f,"cameras"),v.exports=f},92522:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(89787),a=new m({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,i,s,f,e,o,d,c){if(r===void 0&&(r=!0),i===void 0&&(i=1e3),s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),!o&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=r,this.progress=0,this.red=s,this.green=f,this.blue=e,this.alpha=r?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c;var p=r?l.FADE_OUT_START:l.FADE_IN_START;return this.camera.emit(p,this.camera,this,i,s,f,e),this.camera},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(r){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,f=this.red/255,e=this.green/255,o=this.blue/255;return r.drawFillRect(s.x,s.y,s.width,s.height,i(o,e,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var r=this.direction?l.FADE_OUT_COMPLETE:l.FADE_IN_COMPLETE;this.camera.emit(r,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=a},22151:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(89787),a=new m({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(r,i,s,f,e,o,d){return r===void 0&&(r=250),i===void 0&&(i=255),s===void 0&&(s=255),f===void 0&&(f=255),e===void 0&&(e=!1),o===void 0&&(o=null),d===void 0&&(d=this.camera.scene),!e&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=r,this.progress=0,this.red=i,this.green=s,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=d,this.camera.emit(l.FLASH_START,this.camera,this,r,i,s,f),this.camera)},update:function(r,i){this.isRunning&&(this._elapsed+=i,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(r){if(!this.isRunning)return!1;var i=this.camera;return r.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",r.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(r,i){if(!this.isRunning)return!1;var s=this.camera,f=this.red/255,e=this.green/255,o=this.blue/255;return r.drawFillRect(s.x,s.y,s.width,s.height,i(o,e,f,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=a},37551:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(35060),a=t(89787),r=t(93736),i=new m({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new r,this.current=new r,this.destination=new r,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,f,e,o,d,c,p){e===void 0&&(e=1e3),o===void 0&&(o=l.Linear),d===void 0&&(d=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene);var x=this.camera;return!d&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.source.set(x.scrollX,x.scrollY),this.destination.set(s,f),x.getScroll(s,f,this.current),typeof o=="string"&&l.hasOwnProperty(o)?this.ease=l[o]:typeof o=="function"&&(this.ease=o),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(a.PAN_START,this.camera,this,e,s,f)),x},update:function(s,f){if(this.isRunning){this._elapsed+=f;var e=h(this._elapsed/this.duration,0,1);this.progress=e;var o=this.camera;if(this._elapsed<this.duration){var d=this.ease(e);o.getScroll(this.destination.x,this.destination.y,this.current);var c=this.source.x+(this.current.x-this.source.x)*d,p=this.source.y+(this.current.y-this.source.y)*d;o.setScroll(c,p),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,e,c,p)}else o.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,o,e,o.scrollX,o.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=i},1771:(v,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=t(82897),m=t(56694),l=t(89787),a=t(35060),r=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,s,f,e,o,d,c){f===void 0&&(f=1e3),e===void 0&&(e=a.Linear),o===void 0&&(o=!1),d===void 0&&(d=null),c===void 0&&(c=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var p=i;i<0?(p=-1*i,this.clockwise=!1):this.clockwise=!0;var x=360*Math.PI/180;p=p-Math.floor(p/x)*x;var T=this.camera;if(!o&&this.isRunning)return T;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=T.rotation,this.destination=p,typeof e=="string"&&a.hasOwnProperty(e)?this.ease=a[e]:typeof e=="function"&&(this.ease=e),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=c,this.shortestPath){var E=0,y=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+x)-this.source,this.source>this.destination?y=Math.abs(this.source-this.destination):y=Math.abs(this.source+x)-this.destination,E<y?this.clockwise=!0:E>y&&(this.clockwise=!1)}return this.camera.emit(l.ROTATE_START,this.camera,this,f,p),T},update:function(i,s){if(this.isRunning){this._elapsed+=s;var f=h(this._elapsed/this.duration,0,1);this.progress=f;var e=this.camera;if(this._elapsed<this.duration){var o=this.ease(f);this.current=e.rotation;var d=0,c=360*Math.PI/180,p=this.destination,x=this.current;this.clockwise===!1&&(p=this.current,x=this.destination),p>=x?d=Math.abs(p-x):d=Math.abs(p+c)-x;var T=0;this.clockwise?T=e.rotation+d*o:T=e.rotation-d*o,e.rotation=T,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,e,f,T)}else e.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,e,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=r},3241:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(89787),a=t(93736),r=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,s,f,e,o){return i===void 0&&(i=100),s===void 0&&(s=.05),f===void 0&&(f=!1),e===void 0&&(e=null),o===void 0&&(o=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=e,this._onUpdateScope=o,this.camera.emit(l.SHAKE_START,this.camera,this,i,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,s){if(this.isRunning)if(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,e=this.camera.width,o=this.camera.height,d=this.camera.zoom;this._offsetX=(Math.random()*f.x*e*2-f.x*e)*d,this._offsetY=(Math.random()*f.y*o*2-f.y*o)*d,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});v.exports=r},13383:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(35060),a=t(89787),r=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,s,f,e,o,d){s===void 0&&(s=1e3),f===void 0&&(f=l.Linear),e===void 0&&(e=!1),o===void 0&&(o=null),d===void 0&&(d=this.camera.scene);var c=this.camera;return!e&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=c.zoom,this.destination=i,typeof f=="string"&&l.hasOwnProperty(f)?this.ease=l[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=d,this.camera.emit(a.ZOOM_START,this.camera,this,s,i)),c},update:function(i,s){this.isRunning&&(this._elapsed+=s,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},53030:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Fade:t(92522),Flash:t(22151),Pan:t(37551),Shake:t(3241),RotateTo:t(1771),Zoom:t(13383)}},39577:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameradestroy"},85373:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeincomplete"},92057:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeinstart"},1903:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutcomplete"},96131:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutstart"},85409:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashcomplete"},25500:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashstart"},44071:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="followupdate"},19818:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapancomplete"},80002:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapanstart"},87966:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},74217:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},34805:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatecomplete"},30408:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatestart"},49856:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakecomplete"},69189:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakestart"},67657:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomcomplete"},14229:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomstart"},89787:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DESTROY:t(39577),FADE_IN_COMPLETE:t(85373),FADE_IN_START:t(92057),FADE_OUT_COMPLETE:t(1903),FADE_OUT_START:t(96131),FLASH_COMPLETE:t(85409),FLASH_START:t(25500),FOLLOW_UPDATE:t(44071),PAN_COMPLETE:t(19818),PAN_START:t(80002),POST_RENDER:t(87966),PRE_RENDER:t(74217),ROTATE_COMPLETE:t(34805),ROTATE_START:t(30408),SHAKE_COMPLETE:t(49856),SHAKE_START:t(69189),ZOOM_COMPLETE:t(67657),ZOOM_START:t(14229)}},32356:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Camera:t(47751),BaseCamera:t(51052),CameraManager:t(62382),Effects:t(53030),Events:t(89787)}},84219:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(10850),l=new h({initialize:function(r){this.camera=m(r,"camera",null),this.left=m(r,"left",null),this.right=m(r,"right",null),this.up=m(r,"up",null),this.down=m(r,"down",null),this.zoomIn=m(r,"zoomIn",null),this.zoomOut=m(r,"zoomOut",null),this.zoomSpeed=m(r,"zoomSpeed",.01),this.minZoom=m(r,"minZoom",.001),this.maxZoom=m(r,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=m(r,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=m(r,"speed.x",0),this.speedY=m(r,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this.up&&this.up.isDown?r.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(r.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?r.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(r.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(r.zoom-=this.zoomSpeed,r.zoom<this.minZoom&&(r.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(r.zoom+=this.zoomSpeed,r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=l},69370:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(10850),l=new h({initialize:function(r){this.camera=m(r,"camera",null),this.left=m(r,"left",null),this.right=m(r,"right",null),this.up=m(r,"up",null),this.down=m(r,"down",null),this.zoomIn=m(r,"zoomIn",null),this.zoomOut=m(r,"zoomOut",null),this.zoomSpeed=m(r,"zoomSpeed",.01),this.minZoom=m(r,"minZoom",.001),this.maxZoom=m(r,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=m(r,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=m(r,"acceleration.x",0),this.accelY=m(r,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=m(r,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=m(r,"drag.x",0),this.dragY=m(r,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=m(r,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=m(r,"maxSpeed.x",0),this.maxSpeedY=m(r,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var r=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(r.scrollX-=this._speedX*a|0),this._speedY!==0&&(r.scrollY-=this._speedY*a|0),this._zoom!==0&&(r.zoom+=this._zoom,r.zoom<this.minZoom?r.zoom=this.minZoom:r.zoom>this.maxZoom&&(r.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=l},6524:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FixedKeyControl:t(84219),SmoothedKeyControl:t(69370)}},44143:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Controls:t(6524),Scene2D:t(32356)}},86459:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.60.0",BlendModes:t(95723),ScaleModes:t(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};v.exports=h},14033:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(86459),l=t(18360),a=t(77290),r=t(72632),i=t(10850),s=t(42911),f=t(72283),e=t(5923),o=t(65641),d=t(93222),c=new h({initialize:function(x){x===void 0&&(x={});var T=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",y=i(x,"scale",null);this.width=i(y,"width",1024,x),this.height=i(y,"height",768,x),this.zoom=i(y,"zoom",1,x),this.parent=i(y,"parent",void 0,x),this.scaleMode=i(y,y?"mode":"scaleMode",0,x),this.expandParent=i(y,"expandParent",!0,x),this.autoRound=i(y,"autoRound",!1,x),this.autoCenter=i(y,"autoCenter",0,x),this.resizeInterval=i(y,"resizeInterval",500,x),this.fullscreenTarget=i(y,"fullscreenTarget",null,x),this.minWidth=i(y,"minWidth",0,x),this.maxWidth=i(y,"maxWidth",0,x),this.minHeight=i(y,"minHeight",0,x),this.maxHeight=i(y,"maxHeight",0,x),this.renderType=i(x,"type",m.AUTO),this.canvas=i(x,"canvas",null),this.context=i(x,"context",null),this.canvasStyle=i(x,"canvasStyle",null),this.customEnvironment=i(x,"customEnvironment",!1),this.sceneConfig=i(x,"scene",null),this.seed=i(x,"seed",[(Date.now()*Math.random()).toString()]),e.RND=new e.RandomDataGenerator(this.seed),this.gameTitle=i(x,"title",""),this.gameURL=i(x,"url","https://phaser.io"),this.gameVersion=i(x,"version",""),this.autoFocus=i(x,"autoFocus",!0),this.stableSort=i(x,"stableSort",-1),this.stableSort===-1&&(this.stableSort=a.browser.es2019?1:0),a.features.stableSort=this.stableSort,this.domCreateContainer=i(x,"dom.createContainer",!1),this.domPointerEvents=i(x,"dom.pointerEvents","none"),this.inputKeyboard=i(x,"input.keyboard",!0),this.inputKeyboardEventTarget=i(x,"input.keyboard.target",window),this.inputKeyboardCapture=i(x,"input.keyboard.capture",[]),this.inputMouse=i(x,"input.mouse",!0),this.inputMouseEventTarget=i(x,"input.mouse.target",null),this.inputMousePreventDefaultDown=i(x,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=i(x,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=i(x,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=i(x,"input.mouse.preventDefaultWheel",!0),this.inputTouch=i(x,"input.touch",a.input.touch),this.inputTouchEventTarget=i(x,"input.touch.target",null),this.inputTouchCapture=i(x,"input.touch.capture",!0),this.inputActivePointers=i(x,"input.activePointers",1),this.inputSmoothFactor=i(x,"input.smoothFactor",0),this.inputWindowEvents=i(x,"input.windowEvents",!0),this.inputGamepad=i(x,"input.gamepad",!1),this.inputGamepadEventTarget=i(x,"input.gamepad.target",window),this.disableContextMenu=i(x,"disableContextMenu",!1),this.audio=i(x,"audio",{}),this.hideBanner=i(x,"banner",null)===!1,this.hidePhaser=i(x,"banner.hidePhaser",!1),this.bannerTextColor=i(x,"banner.text",E),this.bannerBackgroundColor=i(x,"banner.background",T),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=i(x,"fps",null);var w=i(x,"render",null);this.pipeline=i(w,"pipeline",null,x),this.autoMobilePipeline=i(w,"autoMobilePipeline",!0,x),this.defaultPipeline=i(w,"defaultPipeline",o.MULTI_PIPELINE,x),this.antialias=i(w,"antialias",!0,x),this.antialiasGL=i(w,"antialiasGL",!0,x),this.mipmapFilter=i(w,"mipmapFilter","",x),this.desynchronized=i(w,"desynchronized",!1,x),this.roundPixels=i(w,"roundPixels",!1,x),this.pixelArt=i(w,"pixelArt",this.zoom!==1,x),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=i(w,"transparent",!1,x),this.clearBeforeRender=i(w,"clearBeforeRender",!0,x),this.preserveDrawingBuffer=i(w,"preserveDrawingBuffer",!1,x),this.premultipliedAlpha=i(w,"premultipliedAlpha",!0,x),this.failIfMajorPerformanceCaveat=i(w,"failIfMajorPerformanceCaveat",!1,x),this.powerPreference=i(w,"powerPreference","default",x),this.batchSize=i(w,"batchSize",4096,x),this.maxTextures=i(w,"maxTextures",-1,x),this.maxLights=i(w,"maxLights",10,x);var A=i(x,"backgroundColor",0);this.backgroundColor=d(A),this.transparent&&(this.backgroundColor=d(0),this.backgroundColor.alpha=0),this.preBoot=i(x,"callbacks.preBoot",f),this.postBoot=i(x,"callbacks.postBoot",f),this.physics=i(x,"physics",{}),this.defaultPhysicsSystem=i(this.physics,"default",!1),this.loaderBaseURL=i(x,"loader.baseURL",""),this.loaderPath=i(x,"loader.path",""),this.loaderMaxParallelDownloads=i(x,"loader.maxParallelDownloads",a.os.android?6:32),this.loaderCrossOrigin=i(x,"loader.crossOrigin",void 0),this.loaderResponseType=i(x,"loader.responseType",""),this.loaderAsync=i(x,"loader.async",!0),this.loaderUser=i(x,"loader.user",""),this.loaderPassword=i(x,"loader.password",""),this.loaderTimeout=i(x,"loader.timeout",0),this.loaderWithCredentials=i(x,"loader.withCredentials",!1),this.loaderImageLoadType=i(x,"loader.imageLoadType","XHR"),this.loaderLocalScheme=i(x,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=i(x,"fx.glow.quality",.1),this.glowFXDistance=i(x,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=i(x,"plugins",null),M=l.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:s(P)&&(this.installGlobalPlugins=r(P,"global",[]),this.installScenePlugins=r(P,"scene",[]),Array.isArray(P.default)?M=P.default:Array.isArray(P.defaultMerge)&&(M=M.concat(P.defaultMerge)))),this.defaultPlugins=M;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=i(x,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=i(x,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=i(x,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});v.exports=c},50150:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70616),m=t(61068),l=t(86459),a=t(90185),r=function(i){var s=i.config;if((s.customEnvironment||s.canvas)&&s.renderType===l.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==l.HEADLESS)if(s.renderType===l.AUTO&&(s.renderType=a.webGL?l.WEBGL:l.CANVAS),s.renderType===l.WEBGL){if(!a.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===l.CANVAS){if(!a.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||m.disableSmoothing();var f=i.scale.baseSize,e=f.width,o=f.height;if(s.canvas?(i.canvas=s.canvas,i.canvas.width=e,i.canvas.height=o):i.canvas=m.create(i,e,o,s.renderType),s.canvasStyle&&(i.canvas.style=s.canvasStyle),s.antialias||h.setCrisp(i.canvas),s.renderType!==l.HEADLESS){var d,c;d=t(91135),c=t(11857),s.renderType===l.WEBGL?i.renderer=new c(i):(i.renderer=new d(i),i.context=i.renderer.gameContext)}};v.exports=r},77291:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86459),m=function(l){var a=l.config;if(!a.hideBanner){var r="WebGL";a.renderType===h.CANVAS?r="Canvas":a.renderType===h.HEADLESS&&(r="Headless");var i=a.audio,s=l.device.audio,f;if(s.webAudio&&!i.disableWebAudio?f="Web Audio":i.noAudio||!s.webAudio&&!s.audioData?f="No Audio":f="HTML5 Audio",l.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var e="",o=[e];if(Array.isArray(a.bannerBackgroundColor)){var d;a.bannerBackgroundColor.forEach(function(p){e=e.concat("%c "),o.push("background: "+p),d=p}),o[o.length-1]="color: "+a.bannerTextColor+"; background: "+d}else e=e.concat("%c "),o.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);o.push("background: transparent"),a.gameTitle&&(e=e.concat(a.gameTitle),a.gameVersion&&(e=e.concat(" v"+a.gameVersion)),a.hidePhaser||(e=e.concat(" / ")));var c="";a.hidePhaser||(e=e.concat("Phaser v"+h.VERSION+c+" ("+r+" | "+f+")")),e=e.concat(" %c "+a.gameURL),o[0]=e,console.log.apply(console,o)}}};v.exports=m},15213:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99584),m=t(90249),l=t(43474),a=t(61068),r=t(56694),i=t(14033),s=t(85178),f=t(50150),e=t(81078),o=t(77291),d=t(77290),c=t(21546),p=t(6659),x=t(97081),T=t(69898),E=t(91963),y=t(49274),w=t(756),A=t(13553),P=t(38203),M=t(6237),L=t(26617),F=t(26493),N=t(84191),b=new r({initialize:function(X){this.config=new i(X),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new p,this.anims=new m(this),this.textures=new M(this),this.cache=new l(this),this.registry=new e(this,new p),this.input=new T(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=d,this.scale=new w(this,this.config),this.sound=null,this.sound=N.create(this),this.loop=new L(this,this.config.fps),this.plugins=new y(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,c(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),s(this),o(this),h(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(x.BOOT)},texturesReady:function(){this.events.emit(x.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),F(this);var V=this.events;V.on(x.HIDDEN,this.onHidden,this),V.on(x.VISIBLE,this.onVisible,this),V.on(x.BLUR,this.onBlur,this),V.on(x.FOCUS,this.onFocus,this)},step:function(V,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(x.PRE_STEP,V,X),W.emit(x.STEP,V,X),this.scene.update(V,X),W.emit(x.POST_STEP,V,X);var k=this.renderer;k.preRender(),W.emit(x.PRE_RENDER,k,V,X),this.scene.render(k),k.postRender(),W.emit(x.POST_RENDER,k,V,X)}},headlessStep:function(V,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(x.PRE_STEP,V,X),W.emit(x.STEP,V,X),this.scene.update(V,X),W.emit(x.POST_STEP,V,X),this.scene.isProcessing=!1,W.emit(x.PRE_RENDER,null,V,X),W.emit(x.POST_RENDER,null,V,X)}},onHidden:function(){this.loop.pause(),this.events.emit(x.PAUSE)},pause:function(){var V=this.isPaused;this.isPaused=!0,V||this.events.emit(x.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(x.RESUME)},resume:function(){var V=this.isPaused;this.isPaused=!1,V&&this.events.emit(x.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(V,X){X===void 0&&(X=!1),this.pendingDestroy=!0,this.removeCanvas=V,this.noReturn=X},runDestroy:function(){this.scene.destroy(),this.events.emit(x.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});v.exports=b},26617:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(10850),l=t(72283),a=t(27385),r=new h({initialize:function(s,f){this.game=s,this.raf=new a,this.started=!1,this.running=!1,this.minFps=m(f,"min",5),this.targetFps=m(f,"target",60),this.fpsLimit=m(f,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=l,this.forceSetTimeOut=m(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(f,"deltaHistory",10),this.panicMax=m(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(i){var s=this.deltaIndex,f=this.deltaHistory,e=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,i=Math.min(i,this._target)),i>this._min&&(i=f[s],i=Math.min(i,this._min)),f[s]=i,this.deltaIndex++,this.deltaIndex>=e&&(this.deltaIndex=0);for(var o=0,d=0;d<e;d++)o+=f[d];return o/=e,o},updateFPS:function(i){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0},stepLimitFPS:function(i){this.now=i;var s=Math.max(0,i-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(i,this.delta),this.delta=0),this.lastTime=i,this.frame++},step:function(i){this.now=i;var s=Math.max(0,i-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,i>=this.nextFpsUpdate&&this.updateFPS(i),this.framesThisSecond++,this.callback(i,s),this.lastTime=i,this.frame++},tick:function(){var i=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(i):this.step(i)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){i===void 0&&(i=!1);var s=window.performance.now();if(!this.running){i&&(this.startTime+=-this.lastTime+(this.lastTime+s));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});v.exports=r},26493:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97081),m=function(l){var a,r=l.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},a=f+"visibilitychange")})}var s=function(f){document.hidden||f.type==="pause"?r.emit(h.HIDDEN):r.emit(h.VISIBLE)};a&&document.addEventListener(a,s,!1),window.onblur=function(){r.emit(h.BLUR)},window.onfocus=function(){r.emit(h.FOCUS)},window.focus&&l.config.autoFocus&&window.focus()};v.exports=m},41651:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="blur"},5520:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},51673:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="contextlost"},25055:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},23767:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="focus"},57564:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="hidden"},38327:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},43807:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},73652:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="poststep"},780:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},13781:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prestep"},38247:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},29129:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},34994:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="step"},98704:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="visible"},97081:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BLUR:t(41651),BOOT:t(5520),CONTEXT_LOST:t(51673),DESTROY:t(25055),FOCUS:t(23767),HIDDEN:t(57564),PAUSE:t(38327),POST_RENDER:t(43807),POST_STEP:t(73652),PRE_RENDER:t(780),PRE_STEP:t(13781),READY:t(38247),RESUME:t(29129),STEP:t(34994),VISIBLE:t(98704)}},80293:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Config:t(14033),CreateRenderer:t(50150),DebugHeader:t(77291),Events:t(97081),TimeStep:t(26617),VisibilityHandler:t(26493)}},52780:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(81543),m=t(61068),l=t(10850),a=function(r){var i=l(r,"data",[]),s=l(r,"canvas",null),f=l(r,"palette",h),e=l(r,"pixelWidth",1),o=l(r,"pixelHeight",e),d=l(r,"resizeCanvas",!0),c=l(r,"clearCanvas",!0),p=l(r,"preRender",null),x=l(r,"postRender",null),T=Math.floor(Math.abs(i[0].length*e)),E=Math.floor(Math.abs(i.length*o));s||(s=m.create2D(this,T,E),d=!1,c=!1),d&&(s.width=T,s.height=E);var y=s.getContext("2d",{willReadFrequently:!0});c&&y.clearRect(0,0,T,E),p&&p(s,y);for(var w=0;w<i.length;w++)for(var A=i[w],P=0;P<A.length;P++){var M=A[P];M!=="."&&M!==" "&&(y.fillStyle=f[M],y.fillRect(P*e,w*o,e,o))}return x&&x(s,y),s};v.exports=a},84106:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GenerateTexture:t(52780),Palettes:t(25235)}},81543:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARNE16:t(81543),C64:t(75846),CGA:t(83206),JMP:t(13194),MSX:t(50686)}},63120:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(34631),l=t(38517),a=t(93736),r=new h({Extends:l,initialize:function(s,f,e,o){l.call(this,"CubicBezierCurve"),Array.isArray(s)&&(o=new a(s[6],s[7]),e=new a(s[4],s[5]),f=new a(s[2],s[3]),s=new a(s[0],s[1])),this.p0=s,this.p1=f,this.p2=e,this.p3=o},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,s){s===void 0&&(s=new a);var f=this.p0,e=this.p1,o=this.p2,d=this.p3;return s.set(m(i,f.x,e.x,o.x,d.x),m(i,f.y,e.y,o.y,d.y))},draw:function(i,s){s===void 0&&(s=32);var f=this.getPoints(s);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var e=1;e<f.length;e++)i.lineTo(f[e].x,f[e].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});r.fromJSON=function(i){var s=i.points,f=new a(s[0],s[1]),e=new a(s[2],s[3]),o=new a(s[4],s[5]),d=new a(s[6],s[7]);return new r(f,e,o,d)},v.exports=r},38517:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(80222),l=t(74118),a=t(93736),r=new h({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,s){return s===void 0&&(s=32),i.strokePoints(this.getPoints(s))},getBounds:function(i,s){i||(i=new l),s===void 0&&(s=16);var f=this.getLength();s>f&&(s=f/2);var e=Math.max(1,Math.round(f/s));return m(this.getSpacedPoints(e),i)},getDistancePoints:function(i){var s=this.getLength(),f=Math.max(1,s/i);return this.getSpacedPoints(f)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],f,e=this.getPoint(0,this._tmpVec2A),o=0;s.push(0);for(var d=1;d<=i;d++)f=this.getPoint(d/i,this._tmpVec2B),o+=f.distance(e),s.push(o),e.copy(f);return this.cacheArcLengths=s,s},getPointAt:function(i,s){var f=this.getUtoTmapping(i);return this.getPoint(f,s)},getPoints:function(i,s,f){f===void 0&&(f=[]),i||(s?i=this.getLength()/s:i=this.defaultDivisions);for(var e=0;e<=i;e++)f.push(this.getPoint(e/i));return f},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,s,f){f===void 0&&(f=[]),i||(s?i=this.getLength()/s:i=this.defaultDivisions);for(var e=0;e<=i;e++){var o=this.getUtoTmapping(e/i,null,i);f.push(this.getPoint(o))}return f},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,s){s===void 0&&(s=new a);var f=1e-4,e=i-f,o=i+f;return e<0&&(e=0),o>1&&(o=1),this.getPoint(e,this._tmpVec2A),this.getPoint(o,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,s){var f=this.getUtoTmapping(i);return this.getTangent(f,s)},getTFromDistance:function(i,s){return i<=0?0:this.getUtoTmapping(0,i,s)},getUtoTmapping:function(i,s,f){var e=this.getLengths(f),o=0,d=e.length,c;s?c=Math.min(s,e[d-1]):c=i*e[d-1];for(var p=0,x=d-1,T;p<=x;)if(o=Math.floor(p+(x-p)/2),T=e[o]-c,T<0)p=o+1;else if(T>0)x=o-1;else{x=o;break}if(o=x,e[o]===c)return o/(d-1);var E=e[o],y=e[o+1],w=y-E,A=(c-E)/w;return(o+A)/(d-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});v.exports=r},48835:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(38517),l=t(75606),a=t(10850),r=t(23701),i=t(93736),s=new h({Extends:m,initialize:function(e,o,d,c,p,x,T,E){if(typeof e=="object"){var y=e;e=a(y,"x",0),o=a(y,"y",0),d=a(y,"xRadius",0),c=a(y,"yRadius",d),p=a(y,"startAngle",0),x=a(y,"endAngle",360),T=a(y,"clockwise",!1),E=a(y,"rotation",0)}else c===void 0&&(c=d),p===void 0&&(p=0),x===void 0&&(x=360),T===void 0&&(T=!1),E===void 0&&(E=0);m.call(this,"EllipseCurve"),this.p0=new i(e,o),this._xRadius=d,this._yRadius=c,this._startAngle=l(p),this._endAngle=l(x),this._clockwise=T,this._rotation=l(E)},getStartPoint:function(f){return f===void 0&&(f=new i),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,e){e===void 0&&(e=new i);for(var o=Math.PI*2,d=this._endAngle-this._startAngle,c=Math.abs(d)<Number.EPSILON;d<0;)d+=o;for(;d>o;)d-=o;d<Number.EPSILON&&(c?d=0:d=o),this._clockwise&&!c&&(d===o?d=-o:d=d-o);var p=this._startAngle+f*d,x=this.p0.x+this._xRadius*Math.cos(p),T=this.p0.y+this._yRadius*Math.sin(p);if(this._rotation!==0){var E=Math.cos(this._rotation),y=Math.sin(this._rotation),w=x-this.p0.x,A=T-this.p0.y;x=w*E-A*y+this.p0.x,T=w*y+A*E+this.p0.y}return e.set(x,T)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return r(this._startAngle)},set:function(f){this._startAngle=l(f)}},endAngle:{get:function(){return r(this._endAngle)},set:function(f){this._endAngle=l(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return r(this._rotation)},set:function(f){this._rotation=l(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:r(this._startAngle),endAngle:r(this._endAngle),clockwise:this._clockwise,rotation:r(this._rotation)}}});s.fromJSON=function(f){return new s(f)},v.exports=s},58084:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(38517),l=t(80222),a=t(74118),r=t(93736),i=new h({Extends:m,initialize:function(f,e){m.call(this,"LineCurve"),Array.isArray(f)&&(e=new r(f[2],f[3]),f=new r(f[0],f[1])),this.p0=f,this.p1=e,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new a),l([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new r),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,f){return f===void 0&&(f=new r),s===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),f)},getPointAt:function(s,f){return this.getPoint(s,f)},getTangent:function(s,f){return f===void 0&&(f=new r),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(s,f,e){var o;if(f){var d=this.getLengths(e),c=d[d.length-1],p=Math.min(f,c);o=p/c}else o=s;return o},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(s){var f=s.points,e=new r(f[0],f[1]),o=new r(f[2],f[3]);return new i(e,o)},v.exports=i},64761:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(38517),l=t(16252),a=t(93736),r=new h({Extends:m,initialize:function(s,f,e){m.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(e=new a(s[4],s[5]),f=new a(s[2],s[3]),s=new a(s[0],s[1])),this.p0=s,this.p1=f,this.p2=e},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,s){s===void 0&&(s=new a);var f=this.p0,e=this.p1,o=this.p2;return s.set(l(i,f.x,e.x,o.x),l(i,f.y,e.y,o.y))},draw:function(i,s){s===void 0&&(s=32);var f=this.getPoints(s);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var e=1;e<f.length;e++)i.lineTo(f[e].x,f[e].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});r.fromJSON=function(i){var s=i.points,f=new a(s[0],s[1]),e=new a(s[2],s[3]),o=new a(s[4],s[5]);return new r(f,e,o)},v.exports=r},11956:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14976),m=t(56694),l=t(38517),a=t(93736),r=new m({Extends:l,initialize:function(s){s===void 0&&(s=[]),l.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(i){for(var s=0;s<i.length;s++){var f=new a;typeof i[s]=="number"?(f.x=i[s],f.y=i[s+1],s++):Array.isArray(i[s])?(f.x=i[s][0],f.y=i[s][1]):(f.x=i[s].x,f.y=i[s].y),this.points.push(f)}return this},addPoint:function(i,s){var f=new a(i,s);return this.points.push(f),f},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,s){s===void 0&&(s=new a);var f=this.points,e=(f.length-1)*i,o=Math.floor(e),d=e-o,c=f[o===0?o:o-1],p=f[o],x=f[o>f.length-2?f.length-1:o+1],T=f[o>f.length-3?f.length-1:o+2];return s.set(h(d,c.x,p.x,x.x,T.x),h(d,c.y,p.y,x.y,T.y))},toJSON:function(){for(var i=[],s=0;s<this.points.length;s++)i.push(this.points[s].x),i.push(this.points[s].y);return{type:this.type,points:i}}});r.fromJSON=function(i){return new r(i.points)},v.exports=r},73962:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Path:t(12822),MoveTo:t(53639),CubicBezier:t(63120),Curve:t(38517),Ellipse:t(48835),Line:t(58084),QuadraticBezier:t(64761),Spline:t(11956)}},53639:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(93736),l=new h({initialize:function(r,i){this.active=!1,this.p0=new m(r,i)},getPoint:function(a,r){return r===void 0&&(r=new m),r.copy(this.p0)},getPointAt:function(a,r){return this.getPoint(a,r)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});v.exports=l},12822:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(63120),l=t(48835),a=t(61286),r=t(58084),i=t(53639),s=t(64761),f=t(74118),e=t(11956),o=t(93736),d=t(83392),c=new h({initialize:function(x,T){x===void 0&&(x=0),T===void 0&&(T=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new o,this._tmpVec2A=new o,this._tmpVec2B=new o,typeof x=="object"?this.fromJSON(x):this.startPoint.set(x,T)},add:function(p){return this.curves.push(p),this},circleTo:function(p,x,T){return x===void 0&&(x=!1),this.ellipseTo(p,p,0,360,x,T)},closePath:function(){var p=this.curves[0].getPoint(0),x=this.curves[this.curves.length-1].getPoint(1);return p.equals(x)||this.curves.push(new r(x,p)),this},cubicBezierTo:function(p,x,T,E,y,w){var A=this.getEndPoint(),P,M,L;return p instanceof o?(P=p,M=x,L=T):(P=new o(T,E),M=new o(y,w),L=new o(p,x)),this.add(new m(A,P,M,L))},quadraticBezierTo:function(p,x,T,E){var y=this.getEndPoint(),w,A;return p instanceof o?(w=p,A=x):(w=new o(T,E),A=new o(p,x)),this.add(new s(y,w,A))},draw:function(p,x){for(var T=0;T<this.curves.length;T++){var E=this.curves[T];E.active&&E.draw(p,x)}return p},ellipseTo:function(p,x,T,E,y,w){var A=new l(0,0,p,x,T,E,y,w),P=this.getEndPoint(this._tmpVec2A),M=A.getStartPoint(this._tmpVec2B);return P.subtract(M),A.x=P.x,A.y=P.y,this.add(A)},fromJSON:function(p){this.curves=[],this.cacheLengths=[],this.startPoint.set(p.x,p.y),this.autoClose=p.autoClose;for(var x=0;x<p.curves.length;x++){var T=p.curves[x];switch(T.type){case"LineCurve":this.add(r.fromJSON(T));break;case"EllipseCurve":this.add(l.fromJSON(T));break;case"SplineCurve":this.add(e.fromJSON(T));break;case"CubicBezierCurve":this.add(m.fromJSON(T));break;case"QuadraticBezierCurve":this.add(s.fromJSON(T));break}}return this},getBounds:function(p,x){p===void 0&&(p=new f),x===void 0&&(x=16),p.x=Number.MAX_VALUE,p.y=Number.MAX_VALUE;for(var T=new f,E=d.MIN_SAFE_INTEGER,y=d.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var A=this.curves[w];A.active&&(A.getBounds(T,x),p.x=Math.min(p.x,T.x),p.y=Math.min(p.y,T.y),E=Math.max(E,T.right),y=Math.max(y,T.bottom))}return p.right=E,p.bottom=y,p},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var p=[],x=0,T=0;T<this.curves.length;T++)x+=this.curves[T].getLength(),p.push(x);return this.cacheLengths=p,p},getCurveAt:function(p){for(var x=p*this.getLength(),T=this.getCurveLengths(),E=0;E<T.length;){if(T[E]>=x)return this.curves[E];E++}return null},getEndPoint:function(p){return p===void 0&&(p=new o),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,p):p.copy(this.startPoint),p},getLength:function(){var p=this.getCurveLengths();return p[p.length-1]},getPoint:function(p,x){x===void 0&&(x=new o);for(var T=p*this.getLength(),E=this.getCurveLengths(),y=0;y<E.length;){if(E[y]>=T){var w=E[y]-T,A=this.curves[y],P=A.getLength(),M=P===0?0:1-w/P;return A.getPointAt(M,x)}y++}return null},getPoints:function(p){p===void 0&&(p=12);for(var x=[],T,E=0;E<this.curves.length;E++){var y=this.curves[E];if(y.active)for(var w=y.getResolution(p),A=y.getPoints(w),P=0;P<A.length;P++){var M=A[P];T&&T.equals(M)||(x.push(M),T=M)}}return this.autoClose&&x.length>1&&!x[x.length-1].equals(x[0])&&x.push(x[0]),x},getRandomPoint:function(p){return p===void 0&&(p=new o),this.getPoint(Math.random(),p)},getSpacedPoints:function(p){p===void 0&&(p=40);for(var x=[],T=0;T<=p;T++)x.push(this.getPoint(T/p));return this.autoClose&&x.push(x[0]),x},getStartPoint:function(p){return p===void 0&&(p=new o),p.copy(this.startPoint)},getTangent:function(p,x){x===void 0&&(x=new o);for(var T=p*this.getLength(),E=this.getCurveLengths(),y=0;y<E.length;){if(E[y]>=T){var w=E[y]-T,A=this.curves[y],P=A.getLength(),M=P===0?0:1-w/P;return A.getTangentAt(M,x)}y++}return null},lineTo:function(p,x){p instanceof o?this._tmpVec2B.copy(p):this._tmpVec2B.set(p,x);var T=this.getEndPoint(this._tmpVec2A);return this.add(new r([T.x,T.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(p){return p.unshift(this.getEndPoint()),this.add(new e(p))},moveTo:function(p,x){return p instanceof o?this.add(new i(p.x,p.y)):this.add(new i(p,x))},toJSON:function(){for(var p=[],x=0;x<this.curves.length;x++)p.push(this.curves[x].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:p}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(p,x){return new c(p,x)}),v.exports=c},81078:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(35026),l=new h({initialize:function(r,i){this.parent=r,this.events=i,i||(this.events=r.events?r.events:r),this.list={},this.values={},this._frozen=!1,!r.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(a){var r=this.list;if(Array.isArray(a)){for(var i=[],s=0;s<a.length;s++)i.push(r[a[s]]);return i}else return r[a]},getAll:function(){var a={};for(var r in this.list)this.list.hasOwnProperty(r)&&(a[r]=this.list[r]);return a},query:function(a){var r={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(r[i]=this.list[i]);return r},set:function(a,r){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,r);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,r){if(this._frozen)return this;r===void 0&&(r=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+r),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,r){if(this._frozen)return this;if(this.has(a))this.values[a]=r;else{var i=this,s=this.list,f=this.events,e=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return s[a]},set:function(o){if(!i._frozen){var d=s[a];s[a]=o,f.emit(m.CHANGE_DATA,e,a,o,d),f.emit(m.CHANGE_DATA_KEY+a,e,o,d)}}}),s[a]=r,f.emit(m.SET_DATA,e,a,r)}return this},each:function(a,r){for(var i=[this.parent,null,void 0],s=1;s<arguments.length;s++)i.push(arguments[s]);for(var f in this.list)i[1]=f,i[2]=this.list[f],a.apply(r,i);return this},merge:function(a,r){r===void 0&&(r=!0);for(var i in a)a.hasOwnProperty(i)&&(r||!r&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var r=0;r<a.length;r++)this.removeValue(a[r]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var r=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(m.REMOVE_DATA,this.parent,a,r)}return this},pop:function(a){var r=void 0;return!this._frozen&&this.has(a)&&(r=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(m.REMOVE_DATA,this.parent,a,r)),r},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var r in this.list)this.list[r]!==void 0&&a++;return a}}});v.exports=l},76508:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(81078),l=t(91963),a=t(7599),r=new h({Extends:m,initialize:function(s){m.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(a.BOOT,this.boot,this),s.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});l.register("DataManagerPlugin",r,"data"),v.exports=r},73569:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata"},15590:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata-"},37669:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},87090:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedata"},90142:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="setdata"},35026:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CHANGE_DATA:t(73569),CHANGE_DATA_KEY:t(15590),DESTROY:t(37669),REMOVE_DATA:t(87090),SET_DATA:t(90142)}},1999:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DataManager:t(81078),DataManagerPlugin:t(76508),Events:t(35026)}},10720:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1350),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function l(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),r=!!a.canPlayType;try{if(r){var i=function(e,o){var d=a.canPlayType("audio/"+e).replace(/^no$/,"");return o?!!(d||a.canPlayType("audio/"+o).replace(/^no$/,"")):!!d};if(m.ogg=i('ogg; codecs="vorbis"'),m.opus=i('ogg; codecs="opus"',"opus"),m.mp3=i("mpeg"),m.wav=i("wav"),m.m4a=i("x-m4a"),m.aac=i("aac"),m.flac=i("flac","x-flac"),m.webm=i('webm; codecs="vorbis"'),a.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)m.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(s===10&&f>=11||s>10)&&(m.dolby=!0)}}}}catch{}return m}v.exports=l()},1350:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36580),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function l(){var a=navigator.userAgent;return/Edg\/\d+/.test(a)?(m.edge=!0,m.es2019=!0):/OPR/.test(a)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(a)&&!h.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(a)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit/.test(a)&&h.iOS?m.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(a)&&!h.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(m.silk=!0),m}v.exports=l()},98581:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function l(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var e=new Image;e.onload=function(){var o=h.create2D(e,6),d=o.getContext("2d",{willReadFrequently:!0});if(d.globalCompositeOperation="multiply",d.drawImage(f,0,0),d.drawImage(e,2,0),!d.getImageData(2,0,1,1))return!1;var c=d.getImageData(2,0,1,1).data;h.remove(e),m.supportNewBlendModes=c[0]===255&&c[1]===0&&c[2]===0},e.src=i+"/wCKxvRF"+s},f.src=i+"AP804Oa6"+s,!1}function a(){var i=h.create2D(this,2),s=i.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var f=s.getImageData(0,0,1,1);if(f===null)return!1;s.putImageData(f,1,0);var e=s.getImageData(1,0,1,1),o=e.data[0]===f.data[0]&&e.data[1]===f.data[1]&&e.data[2]===f.data[2]&&e.data[3]===f.data[3];return h.remove(this),o}function r(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=l(),m.supportInverseAlpha=a()),m}v.exports=r()},90185:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36580),m=t(1350),l=t(61068),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function r(){var s=new ArrayBuffer(4),f=new Uint8Array(s),e=new Uint32Array(s);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,e[0]===3569595041?!0:e[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var s=!1,f=function(){if(window.WebGLRenderingContext)try{var e=l.createWebGL(this),o=e.getContext("webgl")||e.getContext("experimental-webgl"),d=l.create2D(this),c=d.getContext("2d",{willReadFrequently:!0}),p=c.createImageData(1,1);return s=p.data instanceof Uint8ClampedArray,l.remove(e),l.remove(d),!!o}catch{return!1}return!1};return a.webGL=f(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(a.getUserMedia=!1),!h.iOS&&(m.ie||m.firefox||m.chrome)&&(a.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=r()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&s,a}v.exports=i()},33553:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var h,m="Fullscreen",l="FullScreen",a=["request"+m,"request"+l,"webkitRequest"+m,"webkitRequest"+l,"msRequest"+m,"msRequest"+l,"mozRequest"+l,"mozRequest"+m];for(h=0;h<a.length;h++)if(document.documentElement[a[h]]){S.available=!0,S.request=a[h];break}var r=["cancel"+l,"exit"+m,"webkitCancel"+l,"webkitExit"+m,"msCancel"+l,"msExit"+m,"mozCancel"+l,"mozExit"+m];if(S.available){for(h=0;h<r.length;h++)if(document[r[h]]){S.cancel=r[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}v.exports=t()},95872:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1350),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function l(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}v.exports=l()},36580:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var h=navigator.userAgent;/Windows/.test(h)?S.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(h)?S.android=!0:/Linux/.test(h)?S.linux=!0:/iP[ao]d|iPhone/i.test(h)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=h.toLowerCase().indexOf("iphone")!==-1,S.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?S.kindle=!0:/CrOS/.test(h)&&(S.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var m=/Silk/.test(h);return(S.windows||S.macOS||S.linux&&!m||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}v.exports=t()},53861:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function l(){if(typeof importScripts=="function")return m;var a=document.createElement("video"),r=!!a.canPlayType,i=/^no$/;try{r&&(a.canPlayType('video/ogg; codecs="theora"').replace(i,"")&&(m.ogg=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(i,"")&&(m.h264=!0,m.mp4=!0),a.canPlayType("video/x-m4v").replace(i,"")&&(m.m4v=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(i,"")&&(m.webm=!0),a.canPlayType('video/webm; codecs="vp9"').replace(i,"")&&(m.vp9=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(i,"")&&(m.hls=!0))}catch{}return a.parentNode&&a.parentNode.removeChild(a),m.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++){var e=h(s[f],"url",s[f]);if(e.indexOf("blob:")===0)return{url:e,type:""};var o;if(e.indexOf("data:")===0?o=e.split(",")[0].match(/\/(.*?);/):o=e.match(/\.([a-zA-Z0-9]+)($|\?)/),o=h(s[f],"type",o?o[1]:"").toLowerCase(),m[o])return{url:e,type:o}}return null},m}v.exports=l()},77290:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={os:t(36580),browser:t(1350),features:t(90185),input:t(95872),audio:t(10720),video:t(53861),fullscreen:t(33553),canvasFeatures:t(98581)}},65246:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new Float32Array(20),l=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(a){return this._matrix.set(a),this._dirty=!0,this},reset:function(){var a=this._matrix;return a.fill(0),a[0]=1,a[6]=1,a[12]=1,a[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var a=this._data;return this._dirty&&(a.set(this._matrix),a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,this._dirty=!1),a},brightness:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a;return this.multiply([i,0,0,0,0,0,i,0,0,0,0,0,i,0,0,0,0,0,1,0],r)},saturate:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a*2/3+1,s=(i-1)*-.5;return this.multiply([i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0],r)},desaturate:function(a){return a===void 0&&(a=!1),this.saturate(-1,a)},hue:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1),a=a/180*Math.PI;var i=Math.cos(a),s=Math.sin(a),f=.213,e=.715,o=.072;return this.multiply([f+i*(1-f)+s*-f,e+i*-e+s*-e,o+i*-o+s*(1-o),0,0,f+i*-f+s*.143,e+i*(1-e)+s*.14,o+i*-o+s*-.283,0,0,f+i*-f+s*-(1-f),e+i*-e+s*e,o+i*(1-o)+s*o,0,0,0,0,0,1,0],r)},grayscale:function(a,r){return a===void 0&&(a=1),r===void 0&&(r=!1),this.saturate(-a,r)},blackWhite:function(a){return a===void 0&&(a=!1),this.multiply(l.BLACK_WHITE,a)},contrast:function(a,r){a===void 0&&(a=0),r===void 0&&(r=!1);var i=a+1,s=-.5*(i-1);return this.multiply([i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0],r)},negative:function(a){return a===void 0&&(a=!1),this.multiply(l.NEGATIVE,a)},desaturateLuminance:function(a){return a===void 0&&(a=!1),this.multiply(l.DESATURATE_LUMINANCE,a)},sepia:function(a){return a===void 0&&(a=!1),this.multiply(l.SEPIA,a)},night:function(a,r){return a===void 0&&(a=.1),r===void 0&&(r=!1),this.multiply([a*-2,-a,0,0,0,-a,0,a,0,0,0,a,a*2,0,0,0,0,0,1,0],r)},lsd:function(a){return a===void 0&&(a=!1),this.multiply(l.LSD,a)},brown:function(a){return a===void 0&&(a=!1),this.multiply(l.BROWN,a)},vintagePinhole:function(a){return a===void 0&&(a=!1),this.multiply(l.VINTAGE,a)},kodachrome:function(a){return a===void 0&&(a=!1),this.multiply(l.KODACHROME,a)},technicolor:function(a){return a===void 0&&(a=!1),this.multiply(l.TECHNICOLOR,a)},polaroid:function(a){return a===void 0&&(a=!1),this.multiply(l.POLAROID,a)},shiftToBGR:function(a){return a===void 0&&(a=!1),this.multiply(l.SHIFT_BGR,a)},multiply:function(a,r){r===void 0&&(r=!1),r||this.reset();var i=this._matrix,s=m;return s.set(i),i.set([s[0]*a[0]+s[1]*a[5]+s[2]*a[10]+s[3]*a[15],s[0]*a[1]+s[1]*a[6]+s[2]*a[11]+s[3]*a[16],s[0]*a[2]+s[1]*a[7]+s[2]*a[12]+s[3]*a[17],s[0]*a[3]+s[1]*a[8]+s[2]*a[13]+s[3]*a[18],s[0]*a[4]+s[1]*a[9]+s[2]*a[14]+s[3]*a[19]+s[4],s[5]*a[0]+s[6]*a[5]+s[7]*a[10]+s[8]*a[15],s[5]*a[1]+s[6]*a[6]+s[7]*a[11]+s[8]*a[16],s[5]*a[2]+s[6]*a[7]+s[7]*a[12]+s[8]*a[17],s[5]*a[3]+s[6]*a[8]+s[7]*a[13]+s[8]*a[18],s[5]*a[4]+s[6]*a[9]+s[7]*a[14]+s[8]*a[19]+s[9],s[10]*a[0]+s[11]*a[5]+s[12]*a[10]+s[13]*a[15],s[10]*a[1]+s[11]*a[6]+s[12]*a[11]+s[13]*a[16],s[10]*a[2]+s[11]*a[7]+s[12]*a[12]+s[13]*a[17],s[10]*a[3]+s[11]*a[8]+s[12]*a[13]+s[13]*a[18],s[10]*a[4]+s[11]*a[9]+s[12]*a[14]+s[13]*a[19]+s[14],s[15]*a[0]+s[16]*a[5]+s[17]*a[10]+s[18]*a[15],s[15]*a[1]+s[16]*a[6]+s[17]*a[11]+s[18]*a[16],s[15]*a[2]+s[16]*a[7]+s[17]*a[12]+s[18]*a[17],s[15]*a[3]+s[16]*a[8]+s[17]*a[13]+s[18]*a[18],s[15]*a[4]+s[16]*a[9]+s[17]*a[14]+s[18]*a[19]+s[19]]),this._dirty=!0,this}});l.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],l.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],l.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],l.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],l.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],l.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],l.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],l.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],l.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],l.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],l.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],v.exports=l},39298:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72283),l=new h({initialize:function(r,i,s){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(r,i,s)},set:function(a,r,i){return a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=0),this._rgb=[a,r,i],this.onChange(),this},equals:function(a,r,i){var s=this._rgb;return s[0]===a&&s[1]===r&&s[2]===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});v.exports=l},84093:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};v.exports=S},32058:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(59994),l=t(73174),a=t(28417),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)+f),l(i,h(s)+e),i};v.exports=r},85535:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(40163),l=t(73174),a=t(74465),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)-f),l(i,h(s)+e),i};v.exports=r},9605:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(70271),l=t(73174),a=t(19298),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)+f),l(i,h(s)+e),i};v.exports=r},22529:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21843),m=t(59994),l=t(29568),a=function(r,i,s,f){return s===void 0&&(s=0),f===void 0&&(f=0),h(r,m(i)+s,l(i)+f),r};v.exports=a},5739:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),m=t(40163),l=t(81711),a=t(74465),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)-f),l(i,h(s)+e),i};v.exports=r},40327:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),m=[];m[h.BOTTOM_CENTER]=t(32058),m[h.BOTTOM_LEFT]=t(85535),m[h.BOTTOM_RIGHT]=t(9605),m[h.CENTER]=t(22529),m[h.LEFT_CENTER]=t(5739),m[h.RIGHT_CENTER]=t(27683),m[h.TOP_CENTER]=t(96439),m[h.TOP_LEFT]=t(81447),m[h.TOP_RIGHT]=t(47888),m[h.LEFT_BOTTOM]=m[h.BOTTOM_LEFT],m[h.LEFT_TOP]=m[h.TOP_LEFT],m[h.RIGHT_BOTTOM]=m[h.BOTTOM_RIGHT],m[h.RIGHT_TOP]=m[h.TOP_RIGHT];var l=function(a,r,i,s,f){return m[i](a,r,s,f)};v.exports=l},27683:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),m=t(70271),l=t(81711),a=t(19298),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)+f),l(i,h(s)+e),i};v.exports=r},96439:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59994),m=t(47196),l=t(28417),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,h(s)+f),a(i,m(s)-e),i};v.exports=r},81447:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40163),m=t(47196),l=t(74465),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,h(s)-f),a(i,m(s)-e),i};v.exports=r},47888:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70271),m=t(47196),l=t(19298),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,h(s)+f),a(i,m(s)-e),i};v.exports=r},46997:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(32058),BottomLeft:t(85535),BottomRight:t(9605),Center:t(22529),LeftCenter:t(5739),QuickSet:t(40327),RightCenter:t(27683),TopCenter:t(96439),TopLeft:t(81447),TopRight:t(47888)}},93545:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),m=t(98611),l={In:t(46997),To:t(86639)};l=m(!1,l,h),v.exports=l},27118:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(59994),l=t(28417),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,m(s)+f),a(i,h(s)+e),i};v.exports=r},84469:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(40163),l=t(74465),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,m(s)-f),a(i,h(s)+e),i};v.exports=r},51577:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(70271),l=t(19298),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,m(s)+f),a(i,h(s)+e),i};v.exports=r},90271:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(40163),l=t(73174),a=t(19298),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)-f),l(i,h(s)+e),i};v.exports=r},30466:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),m=t(40163),l=t(81711),a=t(19298),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)-f),l(i,h(s)+e),i};v.exports=r},50087:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40163),m=t(47196),l=t(19298),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,h(s)-f),a(i,m(s)-e),i};v.exports=r},82590:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),m=[];m[h.BOTTOM_CENTER]=t(27118),m[h.BOTTOM_LEFT]=t(84469),m[h.BOTTOM_RIGHT]=t(51577),m[h.LEFT_BOTTOM]=t(90271),m[h.LEFT_CENTER]=t(30466),m[h.LEFT_TOP]=t(50087),m[h.RIGHT_BOTTOM]=t(13555),m[h.RIGHT_CENTER]=t(99049),m[h.RIGHT_TOP]=t(67788),m[h.TOP_CENTER]=t(78170),m[h.TOP_LEFT]=t(54145),m[h.TOP_RIGHT]=t(75548);var l=function(a,r,i,s,f){return m[i](a,r,s,f)};v.exports=l},13555:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(70271),l=t(73174),a=t(74465),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)+f),l(i,h(s)+e),i};v.exports=r},99049:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29568),m=t(70271),l=t(81711),a=t(74465),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,m(s)+f),l(i,h(s)+e),i};v.exports=r},67788:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70271),m=t(47196),l=t(74465),a=t(84349),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),l(i,h(s)+f),a(i,m(s)-e),i};v.exports=r},78170:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59994),m=t(47196),l=t(73174),a=t(28417),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,h(s)+f),l(i,m(s)-e),i};v.exports=r},54145:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(40163),m=t(47196),l=t(73174),a=t(74465),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,h(s)-f),l(i,m(s)-e),i};v.exports=r},75548:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70271),m=t(47196),l=t(73174),a=t(19298),r=function(i,s,f,e){return f===void 0&&(f=0),e===void 0&&(e=0),a(i,h(s)+f),l(i,m(s)-e),i};v.exports=r},86639:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(27118),BottomLeft:t(84469),BottomRight:t(51577),LeftBottom:t(90271),LeftCenter:t(30466),LeftTop:t(50087),QuickSet:t(82590),RightBottom:t(13555),RightCenter:t(99049),RightTop:t(67788),TopCenter:t(78170),TopLeft:t(54145),TopRight:t(75548)}},21843:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28417),m=t(81711),l=function(a,r,i){return h(a,r),m(a,i)};v.exports=l},97328:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};v.exports=S},7126:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97328),m=t(40163),l=t(70271),a=t(47196),r=t(74118),i=function(s,f){f===void 0&&(f=new r);var e=m(s),o=a(s);return f.x=e,f.y=o,f.width=l(s)-e,f.height=h(s)-o,f};v.exports=i},59994:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};v.exports=S},29568:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};v.exports=S},40163:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};v.exports=S},52088:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};v.exports=S},23379:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};v.exports=S},70271:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};v.exports=S},47196:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};v.exports=S},73174:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h-t.height+t.height*t.originY,t};v.exports=S},28417:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.width*t.originX;return t.x=h+m-t.width*.5,t};v.exports=S},81711:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.height*t.originY;return t.y=h+m-t.height*.5,t};v.exports=S},74465:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h+t.width*t.originX,t};v.exports=S},19298:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x=h-t.width+t.width*t.originX,t};v.exports=S},84349:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.y=h+t.height*t.originY,t};v.exports=S},15252:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CenterOn:t(21843),GetBottom:t(97328),GetBounds:t(7126),GetCenterX:t(59994),GetCenterY:t(29568),GetLeft:t(40163),GetOffsetX:t(52088),GetOffsetY:t(23379),GetRight:t(70271),GetTop:t(47196),SetBottom:t(73174),SetCenterX:t(28417),SetCenterY:t(81711),SetLeft:t(74465),SetRight:t(19298),SetTop:t(84349)}},70616:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(m){t.style["image-rendering"]=m}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};v.exports=S},61068:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86459),m=t(8213),l=[],a=!1,r=function(){var i=function(T,E,y,w,A){E===void 0&&(E=1),y===void 0&&(y=1),w===void 0&&(w=h.CANVAS),A===void 0&&(A=!1);var P,M=e(w);return M===null?(M={parent:T,canvas:document.createElement("canvas"),type:w},w===h.CANVAS&&l.push(M),P=M.canvas):(M.parent=T,P=M.canvas),A&&(M.parent=P),P.width=E,P.height=y,a&&w===h.CANVAS&&m.disable(P.getContext("2d",{willReadFrequently:!1})),P},s=function(T,E,y){return i(T,E,y,h.CANVAS)},f=function(T,E,y){return i(T,E,y,h.WEBGL)},e=function(T){if(T===void 0&&(T=h.CANVAS),T===h.WEBGL)return null;for(var E=0;E<l.length;E++){var y=l[E];if(!y.parent&&y.type===T)return y}return null},o=function(T){var E=T instanceof HTMLCanvasElement;l.forEach(function(y){(E&&y.canvas===T||!E&&y.parent===T)&&(y.parent=null,y.canvas.width=1,y.canvas.height=1)})},d=function(){var T=0;return l.forEach(function(E){E.parent&&T++}),T},c=function(){return l.length-d()},p=function(){a=!0},x=function(){a=!1};return{create2D:s,create:i,createWebGL:f,disableSmoothing:p,enableSmoothing:x,first:e,free:c,pool:l,remove:o,total:d}};v.exports=r()},8213:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var h=function(r){for(var i=["i","webkitI","msI","mozI","oI"],s=0;s<i.length;s++){var f=i[s]+"mageSmoothingEnabled";if(f in r)return f}return null},m=function(r){return S===""&&(S=h(r)),S&&(r[S]=!0),r},l=function(r){return S===""&&(S=h(r)),S&&(r[S]=!1),r},a=function(r){return S!==null?r[S]:null};return{disable:l,enable:m,getPrefix:h,isEnabled:a}};v.exports=t()},59271:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h="none"),t.style.msTouchAction=h,t.style["ms-touch-action"]=h,t.style["touch-action"]=h,t};v.exports=S},36505:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(l){t.style[l+"user-select"]=h}),t.style["-webkit-touch-callout"]=h,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};v.exports=S},23514:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasInterpolation:t(70616),CanvasPool:t(61068),Smoothing:t(8213),TouchAction:t(59271),UserSelect:t(36505)}},27119:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(22946),l=t(5657),a=t(24650),r=t(68033),i=new h({initialize:function(f,e,o,d){f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,e,o,d)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,f,e,o,d){return o===void 0&&(o=255),d===void 0&&(d=!0),this._locked=!0,this.red=s,this.green=f,this.blue=e,this.alpha=o,this._locked=!1,this.update(d)},setGLTo:function(s,f,e,o){return o===void 0&&(o=1),this._locked=!0,this.redGL=s,this.greenGL=f,this.blueGL=e,this.alphaGL=o,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,f,e){return a(s,f,e,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var f=this.r,e=this.g,o=this.b,d=this.a;return this._color=m(f,e,o),this._color32=l(f,e,o,d),this._rgba="rgba("+f+","+e+","+o+","+d/255+")",s&&r(f,e,o,this),this},updateHSV:function(){var s=this.r,f=this.g,e=this.b;return r(s,f,e,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,f){s===void 0&&(s=0),f===void 0&&(f=255);var e=Math.floor(s+Math.random()*(f-s)),o=Math.floor(s+Math.random()*(f-s)),d=Math.floor(s+Math.random()*(f-s));return this.setTo(e,o,d)},randomGray:function(s,f){s===void 0&&(s=0),f===void 0&&(f=255);var e=Math.floor(s+Math.random()*(f-s));return this.setTo(e,e,e)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var f=this.r,e=this.g,o=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(s/100)))),e=Math.max(0,Math.min(255,e-Math.round(255*-(s/100)))),o=Math.max(0,Math.min(255,o-Math.round(255*-(s/100)))),this.setTo(f,e,o)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,a(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,a(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,a(this._h,this._s,s,this)}}});v.exports=i},30245:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22946),m=function(l){l===void 0&&(l=1024);var a=[],r=255,i,s=255,f=0,e=0;for(i=0;i<=r;i++)a.push({r:s,g:i,b:e,color:h(s,i,e)});for(f=255,i=r;i>=0;i--)a.push({r:i,g:f,b:e,color:h(i,f,e)});for(s=0,i=0;i<=r;i++,f--)a.push({r:s,g:f,b:i,color:h(s,f,i)});for(f=0,e=255,i=0;i<=r;i++,e--,s++)a.push({r:s,g:f,b:e,color:h(s,f,e)});if(l===1024)return a;var o=[],d=0,c=1024/l;for(i=0;i<l;i++)o.push(a[Math.floor(d)]),d+=c;return o};v.exports=m},86672:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(h.a=t>>>24),h};v.exports=S},25409:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.toString(16);return h.length===1?"0"+h:h};v.exports=S},22946:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t<<16|h<<8|m};v.exports=S},5657:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return l<<24|t<<16|h<<8|m};v.exports=S},74777:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),m=t(59998),l=function(a,r,i){var s=i,f=i,e=i;if(r!==0){var o=i<.5?i*(1+r):i+r-i*r,d=2*i-o;s=m(d,o,a+1/3),f=m(d,o,a),e=m(d,o,a-1/3)}var c=new h;return c.setGLTo(s,f,e,1)};v.exports=l},89263:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(24650),m=function(l,a){l===void 0&&(l=1),a===void 0&&(a=1);for(var r=[],i=0;i<=359;i++)r.push(h(i/359,l,a));return r};v.exports=m},24650:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22946);function m(a,r,i,s){var f=(a+r*6)%6,e=Math.min(f,4-f,1);return Math.round(255*(s-s*i*Math.max(0,e)))}var l=function(a,r,i,s){r===void 0&&(r=1),i===void 0&&(i=1);var f=m(5,a,r,i),e=m(3,a,r,i),o=m(1,a,r,i);return s?s.setTo?s.setTo(f,e,o,s.alpha,!0):(s.r=f,s.g=e,s.b=o,s.color=h(f,e,o),s):{r:f,g:e,b:o,color:h(f,e,o)}};v.exports=l},91487:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),m=function(l){var a=new h;l=l.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,o,d,c){return o+o+d+d+c+c});var r=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);if(r){var i=parseInt(r[1],16),s=parseInt(r[2],16),f=parseInt(r[3],16);a.setTo(i,s,f)}return a};v.exports=m},59998:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?t+(h-t)*6*m:m<.5?h:m<.6666666666666666?t+(h-t)*(.6666666666666666-m)*6:t};v.exports=S},74853:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),m=t(15978),l=function(a){var r=m(a);return new h(r.r,r.g,r.b,r.a)};v.exports=l},15978:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};v.exports=S},53756:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42798),m=function(r,i,s,f,e,o,d,c){d===void 0&&(d=100),c===void 0&&(c=0);var p=c/d;return{r:h(r,f,p),g:h(i,e,p),b:h(s,o,p)}},l=function(r,i,s,f){return s===void 0&&(s=100),f===void 0&&(f=0),m(r.r,r.g,r.b,i.r,i.g,i.b,s,f)},a=function(r,i,s,f,e,o){return e===void 0&&(e=100),o===void 0&&(o=0),m(r.r,r.g,r.b,i,s,f,e,o)};v.exports={RGBWithRGB:m,ColorWithRGB:a,ColorWithColor:l}},73904:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),m=function(l){return new h(l.r,l.g,l.b,l.a)};v.exports=m},26841:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119),m=function(l){var a=new h,r=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(l.toLowerCase());if(r){var i=parseInt(r[1],10),s=parseInt(r[2],10),f=parseInt(r[3],10),e=r[4]!==void 0?parseFloat(r[4]):1;a.setTo(i,s,f,e*255)}return a};v.exports=m},68033:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){l===void 0&&(l={h:0,s:0,v:0}),t/=255,h/=255,m/=255;var a=Math.min(t,h,m),r=Math.max(t,h,m),i=r-a,s=0,f=r===0?0:i/r,e=r;return r!==a&&(r===t?s=(h-m)/i+(h<m?6:0):r===h?s=(m-t)/i+2:r===m&&(s=(t-h)/i+4),s/=6),l.hasOwnProperty("_h")?(l._h=s,l._s=f,l._v=e):(l.h=s,l.s=f,l.v=e),l};v.exports=S},4880:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25409),m=function(l,a,r,i,s){return i===void 0&&(i=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(l<<16)+(a<<8)+r).toString(16).slice(1,7):"0x"+h(i)+h(l)+h(a)+h(r)};v.exports=m},37243:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),m=t(27119),l=function(a,r){return a===void 0&&(a=0),r===void 0&&(r=255),new m(h(a,r),h(a,r),h(a,r))};v.exports=l},93222:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(91487),m=t(74853),l=t(73904),a=t(26841),r=function(i){var s=typeof i;switch(s){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):h(i);case"number":return m(i);case"object":return l(i)}};v.exports=r},95509:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27119);h.ColorSpectrum=t(30245),h.ColorToRGBA=t(86672),h.ComponentToHex=t(25409),h.GetColor=t(22946),h.GetColor32=t(5657),h.HexStringToColor=t(91487),h.HSLToColor=t(74777),h.HSVColorWheel=t(89263),h.HSVToRGB=t(24650),h.HueToComponent=t(59998),h.IntegerToColor=t(74853),h.IntegerToRGB=t(15978),h.Interpolate=t(53756),h.ObjectToColor=t(73904),h.RandomRGB=t(37243),h.RGBStringToColor=t(26841),h.RGBToHSV=t(68033),h.RGBToString=t(4880),h.ValueToColor=t(93222),v.exports=h},24816:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Align:t(93545),BaseShader:t(31053),Bounds:t(15252),Canvas:t(23514),Color:t(95509),ColorMatrix:t(65246),Masks:t(93310),RGB:t(39298)}},76756:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(61286),l=new h({initialize:function(r,i,s,f,e,o){i||(i=r.sys.make.image({x:s,y:f,key:e,frame:o,add:!1})),this.bitmapMask=i,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(a){this.bitmapMask=a},preRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.beginMask(this,r,i)},postRenderWebGL:function(a,r,i){a.pipelines.BITMAPMASK_PIPELINE.endMask(this,r,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(a,r,i,s,f){return new l(this.scene,a,r,i,s,f)}),v.exports=l},63037:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r){this.geometryMask=r,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(l){return this.geometryMask=l,this},setInvertAlpha:function(l){return l===void 0&&(l=!0),this.invertAlpha=l,this},preRenderWebGL:function(l,a,r){var i=l.gl;l.flush(),l.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),l.maskCount=0),l.currentCameraMask.mask!==this&&(l.currentMask.mask=this),l.maskStack.push({mask:this,camera:r}),this.applyStencil(l,r,!0),l.maskCount++},applyStencil:function(l,a,r){var i=l.gl,s=this.geometryMask,f=l.maskCount,e=255;i.colorMask(!1,!1,!1,!1),r?(i.stencilFunc(i.EQUAL,f,e),i.stencilOp(i.KEEP,i.KEEP,i.INCR),f++):(i.stencilFunc(i.EQUAL,f+1,e),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),this.level=f,s.renderWebGL(l,s,a),l.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.invertAlpha?i.stencilFunc(i.NOTEQUAL,f,e):i.stencilFunc(i.EQUAL,f,e)},postRenderWebGL:function(l){var a=l.gl;l.maskStack.pop(),l.maskCount--,l.flush();var r=l.currentMask;if(l.maskStack.length===0)r.mask=null,a.disable(a.STENCIL_TEST);else{var i=l.maskStack[l.maskStack.length-1];i.mask.applyStencil(l,i.camera,!1),l.currentCameraMask.mask!==i.mask?(r.mask=i.mask,r.camera=i.camera):r.mask=null}},preRenderCanvas:function(l,a,r){var i=this.geometryMask;l.currentContext.save(),i.renderCanvas(l,i,r,null,null,!0),l.currentContext.clip()},postRenderCanvas:function(l){l.currentContext.restore()},destroy:function(){this.geometryMask=null}});v.exports=m},93310:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BitmapMask:t(76756),GeometryMask:t(63037)}},31053:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i,s){(!r||r==="")&&(r=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=a,this.fragmentSrc=r,this.vertexSrc=i,this.uniforms=s}});v.exports=m},99584:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m;if(h)typeof h=="string"?m=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(m=h);else if(t.parentElement||h===null)return t;return m||(m=document.body),m.appendChild(t),t};v.exports=S},85178:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99584),m=function(l){var a=l.config;if(!(!a.parent||!a.domCreateContainer)){var r=document.createElement("div");r.style.cssText=["display: block;","width: "+l.scale.width+"px;","height: "+l.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),l.domContainer=r,h(r,a.parent)}};v.exports=m},21546:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36580),m=function(l){if(document.readyState==="complete"||document.readyState==="interactive"){l();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),l()};document.body?h.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};v.exports=m},74181:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var h=Math.abs(window.orientation),m={w:0,h:0},l=document.createElement("div");return l.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(l),m.w=h===90?l.offsetHeight:window.innerWidth,m.h=h===90?window.innerWidth:l.offsetHeight,document.documentElement.removeChild(l),l=null,Math.abs(window.orientation)!==90?m.h:m.w};v.exports=S},9229:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55301),m=function(l,a){var r=window.screen,i=r?r.orientation||r.mozOrientation||r.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return a>l?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};v.exports=m},2893:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h;return t!==""&&(typeof t=="string"?h=document.getElementById(t):t&&t.nodeType===1&&(h=t)),h||(h=document.body),h};v.exports=S},89200:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h="";try{if(window.DOMParser){var m=new DOMParser;h=m.parseFromString(t,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(t)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};v.exports=S},55638:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};v.exports=S},27385:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72283),l=new h({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var r=this;this.step=function i(s){r.callback(s),r.isRunning&&(r.timeOutID=window.requestAnimationFrame(i))},this.stepTimeout=function i(){r.isRunning&&(r.timeOutID=window.setTimeout(i,r.delay)),r.callback(window.performance.now())}},start:function(a,r,i){this.isRunning||(this.callback=a,this.isSetTimeOut=r,this.delay=i,this.isRunning=!0,this.timeOutID=r?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});v.exports=l},3590:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:t(99584),DOMContentLoaded:t(21546),GetInnerHeight:t(74181),GetScreenOrientation:t(9229),GetTarget:t(2893),ParseXML:t(89200),RemoveFromDOM:t(55638),RequestAnimationFrame:t(27385)};v.exports=h},78491:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(91963),a=new h({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});l.register("EventEmitter",a,"events"),v.exports=a},95146:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EventEmitter:t(78491)}},20170:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s){s===void 0&&(s=1),m.call(this,l.BARREL,i),this.amount=s}});v.exports=a},51182:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o,d,c){f===void 0&&(f=1),e===void 0&&(e=1),o===void 0&&(o=1),d===void 0&&(d=1),c===void 0&&(c=4),m.call(this,l.BLOOM,i),this.steps=c,this.offsetX=f,this.offsetY=e,this.blurStrength=o,this.strength=d,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});v.exports=a},51498:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o,d,c){f===void 0&&(f=2),e===void 0&&(e=2),o===void 0&&(o=1),c===void 0&&(c=4),m.call(this,l.BLUR,i),this.quality=0,this.x=f,this.y=e,this.steps=c,this.strength=o,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});v.exports=a},12042:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o,d,c,p){s===void 0&&(s=.5),f===void 0&&(f=1),e===void 0&&(e=.2),o===void 0&&(o=!1),d===void 0&&(d=1),c===void 0&&(c=1),p===void 0&&(p=1),m.call(this,l.BOKEH,i),this.radius=s,this.amount=f,this.contrast=e,this.isTiltShift=o,this.strength=p,this.blurX=d,this.blurY=c}});v.exports=a},69900:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o,d){s===void 0&&(s=8),o===void 0&&(o=1),d===void 0&&(d=.005),m.call(this,l.CIRCLE,i),this.scale=o,this.feather=d,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],f!=null&&(this.color=f),e!=null&&(this.backgroundColor=e)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}},backgroundColor:{get:function(){var r=this.glcolor2;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor2;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});v.exports=a},48991:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(65246),l=t(47406),a=new h({Extends:m,initialize:function(i){m.call(this),this.type=l.COLOR_MATRIX,this.gameObject=i,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});v.exports=a},47551:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r){this.type=a,this.gameObject=r,this.active=!0},setActive:function(l){return this.active=l,this},destroy:function(){this.gameObject=null,this.active=!1}});v.exports=m},47909:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e){s===void 0&&(s="__WHITE"),f===void 0&&(f=.005),e===void 0&&(e=.005),m.call(this,l.DISPLACEMENT,i),this.x=f,this.y=e,this.glTexture,this.setTexture(s)},setTexture:function(r){var i=this.gameObject.scene.sys.textures.getFrame(r);return i&&(this.glTexture=i.glTexture),this}});v.exports=a},18919:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o){f===void 0&&(f=4),e===void 0&&(e=0),o===void 0&&(o=!1),m.call(this,l.GLOW,i),this.outerStrength=f,this.innerStrength=e,this.knockout=o,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});v.exports=a},62494:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o,d,c,p,x){e===void 0&&(e=.2),o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=1),x===void 0&&(x=0),m.call(this,l.GRADIENT,i),this.alpha=e,this.size=x,this.fromX=o,this.fromY=d,this.toX=c,this.toY=p,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),f!=null&&(this.color2=f)},color1:{get:function(){var r=this.glcolor1;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor1;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}},color2:{get:function(){var r=this.glcolor2;return(r[0]<<16)+(r[1]<<8)+(r[2]|0)},set:function(r){var i=this.glcolor2;i[0]=r>>16&255,i[1]=r>>8&255,i[2]=r&255}}});v.exports=a},68897:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s){s===void 0&&(s=1),m.call(this,l.PIXELATE,i),this.amount=s}});v.exports=a},58575:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o,d,c,p){s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=.1),o===void 0&&(o=1),c===void 0&&(c=6),p===void 0&&(p=1),m.call(this,l.SHADOW,i),this.x=s,this.y=f,this.decay=e,this.power=o,this.glcolor=[0,0,0,1],this.samples=c,this.intensity=p,d!==void 0&&(this.color=d)},color:{get:function(){var r=this.glcolor;return(r[0]*255<<16)+(r[1]*255<<8)+(r[2]*255|0)},set:function(r){var i=this.glcolor;i[0]=(r>>16&255)/255,i[1]=(r>>8&255)/255,i[2]=(r&255)/255}}});v.exports=a},33755:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o){s===void 0&&(s=.5),f===void 0&&(f=.5),e===void 0&&(e=3),o===void 0&&(o=!1),m.call(this,l.SHINE,i),this.speed=s,this.lineWidth=f,this.gradient=e,this.reveal=o}});v.exports=a},24949:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o){s===void 0&&(s=.5),f===void 0&&(f=.5),e===void 0&&(e=.5),o===void 0&&(o=.5),m.call(this,l.VIGNETTE,i),this.x=s,this.y=f,this.radius=e,this.strength=o}});v.exports=a},66241:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47551),l=t(47406),a=new h({Extends:m,initialize:function(i,s,f,e,o){s===void 0&&(s=.1),f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=!1),m.call(this,l.WIPE,i),this.progress=0,this.wipeWidth=s,this.direction=f,this.axis=e,this.reveal=o}});v.exports=a},47406:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};v.exports=S},96910:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),m=t(47406),l={Barrel:t(20170),Controller:t(47551),Bloom:t(51182),Blur:t(51498),Bokeh:t(12042),Circle:t(69900),ColorMatrix:t(48991),Displacement:t(47909),Glow:t(18919),Gradient:t(62494),Pixelate:t(68897),Shadow:t(58575),Shine:t(33755),Vignette:t(24949),Wipe:t(66241)};l=h(!1,l,m),v.exports=l},88933:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),m=t(20494),l=function(a,r,i){r.x=m(i,"x",0),r.y=m(i,"y",0),r.depth=m(i,"depth",0),r.flipX=m(i,"flipX",!1),r.flipY=m(i,"flipY",!1);var s=m(i,"scale",null);typeof s=="number"?r.setScale(s):s!==null&&(r.scaleX=m(s,"x",1),r.scaleY=m(s,"y",1));var f=m(i,"scrollFactor",null);typeof f=="number"?r.setScrollFactor(f):f!==null&&(r.scrollFactorX=m(f,"x",1),r.scrollFactorY=m(f,"y",1)),r.rotation=m(i,"rotation",0);var e=m(i,"angle",null);e!==null&&(r.angle=e),r.alpha=m(i,"alpha",1);var o=m(i,"origin",null);if(typeof o=="number")r.setOrigin(o);else if(o!==null){var d=m(o,"x",.5),c=m(o,"y",.5);r.setOrigin(d,c)}r.blendMode=m(i,"blendMode",h.NORMAL),r.visible=m(i,"visible",!0);var p=m(i,"add",!0);return p&&a.sys.displayList.add(r),r.preUpdate&&a.sys.updateList.add(r),r};v.exports=l},32291:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20494),m=function(l,a){var r=h(a,"anims",null);if(r===null)return l;if(typeof r=="string")l.anims.play(r);else if(typeof r=="object"){var i=l.anims,s=h(r,"key",void 0);if(s){var f=h(r,"startFrame",void 0),e=h(r,"delay",0),o=h(r,"repeat",0),d=h(r,"repeatDelay",0),c=h(r,"yoyo",!1),p=h(r,"play",!1),x=h(r,"delayedPlay",0),T={key:s,delay:e,repeat:o,repeatDelay:d,yoyo:c,startFrame:f};p?i.play(T):x>0?i.playAfterDelay(T,x):i.load(T)}}return l};v.exports=m},91713:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(71207),l=t(91963),a=t(56631),r=t(7599),i=t(17922),s=new h({Extends:m,initialize:function(e){m.call(this,e),this.sortChildrenFlag=!1,this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(r.BOOT,this.boot,this),this.events.on(r.START,this.start,this)},boot:function(){this.events.once(r.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.parentContainer&&f.parentContainer.remove(f),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(a.ADDED_TO_SCENE,f,this.scene),this.events.emit(r.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(a.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(r.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,e){return f._depth-e._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list;f.length;)f[0].destroy(!0);this.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});l.register("DisplayList",s,"displayList"),v.exports=s},89980:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(48129),l=t(81078),a=t(6659),r=t(56631),i=t(7599),s=new h({Extends:a,initialize:function(e,o){a.call(this),this.scene=e,this.displayList=null,this.type=o,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(r.ADDED_TO_SCENE,this.addedToScene,this),this.on(r.REMOVED_FROM_SCENE,this.removedFromScene,this),e.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(f,e){return this.data||(this.data=new l(this)),this.data.set(f,e),this},incData:function(f,e){return this.data||(this.data=new l(this)),this.data.inc(f,e),this},toggleData:function(f){return this.data||(this.data=new l(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new l(this)),this.data.get(f)},setInteractive:function(f,e,o){return this.scene.sys.input.enable(this,f,e,o),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(f){var e=this.displayList&&this.displayList.active?this.displayList.willRender(f):!0;return!(!e||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,e=this.parentContainer,o=[];e&&(o.unshift(e.getIndex(f)),f=e,e.parentContainer);)e=e.parentContainer;return this.displayList?o.unshift(this.displayList.getIndex(f)):o.unshift(this.scene.sys.displayList.getIndex(f)),o},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(r.ADDED_TO_SCENE,this,this.scene),f.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f&&f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(r.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(r.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,v.exports=s},99325:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(91963),l=t(7599),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},m.register("GameObjectCreator",a,"make"),v.exports=a},61286:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(91963),l=t(7599),a=new h({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},existing:function(r){return(r.renderCanvas||r.renderWebGL)&&this.displayList.add(r),r.preUpdate&&this.updateList.add(r),r},shutdown:function(){this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(r,i){a.prototype.hasOwnProperty(r)||(a.prototype[r]=i)},a.remove=function(r){a.prototype.hasOwnProperty(r)&&delete a.prototype[r]},m.register("GameObjectFactory",a,"add"),v.exports=a},73329:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(69360),m=new h,l=new h,a=new h,r={camera:m,sprite:l,calc:a},i=function(s,f,e){var o=m,d=l,c=a;return d.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),o.copyFrom(f.matrix),e?(o.multiplyWithOffset(e,-f.scrollX*s.scrollFactorX,-f.scrollY*s.scrollFactorY),d.e=s.x,d.f=s.y):(d.e-=f.scrollX*s.scrollFactorX,d.f-=f.scrollY*s.scrollFactorY),o.multiply(d,c),r};v.exports=i},92034:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(74623),l=t(91963),a=t(7599),r=new h({Extends:m,initialize:function(s){m.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(a.BOOT,this.boot,this),s.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,s){for(var f=this._active,e=f.length,o=0;o<e;o++){var d=f[o];d.active&&d.preUpdate.call(d,i,s)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(a.PRE_UPDATE,this.update,this),s.off(a.UPDATE,this.sceneUpdate,this),s.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});l.register("UpdateList",r,"updateList"),v.exports=r},8810:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a,r,i,s,f,e,o,d,c,p,x){var T=m.x-h.displayOriginX+a,E=m.y-h.displayOriginY+r,y=T+m.w,w=E+m.h,A=i.getXRound(T,E,s),P=i.getYRound(T,E,s),M=i.getXRound(T,w,s),L=i.getYRound(T,w,s),F=i.getXRound(y,w,s),N=i.getYRound(y,w,s),b=i.getXRound(y,E,s),V=i.getYRound(y,E,s);t.batchQuad(h,A,P,M,L,F,N,b,V,l.u0,l.v0,l.u1,l.v1,f,e,o,d,c,p,x)};v.exports=S},82173:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){if(m===void 0&&(m=!1),l===void 0)return l={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},l;var a=t.text,r=a.length,i=t.maxWidth,s=t.wordWrapCharCode,f=Number.MAX_VALUE,e=Number.MAX_VALUE,o=0,d=0,c=t.fontData.chars,p=t.fontData.lineHeight,x=t.letterSpacing,T=t.lineSpacing,E=0,y=0,w=0,A=null,P=t._align,M=0,L=0,F=t.fontSize/t.fontData.size,N=F*t.scaleX,b=F*t.scaleY,V=null,X=0,W=[],k=Number.MAX_VALUE,Q=0,U=0,Y=0,O,G=[],z=[],H=null;if(i>0){for(O=0;O<r;O++){if(w=a.charCodeAt(O),w===10){H!==null&&(G.push({word:H.word,i:H.i,x:H.x*N,y:H.y*b,w:H.w*N,h:H.h*b,cr:!0}),H=null),E=0,y+=p+T,V=null;continue}if(A=c[w],!!A){if(V!==null)var K=A.kerning[X];w===s?H!==null&&(G.push({word:H.word,i:H.i,x:H.x*N,y:H.y*b,w:H.w*N,h:H.h*b,cr:!1}),H=null):(H===null&&(H={word:"",i:O,x:E,y,w:0,h:p,cr:!1}),H.word=H.word.concat(a[O]),H.w+=A.xOffset+A.xAdvance+(K!==void 0?K:0)),E+=A.xAdvance+x,V=A,X=w}}H!==null&&G.push({word:H.word,i:H.i,x:H.x*N,y:H.y*b,w:H.w*N,h:H.h*b,cr:!1}),E=0,y=0,V=null,X=0;var J,Z=0,_=[];for(O=0;O<G.length;O++){var tt=G[O],et=tt.x,nt=tt.x+tt.w;if(J){var rt=et-(J.x+J.w);Z=et-(rt+J.w),J=null}var st=et-Z,lt=nt-Z;st>i||lt>i?(_.push(tt.i-1),tt.cr?(_.push(tt.i+tt.word.length),Z=0,J=null):J=tt):tt.cr&&(_.push(tt.i+tt.word.length),Z=0,J=null)}var mt=function(Wt,te,se){return Wt.substr(0,te)+se+Wt.substr(te+1)};for(O=_.length-1;O>=0;O--)a=mt(a,_[O],`
`);l.wrappedText=a,r=a.length,G=[],H=null}var gt=0;for(O=0;O<r;O++){if(w=a.charCodeAt(O),w===10){H!==null&&(G.push({word:H.word,i:H.i,x:H.x*N,y:H.y*b,w:H.w*N,h:H.h*b}),H=null),E=0,y+=p+T,V=null,W[U]=Y,Y>Q&&(Q=Y),Y<k&&(k=Y),U++,Y=0;continue}if(A=c[w],!!A){if(M=E,L=y,V!==null){var xt=A.kerning[X];M+=xt!==void 0?xt:0}f>M&&(f=M),e>L&&(e=L);var ot=M+A.xAdvance,vt=L+p;o<ot&&(o=ot),d<vt&&(d=vt);var dt=A.xOffset+A.xAdvance+(xt!==void 0?xt:0);w===s?H!==null&&(G.push({word:H.word,i:H.i,x:H.x*N,y:H.y*b,w:H.w*N,h:H.h*b}),H=null):(H===null&&(H={word:"",i:gt,x:E,y,w:0,h:p}),H.word=H.word.concat(a[O]),H.w+=dt),z.push({i:gt,idx:O,char:a[O],code:w,x:(A.xOffset+M)*F,y:(A.yOffset+y)*F,w:A.width*F,h:A.height*F,t:y*F,r:ot*F,b:p*F,line:U,glyph:A}),E+=A.xAdvance+x+(xt!==void 0?xt:0),V=A,X=w,Y=ot*F,gt++}}if(H!==null&&G.push({word:H.word,i:H.i,x:H.x*N,y:H.y*b,w:H.w*N,h:H.h*b}),W[U]=Y,Y>Q&&(Q=Y),Y<k&&(k=Y),P>0)for(var wt=0;wt<z.length;wt++){var Tt=z[wt];if(P===1){var Mt=(Q-W[Tt.line])/2;Tt.x+=Mt,Tt.r+=Mt}else if(P===2){var Vt=Q-W[Tt.line];Tt.x+=Vt,Tt.r+=Vt}}var It=l.local,At=l.global,zt=l.lines;return It.x=f*F,It.y=e*F,It.width=o*F,It.height=d*F,At.x=t.x-t._displayOriginX+f*N,At.y=t.y-t._displayOriginY+e*b,At.width=o*N,At.height=d*b,zt.shortest=k,zt.longest=Q,zt.lengths=W,h&&(It.x=Math.ceil(It.x),It.y=Math.ceil(It.y),It.width=Math.ceil(It.width),It.height=Math.ceil(It.height),At.x=Math.ceil(At.x),At.y=Math.ceil(At.y),At.width=Math.ceil(At.width),At.height=Math.ceil(At.height),zt.shortest=Math.ceil(k),zt.longest=Math.ceil(Q)),m&&(t._displayOriginX=t.originX*It.width,t._displayOriginY=t.originY*It.height,At.x=t.x-t._displayOriginX*t.scaleX,At.y=t.y-t._displayOriginY*t.scaleY,h&&(At.x=Math.ceil(At.x),At.y=Math.ceil(At.y))),l.words=G,l.characters=z,l.lines.height=p,l.scale=F,l.scaleX=t.scaleX,l.scaleY=t.scaleY,l};v.exports=S},68298:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(31476),m=function(l,a,r,i,s,f,e){var o=l.sys.textures.get(r),d=o.get(i),c=l.sys.cache.xml.get(s);if(d&&c){var p=h(c,d,f,e,o);return l.sys.cache.bitmapFont.add(a,{data:p,texture:r,frame:i,fromAtlas:!0}),!0}else return!1};v.exports=m},39860:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),m=function(l,a){var r=a.width,i=a.height,s=Math.floor(r/2),f=Math.floor(i/2),e=h(a,"chars","");if(e!==""){var o=h(a,"image",""),d=l.sys.textures.getFrame(o),c=d.cutX,p=d.cutY,x=d.source.width,T=d.source.height,E=h(a,"offset.x",0),y=h(a,"offset.y",0),w=h(a,"spacing.x",0),A=h(a,"spacing.y",0),P=h(a,"lineSpacing",0),M=h(a,"charsPerRow",null);M===null&&(M=x/r,M>e.length&&(M=e.length));for(var L=E,F=y,N={retroFont:!0,font:o,size:r,lineHeight:i+P,chars:{}},b=0,V=0;V<e.length;V++){var X=e.charCodeAt(V),W=(c+L)/x,k=(p+F)/T,Q=(c+L+r)/x,U=(p+F+i)/T;N.chars[X]={x:L,y:F,width:r,height:i,centerX:s,centerY:f,xOffset:0,yOffset:0,xAdvance:r,data:{},kerning:{},u0:W,v0:k,u1:Q,v1:U},b++,b===M?(b=0,L=E,F+=i+A):L+=r+w}var Y={data:N,frame:null,texture:o};return Y}};v.exports=m},31476:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(h,m){return parseInt(h.getAttribute(m),10)}var t=function(h,m,l,a,r){l===void 0&&(l=0),a===void 0&&(a=0);var i=m.cutX,s=m.cutY,f=m.source.width,e=m.source.height,o=m.sourceIndex,d={},c=h.getElementsByTagName("info")[0],p=h.getElementsByTagName("common")[0];d.font=c.getAttribute("face"),d.size=S(c,"size"),d.lineHeight=S(p,"lineHeight")+a,d.chars={};var x=h.getElementsByTagName("char"),T=m!==void 0&&m.trimmed;if(T)var E=m.height,y=m.width;for(var w=0;w<x.length;w++){var A=x[w],P=S(A,"id"),M=String.fromCharCode(P),L=S(A,"x"),F=S(A,"y"),N=S(A,"width"),b=S(A,"height");T&&(L<y&&(y=L),F<E&&(E=F)),T&&E!==0&&y!==0&&(L-=m.x,F-=m.y);var V=(i+L)/f,X=(s+F)/e,W=(i+L+N)/f,k=(s+F+b)/e;if(d.chars[P]={x:L,y:F,width:N,height:b,centerX:Math.floor(N/2),centerY:Math.floor(b/2),xOffset:S(A,"xoffset"),yOffset:S(A,"yoffset"),xAdvance:S(A,"xadvance")+l,data:{},kerning:{},u0:V,v0:X,u1:W,v1:k},r&&N!==0&&b!==0){var Q=r.add(M,o,L,F,N,b);Q&&Q.setUVs(N,b,V,X,W,k)}}var U=h.getElementsByTagName("kerning");for(w=0;w<U.length;w++){var Y=U[w],O=S(Y,"first"),G=S(Y,"second"),z=S(Y,"amount");d.chars[G].kerning[O]=z}return d};v.exports=t},55873:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66863),m=t(98611),l={Parse:t(39860)};l=m(!1,l,h),v.exports=l},66863:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};v.exports=S},13468:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44616),m=t(56694),l=t(88899),a=new m({Extends:h,Mixins:[l],initialize:function(i,s,f,e,o,d,c){h.call(this,i,s,f,e,o,d,c),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(r,i){return this.cropWidth=r,this.cropHeight=i,this},setDisplayCallback:function(r){return this.displayCallback=r,this},setScrollX:function(r){return this.scrollX=r,this},setScrollY:function(r){return this.scrollY=r,this}});v.exports=a},93438:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(49584),m=function(l,a,r,i){var s=a._text,f=s.length,e=l.currentContext;if(!(f===0||!h(l,e,a,r,i))){r.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.displayCallback,c=a.callbackData,p=a.fontData.chars,x=a.fontData.lineHeight,T=a._letterSpacing,E=0,y=0,w=0,A=null,P=0,M=0,L=0,F=0,N=0,b=0,V=null,X=0,W=a.frame.source.image,k=o.cutX,Q=o.cutY,U=0,Y=0,O=a._fontSize/a.fontData.size,G=a._align,z=0,H=0;a.getTextBounds(!1);var K=a._bounds.lines;G===1?H=(K.longest-K.lengths[0])/2:G===2&&(H=K.longest-K.lengths[0]),e.translate(-a.displayOriginX,-a.displayOriginY);var J=r.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(e.beginPath(),e.rect(0,0,a.cropWidth,a.cropHeight),e.clip());for(var Z=0;Z<f;Z++){if(Y=O,U=0,w=s.charCodeAt(Z),w===10){z++,G===1?H=(K.longest-K.lengths[z])/2:G===2&&(H=K.longest-K.lengths[z]),E=0,y+=x,V=null;continue}if(A=p[w],!!A){if(P=k+A.x,M=Q+A.y,L=A.width,F=A.height,N=A.xOffset+E-a.scrollX,b=A.yOffset+y-a.scrollY,V!==null){var _=A.kerning[X];N+=_!==void 0?_:0}if(d){c.index=Z,c.charCode=w,c.x=N,c.y=b,c.scale=Y,c.rotation=U,c.data=A.data;var tt=d(c);N=tt.x,b=tt.y,Y=tt.scale,U=tt.rotation}N*=Y,b*=Y,N+=H,E+=A.xAdvance+T+(_!==void 0?_:0),V=A,X=w,!(L===0||F===0||w===32)&&(J&&(N=Math.round(N),b=Math.round(b)),e.save(),e.translate(N,b),e.rotate(U),e.scale(Y,Y),e.drawImage(W,P,M,L,F,0,0,L,F),e.restore())}}e.restore()}};v.exports=m},67513:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13468),m=t(88933),l=t(99325),a=t(20494);l.register("dynamicBitmapText",function(r,i){r===void 0&&(r={});var s=a(r,"font",""),f=a(r,"text",""),e=a(r,"size",!1),o=new h(this.scene,0,0,s,f,e);return i!==void 0&&(r.add=i),m(this.scene,o,r),o})},94145:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13468),m=t(61286);m.register("dynamicBitmapText",function(l,a,r,i,s){return this.displayList.add(new h(this.scene,l,a,r,i,s))})},88899:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(16873),l=t(93438),v.exports={renderWebGL:m,renderCanvas:l}},16873:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(69360),l=t(75512),a=new m,r=function(i,s,f,e){var o=s.text,d=o.length;if(d!==0){f.addToRenderList(s);var c=i.pipelines.set(s.pipeline,s),p=h(s,f,e);i.pipelines.preBatch(s);var x=p.sprite,T=p.calc,E=a,y=s.cropWidth>0||s.cropHeight>0;y&&(c.flush(),i.pushScissor(T.tx,T.ty,s.cropWidth*T.scaleX,s.cropHeight*T.scaleY));var w=s.frame,A=w.glTexture,P=s.tintFill,M=l.getTintAppendFloatAlpha(s.tintTopLeft,f.alpha*s._alphaTL),L=l.getTintAppendFloatAlpha(s.tintTopRight,f.alpha*s._alphaTR),F=l.getTintAppendFloatAlpha(s.tintBottomLeft,f.alpha*s._alphaBL),N=l.getTintAppendFloatAlpha(s.tintBottomRight,f.alpha*s._alphaBR),b=c.setGameObject(s),V=0,X=0,W=0,k=0,Q=s.letterSpacing,U,Y=0,O=0,G,z=s.scrollX,H=s.scrollY,K=s.fontData,J=K.chars,Z=K.lineHeight,_=s.fontSize/K.size,tt=0,et=s._align,nt=0,rt=0,st=s.getTextBounds(!1);s.maxWidth>0&&(o=st.wrappedText,d=o.length);var lt=s._bounds.lines;et===1?rt=(lt.longest-lt.lengths[0])/2:et===2&&(rt=lt.longest-lt.lengths[0]);for(var mt=f.roundPixels,gt=s.displayCallback,xt=s.callbackData,ot=0;ot<d;ot++){if(W=o.charCodeAt(ot),W===10){nt++,et===1?rt=(lt.longest-lt.lengths[nt])/2:et===2&&(rt=lt.longest-lt.lengths[nt]),V=0,X+=Z,G=null;continue}if(U=J[W],!!U){Y=U.width,O=U.height;var vt=U.xOffset+V-z,dt=U.yOffset+X-H;if(G!==null){var wt=U.kerning[k];vt+=wt!==void 0?wt:0}if(V+=U.xAdvance+Q,G=U,k=W,!(Y===0||O===0||W===32)){if(_=s.fontSize/s.fontData.size,tt=0,gt){xt.color=0,xt.tint.topLeft=M,xt.tint.topRight=L,xt.tint.bottomLeft=F,xt.tint.bottomRight=N,xt.index=ot,xt.charCode=W,xt.x=vt,xt.y=dt,xt.scale=_,xt.rotation=tt,xt.data=U.data;var Tt=gt(xt);vt=Tt.x,dt=Tt.y,_=Tt.scale,tt=Tt.rotation,Tt.color?(M=Tt.color,L=Tt.color,F=Tt.color,N=Tt.color):(M=Tt.tint.topLeft,L=Tt.tint.topRight,F=Tt.tint.bottomLeft,N=Tt.tint.bottomRight),M=l.getTintAppendFloatAlpha(M,f.alpha*s._alphaTL),L=l.getTintAppendFloatAlpha(L,f.alpha*s._alphaTR),F=l.getTintAppendFloatAlpha(F,f.alpha*s._alphaBL),N=l.getTintAppendFloatAlpha(N,f.alpha*s._alphaBR)}vt*=_,dt*=_,vt-=s.displayOriginX,dt-=s.displayOriginY,vt+=rt,E.applyITRS(vt,dt,tt,_,_),T.multiply(E,x);var Mt=U.u0,Vt=U.v0,It=U.u1,At=U.v1,zt=Y,Wt=O,te=x.e,se=x.f,me=Wt*x.c+x.e,Mi=Wt*x.d+x.f,Ii=zt*x.a+Wt*x.c+x.e,ai=zt*x.b+Wt*x.d+x.f,pi=zt*x.a+x.e,mi=zt*x.b+x.f;mt&&(te=Math.round(te),se=Math.round(se),me=Math.round(me),Mi=Math.round(Mi),Ii=Math.round(Ii),ai=Math.round(ai),pi=Math.round(pi),mi=Math.round(mi)),c.batchQuad(s,te,se,me,Mi,Ii,ai,pi,mi,Mt,Vt,It,At,M,L,F,N,P,A,b)}}}y&&(c.flush(),i.popScissor()),i.pipelines.postBatch(s)}};v.exports=r},44616:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(82897),l=t(64937),a=t(89980),r=t(82173),i=t(68298),s=t(31476),f=t(74118),e=t(84557),o=new h({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Texture,l.Tint,l.Transform,l.Visible,e],initialize:function(c,p,x,T,E,y,w){E===void 0&&(E=""),w===void 0&&(w=0),a.call(this,c,"BitmapText"),this.font=T;var A=this.scene.sys.cache.bitmapFont.get(T);A||console.warn("Invalid BitmapText key: "+T),this.fontData=A.data,this._text="",this._fontSize=y||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(p,x),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=o.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=o.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=o.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(d){return this._fontSize=d,this._dirty=!0,this},setLetterSpacing:function(d){return d===void 0&&(d=0),this._letterSpacing=d,this._dirty=!0,this},setLineSpacing:function(d){return d===void 0&&(d=0),this.lineSpacing=d,this},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this.text&&(this._text=d.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(d,c,p,x){return d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),x===void 0&&(x=.5),this.dropShadowX=d,this.dropShadowY=c,this.dropShadowColor=p,this.dropShadowAlpha=x,this},setCharacterTint:function(d,c,p,x,T,E,y){d===void 0&&(d=0),c===void 0&&(c=1),p===void 0&&(p=!1),x===void 0&&(x=-1),T===void 0&&(T=x,E=x,y=x);var w=this.text.length;c===-1&&(c=w),d<0&&(d=w+d),d=m(d,0,w-1);for(var A=m(d+c,d,w),P=this.charColors,M=d;M<A;M++){var L=P[M];if(x===-1)P[M]=null;else{var F=p?1:0;L?(L.tintEffect=F,L.tintTL=x,L.tintTR=T,L.tintBL=E,L.tintBR=y):P[M]={tintEffect:F,tintTL:x,tintTR:T,tintBL:E,tintBR:y}}}return this},setWordTint:function(d,c,p,x,T,E,y){c===void 0&&(c=1);for(var w=this.getTextBounds(),A=w.words,P=typeof d=="number",M=0,L=0;L<A.length;L++){var F=A[L];if((P&&L===d||!P&&F.word===d)&&(this.setCharacterTint(F.i,F.word.length,p,x,T,E,y),M++,M===c))return this}return this},getTextBounds:function(d){var c=this._bounds;return(this._dirty||d||this.scaleX!==c.scaleX||this.scaleY!==c.scaleY)&&(r(this,d,!0,c),this._dirty=!1),c},getCharacterAt:function(d,c,p){for(var x=this.getLocalPoint(d,c,null,p),T=this.getTextBounds(),E=T.characters,y=new f,w=0;w<E.length;w++){var A=E[w];if(y.setTo(A.x,A.t,A.r-A.x,A.b),y.contains(x.x,x.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(d,c,p){if(c===void 0&&(c=this._fontSize),p===void 0&&(p=this._align),d!==this.font){var x=this.scene.sys.cache.bitmapFont.get(d);x&&(this.font=d,this.fontData=x.data,this._fontSize=c,this._align=p,this.fromAtlas=x.fromAtlas===!0,this.setTexture(x.texture,x.frame),r(this,!1,!0,this._bounds))}return this},setMaxWidth:function(d,c){return this._maxWidth=d,this._dirty=!0,c!==void 0&&(this.wordWrapCharCode=c),this},align:{set:function(d){this._align=d,this._dirty=!0},get:function(){return this._align}},text:{set:function(d){this.setText(d)},get:function(){return this._text}},fontSize:{set:function(d){this._fontSize=d,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(d){this._letterSpacing=d,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(d){this._lineSpacing=d,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(d){this._maxWidth=d,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var d=l.ToJSON(this),c={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return d.data=c,d},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});o.ALIGN_LEFT=0,o.ALIGN_CENTER=1,o.ALIGN_RIGHT=2,o.ParseFromAtlas=i,o.ParseXMLBitmapFont=s,v.exports=o},97545:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(49584),m=function(l,a,r,i){var s=a._text,f=s.length,e=l.currentContext;if(!(f===0||!h(l,e,a,r,i))){r.addToRenderList(a);var o=a.fromAtlas?a.frame:a.texture.frames.__BASE,d=a.fontData.chars,c=a.fontData.lineHeight,p=a._letterSpacing,x=a._lineSpacing,T=0,E=0,y=0,w=null,A=0,P=0,M=0,L=0,F=0,N=0,b=null,V=0,X=o.source.image,W=o.cutX,k=o.cutY,Q=a._fontSize/a.fontData.size,U=a._align,Y=0,O=0,G=a.getTextBounds(!1);a.maxWidth>0&&(s=G.wrappedText,f=s.length);var z=a._bounds.lines;U===1?O=(z.longest-z.lengths[0])/2:U===2&&(O=z.longest-z.lengths[0]),e.translate(-a.displayOriginX,-a.displayOriginY);for(var H=r.roundPixels,K=0;K<f;K++){if(y=s.charCodeAt(K),y===10){Y++,U===1?O=(z.longest-z.lengths[Y])/2:U===2&&(O=z.longest-z.lengths[Y]),T=0,E+=c+x,b=null;continue}if(w=d[y],!!w){if(A=W+w.x,P=k+w.y,M=w.width,L=w.height,F=w.xOffset+T,N=w.yOffset+E,b!==null){var J=w.kerning[V];F+=J!==void 0?J:0}F*=Q,N*=Q,F+=O,T+=w.xAdvance+p+(J!==void 0?J:0),b=w,V=y,!(M===0||L===0||y===32)&&(H&&(F=Math.round(F),N=Math.round(N)),e.save(),e.translate(F,N),e.scale(Q,Q),e.drawImage(X,A,P,M,L,0,0,M,L),e.restore())}}e.restore()}};v.exports=m},95499:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44616),m=t(88933),l=t(99325),a=t(20494),r=t(10850);l.register("bitmapText",function(i,s){i===void 0&&(i={});var f=r(i,"font",""),e=a(i,"text",""),o=a(i,"size",!1),d=r(i,"align",0),c=new h(this.scene,0,0,f,e,o,d);return s!==void 0&&(i.add=s),m(this.scene,c,i),c})},21797:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44616),m=t(61286);m.register("bitmapText",function(l,a,r,i,s,f){return this.displayList.add(new h(this.scene,l,a,r,i,s,f))})},84557:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(26372),l=t(97545),v.exports={renderWebGL:m,renderCanvas:l}},26372:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8810),m=t(73329),l=t(75512),a=function(r,i,s,f){var e=i._text,o=e.length;if(o!==0){s.addToRenderList(i);var d=r.pipelines.set(i.pipeline,i),c=m(i,s,f).calc;r.pipelines.preBatch(i);var p=s.roundPixels,x=s.alpha,T=i.charColors,E=i.tintFill,y=l.getTintAppendFloatAlpha,w=y(i.tintTopLeft,x*i._alphaTL),A=y(i.tintTopRight,x*i._alphaTR),P=y(i.tintBottomLeft,x*i._alphaBL),M=y(i.tintBottomRight,x*i._alphaBR),L=i.frame.glTexture,F=d.setGameObject(i),N=i.getTextBounds(!1),b,V,X,W=N.characters,k=i.dropShadowX,Q=i.dropShadowY,U=k!==0||Q!==0;if(U){var Y=i.dropShadowColor,O=i.dropShadowAlpha,G=y(Y,x*O*i._alphaTL),z=y(Y,x*O*i._alphaTR),H=y(Y,x*O*i._alphaBL),K=y(Y,x*O*i._alphaBR);for(b=0;b<W.length;b++)V=W[b],X=V.glyph,!(V.code===32||X.width===0||X.height===0)&&h(d,i,V,X,k,Q,c,p,G,z,H,K,1,L,F)}for(b=0;b<W.length;b++)if(V=W[b],X=V.glyph,!(V.code===32||X.width===0||X.height===0))if(T[V.i]){var J=T[V.i],Z=J.tintEffect,_=y(J.tintTL,x*i._alphaTL),tt=y(J.tintTR,x*i._alphaTR),et=y(J.tintBL,x*i._alphaBL),nt=y(J.tintBR,x*i._alphaBR);h(d,i,V,X,0,0,c,p,_,tt,et,nt,Z,L,F)}else h(d,i,V,X,0,0,c,p,w,A,P,M,E,L,F);r.pipelines.postBatch(i)}};v.exports=a},52816:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92246),m=t(41664),l=t(56694),a=t(64937),r=t(82047),i=t(89980),s=t(71207),f=new l({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,h],initialize:function(o,d,c,p,x){i.call(this,o,"Blitter"),this.setTexture(p,x),this.setPosition(d,c),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(e,o,d,c,p){c===void 0&&(c=!0),p===void 0&&(p=this.children.length),d===void 0?d=this.frame:d instanceof r||(d=this.texture.get(d));var x=new m(this,e,o,d,c);return this.children.addAt(x,p,!1),this.dirty=!0,x},createFromCallback:function(e,o,d,c){for(var p=this.createMultiple(o,d,c),x=0;x<p.length;x++){var T=p[x];e.call(this,T,x)}return p},createMultiple:function(e,o,d){o===void 0&&(o=this.frame.name),d===void 0&&(d=!0),Array.isArray(o)||(o=[o]);var c=[],p=this;return o.forEach(function(x){for(var T=0;T<e;T++)c.push(p.create(0,0,x,d))}),c},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});v.exports=f},33177:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=h.getRenderList();if(a.length!==0){var r=t.currentContext,i=m.alpha*h.alpha;if(i!==0){m.addToRenderList(h),r.globalCompositeOperation=t.blendModes[h.blendMode],r.imageSmoothingEnabled=!h.frame.source.scaleMode;var s=h.x-m.scrollX*h.scrollFactorX,f=h.y-m.scrollY*h.scrollFactorY;r.save(),l&&l.copyToContext(r);for(var e=m.roundPixels,o=0;o<a.length;o++){var d=a[o],c=d.flipX||d.flipY,p=d.frame,x=p.canvasData,T=p.x,E=p.y,y=1,w=1,A=d.alpha*i;A!==0&&(r.globalAlpha=A,c?(d.flipX&&(y=-1,T-=x.width),d.flipY&&(w=-1,E-=x.height),x.width>0&&x.height>0&&(r.save(),r.translate(d.x+s,d.y+f),r.scale(y,w),r.drawImage(p.source.image,x.x,x.y,x.width,x.height,T,E,x.width,x.height),r.restore())):(e&&(T=Math.round(T),E=Math.round(E)),x.width>0&&x.height>0&&r.drawImage(p.source.image,x.x,x.y,x.width,x.height,T+d.x+s,E+d.y+f,x.width,x.height)))}r.restore()}}};v.exports=S},68452:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),m=t(88933),l=t(99325),a=t(20494);l.register("blitter",function(r,i){r===void 0&&(r={});var s=a(r,"key",null),f=a(r,"frame",null),e=new h(this.scene,0,0,s,f);return i!==void 0&&(r.add=i),m(this.scene,e,r),e})},38906:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52816),m=t(61286);m.register("blitter",function(l,a,r,i){return this.displayList.add(new h(this.scene,l,a,r,i))})},92246:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(89165),l=t(33177),v.exports={renderWebGL:m,renderCanvas:l}},89165:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(69360),m=t(75512),l=new h,a=function(r,i,s,f){var e=i.getRenderList(),o=s.alpha*i.alpha;if(!(e.length===0||o===0)){s.addToRenderList(i);var d=r.pipelines.set(this.pipeline,i),c=s.scrollX*i.scrollFactorX,p=s.scrollY*i.scrollFactorY,x=l.copyFrom(s.matrix);f&&(x.multiplyWithOffset(f,-c,-p),c=0,p=0);var T=i.x-c,E=i.y-p,y=-1,w=!1,A=s.roundPixels;r.pipelines.preBatch(i);for(var P=0;P<e.length;P++){var M=e[P],L=M.frame,F=M.alpha*o;if(F!==0){var N=L.width,b=L.height,V=T+M.x+L.x,X=E+M.y+L.y;M.flipX&&(N*=-1,V+=L.width),M.flipY&&(b*=-1,X+=L.height);var W=x.setQuad(V,X,V+N,X+b,A),k=m.getTintAppendFloatAlpha(M.tint,F);if(L.sourceIndex!==y){var Q=d.setGameObject(i,L);y=L.sourceIndex}d.batchQuad(i,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],L.u0,L.v0,L.u1,L.v1,k,k,k,k,w,L.glTexture,Q)&&(y=-1)}}r.pipelines.postBatch(i)}};v.exports=a},41664:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(82047),l=new h({initialize:function(r,i,s,f,e){this.parent=r,this.x=i,this.y=s,this.frame=f,this.data={},this.tint=16777215,this._visible=e,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof m&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,r,i){return this.x=a,this.y=r,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,r){return this.x=a,this.y=r,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,r){return this.flipX=a,this.flipY=r,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});v.exports=l},97123:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=2,l={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,r,i,s){return a===void 0&&(a=1),r===void 0?this.alpha=a:(this._alphaTL=h(a,0,1),this._alphaTR=h(r,0,1),this._alphaBL=h(i,0,1),this._alphaBR=h(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,this._alphaTL=r,this._alphaTR=r,this._alphaBL=r,this._alphaBR=r,r===0?this.renderFlags&=~m:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var r=h(a,0,1);this._alphaTL=r,r!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var r=h(a,0,1);this._alphaTR=r,r!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var r=h(a,0,1);this._alphaBL=r,r!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var r=h(a,0,1);this._alphaBR=r,r!==0&&(this.renderFlags|=m)}}};v.exports=l},15720:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=2,l={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var r=h(a,0,1);this._alpha=r,r===0?this.renderFlags&=~m:this.renderFlags|=m}}};v.exports=l},69732:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),m={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(l){typeof l=="string"&&(l=h[l]),l|=0,l>=-1&&(this._blendMode=l)}},setBlendMode:function(l){return this.blendMode=l,this}};v.exports=m},28284:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};v.exports=S},85293:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,h,m,l){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,h,m,l,this.flipX,this.flipY);else{var a=t;this.frame.setCropUVs(this._crop,a.x,a.y,a.width,a.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=S},14975:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.displayList&&this.displayList.queueDepthSort(),this._depth=t}},setDepth:function(t){return t===void 0&&(t=0),this.depth=t,this}};v.exports=S},88677:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(96910),l=t(72677),a=new h({initialize:function(i,s){this.gameObject=i,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(r){return r===void 0&&(r=0),this.padding=r,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(r){if(!this.isPost){var i=this.gameObject.scene.sys.renderer;i&&i.pipelines?(this.gameObject.pipeline=i.pipelines.FX_PIPELINE,r!==void 0&&(this.padding=r),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var r=this.list,i=0;i<r.length;i++)r[i].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(r){var i;if(this.isPost){var s=this.gameObject.getPostPipeline(String(r.type));for(Array.isArray(s)||(s=[s]),i=0;i<s.length;i++){var f=s[i];if(f.controller===r){this.gameObject.removePostPipeline(f),r.destroy();break}}}else{var e=this.list;for(i=0;i<e.length;i++)e[i]===r&&(l(e,i),r.destroy())}return this.gameObject},disable:function(r){return r===void 0&&(r=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,r&&this.clear(),this.gameObject},add:function(r,i){if(this.isPost){var s=String(r.type);this.gameObject.setPostPipeline(s,i);var f=this.gameObject.getPostPipeline(s);if(f)return Array.isArray(f)&&(f=f.pop()),f.controller=r,r}else return this.enabled||this.enable(),this.list.push(r),r},addGlow:function(r,i,s,f,e,o){return this.add(new m.Glow(this.gameObject,r,i,s,f),{quality:e,distance:o})},addShadow:function(r,i,s,f,e,o,d){return this.add(new m.Shadow(this.gameObject,r,i,s,f,e,o,d))},addPixelate:function(r){return this.add(new m.Pixelate(this.gameObject,r))},addVignette:function(r,i,s,f){return this.add(new m.Vignette(this.gameObject,r,i,s,f))},addShine:function(r,i,s,f){return this.add(new m.Shine(this.gameObject,r,i,s,f))},addBlur:function(r,i,s,f,e,o){return this.add(new m.Blur(this.gameObject,r,i,s,f,e,o))},addGradient:function(r,i,s,f,e,o,d,c){return this.add(new m.Gradient(this.gameObject,r,i,s,f,e,o,d,c))},addBloom:function(r,i,s,f,e,o){return this.add(new m.Bloom(this.gameObject,r,i,s,f,e,o))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(r,i,s,f,e){return this.add(new m.Circle(this.gameObject,r,i,s,f,e))},addBarrel:function(r){return this.add(new m.Barrel(this.gameObject,r))},addDisplacement:function(r,i,s){return this.add(new m.Displacement(this.gameObject,r,i,s))},addWipe:function(r,i,s){return this.add(new m.Wipe(this.gameObject,r,i,s))},addReveal:function(r,i,s){return this.add(new m.Wipe(this.gameObject,r,i,s,!0))},addBokeh:function(r,i,s){return this.add(new m.Bokeh(this.gameObject,r,i,s))},addTiltShift:function(r,i,s,f,e,o){return this.add(new m.Bokeh(this.gameObject,r,i,s,!0,f,e,o))},destroy:function(){this.clear(),this.gameObject=null}});v.exports=a},92972:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,h){return this.flipX=t,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};v.exports=S},80693:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=t(2386),l=t(93736),a={prepareBoundsOutput:function(r,i){if(i===void 0&&(i=!1),this.rotation!==0&&m(r,this.x,this.y,this.rotation),i&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(r.x,r.y,r)}return r},getCenter:function(r,i){return r===void 0&&(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getTopLeft:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getTopRight:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(r,i)},getLeftCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getRightCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(r,i)},getBottomLeft:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomCenter:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBottomRight:function(r,i){return r||(r=new l),r.x=this.x-this.displayWidth*this.originX+this.displayWidth,r.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(r,i)},getBounds:function(r){r===void 0&&(r=new h);var i,s,f,e,o,d,c,p;if(this.parentContainer){var x=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(r),x.transformPoint(r.x,r.y,r),i=r.x,s=r.y,this.getTopRight(r),x.transformPoint(r.x,r.y,r),f=r.x,e=r.y,this.getBottomLeft(r),x.transformPoint(r.x,r.y,r),o=r.x,d=r.y,this.getBottomRight(r),x.transformPoint(r.x,r.y,r),c=r.x,p=r.y}else this.getTopLeft(r),i=r.x,s=r.y,this.getTopRight(r),f=r.x,e=r.y,this.getBottomLeft(r),o=r.x,d=r.y,this.getBottomRight(r),c=r.x,p=r.y;return r.x=Math.min(i,f,o,c),r.y=Math.min(s,e,d,p),r.width=Math.max(i,f,o,c)-r.x,r.height=Math.max(s,e,d,p)-r.y,r}};v.exports=a},39171:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76756),m=t(63037),l={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a,r,i,s,f){return a===void 0&&(this.texture||this.shader||this.geom)&&(a=this),new h(this.scene,a,r,i,s,f)},createGeometryMask:function(a){return a===void 0&&(this.type==="Graphics"||this.geom)&&(a=this),new m(this.scene,a)}};v.exports=l},28072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,h){return t===void 0&&(t=.5),h===void 0&&(h=t),this.originX=t,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,h){return t===void 0&&(t=0),h===void 0&&(h=t),this.displayOriginX=t,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};v.exports=S},54211:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75606),m=t(63130),l=t(10850),a=t(55303),r=t(93736),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(s,f){f===void 0&&(f=this.pathConfig);var e=this.pathTween;return e&&e.isPlaying()&&e.stop(),this.path=s,f&&this.startFollow(f),this},setRotateToPath:function(s,f){return f===void 0&&(f=0),this.rotateToPath=s,this.pathRotationOffset=f,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,f){s===void 0&&(s={}),f===void 0&&(f=0);var e=this.pathTween;e&&e.isPlaying()&&e.stop(),typeof s=="number"&&(s={duration:s}),s.from=l(s,"from",0),s.to=l(s,"to",1);var o=m(s,"positionOnPath",!1);this.rotateToPath=m(s,"rotateToPath",!1),this.pathRotationOffset=l(s,"rotationOffset",0);var d=l(s,"startAt",f);if(d&&(s.onStart=function(p){var x=p.data[0];x.progress=d,x.elapsed=x.duration*d;var T=x.ease(x.progress);x.current=x.start+(x.end-x.start)*T,x.setTargetValue()}),this.pathOffset||(this.pathOffset=new r(this.x,this.y)),this.pathVector||(this.pathVector=new r),this.pathDelta||(this.pathDelta=new r),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),o&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s){var f=s.data[0],e=this.pathDelta,o=this.pathVector;if(e.copy(o).negate(),f.state===a.COMPLETE){this.path.getPoint(f.end,o),e.add(o),o.add(this.pathOffset),this.setPosition(o.x,o.y);return}else if(f.state!==a.PLAYING_FORWARD&&f.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),o),e.add(o),o.add(this.pathOffset);var d=this.x,c=this.y;this.setPosition(o.x,o.y);var p=this.x-d,x=this.y-c;if(p===0&&x===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(x,p)+h(this.pathRotationOffset))}}};v.exports=i},58210:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28699),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(l){this.pipelineData={};var a=this.scene.sys.renderer;if(!a)return!1;var r=a.pipelines;if(r){l===void 0&&(l=r.default);var i=r.get(l);if(i)return this.defaultPipeline=i,this.pipeline=i,!0}return!1},setPipeline:function(l,a,r){var i=this.scene.sys.renderer;if(!i)return this;var s=i.pipelines;if(s){var f=s.get(l);f&&(this.pipeline=f),a&&(this.pipelineData=r?h(a):a)}return this},setPipelineData:function(l,a){var r=this.pipelineData;return a===void 0?delete r[l]:r[l]=a,this},resetPipeline:function(l){return l===void 0&&(l=!1),this.pipeline=this.defaultPipeline,l&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};v.exports=m},44086:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28699),m=t(88677),l=t(72677),a={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(r){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),r&&(this.preFX=new m(this,!1))},setPostPipeline:function(r,i,s){var f=this.scene.sys.renderer;if(!f)return this;var e=f.pipelines;if(e){Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var d=e.getPostPipeline(r[o],this,i);d&&this.postPipelines.push(d)}i&&(this.postPipelineData=s?h(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(r,i){var s=this.postPipelineData;return i===void 0?delete s[r]:s[r]=i,this},getPostPipeline:function(r){for(var i=typeof r=="string",s=this.postPipelines,f=[],e=0;e<s.length;e++){var o=s[e];(i&&o.name===r||!i&&o instanceof r)&&f.push(o)}return f.length===1?f[0]:f},resetPostPipeline:function(r){r===void 0&&(r=!1);for(var i=this.postPipelines,s=0;s<i.length;s++)i[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,r&&(this.postPipelineData={})},removePostPipeline:function(r){for(var i=typeof r=="string",s=this.postPipelines,f=s.length-1;f>=0;f--){var e=s[f];(i&&e.name===r||!i&&e===r)&&(e.destroy(),l(s,f))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};v.exports=a},45900:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,h){return h===void 0&&(h=t),this.scrollFactorX=t,this.scrollFactorY=h,this}};v.exports=S},31654:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(t,h){return this.width=t,this.height=h,this},setDisplaySize:function(t,h){return this.displayWidth=t,this.displayHeight=h,this}};v.exports=S},82081:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82047),m=8,l={texture:null,frame:null,isCropped:!1,setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};v.exports=l},21850:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82047),m=8,l={texture:null,frame:null,isCropped:!1,setCrop:function(a,r,i,s){if(a===void 0)this.isCropped=!1;else if(this.frame){if(typeof a=="number")this.frame.setCropUVs(this._crop,a,r,i,s,this.flipX,this.flipY);else{var f=a;this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(a,r){return this.texture=this.scene.sys.textures.get(a),this.setFrame(r)},setFrame:function(a,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!0),a instanceof h?(this.texture=this.scene.sys.textures.get(a.texture.key),this.frame=a):this.frame=this.texture.get(a),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&r&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=l},58072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,h,m,l){return t===void 0&&(t=16777215),h===void 0&&(h=t,m=t,l=t),this.tintTopLeft=t,this.tintTopRight=h,this.tintBottomLeft=m,this.tintBottomRight=l,this.tintFill=!1,this},setTintFill:function(t,h,m,l){return this.setTint(t,h,m,l),this.tintFill=!0,this},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};v.exports=S},48129:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(h.textureKey=t.texture.key,h.frameKey=t.frame.name),h};v.exports=S},56584:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=t(69360),l=t(64462),a=t(35786),r=t(62138),i=t(93736),s=4,f={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){this._scaleX=e,this._scaleY=e,e===0?this.renderFlags&=~s:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,e===0?this.renderFlags&=~s:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,e===0?this.renderFlags&=~s:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return r(this._rotation*h.RAD_TO_DEG)},set:function(e){this.rotation=r(e)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=a(e)}},setPosition:function(e,o,d,c){return e===void 0&&(e=0),o===void 0&&(o=e),d===void 0&&(d=0),c===void 0&&(c=0),this.x=e,this.y=o,this.z=d,this.w=c,this},copyPosition:function(e){return e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.z!==void 0&&(this.z=e.z),e.w!==void 0&&(this.w=e.w),this},setRandomPosition:function(e,o,d,c){return e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=this.scene.sys.scale.width),c===void 0&&(c=this.scene.sys.scale.height),this.x=e+Math.random()*d,this.y=o+Math.random()*c,this},setRotation:function(e){return e===void 0&&(e=0),this.rotation=e,this},setAngle:function(e){return e===void 0&&(e=0),this.angle=e,this},setScale:function(e,o){return e===void 0&&(e=1),o===void 0&&(o=e),this.scaleX=e,this.scaleY=o,this},setX:function(e){return e===void 0&&(e=0),this.x=e,this},setY:function(e){return e===void 0&&(e=0),this.y=e,this},setZ:function(e){return e===void 0&&(e=0),this.z=e,this},setW:function(e){return e===void 0&&(e=0),this.w=e,this},getLocalTransformMatrix:function(e){return e===void 0&&(e=new m),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(e,o){e===void 0&&(e=new m);var d=this.parentContainer;if(!d)return this.getLocalTransformMatrix(e);for(o||(o=new m),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);d;)o.applyITRS(d.x,d.y,d._rotation,d._scaleX,d._scaleY),o.multiply(e,e),d=d.parentContainer;return e},getLocalPoint:function(e,o,d,c){d||(d=new i),c||(c=this.scene.sys.cameras.main);var p=c.scrollX,x=c.scrollY,T=e+p*this.scrollFactorX-p,E=o+x*this.scrollFactorY-x;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(T,E,d):l(T,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,d),this._originComponent&&(d.x+=this._displayOriginX,d.y+=this._displayOriginY),d},getParentRotation:function(){for(var e=0,o=this.parentContainer;o;)e+=o.rotation,o=o.parentContainer;return e}};v.exports=f},69360:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(83392),l=t(93736),a=new h({initialize:function(i,s,f,e,o,d){i===void 0&&(i=1),s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=1),o===void 0&&(o=0),d===void 0&&(d=0),this.matrix=new Float32Array([i,s,f,e,o,d,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(r){this.matrix[0]=r}},b:{get:function(){return this.matrix[1]},set:function(r){this.matrix[1]=r}},c:{get:function(){return this.matrix[2]},set:function(r){this.matrix[2]=r}},d:{get:function(){return this.matrix[3]},set:function(r){this.matrix[3]=r}},e:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},f:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},tx:{get:function(){return this.matrix[4]},set:function(r){this.matrix[4]=r}},ty:{get:function(){return this.matrix[5]},set:function(r){this.matrix[5]=r}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var r=this.matrix,i=r[0],s=r[1],f=r[2],e=r[3];return i||s?s>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):f||e?m.TAU-(e>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var r=this.matrix;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},translate:function(r,i){var s=this.matrix;return s[4]=s[0]*r+s[2]*i+s[4],s[5]=s[1]*r+s[3]*i+s[5],this},scale:function(r,i){var s=this.matrix;return s[0]*=r,s[1]*=r,s[2]*=i,s[3]*=i,this},rotate:function(r){var i=Math.sin(r),s=Math.cos(r),f=this.matrix,e=f[0],o=f[1],d=f[2],c=f[3];return f[0]=e*s+d*i,f[1]=o*s+c*i,f[2]=e*-i+d*s,f[3]=o*-i+c*s,this},multiply:function(r,i){var s=this.matrix,f=r.matrix,e=s[0],o=s[1],d=s[2],c=s[3],p=s[4],x=s[5],T=f[0],E=f[1],y=f[2],w=f[3],A=f[4],P=f[5],M=i===void 0?s:i.matrix;return M[0]=T*e+E*d,M[1]=T*o+E*c,M[2]=y*e+w*d,M[3]=y*o+w*c,M[4]=A*e+P*d+p,M[5]=A*o+P*c+x,M},multiplyWithOffset:function(r,i,s){var f=this.matrix,e=r.matrix,o=f[0],d=f[1],c=f[2],p=f[3],x=f[4],T=f[5],E=i*o+s*c+x,y=i*d+s*p+T,w=e[0],A=e[1],P=e[2],M=e[3],L=e[4],F=e[5];return f[0]=w*o+A*c,f[1]=w*d+A*p,f[2]=P*o+M*c,f[3]=P*d+M*p,f[4]=L*o+F*c+E,f[5]=L*d+F*p+y,this},transform:function(r,i,s,f,e,o){var d=this.matrix,c=d[0],p=d[1],x=d[2],T=d[3],E=d[4],y=d[5];return d[0]=r*c+i*x,d[1]=r*p+i*T,d[2]=s*c+f*x,d[3]=s*p+f*T,d[4]=e*c+o*x+E,d[5]=e*p+o*T+y,this},transformPoint:function(r,i,s){s===void 0&&(s={x:0,y:0});var f=this.matrix,e=f[0],o=f[1],d=f[2],c=f[3],p=f[4],x=f[5];return s.x=r*e+i*d+p,s.y=r*o+i*c+x,s},invert:function(){var r=this.matrix,i=r[0],s=r[1],f=r[2],e=r[3],o=r[4],d=r[5],c=i*e-s*f;return r[0]=e/c,r[1]=-s/c,r[2]=-f/c,r[3]=i/c,r[4]=(f*d-e*o)/c,r[5]=-(i*d-s*o)/c,this},copyFrom:function(r){var i=this.matrix;return i[0]=r.a,i[1]=r.b,i[2]=r.c,i[3]=r.d,i[4]=r.e,i[5]=r.f,this},copyFromArray:function(r){var i=this.matrix;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],this},copyToContext:function(r){var i=this.matrix;return r.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r},setToContext:function(r){var i=this.matrix;return r.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),r},copyToArray:function(r){var i=this.matrix;return r===void 0?r=[i[0],i[1],i[2],i[3],i[4],i[5]]:(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5]),r},setTransform:function(r,i,s,f,e,o){var d=this.matrix;return d[0]=r,d[1]=i,d[2]=s,d[3]=f,d[4]=e,d[5]=o,this},decomposeMatrix:function(){var r=this.decomposedMatrix,i=this.matrix,s=i[0],f=i[1],e=i[2],o=i[3],d=s*o-f*e;if(r.translateX=i[4],r.translateY=i[5],s||f){var c=Math.sqrt(s*s+f*f);r.rotation=f>0?Math.acos(s/c):-Math.acos(s/c),r.scaleX=c,r.scaleY=d/c}else if(e||o){var p=Math.sqrt(e*e+o*o);r.rotation=Math.PI*.5-(o>0?Math.acos(-e/p):-Math.acos(e/p)),r.scaleX=d/p,r.scaleY=p}else r.rotation=0,r.scaleX=0,r.scaleY=0;return r},applyITRS:function(r,i,s,f,e){var o=this.matrix,d=Math.sin(s),c=Math.cos(s);return o[4]=r,o[5]=i,o[0]=c*f,o[1]=d*f,o[2]=-d*e,o[3]=c*e,this},applyInverse:function(r,i,s){s===void 0&&(s=new l);var f=this.matrix,e=f[0],o=f[1],d=f[2],c=f[3],p=f[4],x=f[5],T=1/(e*c+d*-o);return s.x=c*T*r+-d*T*i+(x*d-p*c)*T,s.y=e*T*i+-o*T*r+(-x*e+p*o)*T,s},setQuad:function(r,i,s,f,e,o){o===void 0&&(o=this.quad);var d=this.matrix,c=d[0],p=d[1],x=d[2],T=d[3],E=d[4],y=d[5];return o[0]=r*c+i*x+E,o[1]=r*p+i*T+y,o[2]=r*c+f*x+E,o[3]=r*p+f*T+y,o[4]=s*c+f*x+E,o[5]=s*p+f*T+y,o[6]=s*c+i*x+E,o[7]=s*p+i*T+y,e&&o.forEach(function(w,A){o[A]=Math.round(w)}),o},getX:function(r,i){return r*this.a+i*this.c+this.e},getY:function(r,i){return r*this.b+i*this.d+this.f},getXRound:function(r,i,s){var f=this.getX(r,i);return s&&(f=Math.round(f)),f},getYRound:function(r,i,s){var f=this.getY(r,i);return s&&(f=Math.round(f)),f},getCSSMatrix:function(){var r=this.matrix;return"matrix("+r[0]+","+r[1]+","+r[2]+","+r[3]+","+r[4]+","+r[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});v.exports=a},59694:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=~S)}},setVisible:function(h){return this.visible=h,this}};v.exports=t},64937:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Alpha:t(97123),AlphaSingle:t(15720),BlendMode:t(69732),ComputedSize:t(28284),Crop:t(85293),Depth:t(14975),Flip:t(92972),FX:t(88677),GetBounds:t(80693),Mask:t(39171),Origin:t(28072),PathFollower:t(54211),Pipeline:t(58210),PostPipeline:t(44086),ScrollFactor:t(45900),Size:t(31654),Texture:t(82081),TextureCrop:t(21850),Tint:t(58072),ToJSON:t(48129),Transform:t(56584),TransformMatrix:t(69360),Visible:t(59694)}},70339:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59959),m=t(95723),l=t(56694),a=t(64937),r=t(56631),i=t(89980),s=t(74118),f=t(98524),e=t(58795),o=t(93736),d=new l({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.PostPipeline,a.Transform,a.Visible,f],initialize:function(p,x,T,E){i.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(x,T),this.setBlendMode(m.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(c){return c===void 0&&(c=!0),this.exclusive=c,this},getBounds:function(c){if(c===void 0&&(c=new s),c.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),x=p.transformPoint(this.x,this.y);c.setTo(x.x,x.y,0,0)}if(this.list.length>0){var T=this.list,E=new s,y=!1;c.setEmpty();for(var w=0;w<T.length;w++){var A=T[w];A.getBounds&&(A.getBounds(E),y?e(E,c,c):(c.setTo(E.x,E.y,E.width,E.height),y=!0))}}return c},addHandler:function(c){c.once(r.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer&&c.parentContainer.remove(c),c.parentContainer=this,c.removeFromDisplayList(),c.addedToScene())},removeHandler:function(c){c.off(r.DESTROY,this.remove,this),this.exclusive&&(c.parentContainer=null,c.removedFromScene(),c.addToDisplayList())},pointToContainer:function(c,p){p===void 0&&(p=new o),this.parentContainer?this.parentContainer.pointToContainer(c,p):(p.x=c.x,p.y=c.y);var x=this.tempTransformMatrix;return x.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),x.invert(),x.transformPoint(c.x,c.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(c){return h.Add(this.list,c,this.maxSize,this.addHandler,this),this},addAt:function(c,p){return h.AddAt(this.list,c,p,this.maxSize,this.addHandler,this),this},getAt:function(c){return this.list[c]},getIndex:function(c){return this.list.indexOf(c)},sort:function(c,p){return c?(p===void 0&&(p=function(x,T){return x[c]-T[c]}),h.StableSort(this.list,p),this):this},getByName:function(c){return h.GetFirst(this.list,"name",c)},getRandom:function(c,p){return h.GetRandom(this.list,c,p)},getFirst:function(c,p,x,T){return h.GetFirst(this.list,c,p,x,T)},getAll:function(c,p,x,T){return h.GetAll(this.list,c,p,x,T)},count:function(c,p,x,T){return h.CountAllMatching(this.list,c,p,x,T)},swap:function(c,p){return h.Swap(this.list,c,p),this},moveTo:function(c,p){return h.MoveTo(this.list,c,p),this},moveAbove:function(c,p){return h.MoveAbove(this.list,c,p),this},moveBelow:function(c,p){return h.MoveBelow(this.list,c,p),this},remove:function(c,p){var x=h.Remove(this.list,c,this.removeHandler,this);if(p&&x){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++)x[T].destroy()}return this},removeAt:function(c,p){var x=h.RemoveAt(this.list,c,this.removeHandler,this);return p&&x&&x.destroy(),this},removeBetween:function(c,p,x){var T=h.RemoveBetween(this.list,c,p,this.removeHandler,this);if(x)for(var E=0;E<T.length;E++)T[E].destroy();return this},removeAll:function(c){var p=this.list;if(c){for(var x=0;x<p.length;x++)p[x]&&p[x].scene&&(p[x].off(r.DESTROY,this.remove,this),p[x].destroy());this.list=[]}else h.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(c){return h.BringToTop(this.list,c),this},sendToBack:function(c){return h.SendToBack(this.list,c),this},moveUp:function(c){return h.MoveUp(this.list,c),this},moveDown:function(c){return h.MoveDown(this.list,c),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(c,p,x){var T=h.Replace(this.list,c,p);return T&&(this.addHandler(p),this.removeHandler(c),x&&c.destroy()),this},exists:function(c){return this.list.indexOf(c)>-1},setAll:function(c,p,x,T){return h.SetAll(this.list,c,p,x,T),this},each:function(c,p){var x=[null],T,E=this.list.slice(),y=E.length;for(T=2;T<arguments.length;T++)x.push(arguments[T]);for(T=0;T<y;T++)x[0]=E[T],c.apply(p,x);return this},iterate:function(c,p){var x=[null],T;for(T=2;T<arguments.length;T++)x.push(arguments[T]);for(T=0;T<this.list.length;T++)x[0]=this.list[T],c.apply(p,x);return this},setScrollFactor:function(c,p,x){return p===void 0&&(p=c),x===void 0&&(x=!1),this.scrollFactorX=c,this.scrollFactorY=p,x&&(h.SetAll(this.list,"scrollFactorX",c),h.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});v.exports=d},13916:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m.addToRenderList(h);var a=h.list;if(a.length!==0){var r=h.localTransform;l?(r.loadIdentity(),r.multiply(l),r.translate(h.x,h.y),r.rotate(h.rotation),r.scale(h.scaleX,h.scaleY)):r.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var i=h.blendMode!==-1;i||t.setBlendMode(0);var s=h._alpha,f=h.scrollFactorX,e=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(t,null,m);for(var o=0;o<a.length;o++){var d=a[o];if(d.willRender(m)){var c=d.alpha,p=d.scrollFactorX,x=d.scrollFactorY;!i&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode),d.setScrollFactor(p*f,x*e),d.setAlpha(c*s),d.renderCanvas(t,d,m,r),d.setAlpha(c),d.setScrollFactor(p,x)}}h.mask&&h.mask.postRenderCanvas(t)}};v.exports=S},44516:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(70339),l=t(99325),a=t(20494);l.register("container",function(r,i){r===void 0&&(r={});var s=a(r,"x",0),f=a(r,"y",0),e=a(r,"children",null),o=new m(this.scene,s,f,e);return i!==void 0&&(r.add=i),h(this.scene,o,r),o})},23400:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70339),m=t(61286);m.register("container",function(l,a,r){return this.displayList.add(new h(this.scene,l,a,r))})},98524:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(36934),l=t(13916),v.exports={renderWebGL:m,renderCanvas:l}},36934:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m.addToRenderList(h);var a=h.list,r=a.length;if(r!==0){var i=h.localTransform;l?(i.loadIdentity(),i.multiply(l),i.translate(h.x,h.y),i.rotate(h.rotation),i.scale(h.scaleX,h.scaleY)):i.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),t.pipelines.preBatch(h);var s=h.blendMode!==-1;s||t.setBlendMode(0);for(var f=h.alpha,e=h.scrollFactorX,o=h.scrollFactorY,d=0;d<r;d++){var c=a[d];if(c.willRender(m)){var p,x,T,E;if(c.alphaTopLeft!==void 0)p=c.alphaTopLeft,x=c.alphaTopRight,T=c.alphaBottomLeft,E=c.alphaBottomRight;else{var y=c.alpha;p=y,x=y,T=y,E=y}var w=c.scrollFactorX,A=c.scrollFactorY;!s&&c.blendMode!==t.currentBlendMode&&t.setBlendMode(c.blendMode);var P=c.mask;P&&P.preRenderWebGL(t,c,m);var M=c.type;M!==t.currentType&&(t.newType=!0,t.currentType=M),t.nextTypeMatch=d<r-1?a[d+1].type===t.currentType:!1,c.setScrollFactor(w*e,A*o),c.setAlpha(p*f,x*f,T*f,E*f),c.renderWebGL(t,c,m,i,h),c.setAlpha(p,x,T,E),c.setScrollFactor(w,A),P&&P.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(h)}};v.exports=S},2452:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(11603),a=t(89980),r=t(42911),i=t(55638),s=t(7599),f=t(51729),e=new h({Extends:a,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,l],initialize:function(d,c,p,x,T,E){a.call(this,d,"DOMElement"),this.parent=d.sys.game.domContainer,this.cache=d.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(c,p),typeof x=="string"?x[0]==="#"?this.setElement(x.substr(1),T,E):this.createElement(x,T,E):x&&this.setElement(x,T,E),d.sys.events.on(s.SLEEP,this.handleSceneEvent,this),d.sys.events.on(s.WAKE,this.handleSceneEvent,this),d.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(o){var d=this.node,c=d.style;d&&(c.display=o.settings.visible?"block":"none")},setSkew:function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.skewX=o,this.skewY=d,this},setPerspective:function(o){return this.parent.style.perspective=o+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(o){this.parent.style.perspective=o+"px"}},addListener:function(o){if(this.node){o=o.split(" ");for(var d=0;d<o.length;d++)this.node.addEventListener(o[d],this.handler,!1)}return this},removeListener:function(o){if(this.node){o=o.split(" ");for(var d=0;d<o.length;d++)this.node.removeEventListener(o[d],this.handler)}return this},dispatchNativeEvent:function(o){this.emit(o.type,o)},createElement:function(o,d,c){return this.setElement(document.createElement(o),d,c)},setElement:function(o,d,c){this.removeElement();var p;if(typeof o=="string"?(o[0]==="#"&&(o=o.substr(1)),p=document.getElementById(o)):typeof o=="object"&&o.nodeType===1&&(p=o),!p)return this;if(this.node=p,d&&r(d))for(var x in d)p.style[x]=d[x];else typeof d=="string"&&(p.style=d);return p.style.zIndex="0",p.style.display="inline",p.style.position="absolute",p.phaser=this,this.parent&&this.parent.appendChild(p),c&&(p.innerText=c),this.updateSize()},createFromCache:function(o,d){var c=this.cache.get(o);return c&&this.createFromHTML(c,d),this},createFromHTML:function(o,d){d===void 0&&(d="div"),this.removeElement();var c=document.createElement(d);return this.node=c,c.style.zIndex="0",c.style.display="inline",c.style.position="absolute",c.phaser=this,this.parent&&this.parent.appendChild(c),c.innerHTML=o,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var o=this.node,d=o.getBoundingClientRect();return this.width=o.clientWidth,this.height=o.clientHeight,this.displayWidth=d.width||0,this.displayHeight=d.height||0,this},getChildByProperty:function(o,d){if(this.node){for(var c=this.node.querySelectorAll("*"),p=0;p<c.length;p++)if(c[p][o]===d)return c[p]}return null},getChildByID:function(o){return this.getChildByProperty("id",o)},getChildByName:function(o){return this.getChildByProperty("name",o)},setClassName:function(o){return this.node&&(this.node.className=o,this.updateSize()),this},setText:function(o){return this.node&&(this.node.innerText=o,this.updateSize()),this},setHTML:function(o){return this.node&&(this.node.innerHTML=o,this.updateSize()),this},preRender:function(){var o=this.parentContainer,d=this.node;d&&o&&!o.willRender()&&(d.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});v.exports=e},66070:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2452),m=t(89980),l=t(69360),a=new l,r=new l,i=new l,s=function(f,e,o,d){if(e.node){var c=e.node.style,p=e.scene.sys.settings;if(!c||!p.visible||m.RENDER_MASK!==e.renderFlags||e.cameraFilter!==0&&e.cameraFilter&o.id||e.parentContainer&&!e.parentContainer.willRender()){c.display="none";return}var x=e.parentContainer,T=o.alpha*e.alpha;x&&(T*=x.alpha);var E=a,y=r,w=i,A=0,P=0,M="0%",L="0%";d?(A=e.width*e.scaleX*e.originX,P=e.height*e.scaleY*e.originY,y.applyITRS(e.x-A,e.y-P,e.rotation,e.scaleX,e.scaleY),E.copyFrom(o.matrix),E.multiplyWithOffset(d,-o.scrollX*e.scrollFactorX,-o.scrollY*e.scrollFactorY),y.e=e.x-A,y.f=e.y-P,E.multiply(y,w)):(A=e.width*e.originX,P=e.height*e.originY,y.applyITRS(e.x-A,e.y-P,e.rotation,e.scaleX,e.scaleY),E.copyFrom(o.matrix),M=100*e.originX+"%",L=100*e.originY+"%",y.e-=o.scrollX*e.scrollFactorX,y.f-=o.scrollY*e.scrollFactorY,E.multiply(y,w)),e.transformOnly||(c.display="block",c.opacity=T,c.zIndex=e._depth,c.pointerEvents=e.pointerEvents,c.mixBlendMode=h[e._blendMode]),c.transform=w.getCSSMatrix()+" skew("+e.skewX+"rad, "+e.skewY+"rad) rotate3d("+e.rotate3d.x+","+e.rotate3d.y+","+e.rotate3d.z+","+e.rotate3d.w+e.rotate3dAngle+")",c.transformOrigin=M+" "+L}};v.exports=s},66788:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(38943),m=t(61286);m.register("dom",function(l,a,r,i,s){var f=new h(this.scene,l,a,r,i,s);return this.displayList.add(f),f})},11603:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(66070),l=t(66070),v.exports={renderWebGL:m,renderCanvas:l}},65492:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},98398:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},40239:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},17286:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},31496:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="created"},89587:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="error"},59792:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="locked"},96342:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},6017:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="playing"},49614:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},24418:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeked"},87318:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeking"},50009:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stalled"},61922:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},79501:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="textureready"},4052:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},54857:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unsupported"},56631:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(65492),DESTROY:t(98398),REMOVED_FROM_SCENE:t(40239),VIDEO_COMPLETE:t(17286),VIDEO_CREATED:t(31496),VIDEO_ERROR:t(89587),VIDEO_LOCKED:t(59792),VIDEO_LOOP:t(96342),VIDEO_PLAY:t(49614),VIDEO_PLAYING:t(6017),VIDEO_SEEKED:t(24418),VIDEO_SEEKING:t(87318),VIDEO_STALLED:t(50009),VIDEO_STOP:t(61922),VIDEO_TEXTURE:t(79501),VIDEO_UNLOCKED:t(4052),VIDEO_UNSUPPORTED:t(54857)}},39419:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(89980),a=t(79394),r=new h({Extends:l,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,a],initialize:function(s){l.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});v.exports=r},96699:()=>{},41155:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39419),m=t(61286);m.register("extern",function(){var l=new h(this.scene);return this.displayList.add(l),l})},79394:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(81410),l=t(96699),v.exports={renderWebGL:m,renderCanvas:l}},81410:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=function(l,a,r,i){l.pipelines.clear();var s=h(a,r,i).calc;a.render.call(a,l,r,s),l.pipelines.rebind()};v.exports=m},36266:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51052),m=t(56694),l=t(36266),a=t(64937),r=t(95669),i=t(89980),s=t(72632),f=t(10850),e=t(83392),o=t(60898),d=new m({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,o],initialize:function(p,x){var T=f(x,"x",0),E=f(x,"y",0);i.call(this,p,"Graphics"),this.setPosition(T,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(x)},setDefaultStyles:function(c){return f(c,"lineStyle",null)&&(this.defaultStrokeWidth=f(c,"lineStyle.width",1),this.defaultStrokeColor=f(c,"lineStyle.color",16777215),this.defaultStrokeAlpha=f(c,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),f(c,"fillStyle",null)&&(this.defaultFillColor=f(c,"fillStyle.color",16777215),this.defaultFillAlpha=f(c,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(c,p,x){return x===void 0&&(x=1),this.commandBuffer.push(l.LINE_STYLE,c,p,x),this._lineWidth=c,this},fillStyle:function(c,p){return p===void 0&&(p=1),this.commandBuffer.push(l.FILL_STYLE,c,p),this},fillGradientStyle:function(c,p,x,T,E,y,w,A){return E===void 0&&(E=1),y===void 0&&(y=E),w===void 0&&(w=E),A===void 0&&(A=E),this.commandBuffer.push(l.GRADIENT_FILL_STYLE,E,y,w,A,c,p,x,T),this},lineGradientStyle:function(c,p,x,T,E,y){return y===void 0&&(y=1),this.commandBuffer.push(l.GRADIENT_LINE_STYLE,c,y,p,x,T,E),this},beginPath:function(){return this.commandBuffer.push(l.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(l.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(l.FILL_PATH),this},fill:function(){return this.commandBuffer.push(l.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(l.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(l.STROKE_PATH),this},fillCircleShape:function(c){return this.fillCircle(c.x,c.y,c.radius)},strokeCircleShape:function(c){return this.strokeCircle(c.x,c.y,c.radius)},fillCircle:function(c,p,x){return this.beginPath(),this.arc(c,p,x,0,e.PI2),this.fillPath(),this},strokeCircle:function(c,p,x){return this.beginPath(),this.arc(c,p,x,0,e.PI2),this.strokePath(),this},fillRectShape:function(c){return this.fillRect(c.x,c.y,c.width,c.height)},strokeRectShape:function(c){return this.strokeRect(c.x,c.y,c.width,c.height)},fillRect:function(c,p,x,T){return this.commandBuffer.push(l.FILL_RECT,c,p,x,T),this},strokeRect:function(c,p,x,T){var E=this._lineWidth/2,y=c-E,w=c+E;return this.beginPath(),this.moveTo(c,p),this.lineTo(c,p+T),this.strokePath(),this.beginPath(),this.moveTo(c+x,p),this.lineTo(c+x,p+T),this.strokePath(),this.beginPath(),this.moveTo(y,p),this.lineTo(w+x,p),this.strokePath(),this.beginPath(),this.moveTo(y,p+T),this.lineTo(w+x,p+T),this.strokePath(),this},fillRoundedRect:function(c,p,x,T,E){E===void 0&&(E=20);var y=E,w=E,A=E,P=E;typeof E!="number"&&(y=s(E,"tl",20),w=s(E,"tr",20),A=s(E,"bl",20),P=s(E,"br",20));var M=y>=0,L=w>=0,F=A>=0,N=P>=0;return y=Math.abs(y),w=Math.abs(w),A=Math.abs(A),P=Math.abs(P),this.beginPath(),this.moveTo(c+y,p),this.lineTo(c+x-w,p),L?this.arc(c+x-w,p+w,w,-e.TAU,0):this.arc(c+x,p,w,Math.PI,e.TAU,!0),this.lineTo(c+x,p+T-P),N?this.arc(c+x-P,p+T-P,P,0,e.TAU):this.arc(c+x,p+T,P,-e.TAU,Math.PI,!0),this.lineTo(c+A,p+T),F?this.arc(c+A,p+T-A,A,e.TAU,Math.PI):this.arc(c,p+T,A,0,-e.TAU,!0),this.lineTo(c,p+y),M?this.arc(c+y,p+y,y,-Math.PI,-e.TAU):this.arc(c,p,y,e.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(c,p,x,T,E){E===void 0&&(E=20);var y=E,w=E,A=E,P=E,M=Math.min(x,T)/2;typeof E!="number"&&(y=s(E,"tl",20),w=s(E,"tr",20),A=s(E,"bl",20),P=s(E,"br",20));var L=y>=0,F=w>=0,N=A>=0,b=P>=0;return y=Math.min(Math.abs(y),M),w=Math.min(Math.abs(w),M),A=Math.min(Math.abs(A),M),P=Math.min(Math.abs(P),M),this.beginPath(),this.moveTo(c+y,p),this.lineTo(c+x-w,p),this.moveTo(c+x-w,p),F?this.arc(c+x-w,p+w,w,-e.TAU,0):this.arc(c+x,p,w,Math.PI,e.TAU,!0),this.lineTo(c+x,p+T-P),this.moveTo(c+x,p+T-P),b?this.arc(c+x-P,p+T-P,P,0,e.TAU):this.arc(c+x,p+T,P,-e.TAU,Math.PI,!0),this.lineTo(c+A,p+T),this.moveTo(c+A,p+T),N?this.arc(c+A,p+T-A,A,e.TAU,Math.PI):this.arc(c,p+T,A,0,-e.TAU,!0),this.lineTo(c,p+y),this.moveTo(c,p+y),L?this.arc(c+y,p+y,y,-Math.PI,-e.TAU):this.arc(c,p,y,e.TAU,0,!0),this.strokePath(),this},fillPointShape:function(c,p){return this.fillPoint(c.x,c.y,p)},fillPoint:function(c,p,x){return!x||x<1?x=1:(c-=x/2,p-=x/2),this.commandBuffer.push(l.FILL_RECT,c,p,x,x),this},fillTriangleShape:function(c){return this.fillTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},strokeTriangleShape:function(c){return this.strokeTriangle(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)},fillTriangle:function(c,p,x,T,E,y){return this.commandBuffer.push(l.FILL_TRIANGLE,c,p,x,T,E,y),this},strokeTriangle:function(c,p,x,T,E,y){return this.commandBuffer.push(l.STROKE_TRIANGLE,c,p,x,T,E,y),this},strokeLineShape:function(c){return this.lineBetween(c.x1,c.y1,c.x2,c.y2)},lineBetween:function(c,p,x,T){return this.beginPath(),this.moveTo(c,p),this.lineTo(x,T),this.strokePath(),this},lineTo:function(c,p){return this.commandBuffer.push(l.LINE_TO,c,p),this},moveTo:function(c,p){return this.commandBuffer.push(l.MOVE_TO,c,p),this},strokePoints:function(c,p,x,T){p===void 0&&(p=!1),x===void 0&&(x=!1),T===void 0&&(T=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var E=1;E<T;E++)this.lineTo(c[E].x,c[E].y);return p&&this.lineTo(c[0].x,c[0].y),x&&this.closePath(),this.strokePath(),this},fillPoints:function(c,p,x,T){p===void 0&&(p=!1),x===void 0&&(x=!1),T===void 0&&(T=c.length),this.beginPath(),this.moveTo(c[0].x,c[0].y);for(var E=1;E<T;E++)this.lineTo(c[E].x,c[E].y);return p&&this.lineTo(c[0].x,c[0].y),x&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(c,p){p===void 0&&(p=32);var x=c.getPoints(p);return this.strokePoints(x,!0)},strokeEllipse:function(c,p,x,T,E){E===void 0&&(E=32);var y=new r(c,p,x,T),w=y.getPoints(E);return this.strokePoints(w,!0)},fillEllipseShape:function(c,p){p===void 0&&(p=32);var x=c.getPoints(p);return this.fillPoints(x,!0)},fillEllipse:function(c,p,x,T,E){E===void 0&&(E=32);var y=new r(c,p,x,T),w=y.getPoints(E);return this.fillPoints(w,!0)},arc:function(c,p,x,T,E,y,w){return y===void 0&&(y=!1),w===void 0&&(w=0),this.commandBuffer.push(l.ARC,c,p,x,T,E,y,w),this},slice:function(c,p,x,T,E,y,w){return y===void 0&&(y=!1),w===void 0&&(w=0),this.commandBuffer.push(l.BEGIN_PATH),this.commandBuffer.push(l.MOVE_TO,c,p),this.commandBuffer.push(l.ARC,c,p,x,T,E,y,w),this.commandBuffer.push(l.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(l.SAVE),this},restore:function(){return this.commandBuffer.push(l.RESTORE),this},translateCanvas:function(c,p){return this.commandBuffer.push(l.TRANSLATE,c,p),this},scaleCanvas:function(c,p){return this.commandBuffer.push(l.SCALE,c,p),this},rotateCanvas:function(c){return this.commandBuffer.push(l.ROTATE,c),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(c,p,x){var T=this.scene.sys,E=T.game.renderer;p===void 0&&(p=T.scale.width),x===void 0&&(x=T.scale.height),d.TargetCamera.setScene(this.scene),d.TargetCamera.setViewport(0,0,p,x),d.TargetCamera.scrollX=this.x,d.TargetCamera.scrollY=this.y;var y,w,A={willReadFrequently:!0};if(typeof c=="string")if(T.textures.exists(c)){y=T.textures.get(c);var P=y.getSourceImage();P instanceof HTMLCanvasElement&&(w=P.getContext("2d",A))}else y=T.textures.createCanvas(c,p,x),w=y.getSourceImage().getContext("2d",A);else c instanceof HTMLCanvasElement&&(w=c.getContext("2d",A));return w&&(this.renderCanvas(E,this,d.TargetCamera,null,w,!1),y&&y.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});d.TargetCamera=new h,v.exports=d},91543:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36266),m=t(49584),l=function(a,r,i,s,f,e){var o=r.commandBuffer,d=o.length,c=f||a.currentContext;if(!(d===0||!m(a,c,r,i,s))){i.addToRenderList(r);var p=1,x=1,T=0,E=0,y=1,w=0,A=0,P=0;c.beginPath();for(var M=0;M<d;++M){var L=o[M];switch(L){case h.ARC:c.arc(o[M+1],o[M+2],o[M+3],o[M+4],o[M+5],o[M+6]),M+=7;break;case h.LINE_STYLE:y=o[M+1],T=o[M+2],p=o[M+3],w=(T&16711680)>>>16,A=(T&65280)>>>8,P=T&255,c.strokeStyle="rgba("+w+","+A+","+P+","+p+")",c.lineWidth=y,M+=3;break;case h.FILL_STYLE:E=o[M+1],x=o[M+2],w=(E&16711680)>>>16,A=(E&65280)>>>8,P=E&255,c.fillStyle="rgba("+w+","+A+","+P+","+x+")",M+=2;break;case h.BEGIN_PATH:c.beginPath();break;case h.CLOSE_PATH:c.closePath();break;case h.FILL_PATH:e||c.fill();break;case h.STROKE_PATH:e||c.stroke();break;case h.FILL_RECT:e?c.rect(o[M+1],o[M+2],o[M+3],o[M+4]):c.fillRect(o[M+1],o[M+2],o[M+3],o[M+4]),M+=4;break;case h.FILL_TRIANGLE:c.beginPath(),c.moveTo(o[M+1],o[M+2]),c.lineTo(o[M+3],o[M+4]),c.lineTo(o[M+5],o[M+6]),c.closePath(),e||c.fill(),M+=6;break;case h.STROKE_TRIANGLE:c.beginPath(),c.moveTo(o[M+1],o[M+2]),c.lineTo(o[M+3],o[M+4]),c.lineTo(o[M+5],o[M+6]),c.closePath(),e||c.stroke(),M+=6;break;case h.LINE_TO:c.lineTo(o[M+1],o[M+2]),M+=2;break;case h.MOVE_TO:c.moveTo(o[M+1],o[M+2]),M+=2;break;case h.LINE_FX_TO:c.lineTo(o[M+1],o[M+2]),M+=5;break;case h.MOVE_FX_TO:c.moveTo(o[M+1],o[M+2]),M+=5;break;case h.SAVE:c.save();break;case h.RESTORE:c.restore();break;case h.TRANSLATE:c.translate(o[M+1],o[M+2]),M+=2;break;case h.SCALE:c.scale(o[M+1],o[M+2]),M+=2;break;case h.ROTATE:c.rotate(o[M+1]),M+=1;break;case h.GRADIENT_FILL_STYLE:M+=5;break;case h.GRADIENT_LINE_STYLE:M+=6;break}}c.restore()}};v.exports=l},41286:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),m=t(33182);h.register("graphics",function(l,a){l===void 0&&(l={}),a!==void 0&&(l.add=a);var r=new m(this.scene,l);return l.add&&this.scene.sys.displayList.add(r),r})},13122:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33182),m=t(61286);m.register("graphics",function(l){return this.displayList.add(new h(this.scene,l))})},60898:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(34429),l=t(91543),l=t(91543),v.exports={renderWebGL:m,renderCanvas:l}},34429:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(36266),m=t(73329),l=t(69360),a=t(75512),r=function(o,d,c){this.x=o,this.y=d,this.width=c},i=function(o,d,c){this.points=[],this.pointsLength=1,this.points[0]=new r(o,d,c)},s=[],f=new l,e=function(o,d,c,p){if(d.commandBuffer.length!==0){c.addToRenderList(d);var x=o.pipelines.set(d.pipeline,d);o.pipelines.preBatch(d);for(var T=m(d,c,p).calc,E=f.loadIdentity(),y=d.commandBuffer,w=c.alpha*d.alpha,A=1,P=x.fillTint,M=x.strokeTint,L=0,F=0,N=0,b=.01,V=Math.PI*2,X,W=[],k=0,Q=!0,U=null,Y=a.getTintAppendFloatAlpha,O=0;O<y.length;O++)switch(X=y[O],X){case h.BEGIN_PATH:{W.length=0,U=null,Q=!0;break}case h.CLOSE_PATH:{Q=!1,U&&U.points.length&&U.points.push(U.points[0]);break}case h.FILL_PATH:{for(k=0;k<W.length;k++)x.batchFillPath(W[k].points,E,T);break}case h.STROKE_PATH:{for(k=0;k<W.length;k++)x.batchStrokePath(W[k].points,A,Q,E,T);break}case h.LINE_STYLE:{A=y[++O];var G=y[++O],z=y[++O]*w,H=Y(G,z);M.TL=H,M.TR=H,M.BL=H,M.BR=H;break}case h.FILL_STYLE:{var K=y[++O],J=y[++O]*w,Z=Y(K,J);P.TL=Z,P.TR=Z,P.BL=Z,P.BR=Z;break}case h.GRADIENT_FILL_STYLE:{var _=y[++O]*w,tt=y[++O]*w,et=y[++O]*w,nt=y[++O]*w;P.TL=Y(y[++O],_),P.TR=Y(y[++O],tt),P.BL=Y(y[++O],et),P.BR=Y(y[++O],nt);break}case h.GRADIENT_LINE_STYLE:{A=y[++O];var rt=y[++O]*w;M.TL=Y(y[++O],rt),M.TR=Y(y[++O],rt),M.BL=Y(y[++O],rt),M.BR=Y(y[++O],rt);break}case h.ARC:{var st=0,lt=y[++O],mt=y[++O],gt=y[++O],xt=y[++O],ot=y[++O],vt=y[++O],dt=y[++O];for(ot-=xt,vt?ot<-V?ot=-V:ot>0&&(ot=-V+ot%V):ot>V?ot=V:ot<0&&(ot=V+ot%V),U===null&&(U=new i(lt+Math.cos(xt)*gt,mt+Math.sin(xt)*gt,A),W.push(U),st+=b);st<1+dt;)N=ot*st+xt,L=lt+Math.cos(N)*gt,F=mt+Math.sin(N)*gt,U.points.push(new r(L,F,A)),st+=b;N=ot+xt,L=lt+Math.cos(N)*gt,F=mt+Math.sin(N)*gt,U.points.push(new r(L,F,A));break}case h.FILL_RECT:{x.batchFillRect(y[++O],y[++O],y[++O],y[++O],E,T);break}case h.FILL_TRIANGLE:{x.batchFillTriangle(y[++O],y[++O],y[++O],y[++O],y[++O],y[++O],E,T);break}case h.STROKE_TRIANGLE:{x.batchStrokeTriangle(y[++O],y[++O],y[++O],y[++O],y[++O],y[++O],A,E,T);break}case h.LINE_TO:{U!==null?U.points.push(new r(y[++O],y[++O],A)):(U=new i(y[++O],y[++O],A),W.push(U));break}case h.MOVE_TO:{U=new i(y[++O],y[++O],A),W.push(U);break}case h.SAVE:{s.push(E.copyToArray());break}case h.RESTORE:{E.copyFromArray(s.pop());break}case h.TRANSLATE:{lt=y[++O],mt=y[++O],E.translate(lt,mt);break}case h.SCALE:{lt=y[++O],mt=y[++O],E.scale(lt,mt);break}case h.ROTATE:{E.rotate(y[++O]);break}}o.pipelines.postBatch(d)}};v.exports=e},59192:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83979),m=t(56694),l=t(56631),a=t(6659),r=t(71608),i=t(72632),s=t(10850),f=t(19256),e=t(42911),o=t(75757),d=t(58403),c=t(13747),p=new m({Extends:a,initialize:function(T,E,y){a.call(this),y?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?e(E[0])&&(y=E,E=null):e(E)&&(y=E,E=null),this.scene=T,this.children=new d,this.isParent=!0,this.type="Group",this.classType=i(y,"classType",c),this.name=i(y,"name",""),this.active=i(y,"active",!0),this.maxSize=i(y,"maxSize",-1),this.defaultKey=i(y,"defaultKey",null),this.defaultFrame=i(y,"defaultFrame",null),this.runChildUpdate=i(y,"runChildUpdate",!1),this.createCallback=i(y,"createCallback",null),this.removeCallback=i(y,"removeCallback",null),this.createMultipleCallback=i(y,"createMultipleCallback",null),this.internalCreateCallback=i(y,"internalCreateCallback",null),this.internalRemoveCallback=i(y,"internalRemoveCallback",null),E&&this.addMultiple(E),y&&this.createMultiple(y),this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(x,T,E,y,w,A){if(x===void 0&&(x=0),T===void 0&&(T=0),E===void 0&&(E=this.defaultKey),y===void 0&&(y=this.defaultFrame),w===void 0&&(w=!0),A===void 0&&(A=!0),this.isFull())return null;var P=new this.classType(this.scene,x,T,E,y);return P.addToDisplayList(this.scene.sys.displayList),P.addToUpdateList(),P.visible=w,P.setActive(A),this.add(P),P},createMultiple:function(x){if(this.isFull())return[];Array.isArray(x)||(x=[x]);var T=[];if(x[0].key)for(var E=0;E<x.length;E++){var y=this.createFromConfig(x[E]);T=T.concat(y)}return T},createFromConfig:function(x){if(this.isFull())return[];this.classType=i(x,"classType",this.classType);var T=i(x,"key",void 0),E=i(x,"frame",null),y=i(x,"visible",!0),w=i(x,"active",!0),A=[];if(T===void 0)return A;Array.isArray(T)||(T=[T]),Array.isArray(E)||(E=[E]);var P=i(x,"repeat",0),M=i(x,"randomKey",!1),L=i(x,"randomFrame",!1),F=i(x,"yoyo",!1),N=i(x,"quantity",!1),b=i(x,"frameQuantity",1),V=i(x,"max",0),X=o(T,E,{max:V,qty:N||b,random:M,randomB:L,repeat:P,yoyo:F});x.createCallback&&(this.createCallback=x.createCallback),x.removeCallback&&(this.removeCallback=x.removeCallback);for(var W=0;W<X.length;W++){var k=this.create(0,0,X[W].a,X[W].b,y,w);if(!k)break;A.push(k)}if(f(x,"setXY")){var Q=s(x,"setXY.x",0),U=s(x,"setXY.y",0),Y=s(x,"setXY.stepX",0),O=s(x,"setXY.stepY",0);h.SetXY(A,Q,U,Y,O)}if(f(x,"setRotation")){var G=s(x,"setRotation.value",0),z=s(x,"setRotation.step",0);h.SetRotation(A,G,z)}if(f(x,"setScale")){var H=s(x,"setScale.x",1),K=s(x,"setScale.y",H),J=s(x,"setScale.stepX",0),Z=s(x,"setScale.stepY",0);h.SetScale(A,H,K,J,Z)}if(f(x,"setOrigin")){var _=s(x,"setOrigin.x",.5),tt=s(x,"setOrigin.y",_),et=s(x,"setOrigin.stepX",0),nt=s(x,"setOrigin.stepY",0);h.SetOrigin(A,_,tt,et,nt)}if(f(x,"setAlpha")){var rt=s(x,"setAlpha.value",1),st=s(x,"setAlpha.step",0);h.SetAlpha(A,rt,st)}if(f(x,"setDepth")){var lt=s(x,"setDepth.value",0),mt=s(x,"setDepth.step",0);h.SetDepth(A,lt,mt)}if(f(x,"setScrollFactor")){var gt=s(x,"setScrollFactor.x",1),xt=s(x,"setScrollFactor.y",gt),ot=s(x,"setScrollFactor.stepX",0),vt=s(x,"setScrollFactor.stepY",0);h.SetScrollFactor(A,gt,xt,ot,vt)}var dt=i(x,"hitArea",null),wt=i(x,"hitAreaCallback",null);dt&&h.SetHitArea(A,dt,wt);var Tt=i(x,"gridAlign",!1);return Tt&&h.GridAlign(A,Tt),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(x,T){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),y=0;y<E.length;y++){var w=E[y];w.active&&w.update(x,T)}},add:function(x,T){return T===void 0&&(T=!1),this.isFull()?this:(this.children.set(x),this.internalCreateCallback&&this.internalCreateCallback.call(this,x),this.createCallback&&this.createCallback.call(this,x),T&&(x.addToDisplayList(this.scene.sys.displayList),x.addToUpdateList()),x.on(l.DESTROY,this.remove,this),this)},addMultiple:function(x,T){if(T===void 0&&(T=!1),Array.isArray(x))for(var E=0;E<x.length;E++)this.add(x[E],T);return this},remove:function(x,T,E){return T===void 0&&(T=!1),E===void 0&&(E=!1),this.children.contains(x)?(this.children.delete(x),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,x),this.removeCallback&&this.removeCallback.call(this,x),x.off(l.DESTROY,this.remove,this),E?x.destroy():T&&(x.removeFromDisplayList(),x.removeFromUpdateList()),this):this},clear:function(x,T){x===void 0&&(x=!1),T===void 0&&(T=!1);for(var E=this.children,y=0;y<E.size;y++){var w=E.entries[y];w.off(l.DESTROY,this.remove,this),T?w.destroy():x&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(x){return this.children.contains(x)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(x,T,E,y){return r(this.children.entries,x,T,E,y)},getFirst:function(x,T,E,y,w,A,P){return this.getHandler(!0,1,x,T,E,y,w,A,P)},getFirstNth:function(x,T,E,y,w,A,P,M){return this.getHandler(!0,x,T,E,y,w,A,P,M)},getLast:function(x,T,E,y,w,A,P){return this.getHandler(!1,1,x,T,E,y,w,A,P)},getLastNth:function(x,T,E,y,w,A,P,M){return this.getHandler(!1,x,T,E,y,w,A,P,M)},getHandler:function(x,T,E,y,w,A,P,M,L){E===void 0&&(E=!1),y===void 0&&(y=!1);var F,N,b=0,V=this.children.entries;if(x)for(N=0;N<V.length;N++)if(F=V[N],F.active===E){if(b++,b===T)break}else F=null;else for(N=V.length-1;N>=0;N--)if(F=V[N],F.active===E){if(b++,b===T)break}else F=null;return F?(typeof w=="number"&&(F.x=w),typeof A=="number"&&(F.y=A),F):y?this.create(w,A,P,M,L):null},get:function(x,T,E,y,w){return this.getFirst(!1,!0,x,T,E,y,w)},getFirstAlive:function(x,T,E,y,w,A){return this.getFirst(!0,x,T,E,y,w,A)},getFirstDead:function(x,T,E,y,w,A){return this.getFirst(!1,x,T,E,y,w,A)},playAnimation:function(x,T){return h.PlayAnimation(this.children.entries,x,T),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(x){x===void 0&&(x=!0);for(var T=0,E=0;E<this.children.size;E++)this.children.entries[E].active===x&&T++;return T},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var x=this.getTotalUsed(),T=this.maxSize===-1?999999999999:this.maxSize;return T-x},setActive:function(x){return this.active=x,this},setName:function(x){return this.name=x,this},propertyValueSet:function(x,T,E,y,w){return h.PropertyValueSet(this.children.entries,x,T,E,y,w),this},propertyValueInc:function(x,T,E,y,w){return h.PropertyValueInc(this.children.entries,x,T,E,y,w),this},setX:function(x,T){return h.SetX(this.children.entries,x,T),this},setY:function(x,T){return h.SetY(this.children.entries,x,T),this},setXY:function(x,T,E,y){return h.SetXY(this.children.entries,x,T,E,y),this},incX:function(x,T){return h.IncX(this.children.entries,x,T),this},incY:function(x,T){return h.IncY(this.children.entries,x,T),this},incXY:function(x,T,E,y){return h.IncXY(this.children.entries,x,T,E,y),this},shiftPosition:function(x,T,E){return h.ShiftPosition(this.children.entries,x,T,E),this},angle:function(x,T){return h.Angle(this.children.entries,x,T),this},rotate:function(x,T){return h.Rotate(this.children.entries,x,T),this},rotateAround:function(x,T){return h.RotateAround(this.children.entries,x,T),this},rotateAroundDistance:function(x,T,E){return h.RotateAroundDistance(this.children.entries,x,T,E),this},setAlpha:function(x,T){return h.SetAlpha(this.children.entries,x,T),this},setTint:function(x,T,E,y){return h.SetTint(this.children.entries,x,T,E,y),this},setOrigin:function(x,T,E,y){return h.SetOrigin(this.children.entries,x,T,E,y),this},scaleX:function(x,T){return h.ScaleX(this.children.entries,x,T),this},scaleY:function(x,T){return h.ScaleY(this.children.entries,x,T),this},scaleXY:function(x,T,E,y){return h.ScaleXY(this.children.entries,x,T,E,y),this},setDepth:function(x,T){return h.SetDepth(this.children.entries,x,T),this},setBlendMode:function(x){return h.SetBlendMode(this.children.entries,x),this},setHitArea:function(x,T){return h.SetHitArea(this.children.entries,x,T),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(x){this.children.contains(x)&&x.setActive(!1)},killAndHide:function(x){this.children.contains(x)&&(x.setActive(!1),x.setVisible(!1))},setVisible:function(x,T,E){return h.SetVisible(this.children.entries,x,T,E),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(x,T){x===void 0&&(x=!1),T===void 0&&(T=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(l.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(T,x),this.scene=void 0,this.children=void 0)}});v.exports=p},61295:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),m=t(59192);h.register("group",function(l){return new m(this.scene,null,l)})},62598:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59192),m=t(61286);m.register("group",function(l,a){return this.updateList.add(new h(this.scene,l,a))})},1539:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(89980),a=t(57322),r=new h({Extends:l,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,a],initialize:function(s,f,e,o,d){l.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,d),this.setPosition(f,e),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=r},57786:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m.addToRenderList(h),t.batchSprite(h,h.frame,m,l)};v.exports=S},83556:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(1539);m.register("image",function(r,i){r===void 0&&(r={});var s=l(r,"key",null),f=l(r,"frame",null),e=new a(this.scene,0,0,s,f);return i!==void 0&&(r.add=i),h(this.scene,e,r),e})},20927:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1539),m=t(61286);m.register("image",function(l,a,r,i){return this.displayList.add(new h(this.scene,l,a,r,i))})},57322:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(59390),l=t(57786),v.exports={renderWebGL:m,renderCanvas:l}},59390:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m.addToRenderList(h),this.pipeline.batchSprite(h,m,l)};v.exports=S},48013:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:t(56631),DisplayList:t(91713),GameObjectCreator:t(99325),GameObjectFactory:t(61286),UpdateList:t(92034),Components:t(64937),GetCalcMatrix:t(73329),BuildGameObject:t(88933),BuildGameObjectAnimation:t(32291),GameObject:t(89980),BitmapText:t(44616),Blitter:t(52816),Bob:t(41664),Container:t(70339),DOMElement:t(38943),DynamicBitmapText:t(13468),Extern:t(39419),Graphics:t(33182),Group:t(59192),Image:t(1539),Layer:t(85305),Particles:t(27684),PathFollower:t(29598),RenderTexture:t(15996),RetroFont:t(55873),Rope:t(79968),Sprite:t(13747),Text:t(76555),GetTextSize:t(32979),MeasureText:t(27030),TextStyle:t(74744),TileSprite:t(35856),Zone:t(71030),Video:t(8630),Shape:t(91461),Arc:t(28593),Curve:t(15220),Ellipse:t(28591),Grid:t(39169),IsoBox:t(4415),IsoTriangle:t(65159),Line:t(579),Polygon:t(91249),Rectangle:t(517),Star:t(77843),Triangle:t(21873),Factories:{Blitter:t(38906),Container:t(23400),DOMElement:t(66788),DynamicBitmapText:t(94145),Extern:t(41155),Graphics:t(13122),Group:t(62598),Image:t(20927),Layer:t(17676),Particles:t(81212),PathFollower:t(19626),RenderTexture:t(29599),Rope:t(31982),Sprite:t(66135),StaticBitmapText:t(21797),Text:t(94627),TileSprite:t(20509),Zone:t(34546),Video:t(215),Arc:t(10369),Curve:t(10147),Ellipse:t(99869),Grid:t(9326),IsoBox:t(88154),IsoTriangle:t(67765),Line:t(85665),Polygon:t(88203),Rectangle:t(94355),Star:t(23962),Triangle:t(79296)},Creators:{Blitter:t(68452),Container:t(44516),DynamicBitmapText:t(67513),Graphics:t(41286),Group:t(61295),Image:t(83556),Layer:t(56378),Particles:t(765),RenderTexture:t(85692),Rope:t(96027),Sprite:t(89219),StaticBitmapText:t(95499),Text:t(75397),TileSprite:t(63950),Zone:t(24067),Video:t(65601)}};h.Shader=t(27902),h.Mesh=t(83321),h.NineSlice=t(44139),h.PointLight=t(13171),h.Plane=t(33412),h.Factories.Shader=t(51979),h.Factories.Mesh=t(8767),h.Factories.NineSlice=t(53778),h.Factories.PointLight=t(91201),h.Factories.Plane=t(58322),h.Creators.Shader=t(13908),h.Creators.Mesh=t(41839),h.Creators.NineSlice=t(40964),h.Creators.PointLight=t(162),h.Creators.Plane=t(10912),h.Light=t(14455),h.LightsManager=t(26193),h.LightsPlugin=t(50296),v.exports=h},85305:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),m=t(56694),l=t(64937),a=t(48129),r=t(81078),i=t(6659),s=t(56631),f=t(71207),e=t(58010),o=t(7599),d=t(17922),c=new m({Extends:f,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.PostPipeline,l.Visible,i,e],initialize:function(x,T){f.call(this,x),i.call(this),this.scene=x,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=x.sys,this.events=x.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),T&&this.add(T),x.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new r(this)),this},setData:function(p,x){return this.data||(this.data=new r(this)),this.data.set(p,x),this},incData:function(p,x){return this.data||(this.data=new r(this)),this.data.inc(p,x),this},toggleData:function(p){return this.data||(this.data=new r(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new r(this)),this.data.get(p)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(p){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,x=this.parentContainer,T=[];x&&(T.unshift(x.getIndex(p)),p=x,x.parentContainer);)x=x.parentContainer;return T.unshift(this.displayList.getIndex(p)),T},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(s.ADDED_TO_SCENE,p,this.scene),this.events.emit(o.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(s.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,p,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,x){return p._depth-x._depth},getChildren:function(){return this.list},addToDisplayList:function(p){return p===void 0&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),p.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(p){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var x=this.list;x.length;)x[0].destroy(p);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});v.exports=c},834:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=h.list;if(l.length!==0){h.depthSort();var a=h.blendMode!==-1;a||t.setBlendMode(0);var r=h._alpha;h.mask&&h.mask.preRenderCanvas(t,null,m);for(var i=0;i<l.length;i++){var s=l[i];if(s.willRender(m)){var f=s.alpha;!a&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(f*r),s.renderCanvas(t,s,m),s.setAlpha(f)}}h.mask&&h.mask.postRenderCanvas(t)}};v.exports=S},56378:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(85305),l=t(99325),a=t(20494);l.register("layer",function(r,i){r===void 0&&(r={});var s=a(r,"children",null),f=new m(this.scene,s);return i!==void 0&&(r.add=i),h(this.scene,f,r),f})},17676:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85305),m=t(61286);m.register("layer",function(l){return this.displayList.add(new h(this.scene,l))})},58010:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(17576),l=t(834),v.exports={renderWebGL:m,renderCanvas:l}},17576:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=h.list,a=l.length;if(a!==0){h.depthSort(),t.pipelines.preBatch(h);var r=h.blendMode!==-1;r||t.setBlendMode(0);for(var i=h.alpha,s=0;s<a;s++){var f=l[s];if(f.willRender(m)){var e,o,d,c;if(f.alphaTopLeft!==void 0)e=f.alphaTopLeft,o=f.alphaTopRight,d=f.alphaBottomLeft,c=f.alphaBottomRight;else{var p=f.alpha;e=p,o=p,d=p,c=p}!r&&f.blendMode!==t.currentBlendMode&&t.setBlendMode(f.blendMode);var x=f.mask;x&&x.preRenderWebGL(t,f,m);var T=f.type;T!==t.currentType&&(t.newType=!0,t.currentType=T),t.nextTypeMatch=s<a-1?l[s+1].type===t.currentType:!1,f.setAlpha(e*i,o*i,d*i,c*i),f.renderWebGL(t,f,m),f.setAlpha(e,o,d,c),x&&x.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(h)}};v.exports=S},14455:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),m=t(56694),l=t(64937),a=t(39298),r=t(75512),i=new m({Extends:h,Mixins:[l.Origin,l.ScrollFactor,l.Transform,l.Visible],initialize:function(f,e,o,d,c,p,x){h.call(this,f,e,o),this.color=new a(d,c,p),this.intensity=x,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(o)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var f=r.getFloatsFromUintRGB(s);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});i.RENDER_MASK=15,v.exports=i},26193:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26535),m=t(56694),l=t(53996),a=t(14455),r=t(13171),i=t(39298),s=t(72677),f=t(17922),e=t(75512),o=new m({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(d,c,p,x,T,E){return this.systems.displayList.add(new r(this.scene,d,c,p,x,T,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(d){for(var c=this.lights,p=d.worldView,x=[],T=0;T<c.length;T++){var E=c[T];E.willRender(d)&&h(E,p)&&x.push({light:E,distance:l(E.x,E.y,p.centerX,p.centerY)})}return x.length>this.maxLights&&(f(x,this.sortByDistance),x=x.slice(0,this.maxLights)),this.visibleLights=x.length,x},sortByDistance:function(d,c){return d.distance>=c.distance},setAmbientColor:function(d){var c=e.getFloatsFromUintRGB(d);return this.ambientColor.set(c[0],c[1],c[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(d,c,p,x,T){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=128),x===void 0&&(x=16777215),T===void 0&&(T=1);var E=e.getFloatsFromUintRGB(x),y=new a(d,c,p,E[0],E[1],E[2],T);return this.lights.push(y),y},removeLight:function(d){var c=this.lights.indexOf(d);return c>=0&&s(this.lights,c),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});v.exports=o},50296:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(26193),l=t(91963),a=t(7599),r=new h({Extends:m,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(a.BOOT,this.boot,this),m.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});l.register("LightsPlugin",r,"lights"),v.exports=r},83321:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(75606),a=t(18693),r=t(89980),i=t(53267),s=t(67623),f=t(73329),e=t(16650),o=t(23464),d=t(23701),c=t(17922),p=t(70015),x=t(85769),T=new h({Extends:r,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,o],initialize:function(y,w,A,P,M,L,F,N,b,V,X,W){w===void 0&&(w=0),A===void 0&&(A=0),P===void 0&&(P="__WHITE"),r.call(this,y,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new p,this.modelScale=new p(1,1,1),this.modelRotation=new p,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new e,this.viewPosition=new p,this.viewMatrix=new e,this.projectionMatrix=new e,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var k=y.sys.renderer;this.setPosition(w,A),this.setTexture(P,M),this.setSize(k.width,k.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(k.width,k.height),L&&this.addVertices(L,F,N,b,V,X,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(p.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=p.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,y,w,A,P){return w===void 0&&(w=45),A===void 0&&(A=.01),P===void 0&&(P=1e3),this.fov=w,this.projectionMatrix.perspective(l(w),E/y,A,P),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,y,w,A){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),y===void 0&&(y=1),w===void 0&&(w=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-y,y,w,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,y,w,A,P,M,L,F,N){var b=this.scene.sys.cache.obj.get(E),V;return b&&(V=i(b,this,y,w,A,P,M,L,F,N)),(!V||V.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,y){return E.depth-y.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(E,y,w,A,P,M,L){var F=new x(E,y,w,A,P,M,L);return this.vertices.push(F),F},addFace:function(E,y,w){var A=new a(E,y,w);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(E,y,w,A,P,M,L){var F=s(E,y,w,A,P,M,L);return F?(this.faces=this.faces.concat(F.faces),this.vertices=this.vertices.concat(F.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,y,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var A=f(this,w).calc,P=this.faces,M=0;M<P.length;M++){var L=P[M];if(L.contains(E,y,A))return!0}return!1},getFaceAt:function(E,y,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var A=f(this,w).calc,P=this.faces,M=[],L=0;L<P.length;L++){var F=P[L];F.contains(E,y,A)&&M.push(F)}return c(M,this.sortByDepth)},setDebug:function(E,y){return this.debugGraphic=E,!E&&!y?this.debugCallback=null:y?this.debugCallback=y:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,y=this.modelRotation,w=this.modelScale,A=this.dirtyCache,P=E.x,M=E.y,L=E.z,F=y.x,N=y.y,b=y.z,V=w.x,X=w.y,W=w.z,k=this.getFaceCount(),Q=A[0],U=A[1],Y=A[2],O=A[3],G=A[4],z=A[5],H=A[6],K=A[7],J=A[8],Z=A[9];return A[0]=P,A[1]=M,A[2]=L,A[3]=F,A[4]=N,A[5]=b,A[6]=V,A[7]=X,A[8]=W,A[9]=k,Q!==P||U!==M||Y!==L||O!==F||G!==N||z!==b||H!==V||K!==X||J!==W||Z!==k},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var y=this.width,w=this.height,A=this.viewMatrix,P=this.viewPosition;E[10]&&(A.identity(),A.translate(P),A.invert(),E[10]=0);var M=this.transformMatrix;M.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=P.z,F=this.faces,N=0;N<F.length;N++)F[N].transformCoordinatesLocal(M,y,w,L);this.depthSort()}},renderDebug:function(E,y){for(var w=E.debugGraphic,A=0;A<y.length;A++){var P=y[A],M=P.vertex1.tx,L=P.vertex1.ty,F=P.vertex2.tx,N=P.vertex2.ty,b=P.vertex3.tx,V=P.vertex3.ty;w.strokeTriangle(M,L,F,N,b,V)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var E=this.faces,y=function(w,A,P){for(var M=0;M<E.length;M++){var L=E[M];if(L.contains(A,P))return!0}return!1};return this.scene.sys.input.enable(this,y),this},setTint:function(E){E===void 0&&(E=16777215);for(var y=this.vertices,w=0;w<y.length;w++)y[w].color=E;return this},uvScroll:function(E,y){for(var w=this.faces,A=0;A<w.length;A++)w[A].scrollUV(E,y);return this},uvScale:function(E,y){for(var w=this.faces,A=0;A<w.length;A++)w[A].scaleUV(E,y);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return d(this.modelRotation.x)},set:function(E){this.modelRotation.x=l(E)}},rotateY:{get:function(){return d(this.modelRotation.y)},set:function(E){this.modelRotation.y=l(E)}},rotateZ:{get:function(){return d(this.modelRotation.z)},set:function(E){this.modelRotation.z=l(E)}}});v.exports=T},6317:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},41839:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(10850),r=t(83321);m.register("mesh",function(i,s){i===void 0&&(i={});var f=l(i,"key",null),e=l(i,"frame",null),o=a(i,"vertices",[]),d=a(i,"uvs",[]),c=a(i,"indicies",[]),p=a(i,"containsZ",!1),x=a(i,"normals",[]),T=a(i,"colors",16777215),E=a(i,"alphas",1),y=new r(this.scene,0,0,f,e,o,d,c,p,x,T,E);return s!==void 0&&(i.add=s),h(this.scene,y,i),y})},8767:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83321),m=t(61286);m.register("mesh",function(l,a,r,i,s,f,e,o,d,c,p){return this.displayList.add(new h(this.scene,l,a,r,i,s,f,e,o,d,c,p))})},23464:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(57410),l=t(6317),v.exports={renderWebGL:m,renderCanvas:l}},57410:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=function(l,a,r,i){var s=a.faces,f=s.length;if(f!==0){r.addToRenderList(a);var e=l.pipelines.set(a.pipeline,a),o=h(a,r,i).calc;l.pipelines.preBatch(a);for(var d=e.setGameObject(a),c=e.vertexViewF32,p=e.vertexViewU32,x=e.vertexCount*e.currentShader.vertexComponentCount-1,T=a.tintFill,E=[],y=a.debugCallback,w=o.a,A=o.b,P=o.c,M=o.d,L=o.e,F=o.f,N=a.viewPosition.z,b=a.hideCCW,V=r.roundPixels,X=r.alpha*a.alpha,W=0,k=0;k<f;k++){var Q=s[k];Q.isInView(r,b,N,X,w,A,P,M,L,F,V)&&(e.shouldFlush(3)&&(e.flush(),d=e.setGameObject(a),x=0),x=Q.load(c,p,x,d,T),W++,e.vertexCount+=3,e.currentBatch.count=e.vertexCount-e.currentBatch.start,y&&E.push(Q))}a.totalFrame+=W,y&&y.call(a,a,E),l.pipelines.postBatch(a)}};v.exports=m},44139:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(89980),a=t(94456),r=t(85769),i=new h({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,a],initialize:function(f,e,o,d,c,p,x,T,E,y,w){p===void 0&&(p=256),x===void 0&&(x=256),T===void 0&&(T=10),E===void 0&&(E=10),y===void 0&&(y=0),w===void 0&&(w=0),l.call(this,f,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1,this.is3Slice=y===0&&w===0;for(var A=this.is3Slice?18:54,P=0;P<A;P++)this.vertices.push(new r);this.setPosition(e,o),this.setTexture(d,c),this.setSlices(p,x,T,E,y,w),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,f,e,o,d,c){s===void 0&&(s=256),f===void 0&&(f=256),e===void 0&&(e=10),o===void 0&&(o=10),d===void 0&&(d=0),c===void 0&&(c=0);var p=d===0&&c===0;return this.is3Slice!==p?console.warn("Cannot change 9 slice to 3 slice"):(this._width=s,this._height=f,this.leftWidth=e,this.rightWidth=o,this.topHeight=d,this.bottomHeight=c,this.is3Slice&&(f=this.frame.height,this._height=f,this.topHeight=f,this.bottomHeight=0),this.updateVertices(),this.updateUVs()),this},updateUVs:function(){var s=this.leftWidth,f=this.rightWidth,e=this.topHeight,o=this.bottomHeight,d=this.frame.width,c=this.frame.height;this.updateQuadUVs(0,0,0,s/d,e/c),this.updateQuadUVs(6,s/d,0,1-f/d,e/c),this.updateQuadUVs(12,1-f/d,0,1,e/c),this.is3Slice||(this.updateQuadUVs(18,0,e/c,s/d,1-o/c),this.updateQuadUVs(24,s/d,e/c,1-f/d,1-o/c),this.updateQuadUVs(30,1-f/d,e/c,1,1-o/c),this.updateQuadUVs(36,0,1-o/c,s/d,1),this.updateQuadUVs(42,s/d,1-o/c,1-f/d,1),this.updateQuadUVs(48,1-f/d,1-o/c,1,1))},updateVertices:function(){var s=this.leftWidth,f=this.rightWidth,e=this.topHeight,o=this.bottomHeight,d=this.width,c=this.height;this.updateQuad(0,-.5,.5,-.5+s/d,.5-e/c),this.updateQuad(6,-.5+s/d,.5,.5-f/d,.5-e/c),this.updateQuad(12,.5-f/d,.5,.5,.5-e/c),this.is3Slice||(this.updateQuad(18,-.5,.5-e/c,-.5+s/d,-.5+o/c),this.updateQuad(24,-.5+s/d,.5-e/c,.5-f/d,-.5+o/c),this.updateQuad(30,.5-f/d,.5-e/c,.5,-.5+o/c),this.updateQuad(36,-.5,-.5+o/c,-.5+s/d,-.5),this.updateQuad(42,-.5+s/d,-.5+o/c,.5-f/d,-.5),this.updateQuad(48,.5-f/d,-.5+o/c,.5,-.5))},updateQuad:function(s,f,e,o,d){var c=this.width,p=this.height,x=this.originX,T=this.originY,E=this.vertices;E[s+0].resize(f,e,c,p,x,T),E[s+1].resize(f,d,c,p,x,T),E[s+2].resize(o,e,c,p,x,T),E[s+3].resize(f,d,c,p,x,T),E[s+4].resize(o,d,c,p,x,T),E[s+5].resize(o,e,c,p,x,T)},updateQuadUVs:function(s,f,e,o,d){var c=this.vertices,p=this.frame,x=p.u0,T=p.v0,E=p.u1,y=p.v1;if(x!==0||E!==1){var w=E-x;f=x+f*w,o=x+o*w}if(T!==0||y!==1){var A=y-T;e=T+e*A,d=T+d*A}c[s+0].setUVs(f,e),c[s+1].setUVs(f,d),c[s+2].setUVs(o,e),c[s+3].setUVs(f,d),c[s+4].setUVs(o,d),c[s+5].setUVs(o,e)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,f){this.width=s,this.height=f;var e=this.input;return e&&!e.customHitArea&&(e.hitArea.width=this.width,e.hitArea.height=this.height),this},setDisplaySize:function(s,f){return this.displayWidth=s,this.displayHeight=f,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,f){return s===void 0&&(s=.5),f===void 0&&(f=s),this._originX=s,this._originY=f,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});v.exports=i},40964:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(10850),r=t(44139);m.register("nineslice",function(i,s){i===void 0&&(i={});var f=l(i,"key",null),e=l(i,"frame",null),o=a(i,"width",256),d=a(i,"height",256),c=a(i,"leftWidth",10),p=a(i,"rightWidth",10),x=a(i,"topHeight",0),T=a(i,"bottomHeight",0),E=new r(this.scene,0,0,f,e,o,d,c,p,x,T);return s!==void 0&&(i.add=s),h(this.scene,E,i),E})},53778:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44139),m=t(61286);m.register("nineslice",function(l,a,r,i,s,f,e,o,d,c){return this.displayList.add(new h(this.scene,l,a,r,i,s,f,e,o,d,c))})},94456:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(27420),v.exports={renderWebGL:m,renderCanvas:l}},27420:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(75512),l=function(a,r,i,s){var f=r.vertices,e=f.length;if(e!==0){i.addToRenderList(r);var o=a.pipelines.set(r.pipeline,r),d=h(r,i,s,!1).calc;a.pipelines.preBatch(r);var c=o.setGameObject(r),p=o.vertexViewF32,x=o.vertexViewU32,T=o.vertexCount*o.currentShader.vertexComponentCount-1,E=i.roundPixels,y=r.tintFill,w=i.alpha*r.alpha,A=m.getTintAppendFloatAlpha(r.tint,w),P=o.vertexAvailable(),M=-1;P<e&&(M=P);for(var L=0;L<e;L++){var F=f[L];L===M&&(o.flush(),c=o.setGameObject(r),T=0),p[++T]=d.getXRound(F.vx,F.vy,E),p[++T]=d.getYRound(F.vx,F.vy,E),p[++T]=F.u,p[++T]=F.v,p[++T]=c,p[++T]=y,x[++T]=A,o.vertexCount++,o.currentBatch.count=o.vertexCount-o.currentBatch.start}a.pipelines.postBatch(r)}};v.exports=l},19737:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(93025),l=t(22946),a=t(21902),r=t(4840),i=t(15978),s=new h({Extends:m,initialize:function(e){m.call(this,e,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var f=this.propertyValue,e=f,o=this.defaultEmit,d=this.defaultUpdate;if(this.method===9){this.start=f[0],this.ease=a("Linear"),this.interpolation=r("linear"),o=this.easedValueEmit,d=this.easeValueUpdate,e=f[0],this.active=!0;for(var c=0;c<f.length;c++){var p=i(f[c]);this.r.push(p.r),this.g.push(p.g),this.b.push(p.b)}}return this.onEmit=o,this.onUpdate=d,this.current=e,this},setEase:function(f){this.easeName=f,this.ease=a(f)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(f,e,o){var d=this.ease(o),c=this.interpolation(this.r,d),p=this.interpolation(this.g,d),x=this.interpolation(this.b,d),T=l(c,p,x);return this.current=T,T}});v.exports=s},93025:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),m=t(82897),l=t(56694),a=t(61616),r=t(21902),i=t(72632),s=t(4840),f=t(88462),e=t(1071),o=new l({initialize:function(c,p,x){x===void 0&&(x=!1),this.propertyKey=c,this.propertyValue=p,this.defaultValue=p,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=x,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(d,c){d===void 0&&(d={}),c&&(this.propertyKey=c),this.propertyValue=i(d,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(d){var c;switch(this.method){case 1:case 3:case 8:c=d;break;case 2:this.propertyValue.indexOf(d)>=0&&(c=d);break;case 4:var p=(this.end-this.start)/this.steps;c=f(d,p),this.counter=c;break;case 5:case 6:case 7:c=m(d,this.start,this.end);break;case 9:c=this.start[0];break}return this.current=c,this},getMethod:function(){var d=this.propertyValue;if(d===null)return 0;var c=typeof d;if(c==="number")return 1;if(Array.isArray(d))return 2;if(c==="function")return 3;if(c==="object"){if(this.hasBoth(d,"start","end"))return this.has(d,"steps")?4:5;if(this.hasBoth(d,"min","max"))return 6;if(this.has(d,"random"))return 7;if(this.hasEither(d,"onEmit","onUpdate"))return 8;if(this.has(d,"interpolation"))return 9}return 0},setMethods:function(){var d=this.propertyValue,c=d,p=this.defaultEmit,x=this.defaultUpdate;switch(this.method){case 1:p=this.staticValueEmit;break;case 2:p=this.randomStaticValueEmit,c=d[0];break;case 3:this._onEmit=d,p=this.proxyEmit;break;case 4:this.start=d.start,this.end=d.end,this.steps=d.steps,this.counter=this.start,this.yoyo=this.has(d,"yoyo")?d.yoyo:!1,this.direction=0,p=this.steppedEmit,c=this.start;break;case 5:this.start=d.start,this.end=d.end;var T=this.has(d,"ease")?d.ease:"Linear";this.ease=r(T,d.easeParams),p=this.has(d,"random")&&d.random?this.randomRangedValueEmit:this.easedValueEmit,x=this.easeValueUpdate,c=this.start;break;case 6:this.start=d.min,this.end=d.max,p=this.has(d,"int")&&d.int?this.randomRangedIntEmit:this.randomRangedValueEmit,c=this.start;break;case 7:var E=d.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),p=this.randomRangedIntEmit,c=this.start;break;case 8:this._onEmit=this.has(d,"onEmit")?d.onEmit:this.defaultEmit,this._onUpdate=this.has(d,"onUpdate")?d.onUpdate:this.defaultUpdate,p=this.proxyEmit,x=this.proxyUpdate;break;case 9:this.start=d.values;var y=this.has(d,"ease")?d.ease:"Linear";this.ease=r(y,d.easeParams),this.interpolation=s(d.interpolation),p=this.easedValueEmit,x=this.easeValueUpdate,c=this.start[0];break}return this.onEmit=p,this.onUpdate=x,this.current=c,this},has:function(d,c){return d.hasOwnProperty(c)},hasBoth:function(d,c,p){return d.hasOwnProperty(c)&&d.hasOwnProperty(p)},hasEither:function(d,c,p){return d.hasOwnProperty(c)||d.hasOwnProperty(p)},defaultEmit:function(d,c,p){return p},defaultUpdate:function(d,c,p,x){return x},proxyEmit:function(d,c,p){var x=this._onEmit(d,c,p);return this.current=x,x},proxyUpdate:function(d,c,p,x){var T=this._onUpdate(d,c,p,x);return this.current=T,T},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var d=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[d],this.current},randomRangedValueEmit:function(d,c){var p=a(this.start,this.end);return d&&d.data[c]&&(d.data[c].min=p,d.data[c].max=this.end),this.current=p,p},randomRangedIntEmit:function(d,c){var p=h(this.start,this.end);return d&&d.data[c]&&(d.data[c].min=p,d.data[c].max=this.end),this.current=p,p},steppedEmit:function(){var d=this.counter,c=d,p=(this.end-this.start)/this.steps;if(this.yoyo){var x;this.direction===0?(c+=p,c>=this.end&&(x=c-this.end,c=this.end-x,this.direction=1)):(c-=p,c<=this.start&&(x=this.start-c,c=this.start+x,this.direction=0)),this.counter=c}else this.counter=e(c+p,this.start,this.end);return this.current=d,d},easedValueEmit:function(d,c){if(d&&d.data[c]){var p=d.data[c];p.min=this.start,p.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(d,c,p){var x=d.data[c],T,E=this.ease(p);return this.interpolation?T=this.interpolation(this.start,E):T=(x.max-x.min)*E+x.min,this.current=T,T},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});v.exports=o},87811:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(30891),a=new h({Extends:l,initialize:function(i,s,f,e,o){if(typeof i=="object"){var d=i;i=m(d,"x",0),s=m(d,"y",0),f=m(d,"power",0),e=m(d,"epsilon",100),o=m(d,"gravity",50)}else i===void 0&&(i=0),s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=100),o===void 0&&(o=50);l.call(this,i,s,!0),this._gravity=o,this._power=f*o,this._epsilon=e*e},update:function(r,i){var s=this.x-r.x,f=this.y-r.y,e=s*s+f*f;if(e!==0){var o=Math.sqrt(e);e<this._epsilon&&(e=this._epsilon);var d=this._power*i/(e*o)*100;r.velocityX+=s*d,r.velocityY+=f*d}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(r){this._epsilon=r*r}},power:{get:function(){return this._power/this._gravity},set:function(r){this._power=r*this._gravity}},gravity:{get:function(){return this._gravity},set:function(r){var i=this.power;this._gravity=r,this.power=i}}});v.exports=a},14909:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),m=t(82897),l=t(56694),a=t(75606),r=t(74118),i=t(2386),s=t(93736),f=new l({initialize:function(o){this.emitter=o,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=o.scene,this.anims=new h(this),this.bounds=new r},emit:function(e,o,d,c,p,x){return this.emitter.emit(e,o,d,c,p,x)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(e,o){e===void 0&&(e=0),o===void 0&&(o=0),this.x=e,this.y=o},fire:function(e,o){var d=this.emitter,c=d.ops,p=d.getAnim();if(p?this.anims.play(p):(this.frame=d.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(d.getEmitZone(this),e===void 0?this.x+=c.x.onEmit(this,"x"):c.x.steps>0?this.x+=e+c.x.onEmit(this,"x"):this.x+=e,o===void 0?this.y+=c.y.onEmit(this,"y"):c.y.steps>0?this.y+=o+c.y.onEmit(this,"y"):this.y+=o,this.life=c.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=c.delay.onEmit(this,"delay"),this.holdCurrent=c.hold.onEmit(this,"hold"),this.scaleX=c.scaleX.onEmit(this,"scaleX"),this.scaleY=c.scaleY.active?c.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=c.rotate.onEmit(this,"rotate"),this.rotation=a(this.angle),d.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&d.getDeathZone(this))return this.lifeCurrent=0,!1;var x=c.speedX.onEmit(this,"speedX"),T=c.speedY.active?c.speedY.onEmit(this,"speedY"):x;if(d.radial){var E=a(c.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(x),this.velocityY=Math.sin(E)*Math.abs(T)}else if(d.moveTo){var y=c.moveToX.onEmit(this,"moveToX"),w=c.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(y-this.x)/A,this.velocityY=(w-this.y)/A}else this.velocityX=x,this.velocityY=T;return d.acceleration&&(this.accelerationX=c.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=c.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=c.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=c.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=c.bounce.onEmit(this,"bounce"),this.alpha=c.alpha.onEmit(this,"alpha"),c.color.active?this.tint=c.color.onEmit(this,"tint"):this.tint=c.tint.onEmit(this,"tint"),!0},update:function(e,o,d){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=e,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=e,!1;this.anims.update(0,e);var c=this.emitter,p=c.ops,x=1-this.lifeCurrent/this.life;if(this.lifeT=x,this.x=p.x.onUpdate(this,"x",x,this.x),this.y=p.y.onUpdate(this,"y",x,this.y),c.moveTo){var T=p.moveToX.onUpdate(this,"moveToX",x,c.moveToX),E=p.moveToY.onUpdate(this,"moveToY",x,c.moveToY),y=this.lifeCurrent/1e3;this.velocityX=(T-this.x)/y,this.velocityY=(E-this.y)/y}return this.computeVelocity(c,e,o,d,x),this.scaleX=p.scaleX.onUpdate(this,"scaleX",x,this.scaleX),this.scaleY=this.scaleX,p.scaleY.active&&(this.scaleY=p.scaleY.onUpdate(this,"scaleY",x,this.scaleY)),this.angle=p.rotate.onUpdate(this,"rotate",x,this.angle),this.rotation=a(this.angle),c.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p.alpha.onUpdate(this,"alpha",x,this.alpha),p.color.active?this.tint=p.color.onUpdate(this,"color",x,this.tint):this.tint=p.tint.onUpdate(this,"tint",x,this.tint),this.lifeCurrent-=e,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(e,o,d,c,p){var x=e.ops,T=this.velocityX,E=this.velocityY,y=x.accelerationX.onUpdate(this,"accelerationX",p,this.accelerationX),w=x.accelerationY.onUpdate(this,"accelerationY",p,this.accelerationY),A=x.maxVelocityX.onUpdate(this,"maxVelocityX",p,this.maxVelocityX),P=x.maxVelocityY.onUpdate(this,"maxVelocityY",p,this.maxVelocityY);this.bounce=x.bounce.onUpdate(this,"bounce",p,this.bounce),T+=e.gravityX*d+y*d,E+=e.gravityY*d+w*d,T=m(T,-A,A),E=m(E,-P,P),this.velocityX=T,this.velocityY=E,this.x+=T*d,this.y+=E*d,e.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var M=0;M<c.length;M++){var L=c[M];L.active&&L.update(this,o,d,p)}},setSizeToFrame:function(){},getBounds:function(e){e===void 0&&(e=this.emitter.getWorldTransformMatrix());var o=Math.abs(e.scaleX)*this.scaleX,d=Math.abs(e.scaleY)*this.scaleY,c=this.x,p=this.y,x=this.rotation,T=this.frame.width*o/2,E=this.frame.height*d/2,y=this.bounds,w=new s(c-T,p-E),A=new s(c+T,p-E),P=new s(c-T,p+E),M=new s(c+T,p+E);return x!==0&&(i(w,c,p,x),i(A,c,p,x),i(P,c,p,x),i(M,c,p,x)),e.transformPoint(w.x,w.y,w),e.transformPoint(A.x,A.y,A),e.transformPoint(P.x,P.y,P),e.transformPoint(M.x,M.y,M),y.x=Math.min(w.x,A.x,P.x,M.x),y.y=Math.min(w.y,A.y,P.y,M.y),y.width=Math.max(w.x,A.x,P.x,M.x)-y.x,y.height=Math.max(w.y,A.y,P.y,M.y)-y.y,y},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});v.exports=f},73106:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(30891),l=t(74118),a=new h({Extends:m,initialize:function(i,s,f,e,o,d,c,p){o===void 0&&(o=!0),d===void 0&&(d=!0),c===void 0&&(c=!0),p===void 0&&(p=!0),m.call(this,i,s,!0),this.bounds=new l(i,s,f,e),this.collideLeft=o,this.collideRight=d,this.collideTop=c,this.collideBottom=p},update:function(r){var i=this.bounds,s=-r.bounce,f=r.worldPosition;f.x<i.x&&this.collideLeft?(r.x+=i.x-f.x,r.velocityX*=s):f.x>i.right&&this.collideRight&&(r.x-=f.x-i.right,r.velocityX*=s),f.y<i.y&&this.collideTop?(r.y+=i.y-f.y,r.velocityY*=s):f.y>i.bottom&&this.collideBottom&&(r.y-=f.y-i.bottom,r.velocityY*=s)}});v.exports=a},9216:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(48129),a=t(29538),r=t(69361),i=t(54213),s=t(19737),f=t(93025),e=t(40629),o=t(89980),d=t(72632),c=t(72861),p=t(87811),x=t(53523),T=t(19256),E=t(7782),y=t(71207),w=t(14655),A=t(14909),P=t(68433),M=t(74118),L=t(90205),F=t(66458),N=t(69116),b=t(17922),V=t(69360),X=t(93736),W=t(1071),k=t(73106),Q=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],U=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],Y=new h({Extends:o,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,N],initialize:function(G,z,H,K,J){o.call(this,G,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new f("accelerationX",0),accelerationY:new f("accelerationY",0),alpha:new f("alpha",1),angle:new f("angle",{min:0,max:360},!0),bounce:new f("bounce",0),color:new s("color"),delay:new f("delay",0,!0),hold:new f("hold",0,!0),lifespan:new f("lifespan",1e3,!0),maxVelocityX:new f("maxVelocityX",1e4),maxVelocityY:new f("maxVelocityY",1e4),moveToX:new f("moveToX",0),moveToY:new f("moveToY",0),quantity:new f("quantity",1,!0),rotate:new f("rotate",0),scaleX:new f("scaleX",1),scaleY:new f("scaleY",1),speedX:new f("speedX",0,!0),speedY:new f("speedY",0,!0),tint:new f("tint",16777215),x:new f("x",0),y:new f("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new X,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new V,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new y(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(z,H),this.setTexture(K),J&&this.setConfig(J)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(O){if(!O)return this;var G=0,z="",H=this.ops;for(G=0;G<U.length;G++)z=U[G],H[z].loadConfig(O);for(G=0;G<Q.length;G++)z=Q[G],T(O,z)&&(this[z]=d(O,z));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,T(O,"speed")&&(H.speedX.loadConfig(O,"speed"),H.speedY.active=!1),(x(O,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(O,"scale")&&(H.scaleX.loadConfig(O,"scale"),H.scaleY.active=!1),T(O,"callbackScope")){var K=d(O,"callbackScope",null);this.emitCallbackScope=K,this.deathCallbackScope=K}if(T(O,"emitZone")&&this.addEmitZone(O.emitZone),T(O,"deathZone")&&this.addDeathZone(O.deathZone),T(O,"bounds")){var J=this.addParticleBounds(O.bounds);J.collideLeft=d(O,"collideLeft",!0),J.collideRight=d(O,"collideRight",!0),J.collideTop=d(O,"collideTop",!0),J.collideBottom=d(O,"collideBottom",!0)}return T(O,"followOffset")&&this.followOffset.setFromObject(d(O,"followOffset",0)),T(O,"texture")&&this.setTexture(O.texture),T(O,"frame")?this.setEmitterFrame(O.frame):T(O,"anim")&&this.setAnim(O.anim),T(O,"reserve")&&this.reserve(O.reserve),T(O,"advance")&&this.fastForward(O.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(e.START,this),this},toJSON:function(){var O=l(this),G=0,z="";for(G=0;G<Q.length;G++)z=Q[G],O[z]=this[z];var H=this.ops;for(G=0;G<U.length;G++)z=U[G],H[z]&&(O[z]=H[z].toJSON());return H.speedY.active||(delete O.speedX,O.speed=H.speedX.toJSON()),this.scaleX===this.scaleY&&(delete O.scaleX,delete O.scaleY,O.scale=H.scaleX.toJSON()),O},resetCounters:function(O,G){var z=this.counters;z.fill(0),z[0]=O,G&&(z[5]=1)},startFollow:function(O,G,z,H){return G===void 0&&(G=0),z===void 0&&(z=0),H===void 0&&(H=!1),this.follow=O,this.followOffset.set(G,z),this.trackVisible=H,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var O=this.frames,G=O.length,z;return G===1?z=O[0]:this.randomFrame?z=c(O):(z=O[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(z)},setEmitterFrame:function(O,G,z){G===void 0&&(G=!0),z===void 0&&(z=1),this.randomFrame=G,this.frameQuantity=z,this.currentFrame=0;var H=typeof O;if(this.frames.length=0,Array.isArray(O))this.frames=this.frames.concat(O);else if(H==="string"||H==="number")this.frames.push(O);else if(H==="object"){var K=O;O=d(K,"frames",null),O&&(this.frames=this.frames.concat(O));var J=d(K,"cycle",!1);this.randomFrame=!J,this.frameQuantity=d(K,"quantity",z)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var O=this.anims,G=O.length;if(G===0)return null;if(G===1)return O[0];if(this.randomAnim)return c(O);var z=O[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=W(this.currentAnim+1,0,G-1)),z},setAnim:function(O,G,z){G===void 0&&(G=!0),z===void 0&&(z=1),this.randomAnim=G,this.animQuantity=z,this.currentAnim=0;var H=typeof O;if(this.anims.length=0,Array.isArray(O))this.anims=this.anims.concat(O);else if(H==="string")this.anims.push(O);else if(H==="object"){var K=O;O=d(K,"anims",null),O&&(this.anims=this.anims.concat(O));var J=d(K,"cycle",!1);this.randomAnim=!J,this.animQuantity=d(K,"quantity",z)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(O){return O===void 0&&(O=!0),this.radial=O,this},addParticleBounds:function(O,G,z,H,K,J,Z,_){if(typeof O=="object"){var tt=O;O=tt.x,G=tt.y,z=T(tt,"w")?tt.w:tt.width,H=T(tt,"h")?tt.h:tt.height}return this.addParticleProcessor(new k(O,G,z,H,K,J,Z,_))},setParticleSpeed:function(O,G){return G===void 0&&(G=O),this.ops.speedX.onChange(O),O===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(O,G){return O===void 0&&(O=1),G===void 0&&(G=O),this.ops.scaleX.onChange(O),this.ops.scaleY.onChange(G),this},setParticleGravity:function(O,G){return this.gravityX=O,this.gravityY=G,this},setParticleAlpha:function(O){return this.ops.alpha.onChange(O),this},setParticleTint:function(O){return this.ops.tint.onChange(O),this},setEmitterAngle:function(O){return this.ops.angle.onChange(O),this},setParticleLifespan:function(O){return this.ops.lifespan.onChange(O),this},setQuantity:function(O){return this.quantity=O,this},setFrequency:function(O,G){return this.frequency=O,this.flowCounter=O>0?O:0,G&&(this.quantity=G),this},addDeathZone:function(O){Array.isArray(O)||(O=[O]);for(var G,z=this.deathZones,H=0;H<O.length;H++)if(G=O[H],G instanceof r)z.push(G);else if(typeof G.contains=="function")G=new r(G,!0),z.push(G);else{var K=d(G,"type","onEnter"),J=d(G,"source",null);if(J&&typeof J.contains=="function"){var Z=K==="onEnter";G=new r(J,Z),z.push(G)}}return G},removeDeathZone:function(O){return F(this.deathZones,O),this},addEmitZone:function(O){Array.isArray(O)||(O=[O]);for(var G,z=this.emitZones,H=[],K=0;K<O.length;K++){if(G=O[K],G instanceof P||G instanceof i)z.push(G);else{var J=d(G,"type","random"),Z=d(G,"source",null);if(J==="random")G=new P(Z);else if(J==="edge"){var _=d(G,"quantity",1),tt=d(G,"stepRate",0),et=d(G,"yoyo",!1),nt=d(G,"seamless",!0),rt=d(G,"total",-1);G=new i(Z,_,tt,et,nt,rt)}G&&z.push(G)}H.push(G)}return H},removeEmitZone:function(O){return F(this.emitZones,O),this.zoneIndex=0,this},getEmitZone:function(O){var G=this.emitZones,z=G.length;if(z!==0){var H=G[this.zoneIndex];H.getPoint(O),H.total>-1&&(this.zoneTotal++,this.zoneTotal===H.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===z&&(this.zoneIndex=0)))}},getDeathZone:function(O){for(var G=this.deathZones,z=0;z<G.length;z++){var H=G[z];if(H.willKill(O))return this.emit(e.DEATH_ZONE,this,O,H),!0}return!1},setEmitZone:function(O){var G;return isFinite(O)?G=O:G=this.emitZones.indexOf(O),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(O){return this.processors.exists(O)||(O.emitter&&O.emitter.removeParticleProcessor(O),this.processors.add(O),O.emitter=this),O},removeParticleProcessor:function(O){return this.processors.exists(O)&&(this.processors.remove(O,!0),O.emitter=null),O},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(O){return this.addParticleProcessor(new p(O))},reserve:function(O){var G=this.dead;if(this.maxParticles>0){var z=this.getParticleCount();z+O>this.maxParticles&&(O=this.maxParticles-(z+O))}for(var H=0;H<O;H++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(O,G){return O===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof O=="function"&&(this.emitCallback=O,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(O,G){return O===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof O=="function"&&(this.deathCallback=O,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var O=this.dead,G=this.alive;G.length>0;)O.push(G.pop());return this},forEachAlive:function(O,G){for(var z=this.alive,H=z.length,K=0;K<H;K++)O.call(G,z[K],this);return this},forEachDead:function(O,G){for(var z=this.dead,H=z.length,K=0;K<H;K++)O.call(G,z[K],this);return this},start:function(O,G){return O===void 0&&(O=0),this.emitting||(O>0&&this.fastForward(O),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(e.START,this)),this},stop:function(O){return O===void 0&&(O=!1),this.emitting&&(this.emitting=!1,O&&this.killAll(),this.emit(e.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(O,G){return O===void 0&&(O=""),G===void 0&&(G=this.true),this.sortProperty=O,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(O){return this.sortProperty!==""?O=this.depthSortCallback:O=null,this.sortCallback=O,this},depthSort:function(){return b(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(O,G){var z=this.sortProperty;return this.sortOrderAsc?O[z]-G[z]:G[z]-O[z]},flow:function(O,G,z){return G===void 0&&(G=1),this.emitting=!1,this.frequency=O,this.quantity=G,z!==void 0&&(this.stopAfter=z),this.start()},explode:function(O,G,z){this.frequency=-1,this.resetCounters(-1,!0);var H=this.emitParticle(O,G,z);return this.emit(e.EXPLODE,this,H),H},emitParticleAt:function(O,G,z){return this.emitParticle(z,O,G)},emitParticle:function(O,G,z){if(!this.atLimit()){O===void 0&&(O=this.ops.quantity.onEmit());for(var H=this.dead,K=this.stopAfter,J=this.follow?this.follow.x+this.followOffset.x:G,Z=this.follow?this.follow.y+this.followOffset.y:z,_=0;_<O;_++){var tt=H.pop();if(tt||(tt=new this.particleClass(this)),tt.fire(J,Z)?(this.particleBringToTop?this.alive.push(tt):this.alive.unshift(tt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,tt,this)):this.dead.push(tt),K>0&&(this.stopCounter++,this.stopCounter>=K)||this.atLimit())break}return tt}},fastForward:function(O,G){G===void 0&&(G=1e3/60);var z=0;for(this.skipping=!0;z<Math.abs(O);)this.preUpdate(0,G),z+=G;return this.skipping=!1,this},preUpdate:function(O,G){G*=this.timeScale;var z=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var H=this.getProcessors(),K=this.alive,J=this.dead,Z=0,_=[],tt=K.length;for(Z=0;Z<tt;Z++){var et=K[Z];et.update(G,z,H)&&_.push({index:Z,particle:et})}if(tt=_.length,tt>0){var nt=this.deathCallback,rt=this.deathCallbackScope;for(Z=tt-1;Z>=0;Z--){var st=_[Z];K.splice(st.index,1),J.push(st.particle),nt&&nt.call(rt,st.particle),st.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&K.length===0&&(this.completeFlag=0,this.emit(e.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(O){for(var G=this.getWorldTransformMatrix(),z=this.alive,H=z.length,K=[],J=0;J<H;J++){var Z=z[J];L(O,Z.getBounds(G))&&K.push(Z)}return K},getBounds:function(O,G,z,H){O===void 0&&(O=0),G===void 0&&(G=0),z===void 0&&(z=1e3/60),H===void 0&&(H=new M);var K=this.getWorldTransformMatrix(),J,Z,_=this.alive,tt=!1;if(H.setTo(0,0,0,0),G>0){var et=0;for(this.skipping=!0;et<Math.abs(G);){for(this.preUpdate(0,z),J=0;J<_.length;J++)Z=_[J].getBounds(K),tt?w(H,Z):(tt=!0,a(Z,H));et+=z}this.skipping=!1}else for(J=0;J<_.length;J++)Z=_[J].getBounds(K),tt?w(H,Z):(tt=!0,a(Z,H));return O>0&&E(H,O,O),H},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(O){this.ops.x.onChange(O)}},particleY:{get:function(){return this.ops.y.current},set:function(O){this.ops.y.onChange(O)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(O){this.ops.accelerationX.onChange(O)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(O){this.ops.accelerationY.onChange(O)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(O){this.ops.maxVelocityX.onChange(O)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(O){this.ops.maxVelocityY.onChange(O)}},speed:{get:function(){return this.ops.speedX.current},set:function(O){this.ops.speedX.onChange(O),this.ops.speedY.onChange(O)}},speedX:{get:function(){return this.ops.speedX.current},set:function(O){this.ops.speedX.onChange(O)}},speedY:{get:function(){return this.ops.speedY.current},set:function(O){this.ops.speedY.onChange(O)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(O){this.ops.moveToX.onChange(O)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(O){this.ops.moveToY.onChange(O)}},bounce:{get:function(){return this.ops.bounce.current},set:function(O){this.ops.bounce.onChange(O)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(O){this.ops.scaleX.onChange(O)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(O){this.ops.scaleY.onChange(O)}},particleColor:{get:function(){return this.ops.color.current},set:function(O){this.ops.color.onChange(O)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(O){this.ops.color.setEase(O)}},particleTint:{get:function(){return this.ops.tint.current},set:function(O){this.ops.tint.onChange(O)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(O){this.ops.alpha.onChange(O)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(O){this.ops.lifespan.onChange(O)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(O){this.ops.angle.onChange(O)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(O){this.ops.rotate.onChange(O)}},quantity:{get:function(){return this.ops.quantity.current},set:function(O){this.ops.quantity.onChange(O)}},delay:{get:function(){return this.ops.delay.current},set:function(O){this.ops.delay.onChange(O)}},hold:{get:function(){return this.ops.hold.current},set:function(O){this.ops.hold.onChange(O)}},flowCounter:{get:function(){return this.counters[0]},set:function(O){this.counters[0]=O}},frameCounter:{get:function(){return this.counters[1]},set:function(O){this.counters[1]=O}},animCounter:{get:function(){return this.counters[2]},set:function(O){this.counters[2]=O}},elapsed:{get:function(){return this.counters[3]},set:function(O){this.counters[3]=O}},stopCounter:{get:function(){return this.counters[4]},set:function(O){this.counters[4]=O}},completeFlag:{get:function(){return this.counters[5]},set:function(O){this.counters[5]=O}},zoneIndex:{get:function(){return this.counters[6]},set:function(O){this.counters[6]=O}},zoneTotal:{get:function(){return this.counters[7]},set:function(O){this.counters[7]=O}},currentFrame:{get:function(){return this.counters[8]},set:function(O){this.counters[8]=O}},currentAnim:{get:function(){return this.counters[9]},set:function(O){this.counters[9]=O}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var O,G=this.ops;for(O=0;O<U.length;O++){var z=U[O];G[z].destroy()}for(O=0;O<this.alive.length;O++)this.alive[O].destroy();for(O=0;O<this.dead.length;O++)this.dead[O].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});v.exports=Y},10456:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90205),m=t(69360),l=new m,a=new m,r=new m,i=new m,s=function(f,e,o,d){var c=l,p=a,x=r,T=i;d?(T.loadIdentity(),T.multiply(d),T.translate(e.x,e.y),T.rotate(e.rotation),T.scale(e.scaleX,e.scaleY)):T.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var E=f.currentContext,y=o.roundPixels,w=o.alpha,A=e.alpha,P=e.alive,M=P.length,L=e.viewBounds;if(!(!e.visible||M===0||L&&!h(L,o.worldView))){e.sortCallback&&e.depthSort(),o.addToRenderList(e);var F=e.scrollFactorX,N=e.scrollFactorY;E.save(),E.globalCompositeOperation=f.blendModes[e.blendMode];for(var b=0;b<M;b++){var V=P[b],X=V.alpha*A*w;if(!(X<=0||V.scaleX===0||V.scaleY===0)){x.applyITRS(V.x,V.y,V.rotation,V.scaleX,V.scaleY),c.copyFrom(o.matrix),c.multiplyWithOffset(T,-o.scrollX*F,-o.scrollY*N),x.e=V.x,x.f=V.y,c.multiply(x,p);var W=V.frame,k=W.canvasData;if(k.width>0&&k.height>0){var Q=-W.halfWidth,U=-W.halfHeight;E.globalAlpha=X,E.save(),p.setToContext(E),y&&(Q=Math.round(Q),U=Math.round(U)),E.imageSmoothingEnabled=!W.source.scaleMode,E.drawImage(W.source.image,k.x,k.y,k.width,k.height,Q,U,k.width,k.height),E.restore()}}}E.restore()}};v.exports=s},765:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(72632),r=t(9216);m.register("particles",function(i,s){i===void 0&&(i={});var f=l(i,"key",null),e=a(i,"config",null),o=new r(this.scene,0,0,f);return s!==void 0&&(i.add=s),h(this.scene,o,i),e&&o.setConfig(e),o})},81212:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(9216);h.register("particles",function(l,a,r,i){return l!==void 0&&typeof l=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,l,a,r,i))})},69116:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(10275),l=t(10456),v.exports={renderWebGL:m,renderCanvas:l}},10275:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90205),m=t(69360),l=t(75512),a=new m,r=new m,i=new m,s=new m,f=function(e,o,d,c){var p=e.pipelines.set(o.pipeline),x=a,T=r,E=i,y=s;c?(y.loadIdentity(),y.multiply(c),y.translate(o.x,o.y),y.rotate(o.rotation),y.scale(o.scaleX,o.scaleY)):y.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var w=d.roundPixels,A=l.getTintAppendFloatAlpha,P=d.alpha,M=o.alpha,L=o.frame.glTexture;e.pipelines.preBatch(o);var F=o.alive,N=F.length,b=o.viewBounds;if(!(N===0||b&&!h(b,d.worldView))){o.sortCallback&&o.depthSort();var V=p.setGameObject(o,o.frame);d.addToRenderList(o),x.copyFrom(d.matrix),x.multiplyWithOffset(y,-d.scrollX*o.scrollFactorX,-d.scrollY*o.scrollFactorY),e.setBlendMode(o.blendMode),o.mask&&(o.mask.preRenderWebGL(e,o,d),e.pipelines.set(o.pipeline));for(var X=o.tintFill,W=0;W<N;W++){var k=F[W],Q=k.alpha*M*P;if(!(Q<=0||k.scaleX===0||k.scaleY===0)){E.applyITRS(k.x,k.y,k.rotation,k.scaleX,k.scaleY),E.e=k.x,E.f=k.y,x.multiply(E,T);var U=k.frame,Y=-U.halfWidth,O=-U.halfHeight,G=T.setQuad(Y,O,Y+U.width,O+U.height,w),z=A(k.tint,Q);p.shouldFlush(6)&&(p.flush(),V=p.setGameObject(o,o.frame)),p.batchQuad(o,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],U.u0,U.v0,U.u1,U.v1,z,z,z,z,X,L,V)}}o.mask&&o.mask.postRenderWebGL(e,d),e.pipelines.postBatch(o)}};v.exports=f},30891:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i){a===void 0&&(a=0),r===void 0&&(r=0),i===void 0&&(i=!0),this.emitter,this.x=a,this.y=r,this.active=i},update:function(){},destroy:function(){this.emitter=null}});v.exports=m},76100:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},26677:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="deathzone"},62736:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="explode"},56490:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},85715:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},40629:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(76100),DEATH_ZONE:t(26677),EXPLODE:t(62736),START:t(56490),STOP:t(85715)}},27684:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EmitterColorOp:t(19737),EmitterOp:t(93025),Events:t(40629),GravityWell:t(87811),Particle:t(14909),ParticleBounds:t(73106),ParticleEmitter:t(9216),ParticleProcessor:t(30891),Zones:t(25962)}},69361:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r){this.source=a,this.killOnEnter=r},willKill:function(l){var a=l.worldPosition,r=this.source.contains(a.x,a.y);return r&&this.killOnEnter||!r&&!this.killOnEnter}});v.exports=m},54213:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i,s,f,e){s===void 0&&(s=!1),f===void 0&&(f=!0),e===void 0&&(e=-1),this.source=a,this.points=[],this.quantity=r,this.stepRate=i,this.yoyo=s,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.total=e,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var l=this.points[0],a=this.points[this.points.length-1];l.x===a.x&&l.y===a.y&&this.points.pop()}var r=this._length;return this._length=this.points.length,this._length<r&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(l){return this.source=l,this.updateSource()},getPoint:function(l){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(l.x=a.x,l.y=a.y)}});v.exports=m},68433:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(93736),l=new h({initialize:function(r){this.source=r,this._tempVec=new m,this.total=-1},getPoint:function(a){var r=this._tempVec;this.source.getRandomPoint(r),a.x=r.x,a.y=r.y}});v.exports=l},25962:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DeathZone:t(69361),EdgeZone:t(54213),RandomZone:t(68433)}},29598:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(13747),a=new h({Extends:l,Mixins:[m.PathFollower],initialize:function(i,s,f,e,o,d){l.call(this,i,f,e,o,d),this.path=s},preUpdate:function(r,i){this.anims.update(r,i),this.pathUpdate(r)}});v.exports=a},19626:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(29598);h.register("follower",function(l,a,r,i,s){var f=new m(this.scene,l,a,r,i,s);return this.displayList.add(f),this.updateList.add(f),f})},33412:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),m=t(56694),l=t(99425),a=t(15978),r=t(83321),i=t(76583),s=new m({Extends:r,initialize:function(e,o,d,c,p,x,T,E){c||(c="__DEFAULT"),r.call(this,e,o,d,c,p),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(x,T,E),this.setSizeToFrame(!1),this.setViewHeight()},setGridSize:function(f,e,o){f===void 0&&(f=8),e===void 0&&(e=8),o===void 0&&(o=!1);var d=!1;return o&&(d=!0),this.gridWidth=f,this.gridHeight=e,this.isTiled=o,this.clear(),l({mesh:this,widthSegments:f,heightSegments:e,isOrtho:!1,tile:o,flipY:d}),this},setSizeToFrame:function(f){f===void 0&&(f=!0);var e=this.frame;if(this.setPerspective(this.width/e.width,this.height/e.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!f)return this;var o=this.gridWidth,d=this.gridHeight,c=this.vertices,p=e.u0,x=e.u1,T=e.v0,E=e.v1,y,w,A=0;if(this.isTiled)for(T=e.v1,E=e.v0,w=0;w<d;w++)for(y=0;y<o;y++)c[A++].setUVs(p,E),c[A++].setUVs(p,T),c[A++].setUVs(x,E),c[A++].setUVs(p,T),c[A++].setUVs(x,T),c[A++].setUVs(x,E);else{var P=o+1,M=d+1,L=x-p,F=E-T,N=[];for(w=0;w<M;w++)for(y=0;y<P;y++){var b=p+L*(y/o),V=T+F*(w/d);N.push(b,V)}for(w=0;w<d;w++)for(y=0;y<o;y++){var X=(y+P*w)*2,W=(y+P*(w+1))*2,k=(y+1+P*(w+1))*2,Q=(y+1+P*w)*2;c[A++].setUVs(N[X],N[X+1]),c[A++].setUVs(N[W],N[W+1]),c[A++].setUVs(N[Q],N[Q+1]),c[A++].setUVs(N[W],N[W+1]),c[A++].setUVs(N[k],N[k+1]),c[A++].setUVs(N[Q],N[Q+1])}}return this},setViewHeight:function(f){f===void 0&&(f=this.frame.height);var e=this.fov*(Math.PI/180);this.viewPosition.z=this.height/f/Math.tan(e/2),this.dirtyCache[10]=1},createCheckerboard:function(f,e,o,d,c){f===void 0&&(f=16777215),e===void 0&&(e=255),o===void 0&&(o=255),d===void 0&&(d=255),c===void 0&&(c=128);var p=this.scene.sys.renderer.gl,x=p.createTexture();p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,x),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);for(var T=a(f),E=a(e),y=[],w=0;w<16;w++)for(var A=0;A<16;A++)w<8&&A<8||w>7&&A>7?y.push(T.r,T.g,T.b,o):y.push(E.r,E.g,E.b,d);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,new Uint8Array(y)),x.isAlphaPremultiplied=!0,x.isRenderTexture=!1,x.width=16,x.height=16;var P=this.scene.sys.textures.addGLTexture(i(),x,16,16);return this.removeCheckerboard(),this._checkerboard=P,p.bindTexture(p.TEXTURE_2D,null),this.setTexture(P),this.setSizeToFrame(),this.setViewHeight(c),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(f,e){return this.anims.play(f,e)},playReverse:function(f,e){return this.anims.playReverse(f,e)},playAfterDelay:function(f,e){return this.anims.playAfterDelay(f,e)},playAfterRepeat:function(f,e){return this.anims.playAfterRepeat(f,e)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},preUpdate:function(f,e){r.prototype.preUpdate.call(this,f,e),this.anims.update(f,e)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});v.exports=s},10912:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(32291),l=t(99325),a=t(20494),r=t(10850),i=t(33412);l.register("plane",function(s,f){s===void 0&&(s={});var e=a(s,"key",null),o=a(s,"frame",null),d=r(s,"width",8),c=r(s,"height",8),p=r(s,"tile",!1),x=new i(this.scene,0,0,e,o,d,c,p);f!==void 0&&(s.add=f);var T=r(s,"checkerboard",null);if(T){var E=r(T,"color1",16777215),y=r(T,"color2",255),w=r(T,"alpha1",255),A=r(T,"alpha2",255),P=r(T,"height",128);x.createCheckerboard(E,y,w,A,P)}return h(this.scene,x,s),m(x,s),x})},58322:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(33412),m=t(61286);m.register("plane",function(l,a,r,i,s,f,e){return this.displayList.add(new h(this.scene,l,a,r,i,s,f,e))})},13171:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(89980),a=t(74853),r=t(65641),i=t(71606),s=new h({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,i],initialize:function(e,o,d,c,p,x,T){c===void 0&&(c=16777215),p===void 0&&(p=128),x===void 0&&(x=1),T===void 0&&(T=.1),l.call(this,e,"PointLight"),this.initPipeline(r.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(o,d),this.color=a(c),this.intensity=x,this.attenuation=T,this.width=p*2,this.height=p*2,this._radius=p},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});v.exports=s},162:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(13171);m.register("pointlight",function(r,i){r===void 0&&(r={});var s=l(r,"color",16777215),f=l(r,"radius",128),e=l(r,"intensity",1),o=l(r,"attenuation",.1),d=new a(this.scene,0,0,s,f,e,o);return i!==void 0&&(r.add=i),h(this.scene,d,r),d})},91201:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(13171);h.register("pointlight",function(l,a,r,i,s,f){return this.displayList.add(new m(this.scene,l,a,r,i,s,f))})},71606:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(80590),v.exports={renderWebGL:m,renderCanvas:l}},80590:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=function(l,a,r,i){r.addToRenderList(a);var s=l.pipelines.set(a.pipeline),f=h(a,r,i).calc,e=a.width,o=a.height,d=-a._radius,c=-a._radius,p=d+e,x=c+o,T=f.getX(0,0),E=f.getY(0,0),y=f.getX(d,c),w=f.getY(d,c),A=f.getX(d,x),P=f.getY(d,x),M=f.getX(p,x),L=f.getY(p,x),F=f.getX(p,c),N=f.getY(p,c);l.pipelines.preBatch(a),s.batchPointLight(a,r,y,w,A,P,M,L,F,N,T,E),l.pipelines.postBatch(a)};v.exports=m},15996:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(845),l=t(1539),a=new h({Extends:l,initialize:function(i,s,f,e,o){s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=32),o===void 0&&(o=32);var d=new m(i.sys.textures,"",e,o);l.call(this,i,s,f,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(r,i){this.width=r,this.height=i,this.texture.setSize(r,i),this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=r,s.hitArea.height=i),this},resize:function(r,i){return this.setSize(r,i),this},saveTexture:function(r){var i=this.texture;return i.key=r,i.manager.addDynamicTexture(i)&&(this._saved=!0),i},fill:function(r,i,s,f,e,o){return this.texture.fill(r,i,s,f,e,o),this},clear:function(){return this.texture.clear(),this},stamp:function(r,i,s,f,e){return this.texture.stamp(r,i,s,f,e),this},erase:function(r,i,s){return this.texture.erase(r,i,s),this},draw:function(r,i,s,f,e){return this.texture.draw(r,i,s,f,e),this},drawFrame:function(r,i,s,f,e,o){return this.texture.drawFrame(r,i,s,f,e,o),this},repeat:function(r,i,s,f,e,o,d,c,p){return this.texture.repeat(r,i,s,f,e,o,d,c,p),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(r,i,s,f,e){return this.texture.batchDraw(r,i,s,f,e),this},batchDrawFrame:function(r,i,s,f,e,o){return this.texture.batchDrawFrame(r,i,s,f,e,o),this},endDraw:function(r){return this.texture.endDraw(r),this},snapshotArea:function(r,i,s,f,e,o,d){return this.texture.snapshotArea(r,i,s,f,e,o,d),this},snapshot:function(r,i,s){return this.snapshotArea(0,0,this.width,this.height,r,i,s)},snapshotPixel:function(r,i,s){return this.snapshotArea(r,i,1,1,s,"pixel")},preDestroy:function(){this._saved||this.texture.destroy()}});v.exports=a},85692:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(15996);m.register("renderTexture",function(r,i){r===void 0&&(r={});var s=l(r,"x",0),f=l(r,"y",0),e=l(r,"width",32),o=l(r,"height",32),d=new a(this.scene,s,f,e,o);return i!==void 0&&(r.add=i),h(this.scene,d,r),d})},29599:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(15996);h.register("renderTexture",function(l,a,r,i){return this.displayList.add(new m(this.scene,l,a,r,i))})},79968:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),m=t(56694),l=t(64937),a=t(89980),r=t(65641),i=t(58912),s=t(93736),f=new m({Extends:a,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Flip,l.Mask,l.Pipeline,l.PostPipeline,l.Size,l.Texture,l.Transform,l.Visible,l.ScrollFactor,i],initialize:function(o,d,c,p,x,T,E,y,w){p===void 0&&(p="__DEFAULT"),T===void 0&&(T=2),E===void 0&&(E=!0),a.call(this,o,"Rope"),this.anims=new h(this),this.points=T,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=p==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(p,x),this.setPosition(d,c),this.setSizeToFrame(),this.initPipeline(r.ROPE_PIPELINE),Array.isArray(T)&&this.resizeArrays(T.length),this.setPoints(T,y,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(e,o){var d=this.anims.currentFrame;this.anims.update(e,o),this.anims.currentFrame!==d&&(this.updateUVs(),this.updateVertices())},play:function(e,o,d){return this.anims.play(e,o,d),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(e,o,d){return e===void 0&&(e=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(e,o,d))},setVertical:function(e,o,d){return e===void 0&&(e=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(e,o,d)):this},setTintFill:function(e){return e===void 0&&(e=!1),this.tintFill=e,this},setAlphas:function(e,o){var d=this.points.length;if(d<1)return this;var c=this.alphas;e===void 0?e=[1]:!Array.isArray(e)&&o===void 0&&(e=[e]);var p,x=0;if(o!==void 0)for(p=0;p<d;p++)x=p*2,c[x]=e,c[x+1]=o;else if(e.length===d)for(p=0;p<d;p++)x=p*2,c[x]=e[p],c[x+1]=e[p];else{var T=e[0];for(p=0;p<d;p++)x=p*2,e.length>x&&(T=e[x]),c[x]=T,e.length>x+1&&(T=e[x+1]),c[x+1]=T}return this},setColors:function(e){var o=this.points.length;if(o<1)return this;var d=this.colors;e===void 0?e=[16777215]:Array.isArray(e)||(e=[e]);var c,p=0;if(e.length===o)for(c=0;c<o;c++)p=c*2,d[p]=e[c],d[p+1]=e[c];else{var x=e[0];for(c=0;c<o;c++)p=c*2,e.length>p&&(x=e[p]),d[p]=x,e.length>p+1&&(x=e[p+1]),d[p+1]=x}return this},setPoints:function(e,o,d){if(e===void 0&&(e=2),typeof e=="number"){var c=e;c<2&&(c=2),e=[];var p,x,T;if(this.horizontal)for(T=-this.frame.halfWidth,x=this.frame.width/(c-1),p=0;p<c;p++)e.push({x:T+p*x,y:0});else for(T=-this.frame.halfHeight,x=this.frame.height/(c-1),p=0;p<c;p++)e.push({x:0,y:T+p*x})}var E=e.length,y=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(e.unshift({x:0,y:0}),E++),y!==E&&this.resizeArrays(E),this.dirty=!0,this.points=e,this.updateUVs(),o!=null&&this.setColors(o),d!=null&&this.setAlphas(d),this)},updateUVs:function(){for(var e=this.uv,o=this.points.length,d=this.frame.u0,c=this.frame.v0,p=this.frame.u1,x=this.frame.v1,T=(p-d)/(o-1),E=(x-c)/(o-1),y=0;y<o;y++){var w=y*4,A,P,M,L;this.horizontal?(this._flipX?(A=p-y*T,M=p-y*T):(A=d+y*T,M=d+y*T),this._flipY?(P=x,L=c):(P=c,L=x)):(this._flipX?(A=d,M=p):(A=p,M=d),this._flipY?(P=x-y*E,L=x-y*E):(P=c+y*E,L=c+y*E)),e[w+0]=A,e[w+1]=P,e[w+2]=M,e[w+3]=L}return this},resizeArrays:function(e){var o=this.colors,d=this.alphas;this.vertices=new Float32Array(e*4),this.uv=new Float32Array(e*4),o=new Uint32Array(e*2),d=new Float32Array(e*2);for(var c=0;c<e*2;c++)o[c]=16777215,d[c]=1;return this.colors=o,this.alphas=d,this.dirty=!0,this},updateVertices:function(){var e=this._perp,o=this.points,d=this.vertices,c=o.length;if(this.dirty=!1,!(c<1)){for(var p,x=o[0],T=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<c;E++){var y=o[E],w=E*4;E<c-1?p=o[E+1]:p=y,e.x=p.y-x.y,e.y=-(p.x-x.x);var A=e.length();e.x/=A,e.y/=A,e.x*=T,e.y*=T,d[w]=y.x+e.x,d[w+1]=y.y+e.y,d[w+2]=y.x-e.x,d[w+3]=y.y-e.y,x=y}return this}},setDebug:function(e,o){return this.debugGraphic=e,!e&&!o?this.debugCallback=null:o?this.debugCallback=o:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(e,o,d){var c=e.debugGraphic,p=d[0],x=d[1],T=d[2],E=d[3];c.lineBetween(p,x,T,E);for(var y=4;y<o;y+=4){var w=d[y+0],A=d[y+1],P=d[y+2],M=d[y+3];c.lineBetween(p,x,w,A),c.lineBetween(T,E,P,M),c.lineBetween(T,E,w,A),c.lineBetween(w,A,P,M),p=w,x=A,T=P,E=M}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(e){return this._flipX=e,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(e){return this._flipY=e,this.updateUVs()}}});v.exports=f},44598:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},96027:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(10850),r=t(79968);m.register("rope",function(i,s){i===void 0&&(i={});var f=l(i,"key",null),e=l(i,"frame",null),o=l(i,"horizontal",!0),d=a(i,"points",void 0),c=a(i,"colors",void 0),p=a(i,"alphas",void 0),x=new r(this.scene,0,0,f,e,d,o,c,p);return s!==void 0&&(i.add=s),h(this.scene,x,i),x})},31982:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79968),m=t(61286);m.register("rope",function(l,a,r,i,s,f,e,o){return this.displayList.add(new h(this.scene,l,a,r,i,s,f,e,o))})},58912:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(49489),l=t(44598),v.exports={renderWebGL:m,renderCanvas:l}},49489:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(75512),l=function(a,r,i,s){i.addToRenderList(r);var f=a.pipelines.set(r.pipeline,r),e=h(r,i,s).calc,o=r.vertices,d=r.uv,c=r.colors,p=r.alphas,x=r.alpha,T=m.getTintAppendFloatAlpha,E=i.roundPixels,y=o.length,w=Math.floor(y*.5);f.flush(),a.pipelines.preBatch(r);var A=f.setGameObject(r),P=f.vertexViewF32,M=f.vertexViewU32,L=f.vertexCount*f.currentShader.vertexComponentCount-1,F=0,N=r.tintFill;r.dirty&&r.updateVertices();for(var b=r.debugCallback,V=[],X=0;X<y;X+=2){var W=o[X+0],k=o[X+1],Q=W*e.a+k*e.c+e.e,U=W*e.b+k*e.d+e.f;E&&(Q=Math.round(Q),U=Math.round(U)),P[++L]=Q,P[++L]=U,P[++L]=d[X+0],P[++L]=d[X+1],P[++L]=A,P[++L]=N,M[++L]=T(c[F],i.alpha*(p[F]*x)),F++,b&&(V[X+0]=Q,V[X+1]=U)}b&&b.call(r,r,y,V),f.vertexCount+=w,f.currentBatch.count=f.vertexCount-f.currentBatch.start,a.pipelines.postBatch(r)};v.exports=l},27902:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(89980),a=t(72632),r=t(98611),i=t(22440),s=t(24252),f=t(69360),e=new h({Extends:l,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,s],initialize:function(d,c,p,x,T,E,y,w){p===void 0&&(p=0),x===void 0&&(x=0),T===void 0&&(T=128),E===void 0&&(E=128),l.call(this,d,"Shader"),this.blendMode=-1,this.shader;var A=d.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(p,x),this.setSize(T,E),this.setOrigin(.5,.5),this.setShader(c,y,w)},willRender:function(o){return this.renderToTexture?!0:!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&o.id)},setRenderToTexture:function(o,d){if(d===void 0&&(d=!1),!this.renderToTexture){var c=this.width,p=this.height,x=this.renderer;this.glTexture=x.createTextureFromSource(null,c,p,0),this.glTexture.flipY=d,this.framebuffer=x.createFramebuffer(c,p,this.glTexture,!1),this._rendererWidth=c,this._rendererHeight=p,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),o&&(this.texture=this.scene.sys.textures.addGLTexture(o,this.glTexture,c,p))}return this.shader&&(x.pipelines.clear(),this.load(),this.flush(),x.pipelines.rebind()),this},setShader:function(o,d,c){if(d===void 0&&(d=[]),typeof o=="string"){var p=this.scene.sys.cache.shader;if(!p.has(o))return console.warn("Shader missing: "+o),this;this.shader=p.get(o)}else this.shader=o;var x=this.gl,T=this.renderer;this.program&&x.deleteProgram(this.program);var E=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);x.uniformMatrix4fv(x.getUniformLocation(E,"uViewMatrix"),!1,this.viewMatrix),x.uniformMatrix4fv(x.getUniformLocation(E,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(E,"uResolution"),this.width,this.height),this.program=E;var y=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[y.getFullYear(),y.getMonth(),y.getDate(),y.getHours()*60*60+y.getMinutes()*60+y.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=r(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var A=0;A<4;A++)d[A]&&this.setSampler2D("iChannel"+A,d[A],A,c);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(o){return this.pointer=o,this},projOrtho:function(o,d,c,p){var x=-1e3,T=1e3,E=1/(o-d),y=1/(c-p),w=1/(x-T),A=this.projectionMatrix;A[0]=-2*E,A[5]=-2*y,A[10]=2*w,A[12]=(o+d)*E,A[13]=(p+c)*y,A[14]=(T+x)*w;var P=this.program,M=this.gl,L=this.renderer;L.setProgram(P),M.uniformMatrix4fv(M.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=d,this._rendererHeight=c},initUniforms:function(){var o=this.gl,d=this.renderer.glFuncMap,c=this.program;this._textureCount=0;for(var p in this.uniforms){var x=this.uniforms[p],T=x.type,E=d[T];x.uniformLocation=o.getUniformLocation(c,p),T!=="sampler2D"&&(x.glMatrix=E.matrix,x.glValueLength=E.length,x.glFunc=E.func)}},setSampler2DBuffer:function(o,d,c,p,x,T){x===void 0&&(x=0),T===void 0&&(T={});var E=this.uniforms[o];return E.value=d,T.width=c,T.height=p,E.textureData=T,this._textureCount=x,this.initSampler2D(E),this},setSampler2D:function(o,d,c,p){c===void 0&&(c=0);var x=this.scene.sys.textures;if(x.exists(d)){var T=x.getFrame(d);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(o,T.glTexture,T.width,T.height,c,p);var E=this.uniforms[o],y=T.source;E.textureKey=d,E.source=y.image,E.value=T.glTexture,y.isGLTexture&&(p||(p={}),p.width=y.width,p.height=y.height),p&&(E.textureData=p),this._textureCount=c,this.initSampler2D(E)}return this},setUniform:function(o,d){return i(this.uniforms,o,d),this},getUniform:function(o){return a(this.uniforms,o,null)},setChannel0:function(o,d){return this.setSampler2D("iChannel0",o,0,d)},setChannel1:function(o,d){return this.setSampler2D("iChannel1",o,1,d)},setChannel2:function(o,d){return this.setSampler2D("iChannel2",o,2,d)},setChannel3:function(o,d){return this.setSampler2D("iChannel3",o,3,d)},initSampler2D:function(o){if(o.value){var d=this.gl;d.activeTexture(d.TEXTURE0+this._textureCount),d.bindTexture(d.TEXTURE_2D,o.value);var c=o.textureData;if(c&&!o.value.isRenderTexture){var p=d[a(c,"magFilter","linear").toUpperCase()],x=d[a(c,"minFilter","linear").toUpperCase()],T=d[a(c,"wrapS","repeat").toUpperCase()],E=d[a(c,"wrapT","repeat").toUpperCase()],y=d[a(c,"format","rgba").toUpperCase()];if(c.repeat&&(T=d.REPEAT,E=d.REPEAT),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!!c.flipY),c.width){var w=a(c,"width",512),A=a(c,"height",2),P=a(c,"border",0);d.texImage2D(d.TEXTURE_2D,0,y,w,A,P,y,d.UNSIGNED_BYTE,null)}else d.texImage2D(d.TEXTURE_2D,0,y,d.RGBA,d.UNSIGNED_BYTE,o.source);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,p),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,x),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,T),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,E)}this.renderer.setProgram(this.program),d.uniform1i(o.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var o=this.gl,d=this.uniforms,c,p,x,T,E,y=0;for(var w in d)c=d[w],x=c.glFunc,p=c.glValueLength,T=c.uniformLocation,E=c.value,E!==null&&(p===1?c.glMatrix?x.call(o,T,c.transpose,E):x.call(o,T,E):p===2?x.call(o,T,E.x,E.y):p===3?x.call(o,T,E.x,E.y,E.z):p===4?x.call(o,T,E.x,E.y,E.z,E.w):c.type==="sampler2D"&&(o.activeTexture(o.TEXTURE0+y),o.bindTexture(o.TEXTURE_2D,E),o.uniform1i(T,y),y++))},load:function(o){var d=this.gl,c=this.width,p=this.height,x=this.renderer,T=this.program,E=this.viewMatrix;if(!this.renderToTexture){var y=-this._displayOriginX,w=-this._displayOriginY;E[0]=o[0],E[1]=o[1],E[4]=o[2],E[5]=o[3],E[8]=o[4],E[9]=o[5],E[12]=E[0]*y+E[4]*w,E[13]=E[1]*y+E[5]*w}d.useProgram(T),d.uniformMatrix4fv(d.getUniformLocation(T,"uViewMatrix"),!1,E),d.uniform2f(d.getUniformLocation(T,"uResolution"),this.width,this.height);var A=this.uniforms,P=A.resolution;P.value.x=c,P.value.y=p,A.time.value=x.game.loop.getDuration();var M=this.pointer;if(M){var L=A.mouse,F=M.x/c,N=1-M.y/p;L.value.x=F.toFixed(2),L.value.y=N.toFixed(2)}this.syncUniforms()},flush:function(){var o=this.width,d=this.height,c=this.program,p=this.gl,x=this.vertexBuffer,T=this.renderer,E=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)),p.bindBuffer(p.ARRAY_BUFFER,x);var y=p.getAttribLocation(c,"inPosition");y!==-1&&(p.enableVertexAttribArray(y),p.vertexAttribPointer(y,2,p.FLOAT,!1,E,0));var w=this.vertexViewF32;w[3]=d,w[4]=o,w[5]=d,w[8]=o,w[9]=d,w[10]=o;var A=6;p.bufferSubData(p.ARRAY_BUFFER,0,this.bytes.subarray(0,A*E)),p.drawArrays(p.TRIANGLES,0,A),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var o=this.gl;o.deleteProgram(this.program),o.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});v.exports=e},10612:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},13908:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(27902);m.register("shader",function(r,i){r===void 0&&(r={});var s=l(r,"key",null),f=l(r,"x",0),e=l(r,"y",0),o=l(r,"width",128),d=l(r,"height",128),c=new a(this.scene,s,f,e,o,d);return i!==void 0&&(r.add=i),h(this.scene,c,r),c})},51979:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27902),m=t(61286);m.register("shader",function(l,a,r,i,s,f,e){return this.displayList.add(new h(this.scene,l,a,r,i,s,f,e))})},24252:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(19782),l=t(10612),v.exports={renderWebGL:m,renderCanvas:l}},19782:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=function(l,a,r,i){if(a.shader){if(r.addToRenderList(a),l.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var s=h(a,r,i).calc;(l.width!==a._rendererWidth||l.height!==a._rendererHeight)&&a.projOrtho(0,l.width,l.height,0),a.load(s.matrix),a.flush()}l.pipelines.rebind()}};v.exports=m},19543:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),m=function(l,a,r,i,s,f){for(var e=h.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*i),o=r.pathData,d=r.pathIndexes,c=0;c<d.length;c+=3){var p=d[c]*2,x=d[c+1]*2,T=d[c+2]*2,E=o[p+0]-s,y=o[p+1]-f,w=o[x+0]-s,A=o[x+1]-f,P=o[T+0]-s,M=o[T+1]-f,L=a.getX(E,y),F=a.getY(E,y),N=a.getX(w,A),b=a.getY(w,A),V=a.getX(P,M),X=a.getY(P,M);l.batchTri(r,L,F,N,b,V,X,0,0,1,1,e,e,e,2)}};v.exports=m},15608:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=m||h.fillColor,r=l||h.fillAlpha,i=(a&16711680)>>>16,s=(a&65280)>>>8,f=a&255;t.fillStyle="rgba("+i+","+s+","+f+","+r+")"};v.exports=S},17876:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=m||h.strokeColor,r=l||h.strokeAlpha,i=(a&16711680)>>>16,s=(a&65280)>>>8,f=a&255;t.strokeStyle="rgba("+i+","+s+","+f+","+r+")",t.lineWidth=h.lineWidth};v.exports=S},91461:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(89980),a=t(88829),r=new h({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(s,f,e){f===void 0&&(f="Shape"),l.call(this,s,f),this.geom=e,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(i,s){return s===void 0&&(s=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(i,s,f){return f===void 0&&(f=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=s,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,s){return this.width=i,this.height=s,this},setDisplaySize:function(i,s){return this.displayWidth=i,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});v.exports=r},50262:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),m=function(l,a,r,i,s){var f=l.strokeTint,e=h.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*r);f.TL=e,f.TR=e,f.BL=e,f.BR=e;var o=a.pathData,d=o.length-1,c=a.lineWidth,p=c/2,x=o[0]-i,T=o[1]-s;a.closePath||(d-=2);for(var E=2;E<d;E+=2){var y=o[E]-i,w=o[E+1]-s;l.batchLine(x,T,y,w,p,p,c,E-2,a.closePath?E===d-1:!1),x=y,T=w}};v.exports=m},28593:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2213),m=t(56694),l=t(75606),a=t(11117),r=t(26673),i=t(83392),s=t(91461),f=new m({Extends:s,Mixins:[h],initialize:function(o,d,c,p,x,T,E,y,w){d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=128),x===void 0&&(x=0),T===void 0&&(T=360),E===void 0&&(E=!1),s.call(this,o,"Arc",new r(0,0,p)),this._startAngle=x,this._endAngle=T,this._anticlockwise=E,this._iterations=.01,this.setPosition(d,c);var A=this.geom.radius*2;this.setSize(A,A),y!==void 0&&this.setFillStyle(y,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(e){this._iterations=e,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(e){this.geom.radius=e;var o=e*2;this.setSize(o,o),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(e){this._startAngle=e,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(e){this._endAngle=e,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(e){this._anticlockwise=e,this.updateData()}},setRadius:function(e){return this.radius=e,this},setIterations:function(e){return e===void 0&&(e=.01),this.iterations=e,this},setStartAngle:function(e,o){return this._startAngle=e,o!==void 0&&(this._anticlockwise=o),this.updateData()},setEndAngle:function(e,o){return this._endAngle=e,o!==void 0&&(this._anticlockwise=o),this.updateData()},updateData:function(){var e=this._iterations,o=e,d=this.geom.radius,c=l(this._startAngle),p=l(this._endAngle),x=this._anticlockwise,T=d,E=d;p-=c,x?p<-i.PI2?p=-i.PI2:p>0&&(p=-i.PI2+p%i.PI2):p>i.PI2?p=i.PI2:p<0&&(p=i.PI2+p%i.PI2);for(var y=[T+Math.cos(c)*d,E+Math.sin(c)*d],w;o<1;)w=p*o+c,y.push(T+Math.cos(w)*d,E+Math.sin(w)*d),o+=e;return w=p+c,y.push(T+Math.cos(w)*d,E+Math.sin(w)*d),y.push(T+Math.cos(c)*d,E+Math.sin(c)*d),this.pathIndexes=a(y),this.pathData=y,this}});v.exports=f},23560:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75606),m=t(15608),l=t(17876),a=t(49584),r=function(i,s,f,e){f.addToRenderList(s);var o=i.currentContext;if(a(i,o,s,f,e)){var d=s.radius;o.beginPath(),o.arc(d-s.originX*(d*2),d-s.originY*(d*2),d,h(s._startAngle),h(s._endAngle),s.anticlockwise),s.closePath&&o.closePath(),s.isFilled&&(m(o,s),o.fill()),s.isStroked&&(l(o,s),o.stroke()),o.restore()}};v.exports=r},10369:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28593),m=t(61286);m.register("arc",function(l,a,r,i,s,f,e,o){return this.displayList.add(new h(this.scene,l,a,r,i,s,f,e,o))}),m.register("circle",function(l,a,r,i,s){return this.displayList.add(new h(this.scene,l,a,r,0,360,!1,i,s))})},2213:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(58356),l=t(23560),v.exports={renderWebGL:m,renderCanvas:l}},58356:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(19543),l=t(50262),a=function(r,i,s,f){s.addToRenderList(i);var e=r.pipelines.set(i.pipeline),o=h(i,s,f),d=e.calcMatrix.copyFrom(o.calc),c=i._displayOriginX,p=i._displayOriginY,x=s.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&m(e,d,i,x,c,p),i.isStroked&&l(e,i,x,c,p),r.pipelines.postBatch(i)};v.exports=a},15220:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(87203),l=t(11117),a=t(74118),r=t(91461),i=new h({Extends:r,Mixins:[m],initialize:function(f,e,o,d,c,p){e===void 0&&(e=0),o===void 0&&(o=0),r.call(this,f,"Curve",d),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(e,o),c!==void 0&&this.setFillStyle(c,p),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,f=this._smoothness;this.geom.getBounds(s,f),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var e=[],o=this.geom.getPoints(f),d=0;d<o.length;d++)e.push(o[d].x,o[d].y);return e.push(o[0].x,o[0].y),this.pathIndexes=l(e),this.pathData=e,this}});v.exports=i},4024:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(17876),l=t(49584),a=function(r,i,s,f){s.addToRenderList(i);var e=r.currentContext;if(l(r,e,i,s,f)){var o=i._displayOriginX+i._curveBounds.x,d=i._displayOriginY+i._curveBounds.y,c=i.pathData,p=c.length-1,x=c[0]-o,T=c[1]-d;e.beginPath(),e.moveTo(x,T),i.closePath||(p-=2);for(var E=2;E<p;E+=2){var y=c[E]-o,w=c[E+1]-d;e.lineTo(y,w)}i.closePath&&e.closePath(),i.isFilled&&(h(e,i),e.fill()),i.isStroked&&(m(e,i),e.stroke()),e.restore()}};v.exports=a},10147:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(15220);h.register("curve",function(l,a,r,i,s){return this.displayList.add(new m(this.scene,l,a,r,i,s))})},87203:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(82958),l=t(4024),v.exports={renderWebGL:m,renderCanvas:l}},82958:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),m=t(73329),l=t(50262),a=function(r,i,s,f){s.addToRenderList(i);var e=r.pipelines.set(i.pipeline),o=m(i,s,f),d=e.calcMatrix.copyFrom(o.calc),c=i._displayOriginX+i._curveBounds.x,p=i._displayOriginY+i._curveBounds.y,x=s.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(e,d,i,x,c,p),i.isStroked&&l(e,i,x,c,p),r.pipelines.postBatch(i)};v.exports=a},28591:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(11117),l=t(84171),a=t(95669),r=t(91461),i=new h({Extends:r,Mixins:[l],initialize:function(f,e,o,d,c,p,x){e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=128),c===void 0&&(c=128),r.call(this,f,"Ellipse",new a(d/2,c/2,d,c)),this._smoothness=64,this.setPosition(e,o),this.width=d,this.height=c,p!==void 0&&this.setFillStyle(p,x),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,f){return this.width=s,this.height=f,this.geom.setPosition(s/2,f/2),this.geom.setSize(s,f),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],f=this.geom.getPoints(this._smoothness),e=0;e<f.length;e++)s.push(f[e].x,f[e].y);return s.push(f[0].x,f[0].y),this.pathIndexes=m(s),this.pathData=s,this}});v.exports=i},55881:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(17876),l=t(49584),a=function(r,i,s,f){s.addToRenderList(i);var e=r.currentContext;if(l(r,e,i,s,f)){var o=i._displayOriginX,d=i._displayOriginY,c=i.pathData,p=c.length-1,x=c[0]-o,T=c[1]-d;e.beginPath(),e.moveTo(x,T),i.closePath||(p-=2);for(var E=2;E<p;E+=2){var y=c[E]-o,w=c[E+1]-d;e.lineTo(y,w)}e.closePath(),i.isFilled&&(h(e,i),e.fill()),i.isStroked&&(m(e,i),e.stroke()),e.restore()}};v.exports=a},99869:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28591),m=t(61286);m.register("ellipse",function(l,a,r,i,s,f){return this.displayList.add(new h(this.scene,l,a,r,i,s,f))})},84171:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(17554),l=t(55881),v.exports={renderWebGL:m,renderCanvas:l}},17554:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),m=t(73329),l=t(50262),a=function(r,i,s,f){s.addToRenderList(i);var e=r.pipelines.set(i.pipeline),o=m(i,s,f),d=e.calcMatrix.copyFrom(o.calc),c=i._displayOriginX,p=i._displayOriginY,x=s.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(e,d,i,x,c,p),i.isStroked&&l(e,i,x,c,p),r.pipelines.postBatch(i)};v.exports=a},39169:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(91461),l=t(88059),a=new h({Extends:m,Mixins:[l],initialize:function(i,s,f,e,o,d,c,p,x,T,E){s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=128),o===void 0&&(o=128),d===void 0&&(d=32),c===void 0&&(c=32),m.call(this,i,"Grid",null),this.cellWidth=d,this.cellHeight=c,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,f),this.setSize(e,o),this.setFillStyle(p,x),T!==void 0&&this.setOutlineStyle(T,E),this.updateDisplayOrigin()},setFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showCells=!1:(this.fillColor=r,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showAltCells=!1:(this.altFillColor=r,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(r,i){return i===void 0&&(i=1),r===void 0?this.showOutline=!1:(this.outlineFillColor=r,this.outlineFillAlpha=i,this.showOutline=!0),this}});v.exports=a},95525:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(17876),l=t(49584),a=function(r,i,s,f){s.addToRenderList(i);var e=r.currentContext;if(l(r,e,i,s,f)){var o=-i._displayOriginX,d=-i._displayOriginY,c=s.alpha*i.alpha,p=i.width,x=i.height,T=i.cellWidth,E=i.cellHeight,y=Math.ceil(p/T),w=Math.ceil(x/E),A=T,P=E,M=T-(y*T-p),L=E-(w*E-x),F=i.showCells,N=i.showAltCells,b=i.showOutline,V=0,X=0,W=0,k=0,Q=0;if(b&&(A--,P--,M===T&&M--,L===E&&L--),F&&i.fillAlpha>0)for(h(e,i),X=0;X<w;X++)for(N&&(W=X%2),V=0;V<y;V++){if(N&&W){W=0;continue}W++,k=V<y-1?A:M,Q=X<w-1?P:L,e.fillRect(o+V*T,d+X*E,k,Q)}if(N&&i.altFillAlpha>0)for(h(e,i,i.altFillColor,i.altFillAlpha*c),X=0;X<w;X++)for(N&&(W=X%2),V=0;V<y;V++){if(N&&!W){W=1;continue}W=0,k=V<y-1?A:M,Q=X<w-1?P:L,e.fillRect(o+V*T,d+X*E,k,Q)}if(b&&i.outlineFillAlpha>0){for(m(e,i,i.outlineFillColor,i.outlineFillAlpha*c),V=1;V<y;V++){var U=V*T;e.beginPath(),e.moveTo(U+o,d),e.lineTo(U+o,x+d),e.stroke()}for(X=1;X<w;X++){var Y=X*E;e.beginPath(),e.moveTo(o,Y+d),e.lineTo(o+p,Y+d),e.stroke()}}e.restore()}};v.exports=a},9326:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(39169);h.register("grid",function(l,a,r,i,s,f,e,o,d,c){return this.displayList.add(new m(this.scene,l,a,r,i,s,f,e,o,d,c))})},88059:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(50639),l=t(95525),v.exports={renderWebGL:m,renderCanvas:l}},50639:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(75512),l=function(a,r,i,s){i.addToRenderList(r);var f=a.pipelines.set(r.pipeline),e=h(r,i,s),o=f.calcMatrix.copyFrom(e.calc);o.translate(-r._displayOriginX,-r._displayOriginY);var d=i.alpha*r.alpha,c=r.width,p=r.height,x=r.cellWidth,T=r.cellHeight,E=Math.ceil(c/x),y=Math.ceil(p/T),w=x,A=T,P=x-(E*x-c),M=T-(y*T-p),L,F,N=r.showCells,b=r.showAltCells,V=r.showOutline,X=0,W=0,k=0,Q=0,U=0;if(V&&(w--,A--,P===x&&P--,M===T&&M--),a.pipelines.preBatch(r),N&&r.fillAlpha>0)for(L=f.fillTint,F=m.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*d),L.TL=F,L.TR=F,L.BL=F,L.BR=F,W=0;W<y;W++)for(b&&(k=W%2),X=0;X<E;X++){if(b&&k){k=0;continue}k++,Q=X<E-1?w:P,U=W<y-1?A:M,f.batchFillRect(X*x,W*T,Q,U)}if(b&&r.altFillAlpha>0)for(L=f.fillTint,F=m.getTintAppendFloatAlpha(r.altFillColor,r.altFillAlpha*d),L.TL=F,L.TR=F,L.BL=F,L.BR=F,W=0;W<y;W++)for(b&&(k=W%2),X=0;X<E;X++){if(b&&!k){k=1;continue}k=0,Q=X<E-1?w:P,U=W<y-1?A:M,f.batchFillRect(X*x,W*T,Q,U)}if(V&&r.outlineFillAlpha>0){var Y=f.strokeTint,O=m.getTintAppendFloatAlpha(r.outlineFillColor,r.outlineFillAlpha*d);for(Y.TL=O,Y.TR=O,Y.BL=O,Y.BR=O,X=1;X<E;X++){var G=X*x;f.batchLine(G,0,G,p,1,1,1,0,!1)}for(W=1;W<y;W++){var z=W*T;f.batchLine(0,z,c,z,1,1,1,0,!1)}}a.pipelines.postBatch(r)};v.exports=l},4415:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72296),m=t(56694),l=t(91461),a=new m({Extends:l,Mixins:[h],initialize:function(i,s,f,e,o,d,c,p){s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=48),o===void 0&&(o=32),d===void 0&&(d=15658734),c===void 0&&(c=10066329),p===void 0&&(p=13421772),l.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=d,this.fillLeft=c,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,f),this.setSize(e,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setFaces:function(r,i,s){return r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=!0),this.showTop=r,this.showLeft=i,this.showRight=s,this},setFillStyle:function(r,i,s){return this.fillTop=r,this.fillLeft=i,this.fillRight=s,this.isFilled=!0,this}});v.exports=a},32884:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(49584),l=function(a,r,i,s){i.addToRenderList(r);var f=a.currentContext;if(m(a,f,r,i,s)&&r.isFilled){var e=r.width,o=r.height,d=e/2,c=e/r.projection;r.showTop&&(h(f,r,r.fillTop),f.beginPath(),f.moveTo(-d,-o),f.lineTo(0,-c-o),f.lineTo(d,-o),f.lineTo(d,-1),f.lineTo(0,c-1),f.lineTo(-d,-1),f.lineTo(-d,-o),f.fill()),r.showLeft&&(h(f,r,r.fillLeft),f.beginPath(),f.moveTo(-d,0),f.lineTo(0,c),f.lineTo(0,c-o),f.lineTo(-d,-o),f.lineTo(-d,0),f.fill()),r.showRight&&(h(f,r,r.fillRight),f.beginPath(),f.moveTo(d,0),f.lineTo(0,c),f.lineTo(0,c-o),f.lineTo(d,-o),f.lineTo(d,0),f.fill()),f.restore()}};v.exports=l},88154:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(4415);h.register("isobox",function(l,a,r,i,s,f,e){return this.displayList.add(new m(this.scene,l,a,r,i,s,f,e))})},72296:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(33101),l=t(32884),v.exports={renderWebGL:m,renderCanvas:l}},33101:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(75512),l=function(a,r,i,s){i.addToRenderList(r);var f=a.pipelines.set(r.pipeline),e=h(r,i,s),o=f.calcMatrix.copyFrom(e.calc),d=r.width,c=r.height,p=d/2,x=d/r.projection,T=i.alpha*r.alpha;if(r.isFilled){var E,y,w,A,P,M,L,F,N;a.pipelines.preBatch(r),r.showTop&&(E=m.getTintAppendFloatAlpha(r.fillTop,T),y=o.getX(-p,-c),w=o.getY(-p,-c),A=o.getX(0,-x-c),P=o.getY(0,-x-c),M=o.getX(p,-c),L=o.getY(p,-c),F=o.getX(0,x-c),N=o.getY(0,x-c),f.batchQuad(r,y,w,A,P,M,L,F,N,0,0,1,1,E,E,E,E,2)),r.showLeft&&(E=m.getTintAppendFloatAlpha(r.fillLeft,T),y=o.getX(-p,0),w=o.getY(-p,0),A=o.getX(0,x),P=o.getY(0,x),M=o.getX(0,x-c),L=o.getY(0,x-c),F=o.getX(-p,-c),N=o.getY(-p,-c),f.batchQuad(r,y,w,A,P,M,L,F,N,0,0,1,1,E,E,E,E,2)),r.showRight&&(E=m.getTintAppendFloatAlpha(r.fillRight,T),y=o.getX(p,0),w=o.getY(p,0),A=o.getX(0,x),P=o.getY(0,x),M=o.getX(0,x-c),L=o.getY(0,x-c),F=o.getX(p,-c),N=o.getY(p,-c),f.batchQuad(r,y,w,A,P,M,L,F,N,0,0,1,1,E,E,E,E,2)),a.pipelines.postBatch(r)}};v.exports=l},65159:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(93387),l=t(91461),a=new h({Extends:l,Mixins:[m],initialize:function(i,s,f,e,o,d,c,p,x){s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e=48),o===void 0&&(o=32),d===void 0&&(d=!1),c===void 0&&(c=15658734),p===void 0&&(p=10066329),x===void 0&&(x=13421772),l.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=c,this.fillLeft=p,this.fillRight=x,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=d,this.isFilled=!0,this.setPosition(s,f),this.setSize(e,o),this.updateDisplayOrigin()},setProjection:function(r){return this.projection=r,this},setReversed:function(r){return this.isReversed=r,this},setFaces:function(r,i,s){return r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=!0),this.showTop=r,this.showLeft=i,this.showRight=s,this},setFillStyle:function(r,i,s){return this.fillTop=r,this.fillLeft=i,this.fillRight=s,this.isFilled=!0,this}});v.exports=a},9923:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(49584),l=function(a,r,i,s){i.addToRenderList(r);var f=a.currentContext;if(m(a,f,r,i,s)&&r.isFilled){var e=r.width,o=r.height,d=e/2,c=e/r.projection,p=r.isReversed;r.showTop&&p&&(h(f,r,r.fillTop),f.beginPath(),f.moveTo(-d,-o),f.lineTo(0,-c-o),f.lineTo(d,-o),f.lineTo(0,c-o),f.fill()),r.showLeft&&(h(f,r,r.fillLeft),f.beginPath(),p?(f.moveTo(-d,-o),f.lineTo(0,c),f.lineTo(0,c-o)):(f.moveTo(-d,0),f.lineTo(0,c),f.lineTo(0,c-o)),f.fill()),r.showRight&&(h(f,r,r.fillRight),f.beginPath(),p?(f.moveTo(d,-o),f.lineTo(0,c),f.lineTo(0,c-o)):(f.moveTo(d,0),f.lineTo(0,c),f.lineTo(0,c-o)),f.fill()),f.restore()}};v.exports=l},67765:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(65159);h.register("isotriangle",function(l,a,r,i,s,f,e,o){return this.displayList.add(new m(this.scene,l,a,r,i,s,f,e,o))})},93387:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(54946),l=t(9923),v.exports={renderWebGL:m,renderCanvas:l}},54946:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(75512),l=function(a,r,i,s){i.addToRenderList(r);var f=a.pipelines.set(r.pipeline),e=h(r,i,s),o=f.calcMatrix.copyFrom(e.calc),d=r.width,c=r.height,p=d/2,x=d/r.projection,T=r.isReversed,E=i.alpha*r.alpha;if(r.isFilled){a.pipelines.preBatch(r);var y,w,A,P,M,L,F;if(r.showTop&&T){y=m.getTintAppendFloatAlpha(r.fillTop,E),w=o.getX(-p,-c),A=o.getY(-p,-c),P=o.getX(0,-x-c),M=o.getY(0,-x-c),L=o.getX(p,-c),F=o.getY(p,-c);var N=o.getX(0,x-c),b=o.getY(0,x-c);f.batchQuad(r,w,A,P,M,L,F,N,b,0,0,1,1,y,y,y,y,2)}r.showLeft&&(y=m.getTintAppendFloatAlpha(r.fillLeft,E),T?(w=o.getX(-p,-c),A=o.getY(-p,-c),P=o.getX(0,x),M=o.getY(0,x),L=o.getX(0,x-c),F=o.getY(0,x-c)):(w=o.getX(-p,0),A=o.getY(-p,0),P=o.getX(0,x),M=o.getY(0,x),L=o.getX(0,x-c),F=o.getY(0,x-c)),f.batchTri(r,w,A,P,M,L,F,0,0,1,1,y,y,y,2)),r.showRight&&(y=m.getTintAppendFloatAlpha(r.fillRight,E),T?(w=o.getX(p,-c),A=o.getY(p,-c),P=o.getX(0,x),M=o.getY(0,x),L=o.getX(0,x-c),F=o.getY(0,x-c)):(w=o.getX(p,0),A=o.getY(p,0),P=o.getX(0,x),M=o.getY(0,x),L=o.getX(0,x-c),F=o.getY(0,x-c)),f.batchTri(r,w,A,P,M,L,F,0,0,1,1,y,y,y,2)),a.pipelines.postBatch(r)}};v.exports=l},579:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(91461),l=t(88829),a=t(52660),r=new h({Extends:m,Mixins:[a],initialize:function(s,f,e,o,d,c,p,x,T){f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=128),p===void 0&&(p=0),m.call(this,s,"Line",new l(o,d,c,p));var E=Math.max(1,this.geom.right-this.geom.left),y=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,e),this.setSize(E,y),x!==void 0&&this.setStrokeStyle(1,x,T),this.updateDisplayOrigin()},setLineWidth:function(i,s){return s===void 0&&(s=i),this._startWidth=i,this._endWidth=s,this.lineWidth=i,this},setTo:function(i,s,f,e){return this.geom.setTo(i,s,f,e),this}});v.exports=r},52044:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17876),m=t(49584),l=function(a,r,i,s){i.addToRenderList(r);var f=a.currentContext;if(m(a,f,r,i,s)){var e=r._displayOriginX,o=r._displayOriginY;r.isStroked&&(h(f,r),f.beginPath(),f.moveTo(r.geom.x1-e,r.geom.y1-o),f.lineTo(r.geom.x2-e,r.geom.y2-o),f.stroke()),f.restore()}};v.exports=l},85665:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(579);h.register("line",function(l,a,r,i,s,f,e,o){return this.displayList.add(new m(this.scene,l,a,r,i,s,f,e,o))})},52660:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(46952),l=t(52044),v.exports={renderWebGL:m,renderCanvas:l}},46952:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(75512),l=function(a,r,i,s){i.addToRenderList(r);var f=a.pipelines.set(r.pipeline),e=h(r,i,s);f.calcMatrix.copyFrom(e.calc);var o=r._displayOriginX,d=r._displayOriginY,c=i.alpha*r.alpha;if(a.pipelines.preBatch(r),r.isStroked){var p=f.strokeTint,x=m.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*c);p.TL=x,p.TR=x,p.BL=x,p.BR=x;var T=r._startWidth,E=r._endWidth;f.batchLine(r.geom.x1-o,r.geom.y1-d,r.geom.x2-o,r.geom.y2-d,T,E,1,0,!1,e.sprite,e.camera)}a.pipelines.postBatch(r)};v.exports=l},91249:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70573),m=t(56694),l=t(11117),a=t(14045),r=t(8580),i=t(91461),s=t(18974),f=new m({Extends:i,Mixins:[h],initialize:function(o,d,c,p,x,T){d===void 0&&(d=0),c===void 0&&(c=0),i.call(this,o,"Polygon",new r(p));var E=a(this.geom);this.setPosition(d,c),this.setSize(E.width,E.height),x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},smooth:function(e){e===void 0&&(e=1);for(var o=0;o<e;o++)s(this.geom);return this.updateData()},setTo:function(e){this.geom.setTo(e);var o=a(this.geom);return this.setSize(o.width,o.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var e=[],o=this.geom.points,d=0;d<o.length;d++)e.push(o[d].x,o[d].y);return e.push(o[0].x,o[0].y),this.pathIndexes=l(e),this.pathData=e,this}});v.exports=f},40834:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(17876),l=t(49584),a=function(r,i,s,f){s.addToRenderList(i);var e=r.currentContext;if(l(r,e,i,s,f)){var o=i._displayOriginX,d=i._displayOriginY,c=i.pathData,p=c.length-1,x=c[0]-o,T=c[1]-d;e.beginPath(),e.moveTo(x,T),i.closePath||(p-=2);for(var E=2;E<p;E+=2){var y=c[E]-o,w=c[E+1]-d;e.lineTo(y,w)}i.closePath&&e.closePath(),i.isFilled&&(h(e,i),e.fill()),i.isStroked&&(m(e,i),e.stroke()),e.restore()}};v.exports=a},88203:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(91249);h.register("polygon",function(l,a,r,i,s){return this.displayList.add(new m(this.scene,l,a,r,i,s))})},70573:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(72841),l=t(40834),v.exports={renderWebGL:m,renderCanvas:l}},72841:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),m=t(73329),l=t(50262),a=function(r,i,s,f){s.addToRenderList(i);var e=r.pipelines.set(i.pipeline),o=m(i,s,f),d=e.calcMatrix.copyFrom(o.calc),c=i._displayOriginX,p=i._displayOriginY,x=s.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(e,d,i,x,c,p),i.isStroked&&l(e,i,x,c,p),r.pipelines.postBatch(i)};v.exports=a},517:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(74118),l=t(91461),a=t(37673),r=new h({Extends:l,Mixins:[a],initialize:function(s,f,e,o,d,c,p){f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=128),d===void 0&&(d=128),l.call(this,s,"Rectangle",new m(0,0,o,d)),this.setPosition(f,e),this.setSize(o,d),c!==void 0&&this.setFillStyle(c,p),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,s){this.width=i,this.height=s,this.geom.setSize(i,s),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=i,f.hitArea.height=s),this},updateData:function(){var i=[],s=this.geom,f=this._tempLine;return s.getLineA(f),i.push(f.x1,f.y1,f.x2,f.y2),s.getLineB(f),i.push(f.x2,f.y2),s.getLineC(f),i.push(f.x2,f.y2),s.getLineD(f),i.push(f.x2,f.y2),this.pathData=i,this}});v.exports=r},4091:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(17876),l=t(49584),a=function(r,i,s,f){s.addToRenderList(i);var e=r.currentContext;if(l(r,e,i,s,f)){var o=i._displayOriginX,d=i._displayOriginY;i.isFilled&&(h(e,i),e.fillRect(-o,-d,i.width,i.height)),i.isStroked&&(m(e,i),e.beginPath(),e.rect(-o,-d,i.width,i.height),e.stroke()),e.restore()}};v.exports=a},94355:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(517);h.register("rectangle",function(l,a,r,i,s,f){return this.displayList.add(new m(this.scene,l,a,r,i,s,f))})},37673:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(43532),l=t(4091),v.exports={renderWebGL:m,renderCanvas:l}},43532:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(50262),l=t(75512),a=function(r,i,s,f){s.addToRenderList(i);var e=r.pipelines.set(i.pipeline),o=h(i,s,f);e.calcMatrix.copyFrom(o.calc);var d=i._displayOriginX,c=i._displayOriginY,p=s.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var x=e.fillTint,T=l.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*p);x.TL=T,x.TR=T,x.BL=T,x.BR=T,e.batchFillRect(-d,-c,i.width,i.height)}i.isStroked&&m(e,i,p,d,c),r.pipelines.postBatch(i)};v.exports=a},77843:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87956),m=t(56694),l=t(11117),a=t(91461),r=new m({Extends:a,Mixins:[h],initialize:function(s,f,e,o,d,c,p,x){f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=5),d===void 0&&(d=32),c===void 0&&(c=64),a.call(this,s,"Star",null),this._points=o,this._innerRadius=d,this._outerRadius=c,this.setPosition(f,e),this.setSize(c*2,c*2),p!==void 0&&this.setFillStyle(p,x),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],s=this._points,f=this._innerRadius,e=this._outerRadius,o=Math.PI/2*3,d=Math.PI/s,c=e,p=e;i.push(c,p+-e);for(var x=0;x<s;x++)i.push(c+Math.cos(o)*e,p+Math.sin(o)*e),o+=d,i.push(c+Math.cos(o)*f,p+Math.sin(o)*f),o+=d;return i.push(c,p+-e),this.pathIndexes=l(i),this.pathData=i,this}});v.exports=r},11401:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(17876),l=t(49584),a=function(r,i,s,f){s.addToRenderList(i);var e=r.currentContext;if(l(r,e,i,s,f)){var o=i._displayOriginX,d=i._displayOriginY,c=i.pathData,p=c.length-1,x=c[0]-o,T=c[1]-d;e.beginPath(),e.moveTo(x,T),i.closePath||(p-=2);for(var E=2;E<p;E+=2){var y=c[E]-o,w=c[E+1]-d;e.lineTo(y,w)}e.closePath(),i.isFilled&&(h(e,i),e.fill()),i.isStroked&&(m(e,i),e.stroke()),e.restore()}};v.exports=a},23962:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77843),m=t(61286);m.register("star",function(l,a,r,i,s,f,e){return this.displayList.add(new h(this.scene,l,a,r,i,s,f,e))})},87956:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(12037),l=t(11401),v.exports={renderWebGL:m,renderCanvas:l}},12037:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19543),m=t(73329),l=t(50262),a=function(r,i,s,f){s.addToRenderList(i);var e=r.pipelines.set(i.pipeline),o=m(i,s,f),d=e.calcMatrix.copyFrom(o.calc),c=i._displayOriginX,p=i._displayOriginY,x=s.alpha*i.alpha;r.pipelines.preBatch(i),i.isFilled&&h(e,d,i,x,c,p),i.isStroked&&l(e,i,x,c,p),r.pipelines.postBatch(i)};v.exports=a},21873:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(91461),l=t(66349),a=t(70498),r=new h({Extends:m,Mixins:[a],initialize:function(s,f,e,o,d,c,p,x,T,E,y){f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=128),c===void 0&&(c=64),p===void 0&&(p=0),x===void 0&&(x=128),T===void 0&&(T=128),m.call(this,s,"Triangle",new l(o,d,c,p,x,T));var w=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(f,e),this.setSize(w,A),E!==void 0&&this.setFillStyle(E,y),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,s,f,e,o,d){return this.geom.setTo(i,s,f,e,o,d),this.updateData()},updateData:function(){var i=[],s=this.geom,f=this._tempLine;return s.getLineA(f),i.push(f.x1,f.y1,f.x2,f.y2),s.getLineB(f),i.push(f.x2,f.y2),s.getLineC(f),i.push(f.x2,f.y2),this.pathData=i,this}});v.exports=r},60213:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15608),m=t(17876),l=t(49584),a=function(r,i,s,f){s.addToRenderList(i);var e=r.currentContext;if(l(r,e,i,s,f)){var o=i._displayOriginX,d=i._displayOriginY,c=i.geom.x1-o,p=i.geom.y1-d,x=i.geom.x2-o,T=i.geom.y2-d,E=i.geom.x3-o,y=i.geom.y3-d;e.beginPath(),e.moveTo(c,p),e.lineTo(x,T),e.lineTo(E,y),e.closePath(),i.isFilled&&(h(e,i),e.fill()),i.isStroked&&(m(e,i),e.stroke()),e.restore()}};v.exports=a},79296:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(21873);h.register("triangle",function(l,a,r,i,s,f,e,o,d,c){return this.displayList.add(new m(this.scene,l,a,r,i,s,f,e,o,d,c))})},70498:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(72291),l=t(60213),v.exports={renderWebGL:m,renderCanvas:l}},72291:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=t(50262),l=t(75512),a=function(r,i,s,f){s.addToRenderList(i);var e=r.pipelines.set(i.pipeline),o=h(i,s,f);e.calcMatrix.copyFrom(o.calc);var d=i._displayOriginX,c=i._displayOriginY,p=s.alpha*i.alpha;if(r.pipelines.preBatch(i),i.isFilled){var x=e.fillTint,T=l.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*p);x.TL=T,x.TR=T,x.BL=T,x.BR=T;var E=i.geom.x1-d,y=i.geom.y1-c,w=i.geom.x2-d,A=i.geom.y2-c,P=i.geom.x3-d,M=i.geom.y3-c;e.batchFillTriangle(E,y,w,A,P,M,o.sprite,o.camera)}i.isStroked&&m(e,i,p,d,c),r.pipelines.postBatch(i)};v.exports=a},13747:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),m=t(56694),l=t(64937),a=t(89980),r=t(20791),i=new m({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,r],initialize:function(f,e,o,d,c){a.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(d,c),this.setPosition(e,o),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,f){this.anims.update(s,f)},play:function(s,f){return this.anims.play(s,f)},playReverse:function(s,f){return this.anims.playReverse(s,f)},playAfterDelay:function(s,f){return this.anims.playAfterDelay(s,f)},playAfterRepeat:function(s,f){return this.anims.playAfterRepeat(s,f)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return l.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});v.exports=i},27573:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m.addToRenderList(h),t.batchSprite(h,h.frame,m,l)};v.exports=S},89219:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(32291),l=t(99325),a=t(20494),r=t(13747);l.register("sprite",function(i,s){i===void 0&&(i={});var f=a(i,"key",null),e=a(i,"frame",null),o=new r(this.scene,0,0,f,e);return s!==void 0&&(i.add=s),h(this.scene,o,i),m(o,i),o})},66135:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(13747);h.register("sprite",function(l,a,r,i){return this.displayList.add(new m(this.scene,l,a,r,i))})},20791:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(21034),l=t(27573),v.exports={renderWebGL:m,renderCanvas:l}},21034:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m.addToRenderList(h),h.pipeline.batchSprite(h,m,l)};v.exports=S},32979:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=t.canvas,a=t.context,r=t.style,i=[],s=0,f=m.length;r.maxLines>0&&r.maxLines<m.length&&(f=r.maxLines),r.syncFont(l,a);for(var e=0;e<f;e++){var o=r.strokeThickness;o+=a.measureText(m[e]).width,r.wordWrap&&(o-=a.measureText(" ").width),i[e]=Math.ceil(o),s=Math.max(s,i[e])}var d=h.fontSize+r.strokeThickness,c=d*f,p=t.lineSpacing;return f>1&&(c+=p*(f-1)),{width:s,height:c,lines:f,lineWidths:i,lineSpacing:p,lineHeight:d}};v.exports=S},27030:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),m=function(l){var a=h.create(this),r=a.getContext("2d",{willReadFrequently:!0});l.syncFont(a,r);var i=r.measureText(l.testString);if("actualBoundingBoxAscent"in i){var s=i.actualBoundingBoxAscent,f=i.actualBoundingBoxDescent;return h.remove(a),{ascent:s,descent:f,fontSize:s+f}}var e=Math.ceil(i.width*l.baselineX),o=e,d=2*o;o=o*l.baselineY|0,a.width=e,a.height=d,r.fillStyle="#f00",r.fillRect(0,0,e,d),r.font=l._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(l.testString,0,o);var c={ascent:0,descent:0,fontSize:0},p=r.getImageData(0,0,e,d);if(!p)return c.ascent=o,c.descent=o+6,c.fontSize=c.ascent+c.descent,h.remove(a),c;var x=p.data,T=x.length,E=e*4,y,w,A=0,P=!1;for(y=0;y<o;y++){for(w=0;w<E;w+=4)if(x[A+w]!==255){P=!0;break}if(!P)A+=E;else break}for(c.ascent=o-y,A=T-E,P=!1,y=d;y>o;y--){for(w=0;w<E;w+=4)if(x[A+w]!==255){P=!0;break}if(!P)A-=E;else break}return c.descent=y-o,c.fontSize=c.ascent+c.descent,h.remove(a),c};v.exports=m},76555:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99584),m=t(61068),l=t(56694),a=t(64937),r=t(89980),i=t(32979),s=t(10850),f=t(55638),e=t(80032),o=t(74744),d=new l({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,e],initialize:function(p,x,T,E,y){x===void 0&&(x=0),T===void 0&&(T=0),r.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(x,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.style=new o(this,y),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=p.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(E),y&&y.padding&&this.setPadding(y.padding),y&&y.lineSpacing&&this.setLineSpacing(y.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(c){var p=this.style;if(p.wordWrapCallback){var x=p.wordWrapCallback.call(p.wordWrapCallbackScope,c,this);return Array.isArray(x)&&(x=x.join(`
`)),x}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(c,this.context,this.style.wordWrapWidth):this.basicWordWrap(c,this.context,this.style.wordWrapWidth):c},advancedWordWrap:function(c,p,x){for(var T="",E=c.replace(/ +/gi," ").split(this.splitRegExp),y=E.length,w=0;w<y;w++){var A=E[w],P="";A=A.replace(/^ *|\s*$/gi,"");var M=p.measureText(A).width;if(M<x){T+=A+`
`;continue}for(var L=x,F=A.split(" "),N=0;N<F.length;N++){var b=F[N],V=b+" ",X=p.measureText(V).width;if(X>L){if(N===0){for(var W=V;W.length&&(W=W.slice(0,-1),X=p.measureText(W).width,!(X<=L)););if(!W.length)throw new Error("wordWrapWidth < a single character");var k=b.substr(W.length);F[N]=k,P+=W}var Q=F[N].length?N:N+1,U=F.slice(Q).join(" ").replace(/[ \n]*$/gi,"");E.splice(w+1,0,U),y=E.length;break}else P+=V,L-=X}T+=P.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(c,p,x){for(var T="",E=c.split(this.splitRegExp),y=E.length-1,w=p.measureText(" ").width,A=0;A<=y;A++){for(var P=x,M=E[A].split(" "),L=M.length-1,F=0;F<=L;F++){var N=M[F],b=p.measureText(N).width,V=b;F<L&&(V+=w),V>P&&F>0&&(T+=`
`,P=x),T+=N,F<L?(T+=" ",P-=V):P-=b}A<y&&(T+=`
`)}return T},getWrappedText:function(c){c===void 0&&(c=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(c);return p.split(this.splitRegExp)},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this._text&&(this._text=c.toString(),this.updateText()),this},appendText:function(c,p){p===void 0&&(p=!0),!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c=c.toString();var x=this._text.concat(p?`
`+c:c);return x!==this._text&&(this._text=x,this.updateText()),this},setStyle:function(c){return this.style.setStyle(c)},setFont:function(c){return this.style.setFont(c)},setFontFamily:function(c){return this.style.setFontFamily(c)},setFontSize:function(c){return this.style.setFontSize(c)},setFontStyle:function(c){return this.style.setFontStyle(c)},setFixedSize:function(c,p){return this.style.setFixedSize(c,p)},setBackgroundColor:function(c){return this.style.setBackgroundColor(c)},setFill:function(c){return this.style.setFill(c)},setColor:function(c){return this.style.setColor(c)},setStroke:function(c,p){return this.style.setStroke(c,p)},setShadow:function(c,p,x,T,E,y){return this.style.setShadow(c,p,x,T,E,y)},setShadowOffset:function(c,p){return this.style.setShadowOffset(c,p)},setShadowColor:function(c){return this.style.setShadowColor(c)},setShadowBlur:function(c){return this.style.setShadowBlur(c)},setShadowStroke:function(c){return this.style.setShadowStroke(c)},setShadowFill:function(c){return this.style.setShadowFill(c)},setWordWrapWidth:function(c,p){return this.style.setWordWrapWidth(c,p)},setWordWrapCallback:function(c,p){return this.style.setWordWrapCallback(c,p)},setAlign:function(c){return this.style.setAlign(c)},setResolution:function(c){return this.style.setResolution(c)},setLineSpacing:function(c){return this.lineSpacing=c,this.updateText()},setPadding:function(c,p,x,T){if(typeof c=="object"){var E=c,y=s(E,"x",null);y!==null?(c=y,x=y):(c=s(E,"left",0),x=s(E,"right",c));var w=s(E,"y",null);w!==null?(p=w,T=w):(p=s(E,"top",0),T=s(E,"bottom",p))}else c===void 0&&(c=0),p===void 0&&(p=c),x===void 0&&(x=c),T===void 0&&(T=p);return this.padding.left=c,this.padding.top=p,this.padding.right=x,this.padding.bottom=T,this.updateText()},setMaxLines:function(c){return this.style.setMaxLines(c)},updateText:function(){var c=this.canvas,p=this.context,x=this.style,T=x.resolution,E=x.metrics;x.syncFont(c,p);var y=this._text;(x.wordWrapWidth||x.wordWrapCallback)&&(y=this.runWordWrap(this._text));var w=y.split(this.splitRegExp),A=i(this,E,w),P=this.padding,M;x.fixedWidth===0?(this.width=A.width+P.left+P.right,M=A.width):(this.width=x.fixedWidth,M=this.width-P.left-P.right,M<A.width&&(M=A.width)),x.fixedHeight===0?this.height=A.height+P.top+P.bottom:this.height=x.fixedHeight;var L=this.width,F=this.height;this.updateDisplayOrigin(),L*=T,F*=T,L=Math.max(L,1),F=Math.max(F,1),c.width!==L||c.height!==F?(c.width=L,c.height=F,this.frame.setSize(L,F),x.syncFont(c,p),x.rtl&&(p.direction="rtl")):p.clearRect(0,0,L,F),p.save(),p.scale(T,T),x.backgroundColor&&(p.fillStyle=x.backgroundColor,p.fillRect(0,0,L,F)),x.syncStyle(c,p),p.translate(P.left,P.top);for(var N,b,V=0;V<A.lines;V++){if(N=x.strokeThickness/2,b=x.strokeThickness/2+V*A.lineHeight+E.ascent,V>0&&(b+=A.lineSpacing*V),x.rtl)N=L-N-P.left-P.right;else if(x.align==="right")N+=M-A.lineWidths[V];else if(x.align==="center")N+=(M-A.lineWidths[V])/2;else if(x.align==="justify"){var X=.85;if(A.lineWidths[V]/A.width>=X){var W=A.width-A.lineWidths[V],k=p.measureText(" ").width,Q=w[V].trim(),U=Q.split(" ");W+=(w[V].length-Q.length)*k;for(var Y=Math.floor(W/k),O=0;Y>0;)U[O]+=" ",O=(O+1)%(U.length-1||1),--Y;w[V]=U.join(" ")}}this.autoRound&&(N=Math.round(N),b=Math.round(b)),x.strokeThickness&&(x.syncShadow(p,x.shadowStroke),p.strokeText(w[V],N,b)),x.color&&(x.syncShadow(p,x.shadowFill),p.fillText(w[V],N,b))}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var G=this.input;return G&&!G.customHitArea&&(G.hitArea.width=this.width,G.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(c){this.setText(c)}},toJSON:function(){var c=a.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return c.data=p,c},preDestroy:function(){this.style.rtl&&f(this.canvas),m.remove(this.canvas),this.texture.destroy()}});v.exports=d},71649:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){h.width===0||h.height===0||(m.addToRenderList(h),t.batchSprite(h,h.frame,m,l))};v.exports=S},75397:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(76555);m.register("text",function(r,i){r===void 0&&(r={});var s=l(r,"text",""),f=l(r,"style",null),e=l(r,"padding",null);e!==null&&(f.padding=e);var o=new a(this.scene,0,0,s,f);return i!==void 0&&(r.add=i),h(this.scene,o,r),o.autoRound=l(r,"autoRound",!0),o.resolution=l(r,"resolution",1),o})},94627:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76555),m=t(61286);m.register("text",function(l,a,r,i){return this.displayList.add(new h(this.scene,l,a,r,i))})},80032:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(76128),l=t(71649),v.exports={renderWebGL:m,renderCanvas:l}},74744:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(20494),l=t(10850),a=t(27030),r={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new h({initialize:function(f,e){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(e,!1,!0)},setStyle:function(s,f,e){f===void 0&&(f=!0),e===void 0&&(e=!1),s&&s.hasOwnProperty("fontSize")&&typeof s.fontSize=="number"&&(s.fontSize=s.fontSize.toString()+"px");for(var o in r){var d=e?r[o][1]:this[o];o==="wordWrapCallback"||o==="wordWrapCallbackScope"?this[o]=l(s,r[o][0],d):this[o]=m(s,r[o][0],d)}var c=l(s,"font",null);c!==null&&this.setFont(c,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var p=l(s,"fill",null);p!==null&&(this.color=p);var x=l(s,"metrics",!1);return x?this.metrics={ascent:l(x,"ascent",0),descent:l(x,"descent",0),fontSize:l(x,"fontSize",0)}:(f||!this.metrics)&&(this.metrics=a(this)),f?this.parent.updateText():this.parent},syncFont:function(s,f){f.font=this._font},syncStyle:function(s,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(s,f){f?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(s,f){f===void 0&&(f=!0);var e=s,o="",d="";if(typeof s!="string")e=l(s,"fontFamily","Courier"),o=l(s,"fontSize","16px"),d=l(s,"fontStyle","");else{var c=s.split(" "),p=0;d=c.length>2?c[p++]:"",o=c[p++]||"16px",e=c[p++]||"Courier"}return(e!==this.fontFamily||o!==this.fontSize||d!==this.fontStyle)&&(this.fontFamily=e,this.fontSize=o,this.fontStyle=d,f&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,f){return this.fixedWidth=s,this.fixedHeight=f,s&&(this.parent.width=s),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,f){return f===void 0&&(f=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==f)&&(this.stroke=s,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(s,f,e,o,d,c){return s===void 0&&(s=0),f===void 0&&(f=0),e===void 0&&(e="#000"),o===void 0&&(o=0),d===void 0&&(d=!1),c===void 0&&(c=!0),this.shadowOffsetX=s,this.shadowOffsetY=f,this.shadowColor=e,this.shadowBlur=o,this.shadowStroke=d,this.shadowFill=c,this.update(!1)},setShadowOffset:function(s,f){return s===void 0&&(s=0),f===void 0&&(f=s),this.shadowOffsetX=s,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,f){return f===void 0&&(f=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(s,f){return f===void 0&&(f=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var f in r)s[f]=this[f];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});v.exports=i},76128:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),m=function(l,a,r,i){if(!(a.width===0||a.height===0)){r.addToRenderList(a);var s=a.frame,f=s.width,e=s.height,o=h.getTintAppendFloatAlpha,d=l.pipelines.set(a.pipeline,a),c=d.setTexture2D(s.glTexture,a);d.batchTexture(a,s.glTexture,f,e,a.x,a.y,f/a.style.resolution,e/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,f,e,o(a.tintTopLeft,r.alpha*a._alphaTL),o(a.tintTopRight,r.alpha*a._alphaTR),o(a.tintBottomLeft,r.alpha*a._alphaBL),o(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,0,0,r,i,!1,c)}};v.exports=m},35856:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),m=t(56694),l=t(64937),a=t(89980),r=t(3504),i=t(8213),s=t(9271),f=t(93736),e=8,o=new m({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,s],initialize:function(c,p,x,T,E,y,w){var A=c.sys.renderer;a.call(this,c,"TileSprite");var P=c.sys.textures.get(y),M=P.get(w);M.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),P=c.sys.textures.get("__MISSING"),M=P.get()),P.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),P=c.sys.textures.get("__MISSING"),M=P.get()),!T||!E?(T=M.width,E=M.height):(T=Math.floor(T),E=Math.floor(E)),this._tilePosition=new f,this._tileScale=new f(1,1),this.dirty=!1,this.renderer=A,this.canvas=h.create(this,T,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=P,this.displayFrame=M,this._crop=this.resetCropObject(),this.texture=c.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=r(M.width),this.potHeight=r(M.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(p,x),this.setSize(T,E),this.setFrame(w),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,c){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(c)},setFrame:function(d){var c=this.displayTexture.get(d);return this.potWidth=r(c.width),this.potHeight=r(c.height),this.canvas.width=0,!c.cutWidth||!c.cutHeight?this.renderFlags&=~e:this.renderFlags|=e,this.displayFrame=c,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,c){return d!==void 0&&(this.tilePositionX=d),c!==void 0&&(this.tilePositionY=c),this},setTileScale:function(d,c){return d===void 0&&(d=this.tileScaleX),c===void 0&&(c=d),this.tileScaleX=d,this.tileScaleY=c,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var c=this.fillContext,p=this.fillCanvas,x=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(x=d.cutWidth,T=d.cutHeight),c.clearRect(0,0,x,T),p.width=x,p.height=T,c.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,x,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=c.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var c=this.context;this.scene.sys.game.config.antialias||i.disable(c);var p=this._tileScale.x,x=this._tileScale.y,T=this._tilePosition.x,E=this._tilePosition.y;c.clearRect(0,0,this.width,this.height),c.save(),c.scale(p,x),c.translate(-T,-E),c.fillStyle=this.fillPattern,c.fillRect(T,E,this.width/p,this.height/x),c.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});v.exports=o},93305:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){h.updateCanvas(),m.addToRenderList(h),t.batchSprite(h,h.frame,m,l)};v.exports=S},63950:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(35856);m.register("tileSprite",function(r,i){r===void 0&&(r={});var s=l(r,"x",0),f=l(r,"y",0),e=l(r,"width",512),o=l(r,"height",512),d=l(r,"key",""),c=l(r,"frame",""),p=new a(this.scene,s,f,e,o,d,c);return i!==void 0&&(r.add=i),h(this.scene,p,r),p})},20509:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35856),m=t(61286);m.register("tileSprite",function(l,a,r,i,s,f){return this.displayList.add(new h(this.scene,l,a,r,i,s,f))})},9271:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(74287),l=t(93305),v.exports={renderWebGL:m,renderCanvas:l}},74287:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),m=function(l,a,r,i){a.updateCanvas();var s=a.width,f=a.height;if(!(s===0||f===0)){r.addToRenderList(a);var e=h.getTintAppendFloatAlpha,o=l.pipelines.set(a.pipeline,a),d=o.setTexture2D(a.fillPattern,a);o.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,s,f,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*s,a.originY*f,0,0,s,f,e(a.tintTopLeft,r.alpha*a._alphaTL),e(a.tintTopRight,r.alpha*a._alphaTR),e(a.tintBottomLeft,r.alpha*a._alphaBL),e(a.tintBottomRight,r.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,r,i,!1,d)}};v.exports=m},8630:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(64937),a=t(56631),r=t(97081),i=t(89980),s=t(83392),f=t(76038),e=t(76583),o=t(77974),d=new m({Extends:i,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.TextureCrop,l.Tint,l.Transform,l.Visible,o],initialize:function(p,x,T,E){i.call(this,p,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=e(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var y=p.sys.game;this._device=y.device.video,this.setPosition(x,T),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),y.events.on(r.PAUSE,this.globalPause,this),y.events.on(r.RESUME,this.globalResume,this);var w=p.sys.sound;w&&w.on(f.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(c){var p=this.scene.sys.cache.video.get(c);return p?(this.cacheKey=c,this.loadHandler(p.url,p.noAudio,p.crossOrigin)):console.warn("No video in cache for key: "+c),this},changeSource:function(c,p,x,T,E){p===void 0&&(p=!0),x===void 0&&(x=!1),this.cacheKey!==c&&(this.load(c),p&&this.play(x,T,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(c,p,x){p===void 0&&(p=!1);var T=this._device.getVideoURL(c);return T?(this.cacheKey="",this.loadHandler(T.url,p,x)):console.warn("No supported video format found for "+c),this},loadMediaStream:function(c,p,x){return this.loadHandler(null,p,x,c)},loadHandler:function(c,p,x,T){p||(p=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),p?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),x?E.setAttribute("crossorigin",x):E.removeAttribute("crossorigin"),T)if("srcObject"in E)try{E.srcObject=T}catch(y){if(y.name!=="TypeError")throw y;E.src=URL.createObjectURL(T)}else E.src=URL.createObjectURL(T);else E.src=c;return this.addLoadEventHandlers(),this.retry=0,this.video=E,this._playCalled=!1,E.load(),this},requestVideoFrame:function(c,p){var x=this.video;if(x){var T=p.width,E=p.height,y=this.videoTexture,w=this.videoTextureSource,A=!y||w.source!==x;A?(this._codePaused=x.paused,this._codeMuted=x.muted,y?(w.source=x,w.width=T,w.height=E,y.get().setSize(T,E)):(y=this.scene.sys.textures.create(this._key,x,T,E),y.add("__BASE",0,0,0,T,E),this.setTexture(y),this.videoTexture=y,this.videoTextureSource=y.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(a.VIDEO_TEXTURE,this,y)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=p;var P=p.mediaTime;A&&(this._lastUpdate=P,this.emit(a.VIDEO_CREATED,this,T,E),this.frameReady||(this.frameReady=!0,this.emit(a.VIDEO_PLAY,this))),this._playingMarker?P>=this._markerOut&&(x.loop?(x.currentTime=this._markerIn,this.emit(a.VIDEO_LOOP,this)):(this.stop(!1),this.emit(a.VIDEO_COMPLETE,this))):P<this._lastUpdate&&this.emit(a.VIDEO_LOOP,this),this._lastUpdate=P,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(c,p,x){p===void 0&&(p=-1),x===void 0&&(x=s.MAX_SAFE_INTEGER);var T=this.video;return!T||this.isPlaying()?(T||console.warn("Video not loaded"),this):(c===void 0&&(c=T.loop),T.loop=c,this._markerIn=p,this._markerOut=x,this._playingMarker=p>-1&&x>p&&x<s.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=T.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var c=this.video;c&&(c.addEventListener("error",this._loadCallbackHandler),c.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var c=this.video;c&&(c.removeEventListener("error",this._loadCallbackHandler),c.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var c=this.video;if(c){var p=this._callbacks;for(var x in p)c.addEventListener(x,p[x])}},removeEventHandlers:function(){var c=this.video;if(c){var p=this._callbacks;for(var x in p)c.removeEventListener(x,p[x])}},createPlayPromise:function(c){c===void 0&&(c=!0);var p=this.video,x=p.play();if(x!==void 0){var T=this.playSuccess.bind(this),E=this.playError.bind(this);if(!c){var y=this;E=function(){y.failedPlayAttempts++}}x.then(T).catch(E)}else p.addEventListener("playing",this._callbacks.legacy),c||this.failedPlayAttempts++},addMarker:function(c,p,x){return!isNaN(p)&&p>=0&&!isNaN(x)&&x>p&&(this.markers[c]=[p,x]),this},playMarker:function(c,p){var x=this.markers[c];return x&&this.play(p,x[0],x[1]),this},removeMarker:function(c){return delete this.markers[c],this},snapshot:function(c,p){return c===void 0&&(c=this.width),p===void 0&&(p=this.height),this.snapshotArea(0,0,this.width,this.height,c,p)},snapshotArea:function(c,p,x,T,E,y){c===void 0&&(c=0),p===void 0&&(p=0),x===void 0&&(x=this.width),T===void 0&&(T=this.height),E===void 0&&(E=x),y===void 0&&(y=T);var w=this.video,A=this.snapshotTexture;return A?(A.setSize(E,y),w&&A.context.drawImage(w,c,p,x,T,0,0,E,y)):(A=this.scene.sys.textures.createCanvas(e(),E,y),this.snapshotTexture=A,w&&A.context.drawImage(w,c,p,x,T,0,0,E,y)),A.update()},saveSnapshotTexture:function(c){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,c):this.snapshotTexture=this.scene.sys.textures.createCanvas(c,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(a.VIDEO_UNLOCKED,this));var c=this.scene.sys.sound;c&&c.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(c){var p=c.name;p==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(a.VIDEO_LOCKED,this)):p==="NotSupportedError"?(this.stop(!1),this.emit(a.VIDEO_UNSUPPORTED,this,c)):(this.stop(!1),this.emit(a.VIDEO_ERROR,this,c))},legacyPlayHandler:function(){var c=this.video;c&&(this.playSuccess(),c.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(a.VIDEO_PLAYING,this)},loadErrorHandler:function(c){this.stop(!1),this.emit(a.VIDEO_ERROR,this,c)},stalledHandler:function(c){this.isStalled=!0,this.emit(a.VIDEO_STALLED,this,c)},completeHandler:function(){this._playCalled=!1,this.emit(a.VIDEO_COMPLETE,this)},preUpdate:function(c,p){var x=this.video;!x||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=p,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(c){var p=this.video;if(p){var x=p.duration;if(x!==1/0&&!isNaN(x)){var T=x*c;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(c){var p=this.video;if(p){if(typeof c=="string"){var x=c[0],T=parseFloat(c.substr(1));x==="+"?c=p.currentTime+T:x==="-"&&(c=p.currentTime-T)}p.currentTime=c}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(a.VIDEO_SEEKED,this)},getProgress:function(){var c=this.video;if(c){var p=c.duration;if(p!==1/0&&!isNaN(p))return c.currentTime/p}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(c){c===void 0&&(c=!0),this._codeMuted=c;var p=this.video;return p&&(p.muted=this._systemMuted?!0:c),this},isMuted:function(){return this._codeMuted},globalMute:function(c,p){this._systemMuted=p;var x=this.video;x&&(x.muted=this._codeMuted?!0:p)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(c){c===void 0&&(c=!0);var p=this.video;return this._codePaused=c,p&&!p.ended&&(c?p.paused||(this.removeEventHandlers(),p.pause()):c||(this._playCalled?p.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(c){return c===void 0&&(c=1),this.video&&(this.video.volume=h(c,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(c){return this.video&&(this.video.playbackRate=c),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(c){return c===void 0&&(c=!0),this.video&&(this.video.loop=c),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(c,p){return p===void 0&&(p=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,c),this.videoTextureSource.setFlipY(p)),this._key=c,this.flipY=p,!!this.videoTexture},stop:function(c){c===void 0&&(c=!0);var p=this.video;return p&&(this.removeEventHandlers(),p.cancelVideoFrameCallback(this._rfvCallbackId),p.pause()),this.retry=0,this._playCalled=!1,c&&this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var c=this.video;if(c){for(c.parentNode&&c.parentNode.removeChild(c);c.hasChildNodes();)c.removeChild(c.firstChild);c.removeAttribute("autoplay"),c.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var c=this.scene.sys.game.events;c.off(r.PAUSE,this.globalPause,this),c.off(r.RESUME,this.globalResume,this);var p=this.scene.sys.sound;p&&p.off(f.GLOBAL_MUTE,this.globalMute,this)}});v.exports=d},56933:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){h.videoTexture&&(m.addToRenderList(h),t.batchSprite(h,h.frame,m,l))};v.exports=S},65601:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88933),m=t(99325),l=t(20494),a=t(8630);m.register("video",function(r,i){r===void 0&&(r={});var s=l(r,"key",null),f=new a(this.scene,0,0,s);return i!==void 0&&(r.add=i),h(this.scene,f,r),f})},215:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8630),m=t(61286);m.register("video",function(l,a,r){return this.displayList.add(new h(this.scene,l,a,r))})},77974:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(83572),l=t(56933),v.exports={renderWebGL:m,renderCanvas:l}},83572:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){h.videoTexture&&(m.addToRenderList(h),h.pipeline.batchSprite(h,m,l))};v.exports=S},71030:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),m=t(26673),l=t(65650),a=t(56694),r=t(64937),i=t(89980),s=t(74118),f=t(94287),e=new a({Extends:i,Mixins:[r.Depth,r.GetBounds,r.Origin,r.Transform,r.ScrollFactor,r.Visible],initialize:function(d,c,p,x,T){x===void 0&&(x=1),T===void 0&&(T=x),i.call(this,d,"Zone"),this.setPosition(c,p),this.width=x,this.height=T,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}},setSize:function(o,d,c){c===void 0&&(c=!0),this.width=o,this.height=d,this.updateDisplayOrigin();var p=this.input;return c&&p&&!p.customHitArea&&(p.hitArea.width=o,p.hitArea.height=d),this},setDisplaySize:function(o,d){return this.displayWidth=o,this.displayHeight=d,this},setCircleDropZone:function(o){return this.setDropZone(new m(0,0,o),l)},setRectangleDropZone:function(o,d){return this.setDropZone(new s(0,0,o,d),f)},setDropZone:function(o,d){return this.input||this.setInteractive(o,d,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(o,d,c){c.addToRenderList(d)},renderWebGL:function(o,d,c){c.addToRenderList(d)}});v.exports=e},24067:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),m=t(20494),l=t(71030);h.register("zone",function(a){var r=m(a,"x",0),i=m(a,"y",0),s=m(a,"width",1),f=m(a,"height",s);return new l(this.scene,r,i,s,f)})},34546:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71030),m=t(61286);m.register("zone",function(l,a,r,i){return this.displayList.add(new h(this.scene,l,a,r,i))})},95847:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};v.exports=S},26673:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(65650),l=t(94026),a=t(62941),r=t(52394),i=t(30977),s=new h({initialize:function(e,o,d){e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=0),this.type=r.CIRCLE,this.x=e,this.y=o,this._radius=d,this._diameter=d*2},contains:function(f,e){return m(this,f,e)},getPoint:function(f,e){return l(this,f,e)},getPoints:function(f,e,o){return a(this,f,e,o)},getRandomPoint:function(f){return i(this,f)},setTo:function(f,e,o){return this.x=f,this.y=e,this._radius=o,this._diameter=o*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,e){return e===void 0&&(e=f),this.x=f,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});v.exports=s},37964:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};v.exports=S},72233:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a,r){return r===void 0&&(r=new h),r.x=l.x+l.radius*Math.cos(a),r.y=l.y+l.radius*Math.sin(a),r};v.exports=m},61761:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),m=function(l){return new h(l.x,l.y,l.radius)};v.exports=m},65650:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(t.radius>0&&h>=t.left&&h<=t.right&&m>=t.top&&m<=t.bottom){var l=(t.x-h)*(t.x-h),a=(t.y-m)*(t.y-m);return l+a<=t.radius*t.radius}else return!1};v.exports=S},39187:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),m=function(l,a){return h(l,a.x,a.y)};v.exports=m},58672:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),m=function(l,a){return h(l,a.x,a.y)&&h(l,a.right,a.y)&&h(l,a.x,a.bottom)&&h(l,a.right,a.bottom)};v.exports=m},42997:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.radius)};v.exports=S},94894:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.radius===h.radius};v.exports=S},48027:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=function(l,a){return a===void 0&&(a=new h),a.x=l.left,a.y=l.top,a.width=l.diameter,a.height=l.diameter,a};v.exports=m},94026:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72233),m=t(91806),l=t(83392),a=t(79967),r=function(i,s,f){f===void 0&&(f=new a);var e=m(s,0,l.PI2);return h(i,e,f)};v.exports=r},62941:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37964),m=t(72233),l=t(91806),a=t(83392),r=function(i,s,f,e){e===void 0&&(e=[]),!s&&f>0&&(s=h(i)/f);for(var o=0;o<s;o++){var d=l(o/s,0,a.PI2);e.push(m(i,d))}return e};v.exports=r},34585:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x+=h,t.y+=m,t};v.exports=S},88665:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};v.exports=S},30977:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){a===void 0&&(a=new h);var r=2*Math.PI*Math.random(),i=Math.random()+Math.random(),s=i>1?2-i:i,f=s*Math.cos(r),e=s*Math.sin(r);return a.x=l.x+f*l.radius,a.y=l.y+e*l.radius,a};v.exports=m},6112:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673);h.Area=t(95847),h.Circumference=t(37964),h.CircumferencePoint=t(72233),h.Clone=t(61761),h.Contains=t(65650),h.ContainsPoint=t(39187),h.ContainsRect=t(58672),h.CopyFrom=t(42997),h.Equals=t(94894),h.GetBounds=t(48027),h.GetPoint=t(94026),h.GetPoints=t(62941),h.Offset=t(34585),h.OffsetPoint=t(88665),h.Random=t(30977),v.exports=h},52394:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};v.exports=S},58605:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};v.exports=S},39507:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.width/2,m=t.height/2,l=Math.pow(h-m,2)/Math.pow(h+m,2);return Math.PI*(h+m)*(1+3*l/(10+Math.sqrt(4-3*l)))};v.exports=S},86998:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a,r){r===void 0&&(r=new h);var i=l.width/2,s=l.height/2;return r.x=l.x+i*Math.cos(a),r.y=l.y+s*Math.sin(a),r};v.exports=m},81773:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95669),m=function(l){return new h(l.x,l.y,l.width,l.height)};v.exports=m},72313:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(t.width<=0||t.height<=0)return!1;var l=(h-t.x)/t.width,a=(m-t.y)/t.height;return l*=l,a*=a,l+a<.25};v.exports=S},34368:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72313),m=function(l,a){return h(l,a.x,a.y)};v.exports=m},71431:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72313),m=function(l,a){return h(l,a.x,a.y)&&h(l,a.right,a.y)&&h(l,a.x,a.bottom)&&h(l,a.right,a.bottom)};v.exports=m},75459:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};v.exports=S},95669:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72313),l=t(95340),a=t(54978),r=t(52394),i=t(72006),s=new h({initialize:function(e,o,d,c){e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=r.ELLIPSE,this.x=e,this.y=o,this.width=d,this.height=c},contains:function(f,e){return m(this,f,e)},getPoint:function(f,e){return l(this,f,e)},getPoints:function(f,e,o){return a(this,f,e,o)},getRandomPoint:function(f){return i(this,f)},setTo:function(f,e,o,d){return this.x=f,this.y=e,this.width=o,this.height=d,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,e){return e===void 0&&(e=f),this.x=f,this.y=e,this},setSize:function(f,e){return e===void 0&&(e=f),this.width=f,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});v.exports=s},98068:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};v.exports=S},72897:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=function(l,a){return a===void 0&&(a=new h),a.x=l.left,a.y=l.top,a.width=l.width,a.height=l.height,a};v.exports=m},95340:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86998),m=t(91806),l=t(83392),a=t(79967),r=function(i,s,f){f===void 0&&(f=new a);var e=m(s,0,l.PI2);return h(i,e,f)};v.exports=r},54978:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(39507),m=t(86998),l=t(91806),a=t(83392),r=function(i,s,f,e){e===void 0&&(e=[]),!s&&f>0&&(s=h(i)/f);for(var o=0;o<s;o++){var d=l(o/s,0,a.PI2);e.push(m(i,d))}return e};v.exports=r},77951:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x+=h,t.y+=m,t};v.exports=S},36233:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};v.exports=S},72006:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){a===void 0&&(a=new h);var r=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=l.x+i*Math.cos(r)*l.width/2,a.y=l.y+i*Math.sin(r)*l.height/2,a};v.exports=m},40652:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95669);h.Area=t(58605),h.Circumference=t(39507),h.CircumferencePoint=t(86998),h.Clone=t(81773),h.Contains=t(72313),h.ContainsPoint=t(34368),h.ContainsRect=t(71431),h.CopyFrom=t(75459),h.Equals=t(98068),h.GetBounds=t(72897),h.GetPoint=t(95340),h.GetPoints=t(54978),h.Offset=t(77951),h.OffsetPoint=t(36233),h.Random=t(72006),v.exports=h},84068:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(52394),m=t(98611),l={Circle:t(6112),Ellipse:t(40652),Intersects:t(7563),Line:t(28482),Mesh:t(14293),Point:t(63472),Polygon:t(44359),Rectangle:t(66658),Triangle:t(87619)};l=m(!1,l,h),v.exports=l},22184:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53996),m=function(l,a){return h(l.x,l.y,a.x,a.y)<=l.radius+a.radius};v.exports=m},26535:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=h.width/2,l=h.height/2,a=Math.abs(t.x-h.x-m),r=Math.abs(t.y-h.y-l),i=m+t.radius,s=l+t.radius;if(a>i||r>s)return!1;if(a<=m||r<=l)return!0;var f=a-m,e=r-l,o=f*f,d=e*e,c=t.radius*t.radius;return o+d<=c};v.exports=S},71145:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=t(22184),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var s=a.x,f=a.y,e=a.radius,o=r.x,d=r.y,c=r.radius,p,x,T,E,y;if(f===d)y=(c*c-e*e-o*o+s*s)/(2*(s-o)),p=1,x=-2*d,T=o*o+y*y-2*o*y+d*d-c*c,E=x*x-4*p*T,E===0?i.push(new h(y,-x/(2*p))):E>0&&(i.push(new h(y,(-x+Math.sqrt(E))/(2*p))),i.push(new h(y,(-x-Math.sqrt(E))/(2*p))));else{var w=(s-o)/(f-d),A=(c*c-e*e-o*o+s*s-d*d+f*f)/(2*(f-d));p=w*w+1,x=2*f*w-2*A*w-2*s,T=s*s+f*f+A*A-e*e-2*f*A,E=x*x-4*p*T,E===0?(y=-x/(2*p),i.push(new h(y,A-y*w))):E>0&&(y=(-x+Math.sqrt(E))/(2*p),i.push(new h(y,A-y*w)),y=(-x-Math.sqrt(E))/(2*p),i.push(new h(y,A-y*w)))}}return i};v.exports=l},62508:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26111),m=t(26535),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var s=r.getLineA(),f=r.getLineB(),e=r.getLineC(),o=r.getLineD();h(s,a,i),h(f,a,i),h(e,a,i),h(o,a,i)}return i};v.exports=l},26111:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=t(61472),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var s=a.x1,f=a.y1,e=a.x2,o=a.y2,d=r.x,c=r.y,p=r.radius,x=e-s,T=o-f,E=s-d,y=f-c,w=x*x+T*T,A=2*(x*E+T*y),P=E*E+y*y-p*p,M=A*A-4*w*P,L,F;if(M===0){var N=-A/(2*w);L=s+N*x,F=f+N*T,N>=0&&N<=1&&i.push(new h(L,F))}else if(M>0){var b=(-A-Math.sqrt(M))/(2*w);L=s+b*x,F=f+b*T,b>=0&&b<=1&&i.push(new h(L,F));var V=(-A+Math.sqrt(M))/(2*w);L=s+V*x,F=f+V*T,V>=0&&V<=1&&i.push(new h(L,F))}}return i};v.exports=l},96537:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70015),m=function(l,a,r,i){r===void 0&&(r=!1);var s=l.x1,f=l.y1,e=l.x2,o=l.y2,d=a.x1,c=a.y1,p=a.x2,x=a.y2,T=e-s,E=o-f,y=p-d,w=x-c,A=T*w-E*y;if(A===0)return null;var P,M,L;if(r){if(P=(T*(c-f)+E*(s-d))/(y*E-w*T),M=(d+y*P-s)/T,M<0||P<0||P>1)return null;L=M}else{if(P=((d-s)*w-(c-f)*y)/A,M=((f-c)*T-(s-d)*E)/A,P<0||P>1||M<0||M>1)return null;L=P}return i===void 0&&(i=new h),i.set(s+T*L,f+E*L,L)};v.exports=m},17647:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(96537),m=t(88829),l=t(70015),a=new m,r=new l,i=function(s,f,e,o){e===void 0&&(e=!1),o===void 0&&(o=new l);var d=!1;o.set(),r.set();for(var c=f[0],p=1;p<f.length;p++){var x=f[p];a.setTo(c.x,c.y,x.x,x.y),c=x,h(s,a,e,r)&&(!d||r.z<o.z)&&(o.copy(r),d=!0)}return d?o:null};v.exports=i},68439:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70015),m=t(51729),l=t(17647),a=new h,r=function(i,s,f,e){e===void 0&&(e=new m),Array.isArray(s)||(s=[s]);var o=!1;e.set(),a.set();for(var d=0;d<s.length;d++)l(i,s[d].points,f,a)&&(!o||a.z<e.z)&&(e.set(a.x,a.y,a.z,d),o=!0);return o?e:null};v.exports=r},9569:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=t(25227),l=t(47910),a=function(r,i,s){if(s===void 0&&(s=[]),l(r,i))for(var f=i.getLineA(),e=i.getLineB(),o=i.getLineC(),d=i.getLineD(),c=[new h,new h,new h,new h],p=[m(f,r,c[0]),m(e,r,c[1]),m(o,r,c[2]),m(d,r,c[3])],x=0;x<4;x++)p[x]&&s.push(c[x]);return s};v.exports=a},7449:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(51729),m=t(68439),l=t(88829),a=new l;function r(f,e,o,d,c){var p=Math.cos(f),x=Math.sin(f);a.setTo(e,o,e+p,o+x);var T=m(a,d,!0);T&&c.push(new h(T.x,T.y,f,T.w))}function i(f,e){return f.z-e.z}var s=function(f,e,o){Array.isArray(o)||(o=[o]);for(var d=[],c=[],p=0;p<o.length;p++)for(var x=o[p].points,T=0;T<x.length;T++){var E=Math.atan2(x[T].y-e,x[T].x-f);c.indexOf(E)===-1&&(r(E,f,e,o,d),r(E-1e-5,f,e,o,d),r(E+1e-5,f,e,o,d),c.push(E))}return d.sort(i)};v.exports=s},82931:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=t(90205),l=function(a,r,i){return i===void 0&&(i=new h),m(a,r)&&(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y),i};v.exports=l},1946:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(9569),m=t(90205),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var s=a.getLineA(),f=a.getLineB(),e=a.getLineC(),o=a.getLineD();h(s,r,i),h(f,r,i),h(e,r,i),h(o,r,i)}return i};v.exports=l},34211:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(20370),m=t(9569),l=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var s=r.getLineA(),f=r.getLineB(),e=r.getLineC();m(s,a,i),m(f,a,i),m(e,a,i)}return i};v.exports=l},80511:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26111),m=t(48411),l=function(a,r,i){if(i===void 0&&(i=[]),m(a,r)){var s=a.getLineA(),f=a.getLineB(),e=a.getLineC();h(s,r,i),h(f,r,i),h(e,r,i)}return i};v.exports=l},31343:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=t(86117),l=t(25227),a=function(r,i,s){if(s===void 0&&(s=[]),m(r,i))for(var f=r.getLineA(),e=r.getLineB(),o=r.getLineC(),d=[new h,new h,new h],c=[l(f,i,d[0]),l(e,i,d[1]),l(o,i,d[2])],p=0;p<3;p++)c[p]&&s.push(d[p]);return s};v.exports=a},70534:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(23589),m=t(31343),l=function(a,r,i){if(i===void 0&&(i=[]),h(a,r)){var s=r.getLineA(),f=r.getLineB(),e=r.getLineC();m(a,s,i),m(a,f,i),m(a,e,i)}return i};v.exports=l},61472:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),m=t(79967),l=new m,a=function(r,i,s){if(s===void 0&&(s=l),h(i,r.x1,r.y1))return s.x=r.x1,s.y=r.y1,!0;if(h(i,r.x2,r.y2))return s.x=r.x2,s.y=r.y2,!0;var f=r.x2-r.x1,e=r.y2-r.y1,o=i.x-r.x1,d=i.y-r.y1,c=f*f+e*e,p=f,x=e;if(c>0){var T=(o*f+d*e)/c;p*=T,x*=T}s.x=r.x1+p,s.y=r.y1+x;var E=p*p+x*x;return E<=c&&p*f+x*e>=0&&h(i,s.x,s.y)};v.exports=a},25227:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=t.x1,a=t.y1,r=t.x2,i=t.y2,s=h.x1,f=h.y1,e=h.x2,o=h.y2;if(l===r&&a===i||s===e&&f===o)return!1;var d=(o-f)*(r-l)-(e-s)*(i-a);if(d===0)return!1;var c=((e-s)*(a-f)-(o-f)*(l-s))/d,p=((r-l)*(a-f)-(i-a)*(l-s))/d;return c<0||c>1||p<0||p>1?!1:(m&&(m.x=l+c*(r-l),m.y=a+c*(i-a)),!0)};v.exports=S},47910:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x1,l=t.y1,a=t.x2,r=t.y2,i=h.x,s=h.y,f=h.right,e=h.bottom,o=0;if(m>=i&&m<=f&&l>=s&&l<=e||a>=i&&a<=f&&r>=s&&r<=e)return!0;if(m<i&&a>=i){if(o=l+(r-l)*(i-m)/(a-m),o>s&&o<=e)return!0}else if(m>f&&a<=f&&(o=l+(r-l)*(f-m)/(a-m),o>=s&&o<=e))return!0;if(l<s&&r>=s){if(o=m+(a-m)*(s-l)/(r-l),o>=i&&o<=f)return!0}else if(l>e&&r<=e&&(o=m+(a-m)*(e-l)/(r-l),o>=i&&o<=f))return!0;return!1};v.exports=S},34426:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){m===void 0&&(m=1);var l=h.x1,a=h.y1,r=h.x2,i=h.y2,s=t.x,f=t.y,e=(r-l)*(r-l)+(i-a)*(i-a);if(e===0)return!1;var o=((s-l)*(r-l)+(f-a)*(i-a))/e;if(o<0)return Math.sqrt((l-s)*(l-s)+(a-f)*(a-f))<=m;if(o>=0&&o<=1){var d=((a-f)*(r-l)-(l-s)*(i-a))/e;return Math.abs(d)*Math.sqrt(e)<=m}else return Math.sqrt((r-s)*(r-s)+(i-f)*(i-f))<=m};v.exports=S},81414:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(34426),m=function(l,a){if(!h(l,a))return!1;var r=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),s=Math.min(a.y1,a.y2),f=Math.max(a.y1,a.y2);return l.x>=r&&l.x<=i&&l.y>=s&&l.y<=f};v.exports=m},90205:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width<=0||t.height<=0||h.width<=0||h.height<=0?!1:!(t.right<h.x||t.bottom<h.y||t.x>h.right||t.y>h.bottom)};v.exports=S},20370:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25227),m=t(94287),l=t(86875),a=t(87279),r=function(i,s){if(s.left>i.right||s.right<i.left||s.top>i.bottom||s.bottom<i.top)return!1;var f=s.getLineA(),e=s.getLineB(),o=s.getLineC();if(m(i,f.x1,f.y1)||m(i,f.x2,f.y2)||m(i,e.x1,e.y1)||m(i,e.x2,e.y2)||m(i,o.x1,o.y1)||m(i,o.x2,o.y2))return!0;var d=i.getLineA(),c=i.getLineB(),p=i.getLineC(),x=i.getLineD();if(h(f,d)||h(f,c)||h(f,p)||h(f,x)||h(e,d)||h(e,c)||h(e,p)||h(e,x)||h(o,d)||h(o,c)||h(o,p)||h(o,x))return!0;var T=a(i),E=l(s,T,!0);return E.length>0};v.exports=r},8786:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a,r){return r===void 0&&(r=0),!(h>t.right+r||m<t.left-r||l>t.bottom+r||a<t.top-r)};v.exports=S},48411:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61472),m=t(60689),l=function(a,r){return a.left>r.right||a.right<r.left||a.top>r.bottom||a.bottom<r.top?!1:!!(m(a,r.x,r.y)||h(a.getLineA(),r)||h(a.getLineB(),r)||h(a.getLineC(),r))};v.exports=l},86117:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25227),m=function(l,a){return!!(l.contains(a.x1,a.y1)||l.contains(a.x2,a.y2)||h(l.getLineA(),a)||h(l.getLineB(),a)||h(l.getLineC(),a))};v.exports=m},23589:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(86875),m=t(18680),l=t(25227),a=function(r,i){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var s=r.getLineA(),f=r.getLineB(),e=r.getLineC(),o=i.getLineA(),d=i.getLineB(),c=i.getLineC();if(l(s,o)||l(s,d)||l(s,c)||l(f,o)||l(f,d)||l(f,c)||l(e,o)||l(e,d)||l(e,c))return!0;var p=m(r),x=h(i,p,!0);return x.length>0||(p=m(i),x=h(r,p,!0),x.length>0)};v.exports=a},7563:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CircleToCircle:t(22184),CircleToRectangle:t(26535),GetCircleToCircle:t(71145),GetCircleToRectangle:t(62508),GetLineToCircle:t(26111),GetLineToLine:t(96537),GetLineToPoints:t(17647),GetLineToPolygon:t(68439),GetLineToRectangle:t(9569),GetRaysFromPointToPolygon:t(7449),GetRectangleIntersection:t(82931),GetRectangleToRectangle:t(1946),GetRectangleToTriangle:t(34211),GetTriangleToCircle:t(80511),GetTriangleToLine:t(31343),GetTriangleToTriangle:t(70534),LineToCircle:t(61472),LineToLine:t(25227),LineToRectangle:t(47910),PointToLine:t(34426),PointToLineSegment:t(81414),RectangleToRectangle:t(90205),RectangleToTriangle:t(20370),RectangleToValues:t(8786),TriangleToCircle:t(48411),TriangleToLine:t(86117),TriangleToTriangle:t(23589)}},50599:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};v.exports=S},58813:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=1),m===void 0&&(m=[]);var l=Math.round(t.x1),a=Math.round(t.y1),r=Math.round(t.x2),i=Math.round(t.y2),s=Math.abs(r-l),f=Math.abs(i-a),e=l<r?1:-1,o=a<i?1:-1,d=s-f;m.push({x:l,y:a});for(var c=1;!(l===r&&a===i);){var p=d<<1;p>-f&&(d-=f,l+=e),p<s&&(d+=s,a+=o),c%h===0&&m.push({x:l,y:a}),c++}return m};v.exports=S},88513:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=h-(t.x1+t.x2)/2,a=m-(t.y1+t.y2)/2;return t.x1+=l,t.y1+=a,t.x2+=l,t.y2+=a,t};v.exports=S},26718:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88829),m=function(l){return new h(l.x1,l.y1,l.x2,l.y2)};v.exports=m},88930:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2)};v.exports=S},90656:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2};v.exports=S},30897:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),m=function(l,a,r){r===void 0&&(r=a);var i=h(l),s=l.x2-l.x1,f=l.y2-l.y1;return a&&(l.x1=l.x1-s/i*a,l.y1=l.y1-f/i*a),r&&(l.x2=l.x2+s/i*r,l.y2=l.y2+f/i*r),l};v.exports=m},30684:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92951),m=t(21902),l=t(79967),a=function(r,i,s,f,e){f===void 0&&(f=0),e===void 0&&(e=[]);var o=[],d=r.x1,c=r.y1,p=r.x2-d,x=r.y2-c,T=m(i,e),E,y,w=s-1;for(E=0;E<w;E++)y=T(E/w),o.push(new l(d+p*y,c+x*y));if(y=T(1),o.push(new l(d+p*y,c+x*y)),f>0){var A=o[0],P=[A];for(E=1;E<o.length-1;E++){var M=o[E];h(A,M)>=f&&(P.push(M),A=M)}var L=o[o.length-1];return h(A,L)<f&&P.pop(),P.push(L),P}else return o};v.exports=a},20487:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){return a===void 0&&(a=new h),a.x=(l.x1+l.x2)/2,a.y=(l.y1+l.y2)/2,a};v.exports=m},11222:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a,r){r===void 0&&(r=new h);var i=l.x1,s=l.y1,f=l.x2,e=l.y2,o=(f-i)*(f-i)+(e-s)*(e-s);if(o===0)return r;var d=((a.x-i)*(f-i)+(a.y-s)*(e-s))/o;return r.x=i+d*(f-i),r.y=s+d*(e-s),r};v.exports=m},7377:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=t(50599),l=t(79967),a=function(r,i){i===void 0&&(i=new l);var s=m(r)-h.TAU;return i.x=Math.cos(s),i.y=Math.sin(s),i};v.exports=a},66464:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a,r){return r===void 0&&(r=new h),r.x=l.x1+(l.x2-l.x1)*a,r.y=l.y1+(l.y2-l.y1)*a,r};v.exports=m},8570:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),m=t(79967),l=function(a,r,i,s){s===void 0&&(s=[]),!r&&i>0&&(r=h(a)/i);for(var f=a.x1,e=a.y1,o=a.x2,d=a.y2,c=0;c<r;c++){var p=c/r,x=f+(o-f)*p,T=e+(d-e)*p;s.push(new m(x,T))}return s};v.exports=l},65269:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x1,l=t.y1,a=t.x2,r=t.y2,i=(a-m)*(a-m)+(r-l)*(r-l);if(i===0)return!1;var s=((l-h.y)*(a-m)-(m-h.x)*(r-l))/i;return Math.abs(s)*Math.sqrt(i)};v.exports=S},82996:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};v.exports=S},16028:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};v.exports=S},88829:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(66464),l=t(8570),a=t(52394),r=t(74077),i=t(93736),s=new h({initialize:function(e,o,d,c){e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=0),this.type=a.LINE,this.x1=e,this.y1=o,this.x2=d,this.y2=c},getPoint:function(f,e){return m(this,f,e)},getPoints:function(f,e,o){return l(this,f,e,o)},getRandomPoint:function(f){return r(this,f)},setTo:function(f,e,o,d){return f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=0),this.x1=f,this.y1=e,this.x2=o,this.y2=d,this},getPointA:function(f){return f===void 0&&(f=new i),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new i),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});v.exports=s},73273:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=t(1071),l=t(50599),a=function(r){var i=l(r)-h.TAU;return m(i,-Math.PI,Math.PI)};v.exports=a},96936:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=t(50599),l=function(a){return Math.cos(m(a)-h.TAU)};v.exports=l},43581:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=t(50599),l=function(a){return Math.sin(m(a)-h.TAU)};v.exports=l},13990:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x1+=h,t.y1+=m,t.x2+=h,t.y2+=m,t};v.exports=S},1298:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};v.exports=S},74077:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){a===void 0&&(a=new h);var r=Math.random();return a.x=l.x1+r*(l.x2-l.x1),a.y=l.y1+r*(l.y2-l.y1),a};v.exports=m},30473:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50599),m=t(73273),l=function(a,r){return 2*m(r)-Math.PI-h(a)};v.exports=l},25968:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1809),m=function(l,a){var r=(l.x1+l.x2)/2,i=(l.y1+l.y2)/2;return h(l,r,i,a)};v.exports=m},24296:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1809),m=function(l,a,r){return h(l,a.x,a.y,r)};v.exports=m},1809:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=Math.cos(l),r=Math.sin(l),i=t.x1-h,s=t.y1-m;return t.x1=i*a-s*r+h,t.y1=i*r+s*a+m,i=t.x2-h,s=t.y2-m,t.x2=i*a-s*r+h,t.y2=i*r+s*a+m,t};v.exports=S},88171:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){return t.x1=h,t.y1=m,t.x2=h+Math.cos(l)*a,t.y2=m+Math.sin(l)*a,t};v.exports=S},82797:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};v.exports=S},41067:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};v.exports=S},28482:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(88829);h.Angle=t(50599),h.BresenhamPoints=t(58813),h.CenterOn=t(88513),h.Clone=t(26718),h.CopyFrom=t(88930),h.Equals=t(90656),h.Extend=t(30897),h.GetEasedPoints=t(30684),h.GetMidPoint=t(20487),h.GetNearestPoint=t(11222),h.GetNormal=t(7377),h.GetPoint=t(66464),h.GetPoints=t(8570),h.GetShortestDistance=t(65269),h.Height=t(82996),h.Length=t(16028),h.NormalAngle=t(73273),h.NormalX=t(96936),h.NormalY=t(43581),h.Offset=t(13990),h.PerpSlope=t(1298),h.Random=t(74077),h.ReflectAngle=t(30473),h.Rotate=t(25968),h.RotateAroundPoint=t(24296),h.RotateAroundXY=t(1809),h.SetToAngle=t(88171),h.Slope=t(82797),h.Width=t(41067),v.exports=h},18693:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(74118),l=t(93736);function a(i,s,f,e){var o=i-f,d=s-e,c=o*o+d*d;return Math.sqrt(c)}var r=new h({initialize:function(s,f,e){this.vertex1=s,this.vertex2=f,this.vertex3=e,this.bounds=new m,this._inCenter=new l},getInCenter:function(i){i===void 0&&(i=!0);var s=this.vertex1,f=this.vertex2,e=this.vertex3,o,d,c,p,x,T;i?(o=s.x,d=s.y,c=f.x,p=f.y,x=e.x,T=e.y):(o=s.vx,d=s.vy,c=f.vx,p=f.vy,x=e.vx,T=e.vy);var E=a(x,T,c,p),y=a(o,d,x,T),w=a(c,p,o,d),A=E+y+w;return this._inCenter.set((o*E+c*y+x*w)/A,(d*E+p*y+T*w)/A)},contains:function(i,s,f){var e=this.vertex1,o=this.vertex2,d=this.vertex3,c=e.vx,p=e.vy,x=o.vx,T=o.vy,E=d.vx,y=d.vy;if(f){var w=f.a,A=f.b,P=f.c,M=f.d,L=f.e,F=f.f;c=e.vx*w+e.vy*P+L,p=e.vx*A+e.vy*M+F,x=o.vx*w+o.vy*P+L,T=o.vx*A+o.vy*M+F,E=d.vx*w+d.vy*P+L,y=d.vx*A+d.vy*M+F}var N=E-c,b=y-p,V=x-c,X=T-p,W=i-c,k=s-p,Q=N*N+b*b,U=N*V+b*X,Y=N*W+b*k,O=V*V+X*X,G=V*W+X*k,z=Q*O-U*U,H=z===0?0:1/z,K=(O*Y-U*G)*H,J=(Q*G-U*Y)*H;return K>=0&&J>=0&&K+J<1},isCounterClockwise:function(i){var s=this.vertex1,f=this.vertex2,e=this.vertex3,o=(f.vx-s.vx)*(e.vy-s.vy)-(f.vy-s.vy)*(e.vx-s.vx);return i<=0?o>=0:o<0},load:function(i,s,f,e,o){return f=this.vertex1.load(i,s,f,e,o),f=this.vertex2.load(i,s,f,e,o),f=this.vertex3.load(i,s,f,e,o),f},transformCoordinatesLocal:function(i,s,f,e){return this.vertex1.transformCoordinatesLocal(i,s,f,e),this.vertex2.transformCoordinatesLocal(i,s,f,e),this.vertex3.transformCoordinatesLocal(i,s,f,e),this},updateBounds:function(){var i=this.vertex1,s=this.vertex2,f=this.vertex3,e=this.bounds;return e.x=Math.min(i.vx,s.vx,f.vx),e.y=Math.min(i.vy,s.vy,f.vy),e.width=Math.max(i.vx,s.vx,f.vx)-e.x,e.height=Math.max(i.vy,s.vy,f.vy)-e.y,this},isInView:function(i,s,f,e,o,d,c,p,x,T,E){this.update(e,o,d,c,p,x,T,E);var y=this.vertex1,w=this.vertex2,A=this.vertex3;if(y.ta<=0&&w.ta<=0&&A.ta<=0||s&&!this.isCounterClockwise(f))return!1;var P=this.bounds;P.x=Math.min(y.tx,w.tx,A.tx),P.y=Math.min(y.ty,w.ty,A.ty),P.width=Math.max(y.tx,w.tx,A.tx)-P.x,P.height=Math.max(y.ty,w.ty,A.ty)-P.y;var M=i.x+i.width,L=i.y+i.height;return P.width<=0||P.height<=0||i.width<=0||i.height<=0?!1:!(P.right<i.x||P.bottom<i.y||P.x>M||P.y>L)},scrollUV:function(i,s){return this.vertex1.scrollUV(i,s),this.vertex2.scrollUV(i,s),this.vertex3.scrollUV(i,s),this},scaleUV:function(i,s){return this.vertex1.scaleUV(i,s),this.vertex2.scaleUV(i,s),this.vertex3.scaleUV(i,s),this},setColor:function(i){return this.vertex1.color=i,this.vertex2.color=i,this.vertex3.color=i,this},update:function(i,s,f,e,o,d,c,p){return this.vertex1.update(s,f,e,o,d,c,p,i),this.vertex2.update(s,f,e,o,d,c,p,i),this.vertex3.update(s,f,e,o,d,c,p,i),this},translate:function(i,s){s===void 0&&(s=0);var f=this.vertex1,e=this.vertex2,o=this.vertex3;return f.x+=i,f.y+=s,e.x+=i,e.y+=s,o.x+=i,o.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(i){var s=this.getInCenter();this.translate(i-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var s=this.getInCenter();this.translate(0,i-s.y)}},alpha:{get:function(){var i=this.vertex1,s=this.vertex2,f=this.vertex3;return(i.alpha+s.alpha+f.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,s=this.vertex2,f=this.vertex3;return(i.vz+s.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});v.exports=r},99425:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18693),m=t(72632),l=t(16650),a=t(70015),r=t(85769),i=new a,s=new a,f=new l,e=function(o){var d=m(o,"mesh"),c=m(o,"texture",null),p=m(o,"frame"),x=m(o,"width",1),T=m(o,"height",x),E=m(o,"widthSegments",1),y=m(o,"heightSegments",E),w=m(o,"x",0),A=m(o,"y",0),P=m(o,"z",0),M=m(o,"rotateX",0),L=m(o,"rotateY",0),F=m(o,"rotateZ",0),N=m(o,"zIsUp",!0),b=m(o,"isOrtho",d?d.dirtyCache[11]:!1),V=m(o,"colors",[16777215]),X=m(o,"alphas",[1]),W=m(o,"tile",!1),k=m(o,"flipY",!1),Q=m(o,"width",null),U={faces:[],verts:[]};i.set(w,A,P),s.set(M,L,F),f.fromRotationXYTranslation(s,i,N);var Y;if(!c&&d)c=d.texture,p||(Y=d.frame);else if(d&&typeof c=="string")c=d.scene.sys.textures.get(c);else if(!c)return U;Y||(Y=c.get(p)),!Q&&b&&c&&d&&(x=Y.width/d.height,T=Y.height/d.height);var O=x/2,G=T/2,z=Math.floor(E),H=Math.floor(y),K=z+1,J=H+1,Z=x/z,_=T/H,tt=[],et=[],nt,rt,st=0,lt=1,mt=0,gt=1;Y&&(st=Y.u0,lt=Y.u1,k?(mt=Y.v1,gt=Y.v0):(mt=Y.v0,gt=Y.v1));var xt=lt-st,ot=gt-mt;for(rt=0;rt<J;rt++){var vt=rt*_-G;for(nt=0;nt<K;nt++){var dt=nt*Z-O;et.push(dt,-vt);var wt=st+xt*(nt/z),Tt=mt+ot*(rt/H);tt.push(wt,Tt)}}Array.isArray(V)||(V=[V]),Array.isArray(X)||(X=[X]);var Mt=0,Vt=0;for(rt=0;rt<H;rt++)for(nt=0;nt<z;nt++){var It=(nt+K*rt)*2,At=(nt+K*(rt+1))*2,zt=(nt+1+K*(rt+1))*2,Wt=(nt+1+K*rt)*2,te=V[Vt],se=X[Mt],me=new r(et[It],et[It+1],0,tt[It],tt[It+1],te,se).transformMat4(f),Mi=new r(et[At],et[At+1],0,tt[At],tt[At+1],te,se).transformMat4(f),Ii=new r(et[Wt],et[Wt+1],0,tt[Wt],tt[Wt+1],te,se).transformMat4(f),ai=new r(et[At],et[At+1],0,tt[At],tt[At+1],te,se).transformMat4(f),pi=new r(et[zt],et[zt+1],0,tt[zt],tt[zt+1],te,se).transformMat4(f),mi=new r(et[Wt],et[Wt+1],0,tt[Wt],tt[Wt+1],te,se).transformMat4(f);W&&(me.setUVs(st,gt),Mi.setUVs(st,mt),Ii.setUVs(lt,gt),ai.setUVs(st,mt),pi.setUVs(lt,mt),mi.setUVs(lt,gt)),Vt++,Vt===V.length&&(Vt=0),Mt++,Mt===X.length&&(Mt=0),U.verts.push(me,Mi,Ii,ai,pi,mi),U.faces.push(new h(me,Mi,Ii),new h(ai,pi,mi))}return d&&(d.faces=d.faces.concat(U.faces),d.vertices=d.vertices.concat(U.verts)),U};v.exports=e},53267:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18693),m=t(16650),l=t(70015),a=t(85769),r=new l,i=new l,s=new m,f=function(e,o,d,c,p,x,T,E,y,w){d===void 0&&(d=1),c===void 0&&(c=0),p===void 0&&(p=0),x===void 0&&(x=0),T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=0),w===void 0&&(w=!0);var A={faces:[],verts:[]},P=e.materials;r.set(c,p,x),i.set(T,E,y),s.fromRotationXYTranslation(i,r,w);for(var M=0;M<e.models.length;M++)for(var L=e.models[M],F=L.vertices,N=L.textureCoords,b=L.faces,V=0;V<b.length;V++){var X=b[V],W=X.vertices[0],k=X.vertices[1],Q=X.vertices[2],U=F[W.vertexIndex],Y=F[k.vertexIndex],O=F[Q.vertexIndex],G=W.textureCoordsIndex,z=k.textureCoordsIndex,H=Q.textureCoordsIndex,K=G===-1?{u:0,v:1}:N[G],J=z===-1?{u:0,v:0}:N[z],Z=H===-1?{u:1,v:1}:N[H],_=16777215;X.material!==""&&P[X.material]&&(_=P[X.material]);var tt=new a(U.x*d,U.y*d,U.z*d,K.u,K.v,_).transformMat4(s),et=new a(Y.x*d,Y.y*d,Y.z*d,J.u,J.v,_).transformMat4(s),nt=new a(O.x*d,O.y*d,O.z*d,Z.u,Z.v,_).transformMat4(s);A.verts.push(tt,et,nt),A.faces.push(new h(tt,et,nt))}return o&&(o.faces=o.faces.concat(A.faces),o.vertices=o.vertices.concat(A.verts)),A};v.exports=f},67623:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(18693),m=t(85769),l=function(a,r,i,s,f,e,o,d){if(s===void 0&&(s=!1),e===void 0&&(e=16777215),o===void 0&&(o=1),d===void 0&&(d=!1),a.length!==r.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},p,x,T,E,y,w,A,P,M,L,F,N=s?3:2,b=Array.isArray(e),V=Array.isArray(o);if(Array.isArray(i)&&i.length>0)for(p=0;p<i.length;p++){var X=i[p],W=i[p]*2,k=i[p]*N;x=a[k],T=a[k+1],E=s?a[k+2]:0,y=r[W],w=r[W+1],d&&(w=1-w),A=b?e[X]:e,P=V?o[X]:o,M=0,L=0,F=0,f&&(M=f[k],L=f[k+1],F=s?f[k+2]:0),c.vertices.push(new m(x,T,E,y,w,A,P,M,L,F))}else{var Q=0,U=0;for(p=0;p<a.length;p+=N)x=a[p],T=a[p+1],E=s?a[p+2]:0,y=r[Q],w=r[Q+1],A=b?e[U]:e,P=V?o[U]:o,M=0,L=0,F=0,f&&(M=f[p],L=f[p+1],F=s?f[p+2]:0),c.vertices.push(new m(x,T,E,y,w,A,P,M,L,F)),Q+=2,U++}for(p=0;p<c.vertices.length;p+=3){var Y=c.vertices[p],O=c.vertices[p+1],G=c.vertices[p+2];c.faces.push(new h(Y,O,G))}return c};v.exports=l},27291:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",h="",m="";function l(x){var T=x.indexOf("#");return T>-1?x.substring(0,T):x}function a(x){return x.models.length===0&&x.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),h="",x.models[x.models.length-1]}function r(x,T){var E=x.length>=2?x[1]:t;T.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function i(x){x.length===2&&(h=x[1])}function s(x,T){var E=x.length,y=E>=2?parseFloat(x[1]):0,w=E>=3?parseFloat(x[2]):0,A=E>=4?parseFloat(x[3]):0;a(T).vertices.push({x:y,y:w,z:A})}function f(x,T){var E=x.length,y=E>=2?parseFloat(x[1]):0,w=E>=3?parseFloat(x[2]):0,A=E>=4?parseFloat(x[3]):0;isNaN(y)&&(y=0),isNaN(w)&&(w=0),isNaN(A)&&(A=0),S&&(w=1-w),a(T).textureCoords.push({u:y,v:w,w:A})}function e(x,T){var E=x.length,y=E>=2?parseFloat(x[1]):0,w=E>=3?parseFloat(x[2]):0,A=E>=4?parseFloat(x[3]):0;a(T).vertexNormals.push({x:y,y:w,z:A})}function o(x,T){var E=x.length-1;if(!(E<3)){for(var y={group:h,material:m,vertices:[]},w=0;w<E;w++){var A=x[w+1],P=A.split("/"),M=P.length;if(!(M<1||M>3)){var L=0,F=0,N=0;L=parseInt(P[0],10),M>1&&P[1]!==""&&(F=parseInt(P[1],10)),M>2&&(N=parseInt(P[2],10)),L!==0&&(L<0&&(L=a(T).vertices.length+1+L),F-=1,L-=1,N-=1,y.vertices.push({textureCoordsIndex:F,vertexIndex:L,vertexNormalIndex:N}))}}a(T).faces.push(y)}}function d(x,T){x.length>=2&&T.materialLibraries.push(x[1])}function c(x){x.length>=2&&(m=x[1])}var p=function(x,T){T===void 0&&(T=!0),S=T;var E={materials:{},materialLibraries:[],models:[]};h="",m="";for(var y=x.split(`
`),w=0;w<y.length;w++){var A=l(y[w]),P=A.replace(/\s\s+/g," ").trim().split(" ");switch(P[0].toLowerCase()){case"o":r(P,E);break;case"g":i(P);break;case"v":s(P,E);break;case"vt":f(P,E);break;case"vn":e(P,E);break;case"f":o(P,E);break;case"mtllib":d(P,E);break;case"usemtl":c(P);break}}return E};v.exports=p},76799:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22946),m=function(l){for(var a={},r=l.split(`
`),i="",s=0;s<r.length;s++){var f=r[s].trim();if(!(f.indexOf("#")===0||f==="")){var e=f.replace(/\s\s+/g," ").trim().split(" ");switch(e[0].toLowerCase()){case"newmtl":{i=e[1];break}case"kd":{var o=Math.floor(e[1]*255),d=e.length>=2?Math.floor(e[2]*255):o,c=e.length>=3?Math.floor(e[3]*255):o;a[i]=h(o,d,c);break}}}}return a};v.exports=m},15313:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a,r;if(m===void 0&&l===void 0){var i=t.getInCenter();a=i.x,r=i.y}var s=Math.cos(h),f=Math.sin(h),e=t.vertex1,o=t.vertex2,d=t.vertex3,c=e.x-a,p=e.y-r;e.set(c*s-p*f+a,c*f+p*s+r),c=o.x-a,p=o.y-r,o.set(c*s-p*f+a,c*f+p*s+r),c=d.x-a,p=d.y-r,d.set(c*s-p*f+a,c*f+p*s+r)};v.exports=S},85769:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(75512),l=t(70015),a=new h({Extends:l,initialize:function(i,s,f,e,o,d,c,p,x,T){d===void 0&&(d=16777215),c===void 0&&(c=1),p===void 0&&(p=0),x===void 0&&(x=0),T===void 0&&(T=0),l.call(this,i,s,f),this.vx=0,this.vy=0,this.vz=0,this.nx=p,this.ny=x,this.nz=T,this.u=e,this.v=o,this.color=d,this.alpha=c,this.tx=0,this.ty=0,this.ta=0,this.tu=e,this.tv=o},setUVs:function(r,i){return this.u=r,this.v=i,this.tu=r,this.tv=i,this},scrollUV:function(r,i){return this.tu+=r,this.tv+=i,this},scaleUV:function(r,i){return this.tu=this.u*r,this.tv=this.v*i,this},transformCoordinatesLocal:function(r,i,s,f){var e=this.x,o=this.y,d=this.z,c=r.val,p=e*c[0]+o*c[4]+d*c[8]+c[12],x=e*c[1]+o*c[5]+d*c[9]+c[13],T=e*c[2]+o*c[6]+d*c[10]+c[14],E=e*c[3]+o*c[7]+d*c[11]+c[15];this.vx=p/E*i,this.vy=-(x/E)*s,f<=0?this.vz=T/E:this.vz=-(T/E)},resize:function(r,i,s,f,e,o){return this.x=r,this.y=i,this.vx=this.x*s,this.vy=-this.y*f,this.vz=0,e<.5?this.vx+=s*(.5-e):e>.5&&(this.vx-=s*(e-.5)),o<.5?this.vy+=f*(.5-o):o>.5&&(this.vy-=f*(o-.5)),this},update:function(r,i,s,f,e,o,d,c){var p=this.vx*r+this.vy*s+e,x=this.vx*i+this.vy*f+o;return d&&(p=Math.round(p),x=Math.round(x)),this.tx=p,this.ty=x,this.ta=this.alpha*c,this},load:function(r,i,s,f,e){return r[++s]=this.tx,r[++s]=this.ty,r[++s]=this.tu,r[++s]=this.tv,r[++s]=f,r[++s]=e,i[++s]=m.getTintAppendFloatAlpha(this.color,this.ta),s}});v.exports=a},14293:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:t(18693),GenerateGridVerts:t(99425),GenerateObjVerts:t(53267),GenerateVerts:t(67623),ParseObj:t(27291),ParseObjMaterial:t(76799),RotateFace:t(15313),Vertex:t(85769)};v.exports=h},77601:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};v.exports=S},38933:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l){return new h(l.x,l.y)};v.exports=m},47103:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y)};v.exports=S},13625:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y};v.exports=S},12536:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};v.exports=S},54205:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){if(a===void 0&&(a=new h),!Array.isArray(l))throw new Error("GetCentroid points argument must be an array");var r=l.length;if(r<1)throw new Error("GetCentroid points array must not be empty");if(r===1)a.x=l[0].x,a.y=l[0].y;else{for(var i=0;i<r;i++)a.x+=l[i].x,a.y+=l[i].y;a.x/=r,a.y/=r}return a};v.exports=m},50083:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};v.exports=S},82712:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};v.exports=S},20052:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=function(l,a){a===void 0&&(a=new h);for(var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,e=0;e<l.length;e++){var o=l[e];o.x>r&&(r=o.x),o.x<i&&(i=o.x),o.y>s&&(s=o.y),o.y<f&&(f=o.y)}return a.x=i,a.y=f,a.width=r-i,a.height=s-f,a};v.exports=m},77154:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a,r,i){return r===void 0&&(r=0),i===void 0&&(i=new h),i.x=l.x+(a.x-l.x)*r,i.y=l.y+(a.y-l.y)*r,i};v.exports=m},42397:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};v.exports=S},59464:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){return a===void 0&&(a=new h),a.setTo(-l.x,-l.y)};v.exports=m},79967:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(52394),l=new h({initialize:function(r,i){r===void 0&&(r=0),i===void 0&&(i=r),this.type=m.POINT,this.x=r,this.y=i},setTo:function(a,r){return a===void 0&&(a=0),r===void 0&&(r=a),this.x=a,this.y=r,this}});v.exports=l},53581:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=t(82712),l=function(a,r,i){i===void 0&&(i=new h);var s=a.x*r.x+a.y*r.y,f=s/m(r);return f!==0&&(i.x=f*r.x,i.y=f*r.y),i};v.exports=l},50817:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a,r){r===void 0&&(r=new h);var i=l.x*a.x+l.y*a.y;return i!==0&&(r.x=i*a.x,r.y=i*a.y),r};v.exports=m},40525:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50083),m=function(l,a){if(l.x!==0||l.y!==0){var r=h(l);l.x/=r,l.y/=r}return l.x*=a,l.y*=a,l};v.exports=m},63472:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967);h.Ceil=t(77601),h.Clone=t(38933),h.CopyFrom=t(47103),h.Equals=t(13625),h.Floor=t(12536),h.GetCentroid=t(54205),h.GetMagnitude=t(50083),h.GetMagnitudeSq=t(82712),h.GetRectangleFromPoints=t(20052),h.Interpolate=t(77154),h.Invert=t(42397),h.Negative=t(59464),h.Project=t(53581),h.ProjectUnit=t(50817),h.SetMagnitude=t(40525),v.exports=h},19631:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8580),m=function(l){return new h(l.points)};v.exports=m},45604:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var l=!1,a=-1,r=t.points.length-1;++a<t.points.length;r=a){var i=t.points[a].x,s=t.points[a].y,f=t.points[r].x,e=t.points[r].y;(s<=m&&m<e||e<=m&&m<s)&&h<(f-i)*(m-s)/(e-s)+i&&(l=!l)}return l};v.exports=S},87289:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45604),m=function(l,a){return h(l,a.x,a.y)};v.exports=m},11117:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(U,Y,O){O=O||2;var G=Y&&Y.length,z=G?Y[0]*O:U.length,H=t(U,0,z,O,!0),K=[];if(!H||H.next===H.prev)return K;var J,Z,_,tt,et,nt,rt;if(G&&(H=s(U,Y,H,O)),U.length>80*O){J=_=U[0],Z=tt=U[1];for(var st=O;st<z;st+=O)et=U[st],nt=U[st+1],et<J&&(J=et),nt<Z&&(Z=nt),et>_&&(_=et),nt>tt&&(tt=nt);rt=Math.max(_-J,tt-Z),rt=rt!==0?32767/rt:0}return m(H,K,O,J,Z,rt,0),K}function t(U,Y,O,G,z){var H,K;if(z===Q(U,Y,O,G)>0)for(H=Y;H<O;H+=G)K=X(H,U[H],U[H+1],K);else for(H=O-G;H>=Y;H-=G)K=X(H,U[H],U[H+1],K);return K&&A(K,K.next)&&(W(K),K=K.next),K}function h(U,Y){if(!U)return U;Y||(Y=U);var O=U,G;do if(G=!1,!O.steiner&&(A(O,O.next)||w(O.prev,O,O.next)===0)){if(W(O),O=Y=O.prev,O===O.next)break;G=!0}else O=O.next;while(G||O!==Y);return Y}function m(U,Y,O,G,z,H,K){if(U){!K&&H&&c(U,G,z,H);for(var J=U,Z,_;U.prev!==U.next;){if(Z=U.prev,_=U.next,H?a(U,G,z,H):l(U)){Y.push(Z.i/O|0),Y.push(U.i/O|0),Y.push(_.i/O|0),W(U),U=_.next,J=_.next;continue}if(U=_,U===J){K?K===1?(U=r(h(U),Y,O),m(U,Y,O,G,z,H,2)):K===2&&i(U,Y,O,G,z,H):m(h(U),Y,O,G,z,H,1);break}}}}function l(U){var Y=U.prev,O=U,G=U.next;if(w(Y,O,G)>=0)return!1;for(var z=Y.x,H=O.x,K=G.x,J=Y.y,Z=O.y,_=G.y,tt=z<H?z<K?z:K:H<K?H:K,et=J<Z?J<_?J:_:Z<_?Z:_,nt=z>H?z>K?z:K:H>K?H:K,rt=J>Z?J>_?J:_:Z>_?Z:_,st=G.next;st!==Y;){if(st.x>=tt&&st.x<=nt&&st.y>=et&&st.y<=rt&&E(z,J,H,Z,K,_,st.x,st.y)&&w(st.prev,st,st.next)>=0)return!1;st=st.next}return!0}function a(U,Y,O,G){var z=U.prev,H=U,K=U.next;if(w(z,H,K)>=0)return!1;for(var J=z.x,Z=H.x,_=K.x,tt=z.y,et=H.y,nt=K.y,rt=J<Z?J<_?J:_:Z<_?Z:_,st=tt<et?tt<nt?tt:nt:et<nt?et:nt,lt=J>Z?J>_?J:_:Z>_?Z:_,mt=tt>et?tt>nt?tt:nt:et>nt?et:nt,gt=x(rt,st,Y,O,G),xt=x(lt,mt,Y,O,G),ot=U.prevZ,vt=U.nextZ;ot&&ot.z>=gt&&vt&&vt.z<=xt;){if(ot.x>=rt&&ot.x<=lt&&ot.y>=st&&ot.y<=mt&&ot!==z&&ot!==K&&E(J,tt,Z,et,_,nt,ot.x,ot.y)&&w(ot.prev,ot,ot.next)>=0||(ot=ot.prevZ,vt.x>=rt&&vt.x<=lt&&vt.y>=st&&vt.y<=mt&&vt!==z&&vt!==K&&E(J,tt,Z,et,_,nt,vt.x,vt.y)&&w(vt.prev,vt,vt.next)>=0))return!1;vt=vt.nextZ}for(;ot&&ot.z>=gt;){if(ot.x>=rt&&ot.x<=lt&&ot.y>=st&&ot.y<=mt&&ot!==z&&ot!==K&&E(J,tt,Z,et,_,nt,ot.x,ot.y)&&w(ot.prev,ot,ot.next)>=0)return!1;ot=ot.prevZ}for(;vt&&vt.z<=xt;){if(vt.x>=rt&&vt.x<=lt&&vt.y>=st&&vt.y<=mt&&vt!==z&&vt!==K&&E(J,tt,Z,et,_,nt,vt.x,vt.y)&&w(vt.prev,vt,vt.next)>=0)return!1;vt=vt.nextZ}return!0}function r(U,Y,O){var G=U;do{var z=G.prev,H=G.next.next;!A(z,H)&&P(z,G,G.next,H)&&N(z,H)&&N(H,z)&&(Y.push(z.i/O|0),Y.push(G.i/O|0),Y.push(H.i/O|0),W(G),W(G.next),G=U=H),G=G.next}while(G!==U);return h(G)}function i(U,Y,O,G,z,H){var K=U;do{for(var J=K.next.next;J!==K.prev;){if(K.i!==J.i&&y(K,J)){var Z=V(K,J);K=h(K,K.next),Z=h(Z,Z.next),m(K,Y,O,G,z,H,0),m(Z,Y,O,G,z,H,0);return}J=J.next}K=K.next}while(K!==U)}function s(U,Y,O,G){var z=[],H,K,J,Z,_;for(H=0,K=Y.length;H<K;H++)J=Y[H]*G,Z=H<K-1?Y[H+1]*G:U.length,_=t(U,J,Z,G,!1),_===_.next&&(_.steiner=!0),z.push(T(_));for(z.sort(f),H=0;H<z.length;H++)O=e(z[H],O);return O}function f(U,Y){return U.x-Y.x}function e(U,Y){var O=o(U,Y);if(!O)return Y;var G=V(O,U);return h(G,G.next),h(O,O.next)}function o(U,Y){var O=Y,G=U.x,z=U.y,H=-1/0,K;do{if(z<=O.y&&z>=O.next.y&&O.next.y!==O.y){var J=O.x+(z-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(J<=G&&J>H&&(H=J,K=O.x<O.next.x?O:O.next,J===G))return K}O=O.next}while(O!==Y);if(!K)return null;var Z=K,_=K.x,tt=K.y,et=1/0,nt;O=K;do G>=O.x&&O.x>=_&&G!==O.x&&E(z<tt?G:H,z,_,tt,z<tt?H:G,z,O.x,O.y)&&(nt=Math.abs(z-O.y)/(G-O.x),N(O,U)&&(nt<et||nt===et&&(O.x>K.x||O.x===K.x&&d(K,O)))&&(K=O,et=nt)),O=O.next;while(O!==Z);return K}function d(U,Y){return w(U.prev,U,Y.prev)<0&&w(Y.next,U,U.next)<0}function c(U,Y,O,G){var z=U;do z.z===0&&(z.z=x(z.x,z.y,Y,O,G)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==U);z.prevZ.nextZ=null,z.prevZ=null,p(z)}function p(U){var Y,O,G,z,H,K,J,Z,_=1;do{for(O=U,U=null,H=null,K=0;O;){for(K++,G=O,J=0,Y=0;Y<_&&(J++,G=G.nextZ,!!G);Y++);for(Z=_;J>0||Z>0&&G;)J!==0&&(Z===0||!G||O.z<=G.z)?(z=O,O=O.nextZ,J--):(z=G,G=G.nextZ,Z--),H?H.nextZ=z:U=z,z.prevZ=H,H=z;O=G}H.nextZ=null,_*=2}while(K>1);return U}function x(U,Y,O,G,z){return U=(U-O)*z|0,Y=(Y-G)*z|0,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,U|Y<<1}function T(U){var Y=U,O=U;do(Y.x<O.x||Y.x===O.x&&Y.y<O.y)&&(O=Y),Y=Y.next;while(Y!==U);return O}function E(U,Y,O,G,z,H,K,J){return(z-K)*(Y-J)>=(U-K)*(H-J)&&(U-K)*(G-J)>=(O-K)*(Y-J)&&(O-K)*(H-J)>=(z-K)*(G-J)}function y(U,Y){return U.next.i!==Y.i&&U.prev.i!==Y.i&&!F(U,Y)&&(N(U,Y)&&N(Y,U)&&b(U,Y)&&(w(U.prev,U,Y.prev)||w(U,Y.prev,Y))||A(U,Y)&&w(U.prev,U,U.next)>0&&w(Y.prev,Y,Y.next)>0)}function w(U,Y,O){return(Y.y-U.y)*(O.x-Y.x)-(Y.x-U.x)*(O.y-Y.y)}function A(U,Y){return U.x===Y.x&&U.y===Y.y}function P(U,Y,O,G){var z=L(w(U,Y,O)),H=L(w(U,Y,G)),K=L(w(O,G,U)),J=L(w(O,G,Y));return!!(z!==H&&K!==J||z===0&&M(U,O,Y)||H===0&&M(U,G,Y)||K===0&&M(O,U,G)||J===0&&M(O,Y,G))}function M(U,Y,O){return Y.x<=Math.max(U.x,O.x)&&Y.x>=Math.min(U.x,O.x)&&Y.y<=Math.max(U.y,O.y)&&Y.y>=Math.min(U.y,O.y)}function L(U){return U>0?1:U<0?-1:0}function F(U,Y){var O=U;do{if(O.i!==U.i&&O.next.i!==U.i&&O.i!==Y.i&&O.next.i!==Y.i&&P(O,O.next,U,Y))return!0;O=O.next}while(O!==U);return!1}function N(U,Y){return w(U.prev,U,U.next)<0?w(U,Y,U.next)>=0&&w(U,U.prev,Y)>=0:w(U,Y,U.prev)<0||w(U,U.next,Y)<0}function b(U,Y){var O=U,G=!1,z=(U.x+Y.x)/2,H=(U.y+Y.y)/2;do O.y>H!=O.next.y>H&&O.next.y!==O.y&&z<(O.next.x-O.x)*(H-O.y)/(O.next.y-O.y)+O.x&&(G=!G),O=O.next;while(O!==U);return G}function V(U,Y){var O=new k(U.i,U.x,U.y),G=new k(Y.i,Y.x,Y.y),z=U.next,H=Y.prev;return U.next=Y,Y.prev=U,O.next=z,z.prev=O,G.next=O,O.prev=G,H.next=G,G.prev=H,G}function X(U,Y,O,G){var z=new k(U,Y,O);return G?(z.next=G.next,z.prev=G,G.next.prev=z,G.next=z):(z.prev=z,z.next=z),z}function W(U){U.next.prev=U.prev,U.prev.next=U.next,U.prevZ&&(U.prevZ.nextZ=U.nextZ),U.nextZ&&(U.nextZ.prevZ=U.prevZ)}function k(U,Y,O){this.i=U,this.x=Y,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(U,Y,O,G){var z=Y&&Y.length,H=z?Y[0]*O:U.length,K=Math.abs(Q(U,0,H,O));if(z)for(var J=0,Z=Y.length;J<Z;J++){var _=Y[J]*O,tt=J<Z-1?Y[J+1]*O:U.length;K-=Math.abs(Q(U,_,tt,O))}var et=0;for(J=0;J<G.length;J+=3){var nt=G[J]*O,rt=G[J+1]*O,st=G[J+2]*O;et+=Math.abs((U[nt]-U[st])*(U[rt+1]-U[nt+1])-(U[nt]-U[rt])*(U[st+1]-U[nt+1]))}return K===0&&et===0?0:Math.abs((et-K)/K)};function Q(U,Y,O,G){for(var z=0,H=Y,K=O-G;H<O;H+=G)z+=(U[K]-U[H])*(U[H+1]+U[K+1]),K=H;return z}S.flatten=function(U){for(var Y=U[0][0].length,O={vertices:[],holes:[],dimensions:Y},G=0,z=0;z<U.length;z++){for(var H=0;H<U[z].length;H++)for(var K=0;K<Y;K++)O.vertices.push(U[z][H][K]);z>0&&(G+=U[z-1].length,O.holes.push(G))}return O},v.exports=S},14045:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=function(l,a){a===void 0&&(a=new h);for(var r=1/0,i=1/0,s=-r,f=-i,e,o=0;o<l.points.length;o++)e=l.points[o],r=Math.min(r,e.x),i=Math.min(i,e.y),s=Math.max(s,e.x),f=Math.max(f,e.y);return a.x=r,a.y=i,a.width=s-r,a.height=f-i,a};v.exports=m},98286:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var m=0;m<t.points.length;m++)h.push(t.points[m].x),h.push(t.points[m].y);return h};v.exports=S},89294:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),m=t(88829),l=t(5159),a=function(r,i,s,f){f===void 0&&(f=[]);var e=r.points,o=l(r);!i&&s>0&&(i=o/s);for(var d=0;d<i;d++)for(var c=o*(d/i),p=0,x=0;x<e.length;x++){var T=e[x],E=e[(x+1)%e.length],y=new m(T.x,T.y,E.x,E.y),w=h(y);if(c<p||c>p+w){p+=w;continue}var A=y.getPoint((c-p)/w);f.push(A);break}return f};v.exports=a},5159:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),m=t(88829),l=function(a){for(var r=a.points,i=0,s=0;s<r.length;s++){var f=r[s],e=r[(s+1)%r.length],o=new m(f.x,f.y,e.x,e.y);i+=h(o)}return i};v.exports=l},8580:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(45604),l=t(89294),a=t(52394),r=new h({initialize:function(s){this.type=a.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(i,s){return m(this,i,s)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var s,f=Number.MAX_VALUE,e=0;e<i.length;e++)s={x:0,y:0},typeof i[e]=="number"||typeof i[e]=="string"?(s.x=parseFloat(i[e]),s.y=parseFloat(i[e+1]),e++):Array.isArray(i[e])?(s.x=i[e][0],s.y=i[e][1]):(s.x=i[e].x,s.y=i[e].y),this.points.push(s),s.y<f&&(f=s.y);return this.calculateArea(f),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,s,f,e=0;e<this.points.length-1;e++)s=this.points[e],f=this.points[e+1],i+=(f.x-s.x)*(s.y+f.y);return s=this.points[0],f=this.points[this.points.length-1],i+=(s.x-f.x)*(f.y+s.y),this.area=-i*.5,this.area},getPoints:function(i,s,f){return l(this,i,s,f)}});v.exports=r},32244:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};v.exports=S},95874:v=>{function S(r,i){var s=r.x-i.x,f=r.y-i.y;return s*s+f*f}function t(r,i,s){var f=i.x,e=i.y,o=s.x-f,d=s.y-e;if(o!==0||d!==0){var c=((r.x-f)*o+(r.y-e)*d)/(o*o+d*d);c>1?(f=s.x,e=s.y):c>0&&(f+=o*c,e+=d*c)}return o=r.x-f,d=r.y-e,o*o+d*d}function h(r,i){for(var s=r[0],f=[s],e,o=1,d=r.length;o<d;o++)e=r[o],S(e,s)>i&&(f.push(e),s=e);return s!==e&&f.push(e),f}function m(r,i,s,f,e){for(var o=f,d,c=i+1;c<s;c++){var p=t(r[c],r[i],r[s]);p>o&&(d=c,o=p)}o>f&&(d-i>1&&m(r,i,d,f,e),e.push(r[d]),s-d>1&&m(r,d,s,f,e))}function l(r,i){var s=r.length-1,f=[r[0]];return m(r,0,s,i,f),f.push(r[s]),f}var a=function(r,i,s){i===void 0&&(i=1),s===void 0&&(s=!1);var f=r.points;if(f.length>2){var e=i*i;s||(f=h(f,e)),r.setTo(l(f,e))}return r};v.exports=a},18974:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(h,m){return h[0]=m[0],h[1]=m[1],h},t=function(h){var m,l=[],a=h.points;for(m=0;m<a.length;m++)l.push([a[m].x,a[m].y]);var r=[];for(l.length>0&&r.push(S([0,0],l[0])),m=0;m<l.length-1;m++){var i=l[m],s=l[m+1],f=i[0],e=i[1],o=s[0],d=s[1];r.push([.85*f+.15*o,.85*e+.15*d]),r.push([.15*f+.85*o,.15*e+.85*d])}return l.length>1&&r.push(S([0,0],l[l.length-1])),h.setTo(r)};v.exports=t},23490:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){for(var l=t.points,a=0;a<l.length;a++)l[a].x+=h,l[a].y+=m;return t};v.exports=S},44359:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8580);h.Clone=t(19631),h.Contains=t(45604),h.ContainsPoint=t(87289),h.Earcut=t(11117),h.GetAABB=t(14045),h.GetNumberArray=t(98286),h.GetPoints=t(89294),h.Perimeter=t(5159),h.Reverse=t(32244),h.Simplify=t(95874),h.Smooth=t(18974),h.Translate=t(23490),v.exports=h},1653:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};v.exports=S},33943:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};v.exports=S},58662:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};v.exports=S},79993:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x=h-t.width/2,t.y=m-t.height/2,t};v.exports=S},81572:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=function(l){return new h(l.x,l.y,l.width,l.height)};v.exports=m},94287:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.width<=0||t.height<=0?!1:t.x<=h&&t.x+t.width>=h&&t.y<=m&&t.y+t.height>=m};v.exports=S},28687:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94287),m=function(l,a){return h(l,a.x,a.y)};v.exports=m},73222:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.width*h.height>t.width*t.height?!1:h.x>t.x&&h.x<t.right&&h.right>t.x&&h.right<t.right&&h.y>t.y&&h.y<t.bottom&&h.bottom>t.y&&h.bottom<t.bottom};v.exports=S},29538:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x,t.y,t.width,t.height)};v.exports=S},87279:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x,y:t.y}),h.push({x:t.right,y:t.y}),h.push({x:t.right,y:t.bottom}),h.push({x:t.x,y:t.bottom}),h};v.exports=S},19989:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x===h.x&&t.y===h.y&&t.width===h.width&&t.height===h.height};v.exports=S},92628:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6700),m=function(l,a){var r=h(l);return r<h(a)?l.setSize(a.height*r,a.height):l.setSize(a.width,a.width/r),l.setPosition(a.centerX-l.width/2,a.centerY-l.height/2)};v.exports=m},85028:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6700),m=function(l,a){var r=h(l);return r>h(a)?l.setSize(a.height*r,a.height):l.setSize(a.width,a.width/r),l.setPosition(a.centerX-l.width/2,a.centerY-l.height/2)};v.exports=m},71356:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};v.exports=S},21687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};v.exports=S},80222:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=t(83392),l=function(a,r){if(r===void 0&&(r=new h),a.length===0)return r;for(var i=Number.MAX_VALUE,s=Number.MAX_VALUE,f=m.MIN_SAFE_INTEGER,e=m.MIN_SAFE_INTEGER,o,d,c,p=0;p<a.length;p++)o=a[p],Array.isArray(o)?(d=o[0],c=o[1]):(d=o.x,c=o.y),i=Math.min(i,d),s=Math.min(s,c),f=Math.max(f,d),e=Math.max(e,c);return r.x=i,r.y=s,r.width=f-i,r.height=e-s,r};v.exports=l},75785:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=function(l,a,r,i,s){return s===void 0&&(s=new h),s.setTo(Math.min(l,r),Math.min(a,i),Math.abs(l-r),Math.abs(a-i))};v.exports=m},6700:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};v.exports=S},35242:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){return a===void 0&&(a=new h),a.x=l.centerX,a.y=l.centerY,a};v.exports=m},47698:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85876),m=t(79967),l=function(a,r,i){if(i===void 0&&(i=new m),r<=0||r>=1)return i.x=a.x,i.y=a.y,i;var s=h(a)*r;return r>.5?(s-=a.width+a.height,s<=a.width?(i.x=a.right-s,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(s-a.width))):s<=a.width?(i.x=a.x+s,i.y=a.y):(i.x=a.right,i.y=a.y+(s-a.width)),i};v.exports=l},54932:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47698),m=t(85876),l=function(a,r,i,s){s===void 0&&(s=[]),!r&&i>0&&(r=m(a)/i);for(var f=0;f<r;f++){var e=f/r;s.push(h(a,e))}return s};v.exports=l},31591:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){return a===void 0&&(a=new h),a.x=l.width,a.y=l.height,a};v.exports=m},7782:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79993),m=function(l,a,r){var i=l.centerX,s=l.centerY;return l.setSize(l.width+a*2,l.height+r*2),h(l,i,s)};v.exports=m},66217:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=t(90205),l=function(a,r,i){return i===void 0&&(i=new h),m(a,r)?(i.x=Math.max(a.x,r.x),i.y=Math.max(a.y,r.y),i.width=Math.min(a.right,r.right)-i.x,i.height=Math.min(a.bottom,r.bottom)-i.y):i.setEmpty(),i};v.exports=l},40053:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(85876),m=t(79967),l=function(a,r,i,s){if(s===void 0&&(s=[]),!r&&!i)return s;r?i=Math.round(h(a)/r):r=h(a)/i;for(var f=a.x,e=a.y,o=0,d=0;d<i;d++)switch(s.push(new m(f,e)),o){case 0:f+=r,f>=a.right&&(o=1,e+=f-a.right,f=a.right);break;case 1:e+=r,e>=a.bottom&&(o=2,f-=e-a.bottom,e=a.bottom);break;case 2:f-=r,f<=a.left&&(o=3,e-=a.left-f,f=a.left);break;case 3:e-=r,e<=a.top&&(o=0,e=a.top);break}return s};v.exports=l},86673:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=t.x,l=t.right,a=t.y,r=t.bottom,i=0;i<h.length;i++)m=Math.min(m,h[i].x),l=Math.max(l,h[i].x),a=Math.min(a,h[i].y),r=Math.max(r,h[i].y);return t.x=m,t.y=a,t.width=l-m,t.height=r-a,t};v.exports=S},14655:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=Math.min(t.x,h.x),l=Math.max(t.right,h.right);t.x=m,t.width=l-m;var a=Math.min(t.y,h.y),r=Math.max(t.bottom,h.bottom);return t.y=a,t.height=r-a,t};v.exports=S},44755:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=Math.min(t.x,h),a=Math.max(t.right,h);t.x=l,t.width=a-l;var r=Math.min(t.y,m),i=Math.max(t.bottom,m);return t.y=r,t.height=i-r,t};v.exports=S},74466:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x+=h,t.y+=m,t};v.exports=S},55946:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x+=h.x,t.y+=h.y,t};v.exports=S},97474:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x<h.right&&t.right>h.x&&t.y<h.bottom&&t.bottom>h.y};v.exports=S},85876:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};v.exports=S},20243:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=t(75606),l=function(a,r,i){i===void 0&&(i=new h),r=m(r);var s=Math.sin(r),f=Math.cos(r),e=f>0?a.width/2:a.width/-2,o=s>0?a.height/2:a.height/-2;return Math.abs(e*s)<Math.abs(o*f)?o=e*s/f:e=o*f/s,i.x=e+a.centerX,i.y=o+a.centerY,i};v.exports=l},30001:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){return a===void 0&&(a=new h),a.x=l.x+Math.random()*l.width,a.y=l.y+Math.random()*l.height,a};v.exports=m},97691:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),m=t(73222),l=t(79967),a=function(r,i,s){if(s===void 0&&(s=new l),m(r,i))switch(h(0,3)){case 0:s.x=r.x+Math.random()*(i.right-r.x),s.y=r.y+Math.random()*(i.top-r.y);break;case 1:s.x=i.x+Math.random()*(r.right-i.x),s.y=i.bottom+Math.random()*(r.bottom-i.bottom);break;case 2:s.x=r.x+Math.random()*(i.x-r.x),s.y=i.y+Math.random()*(r.bottom-i.y);break;case 3:s.x=i.right+Math.random()*(r.right-i.right),s.y=r.y+Math.random()*(i.bottom-r.y);break}return s};v.exports=a},74118:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(94287),l=t(47698),a=t(54932),r=t(52394),i=t(88829),s=t(30001),f=new h({initialize:function(o,d,c,p){o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),this.type=r.RECTANGLE,this.x=o,this.y=d,this.width=c,this.height=p},contains:function(e,o){return m(this,e,o)},getPoint:function(e,o){return l(this,e,o)},getPoints:function(e,o,d){return a(this,e,o,d)},getRandomPoint:function(e){return s(this,e)},setTo:function(e,o,d,c){return this.x=e,this.y=o,this.width=d,this.height=c,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(e,o){return o===void 0&&(o=e),this.x=e,this.y=o,this},setSize:function(e,o){return o===void 0&&(o=e),this.width=e,this.height=o,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(e){return e===void 0&&(e=new i),e.setTo(this.x,this.y,this.right,this.y),e},getLineB:function(e){return e===void 0&&(e=new i),e.setTo(this.right,this.y,this.right,this.bottom),e},getLineC:function(e){return e===void 0&&(e=new i),e.setTo(this.right,this.bottom,this.x,this.bottom),e},getLineD:function(e){return e===void 0&&(e=new i),e.setTo(this.x,this.bottom,this.x,this.y),e},left:{get:function(){return this.x},set:function(e){e>=this.right?this.width=0:this.width=this.right-e,this.x=e}},right:{get:function(){return this.x+this.width},set:function(e){e<=this.x?this.width=0:this.width=e-this.x}},top:{get:function(){return this.y},set:function(e){e>=this.bottom?this.height=0:this.height=this.bottom-e,this.y=e}},bottom:{get:function(){return this.y+this.height},set:function(e){e<=this.y?this.height=0:this.height=e-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});v.exports=f},51828:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.width===h.width&&t.height===h.height};v.exports=S},5691:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=h),t.width*=h,t.height*=m,t};v.exports=S},58795:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=function(l,a,r){r===void 0&&(r=new h);var i=Math.min(l.x,a.x),s=Math.min(l.y,a.y),f=Math.max(l.right,a.right)-i,e=Math.max(l.bottom,a.bottom)-s;return r.setTo(i,s,f,e)};v.exports=m},66658:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118);h.Area=t(1653),h.Ceil=t(33943),h.CeilAll=t(58662),h.CenterOn=t(79993),h.Clone=t(81572),h.Contains=t(94287),h.ContainsPoint=t(28687),h.ContainsRect=t(73222),h.CopyFrom=t(29538),h.Decompose=t(87279),h.Equals=t(19989),h.FitInside=t(92628),h.FitOutside=t(85028),h.Floor=t(71356),h.FloorAll=t(21687),h.FromPoints=t(80222),h.FromXY=t(75785),h.GetAspectRatio=t(6700),h.GetCenter=t(35242),h.GetPoint=t(47698),h.GetPoints=t(54932),h.GetSize=t(31591),h.Inflate=t(7782),h.Intersection=t(66217),h.MarchingAnts=t(40053),h.MergePoints=t(86673),h.MergeRect=t(14655),h.MergeXY=t(44755),h.Offset=t(74466),h.OffsetPoint=t(55946),h.Overlaps=t(97474),h.Perimeter=t(85876),h.PerimeterPoint=t(20243),h.Random=t(30001),h.RandomOutside=t(97691),h.SameDimensions=t(51828),h.Scale=t(5691),h.Union=t(58795),v.exports=h},19108:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.x1,m=t.y1,l=t.x2,a=t.y2,r=t.x3,i=t.y3;return Math.abs(((r-h)*(a-m)-(l-h)*(i-m))/2)};v.exports=S},41199:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349),m=function(l,a,r){var i=r*(Math.sqrt(3)/2),s=l,f=a,e=l+r/2,o=a+i,d=l-r/2,c=a+i;return new h(s,f,e,o,d,c)};v.exports=m},88730:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11117),m=t(66349),l=function(a,r,i,s,f){r===void 0&&(r=null),i===void 0&&(i=1),s===void 0&&(s=1),f===void 0&&(f=[]);for(var e=h(a,r),o,d,c,p,x,T,E,y,w,A=0;A<e.length;A+=3)o=e[A],d=e[A+1],c=e[A+2],p=a[o*2]*i,x=a[o*2+1]*s,T=a[d*2]*i,E=a[d*2+1]*s,y=a[c*2]*i,w=a[c*2+1]*s,f.push(new m(p,x,T,E,y,w));return f};v.exports=l},3635:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349),m=function(l,a,r,i){i===void 0&&(i=r);var s=l,f=a,e=l,o=a-i,d=l+r,c=a;return new h(s,f,e,o,d,c)};v.exports=m},1882:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56595),m=t(9640),l=function(a,r,i,s){s===void 0&&(s=h);var f=s(a),e=r-f.x,o=i-f.y;return m(a,e,o)};v.exports=l},56595:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){return a===void 0&&(a=new h),a.x=(l.x1+l.x2+l.x3)/3,a.y=(l.y1+l.y2+l.y3)/3,a};v.exports=m},91835:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736);function m(a,r,i,s){return a*s-r*i}var l=function(a,r){r===void 0&&(r=new h);var i=a.x3,s=a.y3,f=a.x1-i,e=a.y1-s,o=a.x2-i,d=a.y2-s,c=2*m(f,e,o,d),p=m(e,f*f+e*e,d,o*o+d*d),x=m(f,f*f+e*e,o,o*o+d*d);return r.x=i-p/c,r.y=s+x/c,r};v.exports=l},97073:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),m=function(l,a){a===void 0&&(a=new h);var r=l.x1,i=l.y1,s=l.x2,f=l.y2,e=l.x3,o=l.y3,d=s-r,c=f-i,p=e-r,x=o-i,T=d*(r+s)+c*(i+f),E=p*(r+e)+x*(i+o),y=2*(d*(o-f)-c*(e-s)),w,A;if(Math.abs(y)<1e-6){var P=Math.min(r,s,e),M=Math.min(i,f,o);w=(Math.max(r,s,e)-P)*.5,A=(Math.max(i,f,o)-M)*.5,a.x=P+w,a.y=M+A,a.radius=Math.sqrt(w*w+A*A)}else a.x=(x*T-c*E)/y,a.y=(d*E-p*T)/y,w=a.x-r,A=a.y-i,a.radius=Math.sqrt(w*w+A*A);return a};v.exports=m},75974:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349),m=function(l){return new h(l.x1,l.y1,l.x2,l.y2,l.x3,l.y3)};v.exports=m},60689:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=t.x3-t.x1,a=t.y3-t.y1,r=t.x2-t.x1,i=t.y2-t.y1,s=h-t.x1,f=m-t.y1,e=l*l+a*a,o=l*r+a*i,d=l*s+a*f,c=r*r+i*i,p=r*s+i*f,x=e*c-o*o,T=x===0?0:1/x,E=(c*d-o*p)*T,y=(e*p-o*d)*T;return E>=0&&y>=0&&E+y<1};v.exports=S},86875:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m===void 0&&(m=!1),l===void 0&&(l=[]);for(var a=t.x3-t.x1,r=t.y3-t.y1,i=t.x2-t.x1,s=t.y2-t.y1,f=a*a+r*r,e=a*i+r*s,o=i*i+s*s,d=f*o-e*e,c=d===0?0:1/d,p,x,T,E,y,w,A=t.x1,P=t.y1,M=0;M<h.length&&(T=h[M].x-A,E=h[M].y-P,y=a*T+r*E,w=i*T+s*E,p=(o*y-e*w)*c,x=(f*w-e*y)*c,!(p>=0&&x>=0&&p+x<1&&(l.push({x:h[M].x,y:h[M].y}),m)));M++);return l};v.exports=S},51532:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60689),m=function(l,a){return h(l,a.x,a.y)};v.exports=m},42538:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};v.exports=S},18680:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=[]),h.push({x:t.x1,y:t.y1}),h.push({x:t.x2,y:t.y2}),h.push({x:t.x3,y:t.y3}),h};v.exports=S},29977:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.x1===h.x1&&t.y1===h.y1&&t.x2===h.x2&&t.y2===h.y2&&t.x3===h.x3&&t.y3===h.y3};v.exports=S},56088:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=t(16028),l=function(a,r,i){i===void 0&&(i=new h);var s=a.getLineA(),f=a.getLineB(),e=a.getLineC();if(r<=0||r>=1)return i.x=s.x1,i.y=s.y1,i;var o=m(s),d=m(f),c=m(e),p=o+d+c,x=p*r,T=0;return x<o?(T=x/o,i.x=s.x1+(s.x2-s.x1)*T,i.y=s.y1+(s.y2-s.y1)*T):x>o+d?(x-=o+d,T=x/c,i.x=e.x1+(e.x2-e.x1)*T,i.y=e.y1+(e.y2-e.y1)*T):(x-=o,T=x/d,i.x=f.x1+(f.x2-f.x1)*T,i.y=f.y1+(f.y2-f.y1)*T),i};v.exports=l},24402:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),m=t(79967),l=function(a,r,i,s){s===void 0&&(s=[]);var f=a.getLineA(),e=a.getLineB(),o=a.getLineC(),d=h(f),c=h(e),p=h(o),x=d+c+p;!r&&i>0&&(r=x/i);for(var T=0;T<r;T++){var E=x*(T/r),y=0,w=new m;E<d?(y=E/d,w.x=f.x1+(f.x2-f.x1)*y,w.y=f.y1+(f.y2-f.y1)*y):E>d+c?(E-=d+c,y=E/p,w.x=o.x1+(o.x2-o.x1)*y,w.y=o.y1+(o.y2-o.y1)*y):(E-=d,y=E/c,w.x=e.x1+(e.x2-e.x1)*y,w.y=e.y1+(e.y2-e.y1)*y),s.push(w)}return s};v.exports=l},83648:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967);function m(a,r,i,s){var f=a-i,e=r-s,o=f*f+e*e;return Math.sqrt(o)}var l=function(a,r){r===void 0&&(r=new h);var i=a.x1,s=a.y1,f=a.x2,e=a.y2,o=a.x3,d=a.y3,c=m(o,d,f,e),p=m(i,s,o,d),x=m(f,e,i,s),T=c+p+x;return r.x=(i*c+f*p+o*x)/T,r.y=(s*c+e*p+d*x)/T,r};v.exports=l},9640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t.x1+=h,t.y1+=m,t.x2+=h,t.y2+=m,t.x3+=h,t.y3+=m,t};v.exports=S},95290:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16028),m=function(l){var a=l.getLineA(),r=l.getLineB(),i=l.getLineC();return h(a)+h(r)+h(i)};v.exports=m},99761:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(79967),m=function(l,a){a===void 0&&(a=new h);var r=l.x2-l.x1,i=l.y2-l.y1,s=l.x3-l.x1,f=l.y3-l.y1,e=Math.random(),o=Math.random();return e+o>=1&&(e=1-e,o=1-o),a.x=l.x1+(r*e+s*o),a.y=l.y1+(i*e+f*o),a};v.exports=m},21934:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19211),m=t(83648),l=function(a,r){var i=m(a);return h(a,i.x,i.y,r)};v.exports=l},68454:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19211),m=function(l,a,r){return h(l,a.x,a.y,r)};v.exports=m},19211:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=Math.cos(l),r=Math.sin(l),i=t.x1-h,s=t.y1-m;return t.x1=i*a-s*r+h,t.y1=i*r+s*a+m,i=t.x2-h,s=t.y2-m,t.x2=i*a-s*r+h,t.y2=i*r+s*a+m,i=t.x3-h,s=t.y3-m,t.x3=i*a-s*r+h,t.y3=i*r+s*a+m,t};v.exports=S},66349:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(60689),l=t(56088),a=t(24402),r=t(52394),i=t(88829),s=t(99761),f=new h({initialize:function(o,d,c,p,x,T){o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),x===void 0&&(x=0),T===void 0&&(T=0),this.type=r.TRIANGLE,this.x1=o,this.y1=d,this.x2=c,this.y2=p,this.x3=x,this.y3=T},contains:function(e,o){return m(this,e,o)},getPoint:function(e,o){return l(this,e,o)},getPoints:function(e,o,d){return a(this,e,o,d)},getRandomPoint:function(e){return s(this,e)},setTo:function(e,o,d,c,p,x){return e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=0),x===void 0&&(x=0),this.x1=e,this.y1=o,this.x2=d,this.y2=c,this.x3=p,this.y3=x,this},getLineA:function(e){return e===void 0&&(e=new i),e.setTo(this.x1,this.y1,this.x2,this.y2),e},getLineB:function(e){return e===void 0&&(e=new i),e.setTo(this.x2,this.y2,this.x3,this.y3),e},getLineC:function(e){return e===void 0&&(e=new i),e.setTo(this.x3,this.y3,this.x1,this.y1),e},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(e){var o=0;this.x1<=this.x2&&this.x1<=this.x3?o=this.x1-e:this.x2<=this.x1&&this.x2<=this.x3?o=this.x2-e:o=this.x3-e,this.x1-=o,this.x2-=o,this.x3-=o}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(e){var o=0;this.x1>=this.x2&&this.x1>=this.x3?o=this.x1-e:this.x2>=this.x1&&this.x2>=this.x3?o=this.x2-e:o=this.x3-e,this.x1-=o,this.x2-=o,this.x3-=o}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(e){var o=0;this.y1<=this.y2&&this.y1<=this.y3?o=this.y1-e:this.y2<=this.y1&&this.y2<=this.y3?o=this.y2-e:o=this.y3-e,this.y1-=o,this.y2-=o,this.y3-=o}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(e){var o=0;this.y1>=this.y2&&this.y1>=this.y3?o=this.y1-e:this.y2>=this.y1&&this.y2>=this.y3?o=this.y2-e:o=this.y3-e,this.y1-=o,this.y2-=o,this.y3-=o}}});v.exports=f},87619:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66349);h.Area=t(19108),h.BuildEquilateral=t(41199),h.BuildFromPolygon=t(88730),h.BuildRight=t(3635),h.CenterOn=t(1882),h.Centroid=t(56595),h.CircumCenter=t(91835),h.CircumCircle=t(97073),h.Clone=t(75974),h.Contains=t(60689),h.ContainsArray=t(86875),h.ContainsPoint=t(51532),h.CopyFrom=t(42538),h.Decompose=t(18680),h.Equals=t(29977),h.GetPoint=t(56088),h.GetPoints=t(24402),h.InCenter=t(83648),h.Perimeter=t(95290),h.Offset=t(9640),h.Random=t(99761),h.Rotate=t(21934),h.RotateAroundPoint=t(68454),h.RotateAroundXY=t(19211),v.exports=h},27395:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};v.exports=S},18104:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return function(m,l,a,r){var i=t.getPixelAlpha(l,a,r.texture.key,r.frame.name);return i&&i>=h}};v.exports=S},69898:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72687),l=t(6659),a=t(33963),r=t(97081),i=t(71064),s=t(7905),f=t(40398),e=t(37579),o=t(69360),d=t(64462),c=new h({initialize:function(x,T){this.game=x,this.scaleManager,this.canvas,this.config=T,this.enabled=!0,this.events=new l,this.isOver=!0,this.defaultCursor="",this.keyboard=T.inputKeyboard?new i(this):null,this.mouse=T.inputMouse?new s(this):null,this.touch=T.inputTouch?new e(this):null,this.pointers=[],this.pointersTotal=T.inputActivePointers,T.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var E=0;E<=this.pointersTotal;E++){var y=new f(this,E);y.smoothFactor=T.inputSmoothFactor,this.pointers.push(y)}this.mousePointer=T.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new o,this._tempMatrix2=new o,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],x.events.once(r.BOOT,this.boot,this)},boot:function(){var p=this.game,x=p.events;this.canvas=p.canvas,this.scaleManager=p.scale,this.events.emit(a.MANAGER_BOOT),x.on(r.PRE_RENDER,this.preRender,this),x.once(r.DESTROY,this.destroy,this)},setCanvasOver:function(p){this.isOver=!0,this.events.emit(a.GAME_OVER,p)},setCanvasOut:function(p){this.isOver=!1,this.events.emit(a.GAME_OUT,p)},preRender:function(){var p=this.game.loop.now,x=this.game.loop.delta,T=this.game.scene.getScenes(!0,!0);this.time=p,this.events.emit(a.MANAGER_UPDATE);for(var E=0;E<T.length;E++){var y=T[E];if(y.sys.input&&y.sys.input.updatePoll(p,x)&&this.globalTopOnly)return}},setDefaultCursor:function(p){this.defaultCursor=p,this.canvas.style.cursor!==p&&(this.canvas.style.cursor=p)},setCursor:function(p){p.cursor&&(this.canvas.style.cursor=p.cursor)},resetCursor:function(p){p.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(p){p===void 0&&(p=1);var x=[];this.pointersTotal+p>10&&(p=10-this.pointersTotal);for(var T=0;T<p;T++){var E=this.pointers.length,y=new f(this,E);y.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(y),this.pointersTotal++,x.push(y)}return x},updateInputPlugins:function(p,x){var T=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<T.length;E++){var y=T[E];if(y.sys.input){var w=y.sys.input.update(p,x);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(p){for(var x=this.pointers,T=[],E=0;E<p.changedTouches.length;E++)for(var y=p.changedTouches[E],w=1;w<this.pointersTotal;w++){var A=x[w];if(!A.active){A.touchstart(y,p),this.activePointer=A,T.push(A);break}}this.updateInputPlugins(m.TOUCH_START,T)},onTouchMove:function(p){for(var x=this.pointers,T=[],E=0;E<p.changedTouches.length;E++)for(var y=p.changedTouches[E],w=1;w<this.pointersTotal;w++){var A=x[w];if(A.active&&A.identifier===y.identifier){var P=document.elementFromPoint(y.pageX,y.pageY),M=P===this.canvas;!this.isOver&&M?this.setCanvasOver(p):this.isOver&&!M&&this.setCanvasOut(p),this.isOver&&(A.touchmove(y,p),this.activePointer=A,T.push(A));break}}this.updateInputPlugins(m.TOUCH_MOVE,T)},onTouchEnd:function(p){for(var x=this.pointers,T=[],E=0;E<p.changedTouches.length;E++)for(var y=p.changedTouches[E],w=1;w<this.pointersTotal;w++){var A=x[w];if(A.active&&A.identifier===y.identifier){A.touchend(y,p),T.push(A);break}}this.updateInputPlugins(m.TOUCH_END,T)},onTouchCancel:function(p){for(var x=this.pointers,T=[],E=0;E<p.changedTouches.length;E++)for(var y=p.changedTouches[E],w=1;w<this.pointersTotal;w++){var A=x[w];if(A.active&&A.identifier===y.identifier){A.touchcancel(y,p),T.push(A);break}}this.updateInputPlugins(m.TOUCH_CANCEL,T)},onMouseDown:function(p){var x=this.mousePointer;x.down(p),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(p){var x=this.mousePointer;x.move(p),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(p){var x=this.mousePointer;x.up(p),x.updateMotion(),this.activePointer=x,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(p){var x=this.mousePointer;x.wheel(p),this.activePointer=x,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(p){var x=this.mouse.locked;this.mousePointer.locked=x,this.events.emit(a.POINTERLOCK_CHANGE,p,x)},inputCandidate:function(p,x){var T=p.input;if(!T||!T.enabled||!p.willRender(x))return!1;var E=!0,y=p.parentContainer;if(y)do{if(!y.willRender(x)){E=!1;break}y=y.parentContainer}while(y);return E},hitTest:function(p,x,T,E){E===void 0&&(E=this._tempHitTest);var y=this._tempPoint,w=T.scrollX,A=T.scrollY;E.length=0;var P=p.x,M=p.y;T.getWorldPoint(P,M,y),p.worldX=y.x,p.worldY=y.y;for(var L={x:0,y:0},F=this._tempMatrix,N=this._tempMatrix2,b=0;b<x.length;b++){var V=x[b];if(this.inputCandidate(V,T)){var X=y.x+w*V.scrollFactorX-w,W=y.y+A*V.scrollFactorY-A;V.parentContainer?(V.getWorldTransformMatrix(F,N),F.applyInverse(X,W,L)):d(X,W,V.x,V.y,V.rotation,V.scaleX,V.scaleY,L),this.pointWithinHitArea(V,L.x,L.y)&&E.push(V)}}return E},pointWithinHitArea:function(p,x,T){x+=p.displayOriginX,T+=p.displayOriginY;var E=p.input;return E&&E.hitAreaCallback(E.hitArea,x,T,p)?(E.localX=x,E.localY=T,!0):!1},pointWithinInteractiveObject:function(p,x,T){return p.hitArea?(x+=p.gameObject.displayOriginX,T+=p.gameObject.displayOriginY,p.localX=x,p.localY=T,p.hitAreaCallback(p.hitArea,x,T,p)):!1},transformPointer:function(p,x,T,E){var y=p.position,w=p.prevPosition;w.x=y.x,w.y=y.y;var A=this.scaleManager.transformX(x),P=this.scaleManager.transformY(T),M=p.smoothFactor;!E||M===0?(y.x=A,y.y=P):(y.x=A*M+w.x*(1-M),y.y=P*M+w.y*(1-M))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(r.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var p=0;p<this.pointers.length;p++)this.pointers[p].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});v.exports=c},12499:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(26673),m=t(65650),l=t(56694),a=t(72687),r=t(27395),i=t(18104),s=t(53996),f=t(95669),e=t(72313),o=t(33963),d=t(6659),c=t(72632),p=t(52394),x=t(63399),T=t(42911),E=t(91963),y=t(74118),w=t(94287),A=t(7599),P=t(66349),M=t(60689),L=new l({Extends:d,initialize:function(N){d.call(this),this.scene=N,this.systems=N.sys,this.settings=N.sys.settings,this.manager=N.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,x.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var b={cancelled:!1};this._eventContainer={stopPropagation:function(){b.cancelled=!0}},this._eventData=b,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,N.sys.events.once(A.BOOT,this.boot,this),N.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(o.BOOT)},start:function(){var F=this.systems.events;F.on(A.TRANSITION_START,this.transitionIn,this),F.on(A.TRANSITION_OUT,this.transitionOut,this),F.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),F.on(A.PRE_UPDATE,this.preUpdate,this),F.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(o.GAME_OUT,this.onGameOut,this),this.manager.events.on(o.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(o.START)},onGameOver:function(F){this.isActive()&&this.emit(o.GAME_OVER,F.timeStamp,F)},onGameOut:function(F){this.isActive()&&this.emit(o.GAME_OUT,F.timeStamp,F)},preUpdate:function(){this.pluginEvents.emit(o.PRE_UPDATE);var F=this._pendingRemoval,N=this._pendingInsertion,b=F.length,V=N.length;if(!(b===0&&V===0)){for(var X=this._list,W=0;W<b;W++){var k=F[W],Q=X.indexOf(k);Q>-1&&(X.splice(Q,1),this.clear(k,!0))}this._pendingRemoval.length=0,this._list=X.concat(N.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(F,N){if(!this.isActive())return!1;if(this.pluginEvents.emit(o.UPDATE,F,N),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var b,V=this.manager,X=V.pointers,W=V.pointersTotal;for(b=0;b<W;b++)X[b].updateMotion();if(this._list.length===0)return!1;var k=this.pollRate;if(k===-1)return!1;if(k>0)if(this._pollTimer-=N,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Q=!1;for(b=0;b<W;b++){var U=0,Y=X[b];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),U+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,F),U>0&&(Q=!0)}return Q},update:function(F,N){if(!this.isActive())return!1;for(var b=N.length,V=!1,X=0;X<b;X++){var W=0,k=N[X];switch(this._tempZones=[],this._temp=this.hitTestPointer(k),this.sortGameObjects(this._temp,k),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),F){case a.MOUSE_DOWN:W+=this.processDragDownEvent(k),W+=this.processDownEvents(k),W+=this.processOverOutEvents(k);break;case a.MOUSE_UP:W+=this.processDragUpEvent(k),W+=this.processUpEvents(k),W+=this.processOverOutEvents(k);break;case a.TOUCH_START:W+=this.processDragDownEvent(k),W+=this.processDownEvents(k),W+=this.processOverEvents(k);break;case a.TOUCH_END:case a.TOUCH_CANCEL:W+=this.processDragUpEvent(k),W+=this.processUpEvents(k),W+=this.processOutEvents(k);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:W+=this.processDragMoveEvent(k),W+=this.processMoveEvents(k),W+=this.processOverOutEvents(k);break;case a.MOUSE_WHEEL:W+=this.processWheelEvent(k);break}W>0&&(V=!0)}return this._updatedThisFrame=!0,V},clear:function(F,N){N===void 0&&(N=!1),this.disable(F);var b=F.input;b&&(this.removeDebug(F),b.gameObject=void 0,b.target=void 0,b.hitArea=void 0,b.hitAreaCallback=void 0,b.callbackContext=void 0,F.input=null),N||this.queueForRemoval(F);var V=this._draggable.indexOf(F);return V>-1&&this._draggable.splice(V,1),F},disable:function(F){var N=F.input;N&&(N.enabled=!1,N.dragState=0);var b=this._temp,V=this._drag,X=this._over,W=this.manager,k=b.indexOf(F);k>-1&&b.splice(k,1);for(var Q=0;Q<W.pointersTotal;Q++)k=V[Q].indexOf(F),k>-1&&V[Q].splice(k,1),k=X[Q].indexOf(F),k>-1&&(X[Q].splice(k,1),W.resetCursor(N));return this},enable:function(F,N,b,V){return V===void 0&&(V=!1),F.input?F.input.enabled=!0:this.setHitArea(F,N,b),F.input&&V&&!F.input.dropZone&&(F.input.dropZone=V),this},hitTestPointer:function(F){for(var N=this.cameras.getCamerasBelowPointer(F),b=0;b<N.length;b++){for(var V=N[b],X=this.manager.hitTest(F,this._list,V),W=0;W<X.length;W++){var k=X[W];k.input.dropZone&&this._tempZones.push(k)}if(X.length>0)return F.camera=V,X}return F.camera=N[0],[]},processDownEvents:function(F){var N=0,b=this._temp,V=this._eventData,X=this._eventContainer;V.cancelled=!1;for(var W=!1,k=0;k<b.length;k++){var Q=b[k];if(!(!Q.input||!Q.input.enabled)){if(N++,Q.emit(o.GAMEOBJECT_POINTER_DOWN,F,Q.input.localX,Q.input.localY,X),V.cancelled||!Q.input||!Q.input.enabled){W=!0;break}if(this.emit(o.GAMEOBJECT_DOWN,F,Q,X),V.cancelled||!Q.input){W=!0;break}}}return!W&&this.manager&&(F.downElement===this.manager.game.canvas?this.emit(o.POINTER_DOWN,F,b):this.emit(o.POINTER_DOWN_OUTSIDE,F)),N},getDragState:function(F){return this._dragState[F.id]},setDragState:function(F,N){this._dragState[F.id]=N},processDragThresholdEvent:function(F,N){var b=!1,V=this.dragTimeThreshold,X=this.dragDistanceThreshold;if((X>0&&s(F.x,F.y,F.downX,F.downY)>=X||V>0&&N>=F.downTime+V)&&(b=!0),b)return this.setDragState(F,3),this.processDragStartList(F)},processDragStartList:function(F){if(this.getDragState(F)!==3)return 0;for(var N=this._drag[F.id],b=0;b<N.length;b++){var V=N[b],X=V.input;X.dragState=2,X.dragStartX=V.x,X.dragStartY=V.y,X.dragStartXGlobal=F.worldX,X.dragStartYGlobal=F.worldY,X.dragX=X.dragStartXGlobal-X.dragStartX,X.dragY=X.dragStartYGlobal-X.dragStartY,V.emit(o.GAMEOBJECT_DRAG_START,F,X.dragX,X.dragY),this.emit(o.DRAG_START,F,V)}return this.setDragState(F,4),N.length},processDragDownEvent:function(F){var N=this._temp;if(this._draggable.length===0||N.length===0||!F.primaryDown||this.getDragState(F)!==0)return 0;this.setDragState(F,1);for(var b=[],V=0;V<N.length;V++){var X=N[V];X.input.draggable&&X.input.dragState===0&&b.push(X)}return b.length===0?(this.setDragState(F,0),0):(b.length>1&&(this.sortGameObjects(b,F),this.topOnly&&b.splice(1)),this._drag[F.id]=b,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(F,3),this.processDragStartList(F)):(this.setDragState(F,2),0))},processDragMoveEvent:function(F){if(this.getDragState(F)===2&&this.processDragThresholdEvent(F,this.manager.game.loop.now),this.getDragState(F)!==4)return 0;for(var N=this._tempZones,b=this._drag[F.id],V=0;V<b.length;V++){var X=b[V],W=X.input,k=W.target;if(k){var Q=N.indexOf(k);Q===0?(X.emit(o.GAMEOBJECT_DRAG_OVER,F,k),this.emit(o.DRAG_OVER,F,X,k)):Q>0?(X.emit(o.GAMEOBJECT_DRAG_LEAVE,F,k),this.emit(o.DRAG_LEAVE,F,X,k),W.target=N[0],k=W.target,X.emit(o.GAMEOBJECT_DRAG_ENTER,F,k),this.emit(o.DRAG_ENTER,F,X,k)):(X.emit(o.GAMEOBJECT_DRAG_LEAVE,F,k),this.emit(o.DRAG_LEAVE,F,X,k),N[0]?(W.target=N[0],k=W.target,X.emit(o.GAMEOBJECT_DRAG_ENTER,F,k),this.emit(o.DRAG_ENTER,F,X,k)):W.target=null)}else!k&&N[0]&&(W.target=N[0],k=W.target,X.emit(o.GAMEOBJECT_DRAG_ENTER,F,k),this.emit(o.DRAG_ENTER,F,X,k));var U,Y;if(!X.parentContainer)U=F.worldX-W.dragX,Y=F.worldY-W.dragY;else{var O=F.worldX-W.dragStartXGlobal,G=F.worldY-W.dragStartYGlobal,z=X.getParentRotation(),H=O*Math.cos(z)+G*Math.sin(z),K=G*Math.cos(z)-O*Math.sin(z);H*=1/X.parentContainer.scaleX,K*=1/X.parentContainer.scaleY,U=H+W.dragStartX,Y=K+W.dragStartY}X.emit(o.GAMEOBJECT_DRAG,F,U,Y),this.emit(o.DRAG,F,X,U,Y)}return b.length},processDragUpEvent:function(F){for(var N=this._drag[F.id],b=0;b<N.length;b++){var V=N[b],X=V.input;if(X&&X.dragState===2){X.dragState=0,X.dragX=X.localX-V.displayOriginX,X.dragY=X.localY-V.displayOriginY;var W=!1,k=X.target;k&&(V.emit(o.GAMEOBJECT_DROP,F,k),this.emit(o.DROP,F,V,k),X.target=null,W=!0),V.input&&V.input.enabled&&(V.emit(o.GAMEOBJECT_DRAG_END,F,X.dragX,X.dragY,W),this.emit(o.DRAG_END,F,V,W))}}return this.setDragState(F,0),N.splice(0),0},processMoveEvents:function(F){var N=0,b=this._temp,V=this._eventData,X=this._eventContainer;V.cancelled=!1;for(var W=!1,k=0;k<b.length;k++){var Q=b[k];if(!(!Q.input||!Q.input.enabled)){if(N++,Q.emit(o.GAMEOBJECT_POINTER_MOVE,F,Q.input.localX,Q.input.localY,X),V.cancelled||!Q.input||!Q.input.enabled){W=!0;break}if(this.emit(o.GAMEOBJECT_MOVE,F,Q,X),V.cancelled||!Q.input||!Q.input.enabled){W=!0;break}if(this.topOnly)break}}return W||this.emit(o.POINTER_MOVE,F,b),N},processWheelEvent:function(F){var N=0,b=this._temp,V=this._eventData,X=this._eventContainer;V.cancelled=!1;for(var W=!1,k=F.deltaX,Q=F.deltaY,U=F.deltaZ,Y=0;Y<b.length;Y++){var O=b[Y];if(!(!O.input||!O.input.enabled)){if(N++,O.emit(o.GAMEOBJECT_POINTER_WHEEL,F,k,Q,U,X),V.cancelled||!O.input||!O.input.enabled){W=!0;break}if(this.emit(o.GAMEOBJECT_WHEEL,F,O,k,Q,U,X),V.cancelled||!O.input||!O.input.enabled){W=!0;break}}}return W||this.emit(o.POINTER_WHEEL,F,b,k,Q,U),N},processOverEvents:function(F){var N=this._temp,b=0,V=N.length,X=[];if(V>0){var W=this.manager,k=this._eventData,Q=this._eventContainer;k.cancelled=!1;for(var U=!1,Y=0;Y<V;Y++){var O=N[Y];if(!(!O.input||!O.input.enabled)){if(X.push(O),W.setCursor(O.input),O.emit(o.GAMEOBJECT_POINTER_OVER,F,O.input.localX,O.input.localY,Q),b++,k.cancelled||!O.input||!O.input.enabled){U=!0;break}if(this.emit(o.GAMEOBJECT_OVER,F,O,Q),k.cancelled||!O.input||!O.input.enabled){U=!0;break}}}U||this.emit(o.POINTER_OVER,F,X)}return this._over[F.id]=X,b},processOutEvents:function(F){var N=this._over[F.id],b=0,V=N.length;if(V>0){var X=this.manager,W=this._eventData,k=this._eventContainer;W.cancelled=!1;var Q=!1;this.sortGameObjects(N,F);for(var U=0;U<V;U++){var Y=N[U];if(Y=N[U],!(!Y.input||!Y.input.enabled)){if(X.resetCursor(Y.input),Y.emit(o.GAMEOBJECT_POINTER_OUT,F,k),b++,W.cancelled||!Y.input||!Y.input.enabled){Q=!0;break}if(this.emit(o.GAMEOBJECT_OUT,F,Y,k),W.cancelled||!Y.input||!Y.input.enabled){Q=!0;break}Q||this.emit(o.POINTER_OUT,F,N)}}this._over[F.id]=[]}return b},processOverOutEvents:function(F){var N=this._temp,b,V,X=[],W=[],k=[],Q=this._over[F.id],U=this._drag[F.id],Y=this.manager;for(b=0;b<Q.length;b++)V=Q[b],N.indexOf(V)===-1&&U.indexOf(V)===-1?X.push(V):k.push(V);for(b=0;b<N.length;b++)V=N[b],Q.indexOf(V)===-1&&W.push(V);var O=X.length,G=0,z=this._eventData,H=this._eventContainer;z.cancelled=!1;var K=!1;if(O>0){for(this.sortGameObjects(X,F),b=0;b<O;b++)if(V=X[b],!(!V.input||!V.input.enabled)){if(Y.resetCursor(V.input),V.emit(o.GAMEOBJECT_POINTER_OUT,F,H),G++,z.cancelled||!V.input||!V.input.enabled){K=!0;break}if(this.emit(o.GAMEOBJECT_OUT,F,V,H),z.cancelled||!V.input||!V.input.enabled){K=!0;break}}K||this.emit(o.POINTER_OUT,F,X)}if(O=W.length,z.cancelled=!1,K=!1,O>0){for(this.sortGameObjects(W,F),b=0;b<O;b++)if(V=W[b],!(!V.input||!V.input.enabled)){if(Y.setCursor(V.input),V.emit(o.GAMEOBJECT_POINTER_OVER,F,V.input.localX,V.input.localY,H),G++,z.cancelled||!V.input||!V.input.enabled){K=!0;break}if(this.emit(o.GAMEOBJECT_OVER,F,V,H),z.cancelled||!V.input||!V.input.enabled){K=!0;break}}K||this.emit(o.POINTER_OVER,F,W)}return Q=k.concat(W),this._over[F.id]=this.sortGameObjects(Q,F),G},processUpEvents:function(F){var N=this._temp,b=this._eventData,V=this._eventContainer;b.cancelled=!1;for(var X=!1,W=0;W<N.length;W++){var k=N[W];if(!(!k.input||!k.input.enabled)){if(k.emit(o.GAMEOBJECT_POINTER_UP,F,k.input.localX,k.input.localY,V),b.cancelled||!k.input||!k.input.enabled){X=!0;break}if(this.emit(o.GAMEOBJECT_UP,F,k,V),b.cancelled||!k.input||!k.input.enabled){X=!0;break}}}return!X&&this.manager&&(F.upElement===this.manager.game.canvas?this.emit(o.POINTER_UP,F,N):this.emit(o.POINTER_UP_OUTSIDE,F)),N.length},queueForInsertion:function(F){return this._pendingInsertion.indexOf(F)===-1&&this._list.indexOf(F)===-1&&this._pendingInsertion.push(F),this},queueForRemoval:function(F){return this._pendingRemoval.push(F),this},setDraggable:function(F,N){N===void 0&&(N=!0),Array.isArray(F)||(F=[F]);for(var b=0;b<F.length;b++){var V=F[b];V.input.draggable=N;var X=this._draggable.indexOf(V);N&&X===-1?this._draggable.push(V):!N&&X>-1&&this._draggable.splice(X,1)}return this},makePixelPerfect:function(F){F===void 0&&(F=1);var N=this.systems.textures;return i(N,F)},setHitArea:function(F,N,b){if(N===void 0)return this.setHitAreaFromTexture(F);Array.isArray(F)||(F=[F]);var V=!1,X=!1,W=!1,k=!1,Q=!1,U=!0;if(T(N)){var Y=N;N=c(Y,"hitArea",null),b=c(Y,"hitAreaCallback",null),V=c(Y,"draggable",!1),X=c(Y,"dropZone",!1),W=c(Y,"cursor",!1),k=c(Y,"useHandCursor",!1),Q=c(Y,"pixelPerfect",!1);var O=c(Y,"alphaTolerance",1);Q&&(N={},b=this.makePixelPerfect(O)),(!N||!b)&&(this.setHitAreaFromTexture(F),U=!1)}else typeof N=="function"&&!b&&(b=N,N={});for(var G=0;G<F.length;G++){var z=F[G];if(Q&&z.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var H=z.input?z.input:r(z,N,b);H.customHitArea=U,H.dropZone=X,H.cursor=k?"pointer":W,z.input=H,V&&this.setDraggable(z),this.queueForInsertion(z)}return this},setHitAreaCircle:function(F,N,b,V,X){X===void 0&&(X=m);var W=new h(N,b,V);return this.setHitArea(F,W,X)},setHitAreaEllipse:function(F,N,b,V,X,W){W===void 0&&(W=e);var k=new f(N,b,V,X);return this.setHitArea(F,k,W)},setHitAreaFromTexture:function(F,N){N===void 0&&(N=w),Array.isArray(F)||(F=[F]);for(var b=0;b<F.length;b++){var V=F[b],X=V.frame,W=0,k=0;if(V.width?(W=V.width,k=V.height):X&&(W=X.realWidth,k=X.realHeight),V.type==="Container"&&(W===0||k===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&k!==0&&(V.input=r(V,new y(0,0,W,k),N),this.queueForInsertion(V))}return this},setHitAreaRectangle:function(F,N,b,V,X,W){W===void 0&&(W=w);var k=new y(N,b,V,X);return this.setHitArea(F,k,W)},setHitAreaTriangle:function(F,N,b,V,X,W,k,Q){Q===void 0&&(Q=M);var U=new P(N,b,V,X,W,k);return this.setHitArea(F,U,Q)},enableDebug:function(F,N){N===void 0&&(N=65280);var b=F.input;if(!b||!b.hitArea)return this;var V=b.hitArea,X=V.type,W=b.hitAreaDebug,k=this.systems.add,Q=this.systems.updateList;W&&(Q.remove(W),W.destroy(),W=null);var U=0,Y=0;switch(X){case p.CIRCLE:W=k.arc(0,0,V.radius),U=V.x-V.radius,Y=V.y-V.radius;break;case p.ELLIPSE:W=k.ellipse(0,0,V.width,V.height),U=V.x-V.width/2,Y=V.y-V.height/2;break;case p.LINE:W=k.line(0,0,V.x1,V.y1,V.x2,V.y2);break;case p.POLYGON:W=k.polygon(0,0,V.points);break;case p.RECTANGLE:W=k.rectangle(0,0,V.width,V.height),U=V.x,Y=V.y;break;case p.TRIANGLE:W=k.triangle(0,0,V.x1,V.y1,V.x2,V.y2,V.x3,V.y3);break}return W&&(W.isFilled=!1,W.strokeColor=N,W.preUpdate=function(){W.setStrokeStyle(1/F.scale,W.strokeColor),W.setDisplayOrigin(F.displayOriginX,F.displayOriginY);var O=F.x,G=F.y,z=F.rotation,H=F.scaleX,K=F.scaleY;if(F.parentContainer){var J=F.getWorldTransformMatrix();O=J.tx,G=J.ty,z=J.rotation,H=J.scaleX,K=J.scaleY}W.setRotation(z),W.setScale(H,K),W.setPosition(O+U*H,G+Y*K),W.setScrollFactor(F.scrollFactorX,F.scrollFactorY),W.setDepth(F.depth)},Q.add(W),b.hitAreaDebug=W),this},removeDebug:function(F){var N=F.input;if(N&&N.hitAreaDebug){var b=N.hitAreaDebug;this.systems.updateList.remove(b),b.destroy(),N.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(F){return this.pollRate=F,this._pollTimer=0,this},setGlobalTopOnly:function(F){return this.manager.globalTopOnly=F,this},setTopOnly:function(F){return this.topOnly=F,this},sortGameObjects:function(F,N){if(F.length<2||!N.camera)return F;var b=N.camera.renderList;return F.sort(function(V,X){var W=Math.max(b.indexOf(V),0),k=Math.max(b.indexOf(X),0);return k-W})},sortDropZones:function(F){return F.length<2?F:(this.scene.sys.depthSort(),F.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(F,N){if(!F.parentContainer&&!N.parentContainer)return this.displayList.getIndex(N)-this.displayList.getIndex(F);if(F.parentContainer===N.parentContainer)return N.parentContainer.getIndex(N)-F.parentContainer.getIndex(F);if(F.parentContainer===N)return-1;if(N.parentContainer===F)return 1;for(var b=F.getIndexList(),V=N.getIndexList(),X=Math.min(b.length,V.length),W=0;W<X;W++){var k=b[W],Q=V[W];if(k!==Q)return Q-k}return V.length-b.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(F){return this.manager.addPointer(F)},setDefaultCursor:function(F){return this.manager.setDefaultCursor(F),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(o.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var F=0;F<10;F++)this._drag[F]=[],this._over[F]=[];this.removeAllListeners();var N=this.manager;N.canvas.style.cursor=N.defaultCursor;var b=this.systems.events;b.off(A.TRANSITION_START,this.transitionIn,this),b.off(A.TRANSITION_OUT,this.transitionOut,this),b.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),b.off(A.PRE_UPDATE,this.preUpdate,this),N.events.off(o.GAME_OUT,this.onGameOut,this),N.events.off(o.GAME_OVER,this.onGameOver,this),b.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var F=this.manager.pointers,N=0;N<F.length;N++)F[N].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(o.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",L,"input"),v.exports=L},63399:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),m={},l={};l.register=function(a,r,i,s,f){m[a]={plugin:r,mapping:i,settingsKey:s,configKey:f}},l.getPlugin=function(a){return m[a]},l.install=function(a){var r=a.scene.sys,i=r.settings.input,s=r.game.config;for(var f in m){var e=m[f].plugin,o=m[f].mapping,d=m[f].settingsKey,c=m[f].configKey;h(i,d,s[c])&&(a[o]=new e(a))}},l.remove=function(a){m.hasOwnProperty(a)&&delete m[a]},v.exports=l},40398:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(90447),m=t(56694),l=t(53996),a=t(88456),r=t(44521),i=t(93736),s=t(36580),f=new m({initialize:function(o,d){this.manager=o,this.id=d,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=d===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(e){var o=e.getWorldPoint(this.x,this.y);return this.worldX=o.x,this.worldY=o.y,this},positionToCamera:function(e,o){return e.getWorldPoint(this.x,this.y,o)},updateMotion:function(){var e=this.position.x,o=this.position.y,d=this.midPoint.x,c=this.midPoint.y;if(!(e===d&&o===c)){var p=r(this.motionFactor,d,e),x=r(this.motionFactor,c,o);a(p,e,.1)&&(p=e),a(x,o,.1)&&(x=o),this.midPoint.set(p,x);var T=e-p,E=o-x;this.velocity.set(T,E),this.angle=h(p,x,e,o),this.distance=Math.sqrt(T*T+E*E)}},up:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),e.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=e.timeStamp,this.wasTouch=!1)},down:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),e.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&e.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=e.timeStamp),this.wasTouch=!1},move:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.locked&&(this.movementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.movementY=e.movementY||e.mozMovementY||e.webkitMovementY||0),this.moveTime=e.timeStamp,this.wasTouch=!1},wheel:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.deltaZ=e.deltaZ,this.wasTouch=!1},touchstart:function(e,o){e.pointerId&&(this.pointerId=e.pointerId),this.identifier=e.identifier,this.target=e.target,this.active=!0,this.buttons=1,this.event=o,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=o.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(e,o){this.event=o,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.moveTime=o.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(e,o){this.buttons=0,this.event=o,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(e,o){this.buttons=0,this.event=o,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=o.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?l(this.downX,this.downY,this.x,this.y):l(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(e,o){e===void 0&&(e=10),o===void 0&&(o=[]);for(var d=this.prevPosition.x,c=this.prevPosition.y,p=this.position.x,x=this.position.y,T=0;T<e;T++){var E=1/e*T;o[T]={x:r(E,d,p),y:r(E,c,x)}}return o},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},time:{get:function(){return this.event?this.event.timeStamp:0}}});v.exports=f},72687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};v.exports=S},14874:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},54168:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},526:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},81623:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},94472:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},9304:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},34265:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},50151:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},98134:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},56773:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectdown"},45824:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},39578:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},72072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},82569:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},70833:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},81442:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},32936:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},99658:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectmove"},60515:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectout"},55254:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectover"},34782:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},41769:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},65588:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},61640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},49342:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},82662:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},13058:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectup"},52426:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectwheel"},78072:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameout"},1545:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameover"},67137:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},27678:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="process"},22257:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},90379:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerlockchange"},88909:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},36548:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdownoutside"},18483:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},22355:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},7997:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},66318:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},94812:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerupoutside"},37310:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},24196:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},27053:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},29413:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},25165:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},33963:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BOOT:t(14874),DESTROY:t(54168),DRAG_END:t(526),DRAG_ENTER:t(81623),DRAG:t(94472),DRAG_LEAVE:t(9304),DRAG_OVER:t(34265),DRAG_START:t(50151),DROP:t(98134),GAME_OUT:t(78072),GAME_OVER:t(1545),GAMEOBJECT_DOWN:t(56773),GAMEOBJECT_DRAG_END:t(45824),GAMEOBJECT_DRAG_ENTER:t(39578),GAMEOBJECT_DRAG:t(72072),GAMEOBJECT_DRAG_LEAVE:t(82569),GAMEOBJECT_DRAG_OVER:t(70833),GAMEOBJECT_DRAG_START:t(81442),GAMEOBJECT_DROP:t(32936),GAMEOBJECT_MOVE:t(99658),GAMEOBJECT_OUT:t(60515),GAMEOBJECT_OVER:t(55254),GAMEOBJECT_POINTER_DOWN:t(34782),GAMEOBJECT_POINTER_MOVE:t(41769),GAMEOBJECT_POINTER_OUT:t(65588),GAMEOBJECT_POINTER_OVER:t(61640),GAMEOBJECT_POINTER_UP:t(49342),GAMEOBJECT_POINTER_WHEEL:t(82662),GAMEOBJECT_UP:t(13058),GAMEOBJECT_WHEEL:t(52426),MANAGER_BOOT:t(67137),MANAGER_PROCESS:t(27678),MANAGER_UPDATE:t(22257),POINTER_DOWN:t(88909),POINTER_DOWN_OUTSIDE:t(36548),POINTER_MOVE:t(18483),POINTER_OUT:t(22355),POINTER_OVER:t(7997),POINTER_UP:t(66318),POINTER_UP_OUTSIDE:t(94812),POINTER_WHEEL:t(37310),POINTERLOCK_CHANGE:t(90379),PRE_UPDATE:t(24196),SHUTDOWN:t(27053),START:t(29413),UPDATE:t(25165)}},70848:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r){this.pad=a,this.events=a.events,this.index=r,this.value=0,this.threshold=.1},update:function(l){this.value=l},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});v.exports=m},21274:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(43200),l=new h({initialize:function(r,i){this.pad=r,this.events=r.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var r=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,r,this,a),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,r,this,a),this.pad.emit(m.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});v.exports=l},75956:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70848),m=t(21274),l=t(56694),a=t(6659),r=t(93736),i=new l({Extends:a,initialize:function(f,e){a.call(this),this.manager=f,this.pad=e,this.id=e.id,this.index=e.index;for(var o=[],d=0;d<e.buttons.length;d++)o.push(new m(this,d));this.buttons=o;var c=[];for(d=0;d<e.axes.length;d++)c.push(new h(this,d));this.axes=c,this.vibration=e.vibrationActuator;var p={value:0,pressed:!1};this._LCLeft=o[14]?o[14]:p,this._LCRight=o[15]?o[15]:p,this._LCTop=o[12]?o[12]:p,this._LCBottom=o[13]?o[13]:p,this._RCLeft=o[2]?o[2]:p,this._RCRight=o[1]?o[1]:p,this._RCTop=o[3]?o[3]:p,this._RCBottom=o[0]?o[0]:p,this._FBLeftTop=o[4]?o[4]:p,this._FBLeftBottom=o[6]?o[6]:p,this._FBRightTop=o[5]?o[5]:p,this._FBRightBottom=o[7]?o[7]:p;var x={value:0};this._HAxisLeft=c[0]?c[0]:x,this._VAxisLeft=c[1]?c[1]:x,this._HAxisRight=c[2]?c[2]:x,this._VAxisRight=c[3]?c[3]:x,this.leftStick=new r,this.rightStick=new r,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var f,e=this.buttons,o=s.buttons,d=e.length;for(f=0;f<d;f++)e[f].update(o[f].value);var c=this.axes,p=s.axes;for(d=c.length,f=0;f<d;f++)c[f].update(p[f]);d>=2&&(this.leftStick.set(c[0].getValue(),c[1].getValue()),d>=4&&this.rightStick.set(c[2].getValue(),c[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});v.exports=i},1379:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(43200),a=t(75956),r=t(10850),i=t(63399),s=t(33963),f=new h({Extends:m,initialize:function(o){m.call(this),this.scene=o.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=o,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,o.pluginEvents.once(s.BOOT,this.boot,this),o.pluginEvents.on(s.START,this.start,this)},boot:function(){var e=this.scene.sys.game,o=this.settings.input,d=e.config;this.enabled=r(o,"gamepad",d.inputGamepad)&&e.device.input.gamepads,this.target=r(o,"gamepad.target",d.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,o=this.target,d=function(c){c.defaultPrevented||!e.isActive()||(e.refreshPads(),e.queue.push(c))};this.onGamepadHandler=d,o.addEventListener("gamepadconnected",d,!1),o.addEventListener("gamepaddisconnected",d,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].removeAllListeners()},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].pad.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(!e)this.disconnectAll();else for(var o=this.gamepads,d=0;d<e.length;d++){var c=e[d];if(c){var p=c.id,x=c.index,T=o[x];if(T)T.id!==p?(T.destroy(),o[x]=new a(this,c)):T.update(c);else{var E=new a(this,c);o[x]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var e=[],o=this.gamepads,d=0;d<o.length;d++)o[d]&&e.push(o[d]);return e},getPad:function(e){for(var o=this.gamepads,d=0;d<o.length;d++)if(o[d]&&o[d].index===e)return o[d]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(e!==0)for(var o=this.queue.splice(0,e),d=0;d<e;d++){var c=o[d],p=this.getPad(c.gamepad.index);c.type==="gamepadconnected"?this.emit(l.CONNECTED,p,c):c.type==="gamepaddisconnected"&&this.emit(l.DISCONNECTED,p,c)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),v.exports=f},33171:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DUALSHOCK_4:t(74982),SNES_USB:t(33171),XBOX_360:t(43247)}},17344:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},36635:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},85724:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="connected"},55832:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="disconnected"},772:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},33608:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},43200:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BUTTON_DOWN:t(17344),BUTTON_UP:t(36635),CONNECTED:t(85724),DISCONNECTED:t(55832),GAMEPAD_BUTTON_DOWN:t(772),GAMEPAD_BUTTON_UP:t(33608)}},92636:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Axis:t(70848),Button:t(21274),Events:t(43200),Gamepad:t(75956),GamepadPlugin:t(1379),Configs:t(4898)}},20873:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72687),m=t(98611),l={CreatePixelPerfectHandler:t(18104),CreateInteractiveObject:t(27395),Events:t(33963),Gamepad:t(92636),InputManager:t(69898),InputPlugin:t(12499),InputPluginCache:t(63399),Keyboard:t(28388),Mouse:t(11343),Pointer:t(40398),Touch:t(77423)};l=m(!1,l,h),v.exports=l},71064:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),m=t(56694),l=t(97081),a=t(33963),r=t(11873),i=t(72283),s=new m({initialize:function(e){this.manager=e,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,e.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(l.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(o){if(!(o.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(o),f.manager.events.emit(a.MANAGER_PROCESS);var d=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;f.preventDefault&&!d&&f.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}},this.onKeyUp=function(o){if(!(o.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(o),f.manager.events.emit(a.MANAGER_PROCESS);var d=o.altKey||o.ctrlKey||o.shiftKey||o.metaKey;f.preventDefault&&!d&&f.captures.indexOf(o.keyCode)>-1&&o.preventDefault()}};var e=this.target;e&&(e.addEventListener("keydown",this.onKeyDown,!1),e.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var e=this.captures,o=0;o<f.length;o++){var d=f[o];typeof d=="string"&&(d=r[d.trim().toUpperCase()]),e.indexOf(d)===-1&&e.push(d)}this.preventDefault=e.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var e=this.captures,o=0;o<f.length;o++){var d=f[o];typeof d=="string"&&(d=r[d.toUpperCase()]),h(e,d)}this.preventDefault=e.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(l.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});v.exports=s},89666:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(94030),a=t(97081),r=t(10850),i=t(33963),s=t(63399),f=t(50165),e=t(11873),o=t(95625),d=t(48044),c=t(7599),p=t(84314),x=new h({Extends:m,initialize:function(E){m.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(i.BOOT,this.boot,this),E.pluginEvents.on(i.START,this.start,this)},boot:function(){var T=this.settings.input;this.enabled=r(T,"keyboard",!0);var E=r(T,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(c.PAUSE,this.resetKeys,this),this.scene.sys.events.on(c.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(T){return this.manager.addCapture(T),this},removeCapture:function(T){return this.manager.removeCapture(T),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:e.UP,down:e.DOWN,left:e.LEFT,right:e.RIGHT,space:e.SPACE,shift:e.SHIFT})},addKeys:function(T,E,y){E===void 0&&(E=!0),y===void 0&&(y=!1);var w={};if(typeof T=="string"){T=T.split(",");for(var A=0;A<T.length;A++){var P=T[A].trim();P&&(w[P]=this.addKey(P,E,y))}}else for(var M in T)w[M]=this.addKey(T[M],E,y);return w},addKey:function(T,E,y){E===void 0&&(E=!0),y===void 0&&(y=!1);var w=this.keys;if(T instanceof f){var A=w.indexOf(T);return A>-1?w[A]=T:w[T.keyCode]=T,E&&this.addCapture(T.keyCode),T.setEmitOnRepeat(y),T}return typeof T=="string"&&(T=e[T.toUpperCase()]),w[T]||(w[T]=new f(this,T),E&&this.addCapture(T),w[T].setEmitOnRepeat(y)),w[T]},removeKey:function(T,E,y){E===void 0&&(E=!1),y===void 0&&(y=!1);var w=this.keys,A;if(T instanceof f){var P=w.indexOf(T);P>-1&&(A=this.keys[P],this.keys[P]=void 0)}else typeof T=="string"&&(T=e[T.toUpperCase()]);return w[T]&&(A=w[T],w[T]=void 0),A&&(A.plugin=null,y&&this.removeCapture(A.keyCode),E&&A.destroy()),this},removeAllKeys:function(T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);for(var y=this.keys,w=0;w<y.length;w++){var A=y[w];A&&(y[w]=void 0,E&&this.removeCapture(A.keyCode),T&&A.destroy())}return this},createCombo:function(T,E){return new o(this,T,E)},checkDown:function(T,E){if(E===void 0&&(E=0),this.enabled&&T.isDown){var y=p(this.time-T.timeDown,E);if(y>T._tick)return T._tick=y,!0}return!1},update:function(){var T=this.manager.queue,E=T.length;if(!(!this.isActive()||E===0))for(var y=this.keys,w=0;w<E;w++){var A=T[w],P=A.keyCode,M=y[P],L=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(P===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=P,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(M&&(L=M.isDown,M.onDown(A)),!A.cancelled&&(!M||!L)&&(d[P]&&this.emit(l.KEY_DOWN+d[P],A),A.cancelled||this.emit(l.ANY_KEY_DOWN,A))):(M&&M.onUp(A),A.cancelled||(d[P]&&this.emit(l.KEY_UP+d[P],A),A.cancelled||this.emit(l.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(c.PAUSE,this.resetKeys,this),this.scene.sys.events.off(c.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var T=this.keys,E=0;E<T.length;E++)T[E]&&T[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",x,"keyboard","keyboard","inputKeyboard"),v.exports=x},60258:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h.timeLastMatched=t.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};v.exports=S},95625:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(94030),l=t(72632),a=t(2544),r=t(88754),i=new h({initialize:function(f,e,o){if(o===void 0&&(o={}),e.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var d=0;d<e.length;d++){var c=e[d];typeof c=="string"?this.keyCodes.push(c.toUpperCase().charCodeAt(0)):typeof c=="number"?this.keyCodes.push(c):c.hasOwnProperty("keyCode")&&this.keyCodes.push(c.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=l(o,"resetOnWrongKey",!0),this.maxKeyDelay=l(o,"maxKeyDelay",0),this.resetOnMatch=l(o,"resetOnMatch",!1),this.deleteOnMatch=l(o,"deleteOnMatch",!1);var p=this,x=function(T){if(!(p.matched||!p.enabled)){var E=a(T,p);E&&(p.manager.emit(m.COMBO_MATCH,p,T),p.resetOnMatch?r(p):p.deleteOnMatch&&p.destroy())}};this.onKeyDown=x,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});v.exports=i},2544:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60258),m=function(l,a){if(a.matched)return!0;var r=!1,i=!1;if(l.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var s=a.timeLastMatched+a.maxKeyDelay;l.timeStamp<=s&&(i=!0,r=h(l,a))}else i=!0,r=h(l,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),r&&(a.timeLastMatched=l.timeStamp,a.matched=!0,a.timeMatched=l.timeStamp),r};v.exports=m},88754:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};v.exports=S},5044:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown"},40813:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup"},89319:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keycombomatch"},43267:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},78595:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown-"},30056:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup-"},81939:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},94030:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ANY_KEY_DOWN:t(5044),ANY_KEY_UP:t(40813),COMBO_MATCH:t(89319),DOWN:t(43267),KEY_DOWN:t(78595),KEY_UP:t(30056),UP:t(81939)}},28388:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(94030),KeyboardManager:t(71064),KeyboardPlugin:t(89666),Key:t(50165),KeyCodes:t(11873),KeyCombo:t(95625),AdvanceKeyCombo:t(60258),ProcessKeyCombo:t(2544),ResetKeyCombo:t(88754),JustDown:t(42460),JustUp:t(53162),DownDuration:t(64964),UpDuration:t(70331)}},64964:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var m=t.plugin.game.loop.time-t.timeDown;return t.isDown&&m<h};v.exports=S},42460:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};v.exports=S},53162:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};v.exports=S},50165:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(94030),a=new h({Extends:m,initialize:function(i,s){m.call(this),this.plugin=i,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(r){return this.emitOnRepeat=r,this},onDown:function(r){this.originalEvent=r,this.enabled&&(this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.location=r.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(l.DOWN,this,r):(this.isDown=!0,this.isUp=!1,this.timeDown=r.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(l.DOWN,this,r)))},onUp:function(r){this.originalEvent=r,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=r.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(l.UP,this,r))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});v.exports=a},11873:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};v.exports=S},48044:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(11873),m={};for(var l in h)m[h[l]]=l;v.exports=m},70331:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=50);var m=t.plugin.game.loop.time-t.timeUp;return t.isUp&&m<h};v.exports=S},7905:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(90185),l=t(33963),a=t(72283),r=new h({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,s.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var s=this,f=this.manager,e=f.canvas,o=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(c){!c.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onMouseMove(c),s.preventDefaultMove&&c.preventDefault())},this.onMouseDown=function(c){o&&window.focus(),!c.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onMouseDown(c),s.preventDefaultDown&&c.target===e&&c.preventDefault())},this.onMouseDownWindow=function(c){!c.defaultPrevented&&s.enabled&&f&&f.enabled&&c.target!==e&&f.onMouseDown(c)},this.onMouseUp=function(c){!c.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onMouseUp(c),s.preventDefaultUp&&c.target===e&&c.preventDefault())},this.onMouseUpWindow=function(c){!c.defaultPrevented&&s.enabled&&f&&f.enabled&&c.target!==e&&f.onMouseUp(c)},this.onMouseOver=function(c){!c.defaultPrevented&&s.enabled&&f&&f.enabled&&f.setCanvasOver(c)},this.onMouseOut=function(c){!c.defaultPrevented&&s.enabled&&f&&f.enabled&&f.setCanvasOut(c)},this.onMouseWheel=function(c){!c.defaultPrevented&&s.enabled&&f&&f.enabled&&f.onMouseWheel(c),s.preventDefaultWheel&&c.target===e&&c.preventDefault()};var d={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,d),i.addEventListener("mouseout",this.onMouseOut,d),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,d),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,d),window.top.addEventListener("mouseup",this.onMouseUpWindow,d)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,d),window.addEventListener("mouseup",this.onMouseUpWindow,d),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(c){var p=s.target;s.locked=document.pointerLockElement===p||document.mozPointerLockElement===p||document.webkitPointerLockElement===p,f.onPointerLockChange(c)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=r},11343:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={MouseManager:t(7905)}},37579:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(33963),l=t(72283),a=new h({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=l,this.onTouchStartWindow=l,this.onTouchMove=l,this.onTouchEnd=l,this.onTouchEndWindow=l,this.onTouchCancel=l,this.onTouchCancelWindow=l,this.isTop=!0,i.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var r=this.manager.config;this.enabled=r.inputTouch,this.target=r.inputTouchEventTarget,this.capture=r.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,r.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(r){return r.preventDefault(),!1}),this},startListeners:function(){var r=this.target;if(r){var i=this,s=this.manager,f=s.canvas,e=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(p){!p.defaultPrevented&&i.enabled&&s&&s.enabled&&(s.onTouchMove(p),i.capture&&p.cancelable&&p.preventDefault())},this.onTouchStart=function(p){e&&window.focus(),!p.defaultPrevented&&i.enabled&&s&&s.enabled&&(s.onTouchStart(p),i.capture&&p.cancelable&&p.target===f&&p.preventDefault())},this.onTouchStartWindow=function(p){!p.defaultPrevented&&i.enabled&&s&&s.enabled&&p.target!==f&&s.onTouchStart(p)},this.onTouchEnd=function(p){!p.defaultPrevented&&i.enabled&&s&&s.enabled&&(s.onTouchEnd(p),i.capture&&p.cancelable&&p.target===f&&p.preventDefault())},this.onTouchEndWindow=function(p){!p.defaultPrevented&&i.enabled&&s&&s.enabled&&p.target!==f&&s.onTouchEnd(p)},this.onTouchCancel=function(p){!p.defaultPrevented&&i.enabled&&s&&s.enabled&&(s.onTouchCancel(p),i.capture&&p.preventDefault())},this.onTouchCancelWindow=function(p){!p.defaultPrevented&&i.enabled&&s&&s.enabled&&s.onTouchCancel(p)};var o=this.capture,d={passive:!0},c={passive:!1};if(r.addEventListener("touchstart",this.onTouchStart,o?c:d),r.addEventListener("touchmove",this.onTouchMove,o?c:d),r.addEventListener("touchend",this.onTouchEnd,o?c:d),r.addEventListener("touchcancel",this.onTouchCancel,o?c:d),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,c),window.top.addEventListener("touchend",this.onTouchEndWindow,c),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,c)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,c),window.addEventListener("touchend",this.onTouchEndWindow,c),window.addEventListener("touchcancel",this.onTouchCancelWindow,c),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var r=this.target;r.removeEventListener("touchstart",this.onTouchStart),r.removeEventListener("touchmove",this.onTouchMove),r.removeEventListener("touchend",this.onTouchEnd),r.removeEventListener("touchcancel",this.onTouchCancel),window&&(r=this.isTop?window.top:window,r.removeEventListener("touchstart",this.onTouchStartWindow),r.removeEventListener("touchend",this.onTouchEndWindow),r.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=a},77423:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TouchManager:t(37579)}},98035:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(683),a=t(72632),r=t(30750),i=t(43531),s=t(88490),f=t(33868),e=new h({initialize:function(d,c){if(this.loader=d,this.cache=a(c,"cache",!1),this.type=a(c,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=a(c,"key",!1);var p=this.key;if(d.prefix&&d.prefix!==""&&(this.key=d.prefix+p),!this.key)throw new Error("Invalid File key: "+this.key);var x=a(c,"url");x===void 0?x=d.path+p+"."+a(c,"extension",""):typeof x=="string"&&!x.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(x=d.path+x),this.url=x,this.src="",this.xhrSettings=f(a(c,"responseType",void 0)),a(c,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(c,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(c,"config",{}),this.multiFile,this.linkFile},setLink:function(o){this.linkFile=o,o.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===m.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=m.FILE_LOADING,this.src=r(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=s(this,this.loader.xhr))},onLoad:function(o,d){var c=o.responseURL&&this.loader.localSchemes.some(function(T){return o.responseURL.indexOf(T)===0}),p=c&&d.target.status===0,x=!(d.target&&d.target.status!==200)||p;o.readyState===4&&o.status>=400&&o.status<=599&&(x=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,x)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(o){o.lengthComputable&&(this.bytesLoaded=o.loaded,this.bytesTotal=o.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(l.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(o){if(this.state!==m.FILE_PENDING_DESTROY){o===void 0&&(o=this.data);var d=this.key,c=this.type;this.loader.emit(l.FILE_COMPLETE,d,c,o),this.loader.emit(l.FILE_KEY_COMPLETE+c+"-"+d,d,c,o),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});e.createObjectURL=function(o,d,c){if(typeof URL=="function")o.src=URL.createObjectURL(d);else{var p=new FileReader;p.onload=function(){o.removeAttribute("crossOrigin"),o.src="data:"+(d.type||c)+";base64,"+p.result.split(",")[1]},p.onerror=o.onerror,p.readAsDataURL(d)}},e.revokeObjectURL=function(o){typeof URL=="function"&&URL.revokeObjectURL(o.src)},v.exports=e},76846:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(h){for(var m in S)h[m]=S[m]},register:function(h,m){S[h]=m},destroy:function(){S={}}};v.exports=t},30750:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:h+t.url:!1};v.exports=S},67285:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(58403),a=t(6659),r=t(683),i=t(76846),s=t(72632),f=t(10850),e=t(91963),o=t(7599),d=t(33868),c=new h({Extends:a,initialize:function(x){a.call(this);var T=x.sys.game.config,E=x.sys.settings.loader;this.scene=x,this.systems=x.sys,this.cacheManager=x.sys.cache,this.textureManager=x.sys.textures,this.sceneManager=x.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(E,"baseURL",T.loaderBaseURL)),this.setPath(s(E,"path",T.loaderPath)),this.setPrefix(s(E,"prefix",T.loaderPrefix)),this.maxParallelDownloads=s(E,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=d(s(E,"responseType",T.loaderResponseType),s(E,"async",T.loaderAsync),s(E,"user",T.loaderUser),s(E,"password",T.loaderPassword),s(E,"timeout",T.loaderTimeout),s(E,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=s(E,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=s(E,"imageLoadType",T.loaderImageLoadType),this.localSchemes=s(E,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new l,this.inflight=new l,this.queue=new l,this._deleteQueue=new l,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,x.sys.events.once(o.BOOT,this.boot,this),x.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},setBaseURL:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.baseURL=p,this},setPath:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.path=p,this},setPrefix:function(p){return p===void 0&&(p=""),this.prefix=p,this},setCORS:function(p){return this.crossOrigin=p,this},addFile:function(p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++){var T=p[x];this.keyExists(T)||(this.list.set(T),this.emit(r.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(p){var x=p.hasCacheConflict();return x||this.list.iterate(function(T){if(T.type===p.type&&T.key===p.key)return x=!0,!1}),!x&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===p.type&&T.key===p.key)return x=!0,!1}),this.queue.iterate(function(T){if(T.type===p.type&&T.key===p.key)return x=!0,!1})),x},addPack:function(p,x){if(typeof x=="string"){var T=f(p,x);T&&(p={packKey:T})}var E=0,y=this.baseURL,w=this.path,A=this.prefix;for(var P in p)if(Object.prototype.hasOwnProperty.call(p,P)){var M=p[P],L=s(M,"baseURL",y),F=s(M,"path",w),N=s(M,"prefix",A),b=s(M,"files",null),V=s(M,"defaultType","void");if(Array.isArray(b)){this.setBaseURL(L),this.setPath(F),this.setPrefix(N);for(var X=0;X<b.length;X++){var W=b[X],k=W.hasOwnProperty("type")?W.type:V;this[k]&&(this[k](W),E++)}}}return this.setBaseURL(y),this.setPath(w),this.setPrefix(A),E>0},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(r.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(o.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(r.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(p){if((p.state===m.FILE_POPULATED||p.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(p),this.list.delete(p),p.crossOrigin||(p.crossOrigin=this.crossOrigin),p.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(p,x){this.inflight&&(this.inflight.delete(p),this.updateProgress(),x?(this.totalComplete++,this.queue.set(p),this.emit(r.FILE_LOAD,p),p.onProcess()):(this.totalFailed++,this._deleteQueue.set(p),this.emit(r.FILE_LOAD_ERROR,p),this.fileProcessComplete(p)))},fileProcessComplete:function(p){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(p.state===m.FILE_ERRORED?p.multiFile&&p.multiFile.onFileFailed(p):p.state===m.FILE_COMPLETE&&(p.multiFile?p.multiFile.isReadyToProcess()&&(p.multiFile.addToCache(),p.multiFile.pendingDestroy()):(p.addToCache(),p.pendingDestroy())),this.queue.delete(p),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(r.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(o.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(r.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(p){this._deleteQueue.set(p)},saveJSON:function(p,x){return this.save(JSON.stringify(p),x)},save:function(p,x,T){x===void 0&&(x="file.json"),T===void 0&&(T="application/json");var E=new Blob([p],{type:T}),y=URL.createObjectURL(E),w=document.createElement("a");return w.download=x,w.textContent="Download "+x,w.href=y,w.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var p=this.systems.game.config,x=this.systems.settings.loader;this.setBaseURL(s(x,"baseURL",p.loaderBaseURL)),this.setPath(s(x,"path",p.loaderPath)),this.setPrefix(s(x,"prefix",p.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(o.UPDATE,this.update,this),this.systems.events.off(o.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});e.register("Loader",c,"load"),v.exports=c},43531:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),m=t(33868),l=function(a,r){var i=a===void 0?m():h({},a);if(r)for(var s in r)r[s]!==void 0&&(i[s]=r[s]);return i};v.exports=l},45176:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(683),a=new h({initialize:function(i,s,f,e){var o=[];e.forEach(function(c){c&&o.push(c)}),this.loader=i,this.type=s,this.key=f,this.multiKeyIndex=i.multiKeyIndex++,this.files=o,this.state=m.FILE_PENDING,this.complete=!1,this.pending=o.length,this.failed=0,this.config={},this.baseURL=i.baseURL,this.path=i.path,this.prefix=i.prefix;for(var d=0;d<o.length;d++)o[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(r){return this.files.push(r),r.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(r){var i=this.files.indexOf(r);i!==-1&&this.pending--},onFileFailed:function(r){var i=this.files.indexOf(r);i!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,r.type,r.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var r=this.key,i=this.type;this.loader.emit(l.FILE_COMPLETE,r,i),this.loader.emit(l.FILE_KEY_COMPLETE+i+"-"+r,r,i),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});v.exports=a},88490:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43531),m=function(l,a){var r=h(a,l.xhrSettings),i=new XMLHttpRequest;if(i.open("GET",l.src,r.async,r.user,r.password),i.responseType=l.xhrSettings.responseType,i.timeout=r.timeout,r.headers)for(var s in r.headers)i.setRequestHeader(s,r.headers[s]);return r.header&&r.headerValue&&i.setRequestHeader(r.header,r.headerValue),r.requestedWith&&i.setRequestHeader("X-Requested-With",r.requestedWith),r.overrideMimeType&&i.overrideMimeType(r.overrideMimeType),r.withCredentials&&(i.withCredentials=!0),i.onload=l.onLoad.bind(l,i),i.onerror=l.onError.bind(l,i),i.onprogress=l.onProgress.bind(l),i.send(),i};v.exports=m},33868:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a,r){return t===void 0&&(t=""),h===void 0&&(h=!0),m===void 0&&(m=""),l===void 0&&(l=""),a===void 0&&(a=0),r===void 0&&(r=!1),{responseType:t,async:h,user:m,password:l,timeout:a,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:r}};v.exports=S},12117:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};v.exports=S},7398:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addfile"},52187:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},36627:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete"},81925:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete-"},29774:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loaderror"},20943:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="load"},74693:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fileprogress"},71176:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postprocess"},88984:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="progress"},72753:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},683:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(7398),COMPLETE:t(52187),FILE_COMPLETE:t(36627),FILE_KEY_COMPLETE:t(81925),FILE_LOAD_ERROR:t(29774),FILE_LOAD:t(20943),FILE_PROGRESS:t(74693),POST_PROCESS:t(71176),PROGRESS:t(88984),START:t(72753)}},46468:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(70806),a=t(683),r=new h({Extends:l,initialize:function(s,f,e,o,d){l.call(this,s,f,e,o,d),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),l.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(i,s,f,e){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new r(this,i[o]));else this.addFile(new r(this,i,s,e,f));return this}),v.exports=r},31648:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42927),r=t(42911),i=t(70806),s=t(45176),f=new h({Extends:s,initialize:function(o,d,c,p,x,T){var E,y;if(r(d)){var w=d;d=l(w,"key"),E=new a(o,{key:d,url:l(w,"textureURL"),extension:l(w,"textureExtension","png"),normalMap:l(w,"normalMap"),xhrSettings:l(w,"textureXhrSettings")}),y=new i(o,{key:d,url:l(w,"atlasURL"),extension:l(w,"atlasExtension","json"),xhrSettings:l(w,"atlasXhrSettings")})}else E=new a(o,d,c,x),y=new i(o,d,p,T);E.linkFile?s.call(this,o,"atlasjson",d,[E,y,E.linkFile]):s.call(this,o,"atlasjson",d,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],o=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,o.data,d),o.addToCache(),this.complete=!0}}});m.register("aseprite",function(e,o,d,c,p){var x;if(Array.isArray(e))for(var T=0;T<e.length;T++)x=new f(this,e[T]),this.addFile(x.files);else x=new f(this,e,o,d,c,p),this.addFile(x.files);return this}),v.exports=f},73152:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42927),r=t(42911),i=t(70806),s=t(45176),f=new h({Extends:s,initialize:function(o,d,c,p,x,T){var E,y;if(r(d)){var w=d;d=l(w,"key"),E=new a(o,{key:d,url:l(w,"textureURL"),extension:l(w,"textureExtension","png"),normalMap:l(w,"normalMap"),xhrSettings:l(w,"textureXhrSettings")}),y=new i(o,{key:d,url:l(w,"atlasURL"),extension:l(w,"atlasExtension","json"),xhrSettings:l(w,"atlasXhrSettings")})}else E=new a(o,d,c,x),y=new i(o,d,p,T);E.linkFile?s.call(this,o,"atlasjson",d,[E,y,E.linkFile]):s.call(this,o,"atlasjson",d,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],o=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,o.data,d),this.complete=!0}}});m.register("atlas",function(e,o,d,c,p){var x;if(Array.isArray(e))for(var T=0;T<e.length;T++)x=new f(this,e[T]),this.addFile(x.files);else x=new f(this,e,o,d,c,p),this.addFile(x.files);return this}),v.exports=f},24616:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42927),r=t(42911),i=t(45176),s=t(15297),f=new h({Extends:i,initialize:function(o,d,c,p,x,T){var E,y;if(r(d)){var w=d;d=l(w,"key"),E=new a(o,{key:d,url:l(w,"textureURL"),extension:l(w,"textureExtension","png"),normalMap:l(w,"normalMap"),xhrSettings:l(w,"textureXhrSettings")}),y=new s(o,{key:d,url:l(w,"atlasURL"),extension:l(w,"atlasExtension","xml"),xhrSettings:l(w,"atlasXhrSettings")})}else E=new a(o,d,c,x),y=new s(o,d,p,T);E.linkFile?i.call(this,o,"atlasxml",d,[E,y,E.linkFile]):i.call(this,o,"atlasxml",d,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],o=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,o.data,d),this.complete=!0}}});m.register("atlasXML",function(e,o,d,c,p){var x;if(Array.isArray(e))for(var T=0;T<e.length;T++)x=new f(this,e[T]),this.addFile(x.files);else x=new f(this,e,o,d,c,p),this.addFile(x.files);return this}),v.exports=f},67448:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(30929),s=t(42911),f=new h({Extends:l,initialize:function(o,d,c,p,x){if(s(d)){var T=d;d=r(T,"key"),p=r(T,"xhrSettings"),x=r(T,"context",x)}var E={type:"audio",cache:o.cacheManager.audio,extension:c.type,responseType:"arraybuffer",key:d,url:c.url,xhrSettings:p,config:{context:x}};l.call(this,o,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(o){e.data=o,e.onProcessComplete()},function(o){console.error("Error decoding audio: "+e.key+" - ",o?o.message:null),e.onProcessError()}),this.config.context=null}});f.create=function(e,o,d,c,p){var x=e.systems.game,T=x.config.audio,E=x.device.audio;s(o)&&(d=r(o,"url",[]),c=r(o,"config",{}));var y=f.getAudioURL(x,d);return y?E.webAudio&&!T.disableWebAudio?new f(e,o,y,p,x.sound.context):new i(e,o,y,c):(console.warn('No audio URLs for "%s" matched this device',o),null)},f.getAudioURL=function(e,o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var c=r(o[d],"url",o[d]);if(c.indexOf("blob:")===0||c.indexOf("data:")===0)return{url:c,type:""};var p=c.match(/\.([a-zA-Z0-9]+)($|\?)/);if(p=r(o[d],"type",p?p[1]:"").toLowerCase(),e.device.audio[p])return{url:c,type:p}}return null},a.register("audio",function(e,o,d,c){var p=this.systems.game,x=p.config.audio,T=p.device.audio;if(x.noAudio||!T.webAudio&&!T.audioData)return this;var E;if(Array.isArray(e))for(var y=0;y<e.length;y++)E=f.create(this,e[y]),E&&this.addFile(E);else E=f.create(this,e,o,d,c),E&&this.addFile(E);return this}),v.exports=f},66109:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67448),m=t(56694),l=t(76846),a=t(72632),r=t(42911),i=t(70806),s=t(45176),f=new m({Extends:s,initialize:function(o,d,c,p,x,T,E){if(r(d)){var y=d;d=a(y,"key"),c=a(y,"jsonURL"),p=a(y,"audioURL"),x=a(y,"audioConfig"),T=a(y,"audioXhrSettings"),E=a(y,"jsonXhrSettings")}var w;if(!p)w=new i(o,d,c,E),s.call(this,o,"audiosprite",d,[w]),this.config.resourceLoad=!0,this.config.audioConfig=x,this.config.audioXhrSettings=T;else{var A=h.create(o,d,p,x,T);A&&(w=new i(o,d,c,E),s.call(this,o,"audiosprite",d,[A,w]),this.config.resourceLoad=!1)}},onFileComplete:function(e){var o=this.files.indexOf(e);if(o!==-1&&(this.pending--,this.config.resourceLoad&&e.type==="json"&&e.data.hasOwnProperty("resources"))){var d=e.data.resources,c=a(this.config,"audioConfig"),p=a(this.config,"audioXhrSettings"),x=h.create(this.loader,e.key,d,c,p);x&&(this.addToMultiFile(x),this.loader.addFile(x))}},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],o=this.files[1];e.addToCache(),o.addToCache(),this.complete=!0}}});l.register("audioSprite",function(e,o,d,c,p,x){var T=this.systems.game,E=T.config.audio,y=T.device.audio;if(E&&E.noAudio||!y.webAudio&&!y.audioData)return this;var w;if(Array.isArray(e))for(var A=0;A<e.length;A++)w=new f(this,e[A]),w.files&&this.addFile(w.files);else w=new f(this,e,o,d,c,p,x),w.files&&this.addFile(w.files);return this})},40612:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c,p){var x="bin";if(i(o)){var T=o;o=r(T,"key"),d=r(T,"url"),c=r(T,"xhrSettings"),x=r(T,"extension",x),p=r(T,"dataType",p)}var E={type:"binary",cache:e.cacheManager.binary,extension:x,responseType:"arraybuffer",key:o,url:d,xhrSettings:c,config:{dataType:p}};l.call(this,e,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(f,e,o,d){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new s(this,f[c]));else this.addFile(new s(this,f,e,d,o));return this}),v.exports=s},54565:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42927),r=t(42911),i=t(45176),s=t(31476),f=t(15297),e=new h({Extends:i,initialize:function(d,c,p,x,T,E){var y,w;if(r(c)){var A=c;c=l(A,"key"),y=new a(d,{key:c,url:l(A,"textureURL"),extension:l(A,"textureExtension","png"),normalMap:l(A,"normalMap"),xhrSettings:l(A,"textureXhrSettings")}),w=new f(d,{key:c,url:l(A,"fontDataURL"),extension:l(A,"fontDataExtension","xml"),xhrSettings:l(A,"fontDataXhrSettings")})}else y=new a(d,c,p,T),w=new f(d,c,x,E);y.linkFile?i.call(this,d,"bitmapfont",c,[y,w,y.linkFile]):i.call(this,d,"bitmapfont",c,[y,w])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],d=this.files[1];o.addToCache();var c=o.cache.get(o.key),p=s(d.data,o.cache.getFrame(o.key),0,0,c);this.loader.cacheManager.bitmapFont.add(o.key,{data:p,texture:o.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(o,d,c,p,x){var T;if(Array.isArray(o))for(var E=0;E<o.length;E++)T=new e(this,o[E]),this.addFile(T.files);else T=new e(this,o,d,c,p,x),this.addFile(T.files);return this}),v.exports=e},99898:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c){var p="css";if(i(o)){var x=o;o=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),p=r(x,"extension",p)}var T={type:"script",cache:!1,extension:p,responseType:"text",key:o,url:d,xhrSettings:c};l.call(this,e,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(f,e,o){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,e,o));return this}),v.exports=s},47375:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73152),m=t(40612),l=t(56694),a=t(76846),r=t(72632),i=t(42927),s=t(42911),f=t(70806),e=t(67409),o=t(30657),d=t(80802),c=t(45176),p=t(24904),x=new l({Extends:c,initialize:function(E,y,w,A){if(w.multiAtlasURL){var P=new f(E,{key:y,url:w.multiAtlasURL,xhrSettings:A,config:w});c.call(this,E,"texture",y,[P])}else{var M=w.textureURL.substr(w.textureURL.length-3);w.type||(w.type=M.toLowerCase()==="ktx"?"KTX":"PVR");var L=new m(E,{key:y,url:w.textureURL,extension:M,xhrSettings:A,config:w});if(w.atlasURL){var F=new f(E,{key:y,url:w.atlasURL,xhrSettings:A,config:w});c.call(this,E,"texture",y,[L,F])}else c.call(this,E,"texture",y,[L])}this.config=w},onFileComplete:function(T){var E=this.files.indexOf(T);if(E!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var y=T.data.textures,w=this.config,A=this.loader,P=A.baseURL,M=A.path,L=A.prefix,F=r(w,"multiBaseURL",this.baseURL),N=r(w,"multiPath",this.path),b=r(w,"prefix",this.prefix),V=r(w,"textureXhrSettings");F&&A.setBaseURL(F),N&&A.setPath(N),b&&A.setPrefix(b);for(var X=0;X<y.length;X++){var W=y[X].image,k="CMA"+this.multiKeyIndex+"_"+W,Q=new m(A,k,W,V);if(this.addToMultiFile(Q),A.addFile(Q),y[X].normalMap){var U=new m(A,k,y[X].normalMap,V);U.type="normalMap",Q.setLink(U),this.addToMultiFile(U),A.addFile(U)}}A.setBaseURL(P),A.setPath(M),A.setPrefix(L)}}},addToCache:function(){if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var E=this.loader.systems.renderer,y=this.loader.textureManager,w,A=this.files[0],P=this.files[1];if(T.type==="PVR"?w=p(A.data):T.type==="KTX"&&(w=e(A.data)),w&&E.supportsCompressedTexture(T.format,w.internalFormat)){w.format=E.getCompressedTextureName(T.format,w.internalFormat);var M=P&&P.data?P.data:null;y.addCompressedTexture(A.key,w,M)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,E=this.files[0],y=[],w=[],A=[],P=this.loader.systems.renderer,M=this.loader.textureManager,L,F=1;F<this.files.length;F++){var N=this.files[F];if(N.type!=="normalMap")for(var b=N.key.indexOf("_"),V=N.key.substr(b+1),X=N.data,W=0;W<E.data.textures.length;W++){var k=E.data.textures[W];if(k.image===V){T.type==="PVR"?L=p(X):T.type==="KTX"&&(L=e(X)),L&&P.supportsCompressedTexture(T.format,L.internalFormat)&&(L.format=P.getCompressedTextureName(T.format,L.internalFormat),w.push(L),y.push(k),N.linkFile&&A.push(N.linkFile.data));break}}}A.length===0&&(A=void 0),M.addAtlasJSONArray(this.key,w,y,A),this.complete=!0}});a.register("texture",function(T,E,y){var w=this.systems.renderer,A=function(M,L,F,N){var b={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(L)){var V=L;L=r(V,"key"),F=r(V,"url"),N=r(V,"xhrSettings")}var X=!1;for(var W in F)if(w.supportsCompressedTexture(W)){var k=F[W];typeof k=="string"?b.textureURL=k:b=o(k,b),b.format=W.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",L);else if(b.format==="IMG"){var Q,U;b.multiAtlasURL?(U=new d(M,L,b.multiAtlasURL,b.multiPath,b.multiBaseURL,N),Q=U.files):b.atlasURL?(U=new h(M,L,b.textureURL,b.atlasURL,N),Q=U.files):Q=new i(M,L,b.textureURL,N),M.addFile(Q)}else{var Y=new x(M,L,b,N);M.addFile(Y.files)}};if(Array.isArray(T))for(var P=0;P<T.length;P++)A(this,T[P]);else A(this,T,E,y);return this}),v.exports=x},46568:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=t(31053),f=new h({Extends:l,initialize:function(o,d,c,p,x){var T="glsl";if(i(d)){var E=d;d=r(E,"key"),c=r(E,"url"),p=r(E,"shaderType","fragment"),x=r(E,"xhrSettings"),T=r(E,"extension",T)}else p===void 0&&(p="fragment");var y={type:"glsl",cache:o.cacheManager.shader,extension:T,responseType:"text",key:d,url:c,config:{shaderType:p},xhrSettings:x};l.call(this,o,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.split(`
`),o=this.extractBlock(e,0);if(o)for(;o;){var d=this.getShaderName(o.header),c=this.getShaderType(o.header),p=this.getShaderUniforms(o.header),x=o.shader;if(this.cache.has(d)){var T=this.cache.get(d);c==="fragment"?T.fragmentSrc=x:T.vertexSrc=x,T.uniforms||(T.uniforms=p)}else c==="fragment"?this.cache.add(d,new s(d,x,"",p)):this.cache.add(d,new s(d,"",x,p));o=this.extractBlock(e,o.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(e){for(var o=0;o<e.length;o++){var d=e[o].trim();if(d.substring(0,5)==="name:")return d.substring(5).trim()}return this.key},getShaderType:function(e){for(var o=0;o<e.length;o++){var d=e[o].trim();if(d.substring(0,5)==="type:")return d.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(e){for(var o={},d=0;d<e.length;d++){var c=e[d].trim();if(c.substring(0,8)==="uniform."){var p=c.indexOf(":");if(p){var x=c.substring(8,p);try{o[x]=JSON.parse(c.substring(p+1))}catch{console.warn("Invalid uniform JSON: "+x)}}}}return o},extractBlock:function(e,o){for(var d=-1,c=-1,p=-1,x=!1,T=!1,E=[],y=[],w=o;w<e.length;w++){var A=e[w].trim();if(A==="---")if(d===-1)d=w,x=!0;else if(x)c=w,x=!1,T=!0;else{T=!1;break}else x?E.push(A):T&&(y.push(A),p=w)}return!x&&c!==-1?{header:E,shader:y.join(`
`),offset:p}:null}});a.register("glsl",function(e,o,d,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)this.addFile(new f(this,e[p]));else this.addFile(new f(this,e,o,d,c));return this}),v.exports=f},30929:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(683),l=t(98035),a=t(72632),r=t(30750),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c){if(i(o)){var p=o;o=a(p,"key"),c=a(p,"config",c)}var x={type:"audio",cache:e.cacheManager.audio,extension:d.type,key:o,url:d.url,config:c};l.call(this,e,x),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var e=this.data[f];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var e=f.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<f;e++){var o=new Audio;o.dataset||(o.dataset={}),o.dataset.name=this.key+("0"+e).slice(-2),o.dataset.used="false",this.locked?o.dataset.locked="true":(o.dataset.locked="false",o.preload="auto",o.oncanplaythrough=this.onProgress.bind(this),o.onerror=this.onError.bind(this)),this.data.push(o)}for(e=0;e<this.data.length;e++)o=this.data[e],o.src=r(this,this.loader.baseURL),this.locked||o.load();this.locked&&setTimeout(this.onLoad.bind(this))}});v.exports=s},77459:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c){var p="html";if(i(o)){var x=o;o=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),p=r(x,"extension",p)}var T={type:"text",cache:e.cacheManager.html,extension:p,responseType:"text",key:o,url:d,xhrSettings:c};l.call(this,e,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(f,e,o){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,e,o));return this}),v.exports=s},9755:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c,p,x){c===void 0&&(c=512),p===void 0&&(p=512);var T="html";if(i(o)){var E=o;o=r(E,"key"),d=r(E,"url"),x=r(E,"xhrSettings"),T=r(E,"extension",T),c=r(E,"width",c),p=r(E,"height",p)}var y={type:"html",cache:e.textureManager,extension:T,responseType:"text",key:o,url:d,xhrSettings:x,config:{width:c,height:p}};l.call(this,e,y)},onProcess:function(){this.state=m.FILE_PROCESSING;var f=this.config.width,e=this.config.height,o=[];o.push('<svg width="'+f+'px" height="'+e+'px" viewBox="0 0 '+f+" "+e+'" xmlns="http://www.w3.org/2000/svg">'),o.push('<foreignObject width="100%" height="100%">'),o.push('<body xmlns="http://www.w3.org/1999/xhtml">'),o.push(this.xhrLoader.responseText),o.push("</body>"),o.push("</foreignObject>"),o.push("</svg>");var d=[o.join(`
`)],c=this;try{var p=new window.Blob(d,{type:"image/svg+xml;charset=utf-8"})}catch{c.state=m.FILE_ERRORED,c.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){l.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(c.data),c.onProcessError()},l.createObjectURL(this.data,p,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("htmlTexture",function(f,e,o,d,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new s(this,f[p]));else this.addFile(new s(this,f,e,o,d,c));return this}),v.exports=s},42927:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=t(30750),f=new h({Extends:l,initialize:function e(o,d,c,p,x){var T="png",E;if(i(d)){var y=d;d=r(y,"key"),c=r(y,"url"),E=r(y,"normalMap"),p=r(y,"xhrSettings"),T=r(y,"extension",T),x=r(y,"frameConfig")}Array.isArray(c)&&(E=c[1],c=c[0]);var w={type:"image",cache:o.textureManager,extension:T,responseType:"blob",key:d,url:c,xhrSettings:p,config:x};if(l.call(this,o,w),E){var A=new e(o,this.key,E,p,x);A.type="normalMap",this.setLink(A),o.addFile(A)}this.useImageElementLoad=o.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){l.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){l.revokeObjectURL(e.data),e.onProcessError()},l.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var e=this.state;this.state=m.FILE_PROCESSING,e===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=m.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){e.state=m.FILE_LOADED,e.loader.nextFile(e,!0)},this.data.onerror=function(){e.loader.nextFile(e,!1)},this.data.src=this.src}},addToCache:function(){var e=this.linkFile;e?e.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addImage(this.key,e.data,this.data):this.cache.addImage(this.key,this.data,e.data)):this.cache.addImage(this.key,this.data)}});a.register("image",function(e,o,d){if(Array.isArray(e))for(var c=0;c<e.length;c++)this.addFile(new f(this,e[c]));else this.addFile(new f(this,e,o,d));return this}),v.exports=f},70806:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(10850),s=t(42911),f=new h({Extends:l,initialize:function(o,d,c,p,x){var T="json";if(s(d)){var E=d;d=r(E,"key"),c=r(E,"url"),p=r(E,"xhrSettings"),T=r(E,"extension",T),x=r(E,"dataKey",x)}var y={type:"json",cache:o.cacheManager.json,extension:T,responseType:"text",key:d,url:c,xhrSettings:p,config:x};l.call(this,o,y),s(c)&&(x?this.data=i(c,x):this.data=c,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var e=JSON.parse(this.xhrLoader.responseText)}catch(d){throw this.onProcessError(),d}var o=this.config;typeof o=="string"?this.data=i(e,o,e):this.data=e}this.onProcessComplete()}});a.register("json",function(e,o,d,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)this.addFile(new f(this,e[p]));else this.addFile(new f(this,e,o,c,d));return this}),v.exports=f},80802:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42927),r=t(42911),i=t(70806),s=t(45176),f=new h({Extends:s,initialize:function(o,d,c,p,x,T,E){if(r(d)){var y=d;d=l(y,"key"),l(y,"url",!1)?c=l(y,"url"):c=l(y,"atlasURL"),T=l(y,"xhrSettings"),p=l(y,"path"),x=l(y,"baseURL"),E=l(y,"textureXhrSettings")}var w=new i(o,d,c,T);s.call(this,o,"multiatlas",d,[w]),this.config.path=p,this.config.baseURL=x,this.config.textureXhrSettings=E},onFileComplete:function(e){var o=this.files.indexOf(e);if(o!==-1&&(this.pending--,e.type==="json"&&e.data.hasOwnProperty("textures"))){var d=e.data.textures,c=this.config,p=this.loader,x=p.baseURL,T=p.path,E=p.prefix,y=l(c,"baseURL",this.baseURL),w=l(c,"path",this.path),A=l(c,"prefix",this.prefix),P=l(c,"textureXhrSettings");p.setBaseURL(y),p.setPath(w),p.setPrefix(A);for(var M=0;M<d.length;M++){var L=d[M].image,F="MA"+this.multiKeyIndex+"_"+L,N=new a(p,F,L,P);if(this.addToMultiFile(N),p.addFile(N),d[M].normalMap){var b=new a(p,F,d[M].normalMap,P);b.type="normalMap",N.setLink(b),this.addToMultiFile(b),p.addFile(b)}}p.setBaseURL(x),p.setPath(T),p.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var e=this.files[0],o=[],d=[],c=[],p=1;p<this.files.length;p++){var x=this.files[p];if(x.type!=="normalMap")for(var T=x.key.indexOf("_"),E=x.key.substr(T+1),y=x.data,w=0;w<e.data.textures.length;w++){var A=e.data.textures[w];if(A.image===E){d.push(y),o.push(A),x.linkFile&&c.push(x.linkFile.data);break}}}c.length===0&&(c=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,d,o,c),this.complete=!0}}});m.register("multiatlas",function(e,o,d,c,p){var x;if(Array.isArray(e))for(var T=0;T<e.length;T++)x=new f(this,e[T]),this.addFile(x.files);else x=new f(this,e,o,d,c,p),this.addFile(x.files);return this}),v.exports=f},39034:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42911),r=t(45176),i=t(55188),s=new h({Extends:r,initialize:function(e,o,d,c){var p="js",x=[];if(a(o)){var T=o;o=l(T,"key"),d=l(T,"url"),c=l(T,"xhrSettings"),p=l(T,"extension",p)}Array.isArray(d)||(d=[d]);for(var E=0;E<d.length;E++){var y=new i(e,{key:o+"_"+E.toString(),url:d[E],extension:p,xhrSettings:c});y.onProcess=function(){this.onProcessComplete()},x.push(y)}r.call(this,e,"scripts",o,x)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var e=this.files[f];e.data=document.createElement("script"),e.data.language="javascript",e.data.type="text/javascript",e.data.defer=!1,e.data.text=e.xhrLoader.responseText,document.head.appendChild(e.data)}this.complete=!0}}});m.register("scripts",function(f,e,o){var d;if(Array.isArray(f))for(var c=0;c<f.length;c++)d=new s(this,f[c]),this.addFile(d.files);else d=new s(this,f,e,o),this.addFile(d.files);return this}),v.exports=s},85527:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42911),r=t(45176),i=t(27291),s=t(76799),f=t(86897),e=new h({Extends:r,initialize:function(d,c,p,x,T,E){var y,w,A=d.cacheManager.obj;if(a(c)){var P=c;c=l(P,"key"),y=new f(d,{key:c,type:"obj",cache:A,url:l(P,"url"),extension:l(P,"extension","obj"),xhrSettings:l(P,"xhrSettings"),config:{flipUV:l(P,"flipUV",T)}}),x=l(P,"matURL"),x&&(w=new f(d,{key:c,type:"mat",cache:A,url:x,extension:l(P,"matExtension","mat"),xhrSettings:l(P,"xhrSettings")}))}else y=new f(d,{key:c,url:p,type:"obj",cache:A,extension:"obj",xhrSettings:E,config:{flipUV:T}}),x&&(w=new f(d,{key:c,url:x,type:"mat",cache:A,extension:"mat",xhrSettings:E}));r.call(this,d,"obj",c,[y,w])},addToCache:function(){if(this.isReadyToProcess()){var o=this.files[0],d=this.files[1],c=i(o.data,o.config.flipUV);d&&(c.materials=s(d.data)),o.cache.add(o.key,c),this.complete=!0}}});m.register("obj",function(o,d,c,p,x){var T;if(Array.isArray(o))for(var E=0;E<o.length;E++)T=new e(this,o[E]),this.addFile(T.files);else T=new e(this,o,d,c,p,x),this.addFile(T.files);return this}),v.exports=e},3616:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(76846),a=t(70806),r=new h({Extends:a,initialize:function(s,f,e,o,d){a.call(this,s,f,e,o,d),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var i={};i[this.config]=this.data,this.data=i}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});l.register("pack",function(i,s,f,e){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new r(this,i[o]));else this.addFile(new r(this,i,s,e,f));return this}),v.exports=r},12217:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c,p,x){var T="js";if(i(o)){var E=o;o=r(E,"key"),d=r(E,"url"),x=r(E,"xhrSettings"),T=r(E,"extension",T),c=r(E,"start"),p=r(E,"mapping")}var y={type:"plugin",cache:!1,extension:T,responseType:"text",key:o,url:d,xhrSettings:x,config:{start:c,mapping:p}};l.call(this,e,y),typeof d=="function"&&(this.data=d,this.state=m.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,e=this.config,o=r(e,"start",!1),d=r(e,"mapping",null);if(this.state===m.FILE_POPULATED)f.install(this.key,this.data,o,d);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var c=f.install(this.key,window[this.key],o,d);(o||d)&&(this.loader.systems[d]=c,this.loader.scene[d]=c)}this.onProcessComplete()}});a.register("plugin",function(f,e,o,d,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new s(this,f[p]));else this.addFile(new s(this,f,e,o,d,c));return this}),v.exports=s},4474:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c,p){var x="svg";if(i(o)){var T=o;o=r(T,"key"),d=r(T,"url"),c=r(T,"svgConfig",{}),p=r(T,"xhrSettings"),x=r(T,"extension",x)}var E={type:"svg",cache:e.textureManager,extension:x,responseType:"text",key:o,url:d,xhrSettings:p,config:{width:r(c,"width"),height:r(c,"height"),scale:r(c,"scale")}};l.call(this,e,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var f=this.xhrLoader.responseText,e=[f],o=this.config.width,d=this.config.height,c=this.config.scale;t:if(o&&d||c){var p=null,x=new DOMParser;p=x.parseFromString(f,"text/xml");var T=p.getElementsByTagName("svg")[0],E=T.hasAttribute("viewBox"),y=parseFloat(T.getAttribute("width")),w=parseFloat(T.getAttribute("height"));if(!E&&y&&w)T.setAttribute("viewBox","0  0 "+y+" "+w);else if(E&&!y&&!w){var A=T.getAttribute("viewBox").split(/\s+|,/);y=A[2],w=A[3]}if(c)if(y&&w)o=y*c,d=w*c;else break t;T.setAttribute("width",o.toString()+"px"),T.setAttribute("height",d.toString()+"px"),e=[new XMLSerializer().serializeToString(T)]}try{var P=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var M=this,L=!1;this.data.onload=function(){L||l.revokeObjectURL(M.data),M.onProcessComplete()},this.data.onerror=function(){L?M.onProcessError():(L=!0,l.revokeObjectURL(M.data),M.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},l.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});a.register("svg",function(f,e,o,d){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new s(this,f[c]));else this.addFile(new s(this,f,e,o,d));return this}),v.exports=s},95171:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c){var p="js";if(i(o)){var x=o;o=r(x,"key"),d=r(x,"url"),c=r(x,"xhrSettings"),p=r(x,"extension",p)}var T={type:"text",extension:p,responseType:"text",key:o,url:d,xhrSettings:c};l.call(this,e,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),e=eval;this.loader.sceneManager.add(this.key,e(f)),this.complete=!0}});a.register("sceneFile",function(f,e,o){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,e,o));return this}),v.exports=s},82458:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c,p,x){var T="js";if(i(o)){var E=o;o=r(E,"key"),d=r(E,"url"),x=r(E,"xhrSettings"),T=r(E,"extension",T),c=r(E,"systemKey"),p=r(E,"sceneKey")}var y={type:"scenePlugin",cache:!1,extension:T,responseType:"text",key:o,url:d,xhrSettings:x,config:{systemKey:c,sceneKey:p}};l.call(this,e,y),typeof d=="function"&&(this.data=d,this.state=m.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,e=this.config,o=this.key,d=r(e,"systemKey",o),c=r(e,"sceneKey",o);this.state===m.FILE_POPULATED?f.installScenePlugin(d,this.data,c,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(d,window[this.key],c,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(f,e,o,d,c){if(Array.isArray(f))for(var p=0;p<f.length;p++)this.addFile(new s(this,f[p]));else this.addFile(new s(this,f,e,o,d,c));return this}),v.exports=s},55188:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c,p){var x="js";if(i(o)){var T=o;o=r(T,"key"),d=r(T,"url"),c=r(T,"type","script"),p=r(T,"xhrSettings"),x=r(T,"extension",x)}else c===void 0&&(c="script");var E={type:c,cache:!1,extension:x,responseType:"text",key:o,url:d,xhrSettings:p};l.call(this,e,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(f,e,o,d){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new s(this,f[c]));else this.addFile(new s(this,f,e,o,d));return this}),v.exports=s},33536:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(76846),a=t(42927),r=new h({Extends:a,initialize:function(s,f,e,o,d){a.call(this,s,f,e,d,o),this.type="spritesheet"},addToCache:function(){var i=this.linkFile;i?i.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,i.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,i.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});l.register("spritesheet",function(i,s,f,e){if(Array.isArray(i))for(var o=0;o<i.length;o++)this.addFile(new r(this,i[o]));else this.addFile(new r(this,i,s,f,e));return this}),v.exports=r},86897:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=new h({Extends:l,initialize:function(e,o,d,c){var p="text",x="txt",T=e.cacheManager.text;if(i(o)){var E=o;o=r(E,"key"),d=r(E,"url"),c=r(E,"xhrSettings"),x=r(E,"extension",x),p=r(E,"type",p),T=r(E,"cache",T)}var y={type:p,cache:T,extension:x,responseType:"text",key:o,url:d,xhrSettings:c};l.call(this,e,y)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(f,e,o){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new s(this,f[d]));else this.addFile(new s(this,f,e,o));return this}),v.exports=s},58673:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=t(93560),f=new h({Extends:l,initialize:function(o,d,c,p){var x="csv";if(i(d)){var T=d;d=r(T,"key"),c=r(T,"url"),p=r(T,"xhrSettings"),x=r(T,"extension",x)}var E={type:"tilemapCSV",cache:o.cacheManager.tilemap,extension:x,responseType:"text",key:d,url:c,xhrSettings:p};l.call(this,o,E),this.tilemapFormat=s.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e)}});a.register("tilemapCSV",function(e,o,d){if(Array.isArray(e))for(var c=0;c<e.length;c++)this.addFile(new f(this,e[c]));else this.addFile(new f(this,e,o,d));return this}),v.exports=f},98896:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(70806),a=t(93560),r=new h({Extends:l,initialize:function(s,f,e,o){l.call(this,s,f,e,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i)}});m.register("tilemapImpact",function(i,s,f){if(Array.isArray(i))for(var e=0;e<i.length;e++)this.addFile(new r(this,i[e]));else this.addFile(new r(this,i,s,f));return this}),v.exports=r},50563:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(70806),a=t(93560),r=new h({Extends:l,initialize:function(s,f,e,o){l.call(this,s,f,e,o),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i)}});m.register("tilemapTiledJSON",function(i,s,f){if(Array.isArray(i))for(var e=0;e<i.length;e++)this.addFile(new r(this,i[e]));else this.addFile(new r(this,i,s,f));return this}),v.exports=r},82857:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(76846),l=t(72632),a=t(42927),r=t(42911),i=t(45176),s=t(86897),f=new h({Extends:i,initialize:function(o,d,c,p,x,T){var E,y;if(r(d)){var w=d;d=l(w,"key"),E=new a(o,{key:d,url:l(w,"textureURL"),extension:l(w,"textureExtension","png"),normalMap:l(w,"normalMap"),xhrSettings:l(w,"textureXhrSettings")}),y=new s(o,{key:d,url:l(w,"atlasURL"),extension:l(w,"atlasExtension","txt"),xhrSettings:l(w,"atlasXhrSettings")})}else E=new a(o,d,c,x),y=new s(o,d,p,T);E.linkFile?i.call(this,o,"unityatlas",d,[E,y,E.linkFile]):i.call(this,o,"unityatlas",d,[E,y])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],o=this.files[1],d=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,o.data,d),this.complete=!0}}});m.register("unityAtlas",function(e,o,d,c,p){var x;if(Array.isArray(e))for(var T=0;T<e.length;T++)x=new f(this,e[T]),this.addFile(x.files);else x=new f(this,e,o,d,c,p),this.addFile(x.files);return this}),v.exports=f},22833:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(30750),i=t(72632),s=t(42911),f=new h({Extends:l,initialize:function(o,d,c,p){if(p===void 0&&(p=!1),s(d)){var x=d;d=i(x,"key"),c=i(x,"url",[]),p=i(x,"noAudio",!1)}var T=o.systems.game.device.video.getVideoURL(c);T||console.warn("VideoFile: No supported format for "+d);var E={type:"video",cache:o.cacheManager.video,extension:T.type,key:d,url:T.url,config:{noAudio:p}};l.call(this,o,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=r(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});a.register("video",function(e,o,d){if(Array.isArray(e))for(var c=0;c<e.length;c++)this.addFile(new f(this,e[c]));else this.addFile(new f(this,e,o,d));return this}),v.exports=f},15297:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12117),l=t(98035),a=t(76846),r=t(72632),i=t(42911),s=t(89200),f=new h({Extends:l,initialize:function(o,d,c,p){var x="xml";if(i(d)){var T=d;d=r(T,"key"),c=r(T,"url"),p=r(T,"xhrSettings"),x=r(T,"extension",x)}var E={type:"xml",cache:o.cacheManager.xml,extension:x,responseType:"text",key:d,url:c,xhrSettings:p};l.call(this,o,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});a.register("xml",function(e,o,d){if(Array.isArray(e))for(var c=0;c<e.length;c++)this.addFile(new f(this,e[c]));else this.addFile(new f(this,e,o,d));return this}),v.exports=f},34034:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AnimationJSONFile:t(46468),AsepriteFile:t(31648),AtlasJSONFile:t(73152),AtlasXMLFile:t(24616),AudioFile:t(67448),AudioSpriteFile:t(66109),BinaryFile:t(40612),BitmapFontFile:t(54565),CompressedTextureFile:t(47375),CSSFile:t(99898),GLSLFile:t(46568),HTML5AudioFile:t(30929),HTMLFile:t(77459),HTMLTextureFile:t(9755),ImageFile:t(42927),JSONFile:t(70806),MultiAtlasFile:t(80802),MultiScriptFile:t(39034),OBJFile:t(85527),PackFile:t(3616),PluginFile:t(12217),SceneFile:t(95171),ScenePluginFile:t(82458),ScriptFile:t(55188),SpriteSheetFile:t(33536),SVGFile:t(4474),TextFile:t(86897),TilemapCSVFile:t(58673),TilemapImpactFile:t(98896),TilemapJSONFile:t(50563),UnityAtlasFile:t(82857),VideoFile:t(22833),XMLFile:t(15297)}},95695:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12117),m=t(98611),l={Events:t(683),FileTypes:t(34034),File:t(98035),FileTypesManager:t(76846),GetURL:t(30750),LoaderPlugin:t(67285),MergeXHRSettings:t(43531),MultiFile:t(45176),XHRLoader:t(88490),XHRSettings:t(33868)};l=m(!1,l,h),v.exports=l},26042:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0,m=0;m<t.length;m++)h+=+t[m];return h/t.length};v.exports=S},22824:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(8034),m=function(l,a){return h(l)/h(a)/h(l-a)};v.exports=m},17489:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.floor(Math.random()*(h-t+1)+t)};v.exports=S},14976:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){var r=(l-h)*.5,i=(a-m)*.5,s=t*t,f=t*s;return(2*m-2*l+r+i)*f+(-3*m+3*l-2*r-i)*s+r*t+m};v.exports=S},89129:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var l=Math.pow(m,-h);return Math.ceil(t*l)/l};v.exports=S},82897:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.max(h,Math.min(m,t))};v.exports=S},75606:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=function(l){return l*h.DEG_TO_RAD};v.exports=m},767:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.abs(t-h)};v.exports=S},9849:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(16650),a=t(72283),r=new l,i=new m({initialize:function s(f,e,o,d){f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d=s.DefaultOrder),this._x=f,this._y=e,this._z=o,this._order=d,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,f,e,o){return o===void 0&&(o=this._order),this._x=s,this._y=f,this._z=e,this._order=o,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,f,e){return f===void 0&&(f=this._order),e===void 0&&(e=!1),r.fromQuat(s),this.setFromRotationMatrix(r,f,e)},setFromRotationMatrix:function(s,f,e){f===void 0&&(f=this._order),e===void 0&&(e=!1);var o=s.val,d=o[0],c=o[4],p=o[8],x=o[1],T=o[5],E=o[9],y=o[2],w=o[6],A=o[10],P=0,M=0,L=0,F=.99999;switch(f){case"XYZ":{M=Math.asin(h(p,-1,1)),Math.abs(p)<F?(P=Math.atan2(-E,A),L=Math.atan2(-c,d)):P=Math.atan2(w,T);break}case"YXZ":{P=Math.asin(-h(E,-1,1)),Math.abs(E)<F?(M=Math.atan2(p,A),L=Math.atan2(x,T)):M=Math.atan2(-y,d);break}case"ZXY":{P=Math.asin(h(w,-1,1)),Math.abs(w)<F?(M=Math.atan2(-y,A),L=Math.atan2(-c,T)):L=Math.atan2(x,d);break}case"ZYX":{M=Math.asin(-h(y,-1,1)),Math.abs(y)<F?(P=Math.atan2(w,A),L=Math.atan2(x,d)):L=Math.atan2(-c,T);break}case"YZX":{L=Math.asin(h(x,-1,1)),Math.abs(x)<F?(P=Math.atan2(-E,T),M=Math.atan2(-y,d)):M=Math.atan2(p,A);break}case"XZY":{L=Math.asin(-h(c,-1,1)),Math.abs(c)<F?(P=Math.atan2(w,T),M=Math.atan2(p,d)):P=Math.atan2(-E,A);break}}return this._x=P,this._y=M,this._z=L,this._order=f,e&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",v.exports=i},8034:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var h=t;--t;)h*=t;return h};v.exports=S},61616:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.random()*(h-t)+t};v.exports=S},60679:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var l=Math.pow(m,-h);return Math.floor(t*l)/l};v.exports=S},91806:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=function(l,a,r){return l=h(l,0,1),(r-a)*l+a};v.exports=m},79366:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t/h/1e3};v.exports=S},43776:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};v.exports=S},58442:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};v.exports=S},42798:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return(h-t)*m+t};v.exports=S},61072:v=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=0),t.clone().lerp(h,m)};v.exports=S},5341:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new m(this)},set:function(l){return this.copy(l)},copy:function(l){var a=this.val,r=l.val;return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],this},fromMat4:function(l){var a=l.val,r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[4],r[4]=a[5],r[5]=a[6],r[6]=a[8],r[7]=a[9],r[8]=a[10],this},fromArray:function(l){var a=this.val;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],a[6]=l[6],a[7]=l[7],a[8]=l[8],this},identity:function(){var l=this.val;return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=1,l[5]=0,l[6]=0,l[7]=0,l[8]=1,this},transpose:function(){var l=this.val,a=l[1],r=l[2],i=l[5];return l[1]=l[3],l[2]=l[6],l[3]=a,l[5]=l[7],l[6]=r,l[7]=i,this},invert:function(){var l=this.val,a=l[0],r=l[1],i=l[2],s=l[3],f=l[4],e=l[5],o=l[6],d=l[7],c=l[8],p=c*f-e*d,x=-c*s+e*o,T=d*s-f*o,E=a*p+r*x+i*T;return E?(E=1/E,l[0]=p*E,l[1]=(-c*r+i*d)*E,l[2]=(e*r-i*f)*E,l[3]=x*E,l[4]=(c*a-i*o)*E,l[5]=(-e*a+i*s)*E,l[6]=T*E,l[7]=(-d*a+r*o)*E,l[8]=(f*a-r*s)*E,this):null},adjoint:function(){var l=this.val,a=l[0],r=l[1],i=l[2],s=l[3],f=l[4],e=l[5],o=l[6],d=l[7],c=l[8];return l[0]=f*c-e*d,l[1]=i*d-r*c,l[2]=r*e-i*f,l[3]=e*o-s*c,l[4]=a*c-i*o,l[5]=i*s-a*e,l[6]=s*d-f*o,l[7]=r*o-a*d,l[8]=a*f-r*s,this},determinant:function(){var l=this.val,a=l[0],r=l[1],i=l[2],s=l[3],f=l[4],e=l[5],o=l[6],d=l[7],c=l[8];return a*(c*f-e*d)+r*(-c*s+e*o)+i*(d*s-f*o)},multiply:function(l){var a=this.val,r=a[0],i=a[1],s=a[2],f=a[3],e=a[4],o=a[5],d=a[6],c=a[7],p=a[8],x=l.val,T=x[0],E=x[1],y=x[2],w=x[3],A=x[4],P=x[5],M=x[6],L=x[7],F=x[8];return a[0]=T*r+E*f+y*d,a[1]=T*i+E*e+y*c,a[2]=T*s+E*o+y*p,a[3]=w*r+A*f+P*d,a[4]=w*i+A*e+P*c,a[5]=w*s+A*o+P*p,a[6]=M*r+L*f+F*d,a[7]=M*i+L*e+F*c,a[8]=M*s+L*o+F*p,this},translate:function(l){var a=this.val,r=l.x,i=l.y;return a[6]=r*a[0]+i*a[3]+a[6],a[7]=r*a[1]+i*a[4]+a[7],a[8]=r*a[2]+i*a[5]+a[8],this},rotate:function(l){var a=this.val,r=a[0],i=a[1],s=a[2],f=a[3],e=a[4],o=a[5],d=Math.sin(l),c=Math.cos(l);return a[0]=c*r+d*f,a[1]=c*i+d*e,a[2]=c*s+d*o,a[3]=c*f-d*r,a[4]=c*e-d*i,a[5]=c*o-d*s,this},scale:function(l){var a=this.val,r=l.x,i=l.y;return a[0]=r*a[0],a[1]=r*a[1],a[2]=r*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(l){var a=l.x,r=l.y,i=l.z,s=l.w,f=a+a,e=r+r,o=i+i,d=a*f,c=a*e,p=a*o,x=r*e,T=r*o,E=i*o,y=s*f,w=s*e,A=s*o,P=this.val;return P[0]=1-(x+E),P[3]=c+A,P[6]=p-w,P[1]=c-A,P[4]=1-(d+E),P[7]=T+y,P[2]=p+w,P[5]=T-y,P[8]=1-(d+x),this},normalFromMat4:function(l){var a=l.val,r=this.val,i=a[0],s=a[1],f=a[2],e=a[3],o=a[4],d=a[5],c=a[6],p=a[7],x=a[8],T=a[9],E=a[10],y=a[11],w=a[12],A=a[13],P=a[14],M=a[15],L=i*d-s*o,F=i*c-f*o,N=i*p-e*o,b=s*c-f*d,V=s*p-e*d,X=f*p-e*c,W=x*A-T*w,k=x*P-E*w,Q=x*M-y*w,U=T*P-E*A,Y=T*M-y*A,O=E*M-y*P,G=L*O-F*Y+N*U+b*Q-V*k+X*W;return G?(G=1/G,r[0]=(d*O-c*Y+p*U)*G,r[1]=(c*Q-o*O-p*k)*G,r[2]=(o*Y-d*Q+p*W)*G,r[3]=(f*Y-s*O-e*U)*G,r[4]=(i*O-f*Q+e*k)*G,r[5]=(s*Q-i*Y-e*W)*G,r[6]=(A*X-P*V+M*b)*G,r[7]=(P*N-w*X-M*F)*G,r[8]=(w*V-A*N+M*L)*G,this):null}});v.exports=m},16650:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(70015),l=1e-6,a=new h({initialize:function(d){this.val=new Float32Array(16),d?this.copy(d):this.identity()},clone:function(){return new a(this)},set:function(o){return this.copy(o)},setValues:function(o,d,c,p,x,T,E,y,w,A,P,M,L,F,N,b){var V=this.val;return V[0]=o,V[1]=d,V[2]=c,V[3]=p,V[4]=x,V[5]=T,V[6]=E,V[7]=y,V[8]=w,V[9]=A,V[10]=P,V[11]=M,V[12]=L,V[13]=F,V[14]=N,V[15]=b,this},copy:function(o){var d=o.val;return this.setValues(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])},fromArray:function(o){return this.setValues(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(o,d,c){var p=r.fromQuat(c),x=p.val,T=d.x,E=d.y,y=d.z;return this.setValues(x[0]*T,x[1]*T,x[2]*T,0,x[4]*E,x[5]*E,x[6]*E,0,x[8]*y,x[9]*y,x[10]*y,0,o.x,o.y,o.z,1)},xyz:function(o,d,c){this.identity();var p=this.val;return p[12]=o,p[13]=d,p[14]=c,this},scaling:function(o,d,c){this.zero();var p=this.val;return p[0]=o,p[5]=d,p[10]=c,p[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var o=this.val,d=o[1],c=o[2],p=o[3],x=o[6],T=o[7],E=o[11];return o[1]=o[4],o[2]=o[8],o[3]=o[12],o[4]=d,o[6]=o[9],o[7]=o[13],o[8]=c,o[9]=x,o[11]=o[14],o[12]=p,o[13]=T,o[14]=E,this},getInverse:function(o){return this.copy(o),this.invert()},invert:function(){var o=this.val,d=o[0],c=o[1],p=o[2],x=o[3],T=o[4],E=o[5],y=o[6],w=o[7],A=o[8],P=o[9],M=o[10],L=o[11],F=o[12],N=o[13],b=o[14],V=o[15],X=d*E-c*T,W=d*y-p*T,k=d*w-x*T,Q=c*y-p*E,U=c*w-x*E,Y=p*w-x*y,O=A*N-P*F,G=A*b-M*F,z=A*V-L*F,H=P*b-M*N,K=P*V-L*N,J=M*V-L*b,Z=X*J-W*K+k*H+Q*z-U*G+Y*O;return Z?(Z=1/Z,this.setValues((E*J-y*K+w*H)*Z,(p*K-c*J-x*H)*Z,(N*Y-b*U+V*Q)*Z,(M*U-P*Y-L*Q)*Z,(y*z-T*J-w*G)*Z,(d*J-p*z+x*G)*Z,(b*k-F*Y-V*W)*Z,(A*Y-M*k+L*W)*Z,(T*K-E*z+w*O)*Z,(c*z-d*K-x*O)*Z,(F*U-N*k+V*X)*Z,(P*k-A*U-L*X)*Z,(E*G-T*H-y*O)*Z,(d*H-c*G+p*O)*Z,(N*W-F*Q-b*X)*Z,(A*Q-P*W+M*X)*Z)):this},adjoint:function(){var o=this.val,d=o[0],c=o[1],p=o[2],x=o[3],T=o[4],E=o[5],y=o[6],w=o[7],A=o[8],P=o[9],M=o[10],L=o[11],F=o[12],N=o[13],b=o[14],V=o[15];return this.setValues(E*(M*V-L*b)-P*(y*V-w*b)+N*(y*L-w*M),-(c*(M*V-L*b)-P*(p*V-x*b)+N*(p*L-x*M)),c*(y*V-w*b)-E*(p*V-x*b)+N*(p*w-x*y),-(c*(y*L-w*M)-E*(p*L-x*M)+P*(p*w-x*y)),-(T*(M*V-L*b)-A*(y*V-w*b)+F*(y*L-w*M)),d*(M*V-L*b)-A*(p*V-x*b)+F*(p*L-x*M),-(d*(y*V-w*b)-T*(p*V-x*b)+F*(p*w-x*y)),d*(y*L-w*M)-T*(p*L-x*M)+A*(p*w-x*y),T*(P*V-L*N)-A*(E*V-w*N)+F*(E*L-w*P),-(d*(P*V-L*N)-A*(c*V-x*N)+F*(c*L-x*P)),d*(E*V-w*N)-T*(c*V-x*N)+F*(c*w-x*E),-(d*(E*L-w*P)-T*(c*L-x*P)+A*(c*w-x*E)),-(T*(P*b-M*N)-A*(E*b-y*N)+F*(E*M-y*P)),d*(P*b-M*N)-A*(c*b-p*N)+F*(c*M-p*P),-(d*(E*b-y*N)-T*(c*b-p*N)+F*(c*y-p*E)),d*(E*M-y*P)-T*(c*M-p*P)+A*(c*y-p*E))},determinant:function(){var o=this.val,d=o[0],c=o[1],p=o[2],x=o[3],T=o[4],E=o[5],y=o[6],w=o[7],A=o[8],P=o[9],M=o[10],L=o[11],F=o[12],N=o[13],b=o[14],V=o[15],X=d*E-c*T,W=d*y-p*T,k=d*w-x*T,Q=c*y-p*E,U=c*w-x*E,Y=p*w-x*y,O=A*N-P*F,G=A*b-M*F,z=A*V-L*F,H=P*b-M*N,K=P*V-L*N,J=M*V-L*b;return X*J-W*K+k*H+Q*z-U*G+Y*O},multiply:function(o){var d=this.val,c=d[0],p=d[1],x=d[2],T=d[3],E=d[4],y=d[5],w=d[6],A=d[7],P=d[8],M=d[9],L=d[10],F=d[11],N=d[12],b=d[13],V=d[14],X=d[15],W=o.val,k=W[0],Q=W[1],U=W[2],Y=W[3];return d[0]=k*c+Q*E+U*P+Y*N,d[1]=k*p+Q*y+U*M+Y*b,d[2]=k*x+Q*w+U*L+Y*V,d[3]=k*T+Q*A+U*F+Y*X,k=W[4],Q=W[5],U=W[6],Y=W[7],d[4]=k*c+Q*E+U*P+Y*N,d[5]=k*p+Q*y+U*M+Y*b,d[6]=k*x+Q*w+U*L+Y*V,d[7]=k*T+Q*A+U*F+Y*X,k=W[8],Q=W[9],U=W[10],Y=W[11],d[8]=k*c+Q*E+U*P+Y*N,d[9]=k*p+Q*y+U*M+Y*b,d[10]=k*x+Q*w+U*L+Y*V,d[11]=k*T+Q*A+U*F+Y*X,k=W[12],Q=W[13],U=W[14],Y=W[15],d[12]=k*c+Q*E+U*P+Y*N,d[13]=k*p+Q*y+U*M+Y*b,d[14]=k*x+Q*w+U*L+Y*V,d[15]=k*T+Q*A+U*F+Y*X,this},multiplyLocal:function(o){var d=this.val,c=o.val;return this.setValues(d[0]*c[0]+d[1]*c[4]+d[2]*c[8]+d[3]*c[12],d[0]*c[1]+d[1]*c[5]+d[2]*c[9]+d[3]*c[13],d[0]*c[2]+d[1]*c[6]+d[2]*c[10]+d[3]*c[14],d[0]*c[3]+d[1]*c[7]+d[2]*c[11]+d[3]*c[15],d[4]*c[0]+d[5]*c[4]+d[6]*c[8]+d[7]*c[12],d[4]*c[1]+d[5]*c[5]+d[6]*c[9]+d[7]*c[13],d[4]*c[2]+d[5]*c[6]+d[6]*c[10]+d[7]*c[14],d[4]*c[3]+d[5]*c[7]+d[6]*c[11]+d[7]*c[15],d[8]*c[0]+d[9]*c[4]+d[10]*c[8]+d[11]*c[12],d[8]*c[1]+d[9]*c[5]+d[10]*c[9]+d[11]*c[13],d[8]*c[2]+d[9]*c[6]+d[10]*c[10]+d[11]*c[14],d[8]*c[3]+d[9]*c[7]+d[10]*c[11]+d[11]*c[15],d[12]*c[0]+d[13]*c[4]+d[14]*c[8]+d[15]*c[12],d[12]*c[1]+d[13]*c[5]+d[14]*c[9]+d[15]*c[13],d[12]*c[2]+d[13]*c[6]+d[14]*c[10]+d[15]*c[14],d[12]*c[3]+d[13]*c[7]+d[14]*c[11]+d[15]*c[15])},premultiply:function(o){return this.multiplyMatrices(o,this)},multiplyMatrices:function(o,d){var c=o.val,p=d.val,x=c[0],T=c[4],E=c[8],y=c[12],w=c[1],A=c[5],P=c[9],M=c[13],L=c[2],F=c[6],N=c[10],b=c[14],V=c[3],X=c[7],W=c[11],k=c[15],Q=p[0],U=p[4],Y=p[8],O=p[12],G=p[1],z=p[5],H=p[9],K=p[13],J=p[2],Z=p[6],_=p[10],tt=p[14],et=p[3],nt=p[7],rt=p[11],st=p[15];return this.setValues(x*Q+T*G+E*J+y*et,w*Q+A*G+P*J+M*et,L*Q+F*G+N*J+b*et,V*Q+X*G+W*J+k*et,x*U+T*z+E*Z+y*nt,w*U+A*z+P*Z+M*nt,L*U+F*z+N*Z+b*nt,V*U+X*z+W*Z+k*nt,x*Y+T*H+E*_+y*rt,w*Y+A*H+P*_+M*rt,L*Y+F*H+N*_+b*rt,V*Y+X*H+W*_+k*rt,x*O+T*K+E*tt+y*st,w*O+A*K+P*tt+M*st,L*O+F*K+N*tt+b*st,V*O+X*K+W*tt+k*st)},translate:function(o){return this.translateXYZ(o.x,o.y,o.z)},translateXYZ:function(o,d,c){var p=this.val;return p[12]=p[0]*o+p[4]*d+p[8]*c+p[12],p[13]=p[1]*o+p[5]*d+p[9]*c+p[13],p[14]=p[2]*o+p[6]*d+p[10]*c+p[14],p[15]=p[3]*o+p[7]*d+p[11]*c+p[15],this},scale:function(o){return this.scaleXYZ(o.x,o.y,o.z)},scaleXYZ:function(o,d,c){var p=this.val;return p[0]=p[0]*o,p[1]=p[1]*o,p[2]=p[2]*o,p[3]=p[3]*o,p[4]=p[4]*d,p[5]=p[5]*d,p[6]=p[6]*d,p[7]=p[7]*d,p[8]=p[8]*c,p[9]=p[9]*c,p[10]=p[10]*c,p[11]=p[11]*c,this},makeRotationAxis:function(o,d){var c=Math.cos(d),p=Math.sin(d),x=1-c,T=o.x,E=o.y,y=o.z,w=x*T,A=x*E;return this.setValues(w*T+c,w*E-p*y,w*y+p*E,0,w*E+p*y,A*E+c,A*y-p*T,0,w*y-p*E,A*y+p*T,x*y*y+c,0,0,0,0,1)},rotate:function(o,d){var c=this.val,p=d.x,x=d.y,T=d.z,E=Math.sqrt(p*p+x*x+T*T);if(Math.abs(E)<l)return this;E=1/E,p*=E,x*=E,T*=E;var y=Math.sin(o),w=Math.cos(o),A=1-w,P=c[0],M=c[1],L=c[2],F=c[3],N=c[4],b=c[5],V=c[6],X=c[7],W=c[8],k=c[9],Q=c[10],U=c[11],Y=c[12],O=c[13],G=c[14],z=c[15],H=p*p*A+w,K=x*p*A+T*y,J=T*p*A-x*y,Z=p*x*A-T*y,_=x*x*A+w,tt=T*x*A+p*y,et=p*T*A+x*y,nt=x*T*A-p*y,rt=T*T*A+w;return this.setValues(P*H+N*K+W*J,M*H+b*K+k*J,L*H+V*K+Q*J,F*H+X*K+U*J,P*Z+N*_+W*tt,M*Z+b*_+k*tt,L*Z+V*_+Q*tt,F*Z+X*_+U*tt,P*et+N*nt+W*rt,M*et+b*nt+k*rt,L*et+V*nt+Q*rt,F*et+X*nt+U*rt,Y,O,G,z)},rotateX:function(o){var d=this.val,c=Math.sin(o),p=Math.cos(o),x=d[4],T=d[5],E=d[6],y=d[7],w=d[8],A=d[9],P=d[10],M=d[11];return d[4]=x*p+w*c,d[5]=T*p+A*c,d[6]=E*p+P*c,d[7]=y*p+M*c,d[8]=w*p-x*c,d[9]=A*p-T*c,d[10]=P*p-E*c,d[11]=M*p-y*c,this},rotateY:function(o){var d=this.val,c=Math.sin(o),p=Math.cos(o),x=d[0],T=d[1],E=d[2],y=d[3],w=d[8],A=d[9],P=d[10],M=d[11];return d[0]=x*p-w*c,d[1]=T*p-A*c,d[2]=E*p-P*c,d[3]=y*p-M*c,d[8]=x*c+w*p,d[9]=T*c+A*p,d[10]=E*c+P*p,d[11]=y*c+M*p,this},rotateZ:function(o){var d=this.val,c=Math.sin(o),p=Math.cos(o),x=d[0],T=d[1],E=d[2],y=d[3],w=d[4],A=d[5],P=d[6],M=d[7];return d[0]=x*p+w*c,d[1]=T*p+A*c,d[2]=E*p+P*c,d[3]=y*p+M*c,d[4]=w*p-x*c,d[5]=A*p-T*c,d[6]=P*p-E*c,d[7]=M*p-y*c,this},fromRotationTranslation:function(o,d){var c=o.x,p=o.y,x=o.z,T=o.w,E=c+c,y=p+p,w=x+x,A=c*E,P=c*y,M=c*w,L=p*y,F=p*w,N=x*w,b=T*E,V=T*y,X=T*w;return this.setValues(1-(L+N),P+X,M-V,0,P-X,1-(A+N),F+b,0,M+V,F-b,1-(A+L),0,d.x,d.y,d.z,1)},fromQuat:function(o){var d=o.x,c=o.y,p=o.z,x=o.w,T=d+d,E=c+c,y=p+p,w=d*T,A=d*E,P=d*y,M=c*E,L=c*y,F=p*y,N=x*T,b=x*E,V=x*y;return this.setValues(1-(M+F),A+V,P-b,0,A-V,1-(w+F),L+N,0,P+b,L-N,1-(w+M),0,0,0,0,1)},frustum:function(o,d,c,p,x,T){var E=1/(d-o),y=1/(p-c),w=1/(x-T);return this.setValues(x*2*E,0,0,0,0,x*2*y,0,0,(d+o)*E,(p+c)*y,(T+x)*w,-1,0,0,T*x*2*w,0)},perspective:function(o,d,c,p){var x=1/Math.tan(o/2),T=1/(c-p);return this.setValues(x/d,0,0,0,0,x,0,0,0,0,(p+c)*T,-1,0,0,2*p*c*T,0)},perspectiveLH:function(o,d,c,p){return this.setValues(2*c/o,0,0,0,0,2*c/d,0,0,0,0,-p/(c-p),1,0,0,c*p/(c-p),0)},ortho:function(o,d,c,p,x,T){var E=o-d,y=c-p,w=x-T;return E=E===0?E:1/E,y=y===0?y:1/y,w=w===0?w:1/w,this.setValues(-2*E,0,0,0,0,-2*y,0,0,0,0,2*w,0,(o+d)*E,(p+c)*y,(T+x)*w,1)},lookAtRH:function(o,d,c){var p=this.val;return e.subVectors(o,d),e.getLengthSquared()===0&&(e.z=1),e.normalize(),s.crossVectors(c,e),s.getLengthSquared()===0&&(Math.abs(c.z)===1?e.x+=1e-4:e.z+=1e-4,e.normalize(),s.crossVectors(c,e)),s.normalize(),f.crossVectors(e,s),p[0]=s.x,p[1]=s.y,p[2]=s.z,p[4]=f.x,p[5]=f.y,p[6]=f.z,p[8]=e.x,p[9]=e.y,p[10]=e.z,this},lookAt:function(o,d,c){var p=o.x,x=o.y,T=o.z,E=c.x,y=c.y,w=c.z,A=d.x,P=d.y,M=d.z;if(Math.abs(p-A)<l&&Math.abs(x-P)<l&&Math.abs(T-M)<l)return this.identity();var L=p-A,F=x-P,N=T-M,b=1/Math.sqrt(L*L+F*F+N*N);L*=b,F*=b,N*=b;var V=y*N-w*F,X=w*L-E*N,W=E*F-y*L;b=Math.sqrt(V*V+X*X+W*W),b?(b=1/b,V*=b,X*=b,W*=b):(V=0,X=0,W=0);var k=F*W-N*X,Q=N*V-L*W,U=L*X-F*V;return b=Math.sqrt(k*k+Q*Q+U*U),b?(b=1/b,k*=b,Q*=b,U*=b):(k=0,Q=0,U=0),this.setValues(V,k,L,0,X,Q,F,0,W,U,N,0,-(V*p+X*x+W*T),-(k*p+Q*x+U*T),-(L*p+F*x+N*T),1)},yawPitchRoll:function(o,d,c){this.zero(),r.zero(),i.zero();var p=this.val,x=r.val,T=i.val,E=Math.sin(c),y=Math.cos(c);return p[10]=1,p[15]=1,p[0]=y,p[1]=E,p[4]=-E,p[5]=y,E=Math.sin(d),y=Math.cos(d),x[0]=1,x[15]=1,x[5]=y,x[10]=y,x[9]=-E,x[6]=E,E=Math.sin(o),y=Math.cos(o),T[5]=1,T[15]=1,T[0]=y,T[2]=-E,T[8]=E,T[10]=y,this.multiplyLocal(r),this.multiplyLocal(i),this},setWorldMatrix:function(o,d,c,p,x){return this.yawPitchRoll(o.y,o.x,o.z),r.scaling(c.x,c.y,c.z),i.xyz(d.x,d.y,d.z),this.multiplyLocal(r),this.multiplyLocal(i),p&&this.multiplyLocal(p),x&&this.multiplyLocal(x),this},multiplyToMat4:function(o,d){var c=this.val,p=o.val,x=c[0],T=c[1],E=c[2],y=c[3],w=c[4],A=c[5],P=c[6],M=c[7],L=c[8],F=c[9],N=c[10],b=c[11],V=c[12],X=c[13],W=c[14],k=c[15],Q=p[0],U=p[1],Y=p[2],O=p[3],G=p[4],z=p[5],H=p[6],K=p[7],J=p[8],Z=p[9],_=p[10],tt=p[11],et=p[12],nt=p[13],rt=p[14],st=p[15];return d.setValues(Q*x+U*w+Y*L+O*V,U*T+U*A+Y*F+O*X,Y*E+U*P+Y*N+O*W,O*y+U*M+Y*b+O*k,G*x+z*w+H*L+K*V,G*T+z*A+H*F+K*X,G*E+z*P+H*N+K*W,G*y+z*M+H*b+K*k,J*x+Z*w+_*L+tt*V,J*T+Z*A+_*F+tt*X,J*E+Z*P+_*N+tt*W,J*y+Z*M+_*b+tt*k,et*x+nt*w+rt*L+st*V,et*T+nt*A+rt*F+st*X,et*E+nt*P+rt*N+st*W,et*y+nt*M+rt*b+st*k)},fromRotationXYTranslation:function(o,d,c){var p=d.x,x=d.y,T=d.z,E=Math.sin(o.x),y=Math.cos(o.x),w=Math.sin(o.y),A=Math.cos(o.y),P=p,M=x,L=T,F=-E,N=0-F*w,b=0-y*w,V=F*A,X=y*A;return c||(P=A*p+w*T,M=N*p+y*x+V*T,L=b*p+E*x+X*T),this.setValues(A,N,b,0,0,y,E,0,w,V,X,0,P,M,L,1)},getMaxScaleOnAxis:function(){var o=this.val,d=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],c=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],p=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(d,c,p))}}),r=new a,i=new a,s=new m,f=new m,e=new m;v.exports=a},69635:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.min(t+h,m)};v.exports=S},37394:v=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=t.length;if(h===0)return 0;t.sort(function(l,a){return l-a});var m=Math.floor(h/2);return h%2===0?(t[m]+t[m-1])/2:t[m]};v.exports=S},17259:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.max(t-h,m)};v.exports=S},61820:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){m===void 0&&(m=h+1);var a=(t-h)/(m-h);return a>1?l!==void 0?(a=(l-t)/(l-m),a<0&&(a=0)):a=1:a<0&&(a=0),a};v.exports=S},75003:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(5341),l=t(72283),a=t(70015),r=1e-6,i=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),f=new a(1,0,0),e=new a(0,1,0),o=new a,d=new m,c=new h({initialize:function(x,T,E,y){this.onChangeCallback=l,this.set(x,T,E,y)},x:{get:function(){return this._x},set:function(p){this._x=p,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(p){this._y=p,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(p){this._z=p,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(p){this._w=p,this.onChangeCallback(this)}},copy:function(p){return this.set(p)},set:function(p,x,T,E,y){return y===void 0&&(y=!0),typeof p=="object"?(this._x=p.x||0,this._y=p.y||0,this._z=p.z||0,this._w=p.w||0):(this._x=p||0,this._y=x||0,this._z=T||0,this._w=E||0),y&&this.onChangeCallback(this),this},add:function(p){return this._x+=p.x,this._y+=p.y,this._z+=p.z,this._w+=p.w,this.onChangeCallback(this),this},subtract:function(p){return this._x-=p.x,this._y-=p.y,this._z-=p.z,this._w-=p.w,this.onChangeCallback(this),this},scale:function(p){return this._x*=p,this._y*=p,this._z*=p,this._w*=p,this.onChangeCallback(this),this},length:function(){var p=this.x,x=this.y,T=this.z,E=this.w;return Math.sqrt(p*p+x*x+T*T+E*E)},lengthSq:function(){var p=this.x,x=this.y,T=this.z,E=this.w;return p*p+x*x+T*T+E*E},normalize:function(){var p=this.x,x=this.y,T=this.z,E=this.w,y=p*p+x*x+T*T+E*E;return y>0&&(y=1/Math.sqrt(y),this._x=p*y,this._y=x*y,this._z=T*y,this._w=E*y),this.onChangeCallback(this),this},dot:function(p){return this.x*p.x+this.y*p.y+this.z*p.z+this.w*p.w},lerp:function(p,x){x===void 0&&(x=0);var T=this.x,E=this.y,y=this.z,w=this.w;return this.set(T+x*(p.x-T),E+x*(p.y-E),y+x*(p.z-y),w+x*(p.w-w))},rotationTo:function(p,x){var T=p.x*x.x+p.y*x.y+p.z*x.z;return T<-.999999?(o.copy(f).cross(p).length()<r&&o.copy(e).cross(p),o.normalize(),this.setAxisAngle(o,Math.PI)):T>.999999?this.set(0,0,0,1):(o.copy(p).cross(x),this._x=o.x,this._y=o.y,this._z=o.z,this._w=1+T,this.normalize())},setAxes:function(p,x,T){var E=d.val;return E[0]=x.x,E[3]=x.y,E[6]=x.z,E[1]=T.x,E[4]=T.y,E[7]=T.z,E[2]=-p.x,E[5]=-p.y,E[8]=-p.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(p,x){x=x*.5;var T=Math.sin(x);return this.set(T*p.x,T*p.y,T*p.z,Math.cos(x))},multiply:function(p){var x=this.x,T=this.y,E=this.z,y=this.w,w=p.x,A=p.y,P=p.z,M=p.w;return this.set(x*M+y*w+T*P-E*A,T*M+y*A+E*w-x*P,E*M+y*P+x*A-T*w,y*M-x*w-T*A-E*P)},slerp:function(p,x){var T=this.x,E=this.y,y=this.z,w=this.w,A=p.x,P=p.y,M=p.z,L=p.w,F=T*A+E*P+y*M+w*L;F<0&&(F=-F,A=-A,P=-P,M=-M,L=-L);var N=1-x,b=x;if(1-F>r){var V=Math.acos(F),X=Math.sin(V);N=Math.sin((1-x)*V)/X,b=Math.sin(x*V)/X}return this.set(N*T+b*A,N*E+b*P,N*y+b*M,N*w+b*L)},invert:function(){var p=this.x,x=this.y,T=this.z,E=this.w,y=p*p+x*x+T*T+E*E,w=y?1/y:0;return this.set(-p*w,-x*w,-T*w,E*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(p){p*=.5;var x=this.x,T=this.y,E=this.z,y=this.w,w=Math.sin(p),A=Math.cos(p);return this.set(x*A+y*w,T*A+E*w,E*A-T*w,y*A-x*w)},rotateY:function(p){p*=.5;var x=this.x,T=this.y,E=this.z,y=this.w,w=Math.sin(p),A=Math.cos(p);return this.set(x*A-E*w,T*A+y*w,E*A+x*w,y*A-T*w)},rotateZ:function(p){p*=.5;var x=this.x,T=this.y,E=this.z,y=this.w,w=Math.sin(p),A=Math.cos(p);return this.set(x*A+T*w,T*A-x*w,E*A+y*w,y*A-E*w)},calculateW:function(){var p=this.x,x=this.y,T=this.z;return this.w=-Math.sqrt(1-p*p-x*x-T*T),this},setFromEuler:function(p,x){var T=p.x/2,E=p.y/2,y=p.z/2,w=Math.cos(T),A=Math.cos(E),P=Math.cos(y),M=Math.sin(T),L=Math.sin(E),F=Math.sin(y);switch(p.order){case"XYZ":{this.set(M*A*P+w*L*F,w*L*P-M*A*F,w*A*F+M*L*P,w*A*P-M*L*F,x);break}case"YXZ":{this.set(M*A*P+w*L*F,w*L*P-M*A*F,w*A*F-M*L*P,w*A*P+M*L*F,x);break}case"ZXY":{this.set(M*A*P-w*L*F,w*L*P+M*A*F,w*A*F+M*L*P,w*A*P-M*L*F,x);break}case"ZYX":{this.set(M*A*P-w*L*F,w*L*P+M*A*F,w*A*F-M*L*P,w*A*P+M*L*F,x);break}case"YZX":{this.set(M*A*P+w*L*F,w*L*P+M*A*F,w*A*F-M*L*P,w*A*P-M*L*F,x);break}case"XZY":{this.set(M*A*P-w*L*F,w*L*P-M*A*F,w*A*F+M*L*P,w*A*P+M*L*F,x);break}}return this},setFromRotationMatrix:function(p){var x=p.val,T=x[0],E=x[4],y=x[8],w=x[1],A=x[5],P=x[9],M=x[2],L=x[6],F=x[10],N=T+A+F,b;return N>0?(b=.5/Math.sqrt(N+1),this.set((L-P)*b,(y-M)*b,(w-E)*b,.25/b)):T>A&&T>F?(b=2*Math.sqrt(1+T-A-F),this.set(.25*b,(E+w)/b,(y+M)/b,(L-P)/b)):A>F?(b=2*Math.sqrt(1+A-T-F),this.set((E+w)/b,.25*b,(P+L)/b,(y-M)/b)):(b=2*Math.sqrt(1+F-T-A),this.set((y+M)/b,(P+L)/b,.25*b,(w-E)/b)),this},fromMat3:function(p){var x=p.val,T=x[0]+x[4]+x[8],E;if(T>0)E=Math.sqrt(T+1),this.w=.5*E,E=.5/E,this._x=(x[7]-x[5])*E,this._y=(x[2]-x[6])*E,this._z=(x[3]-x[1])*E;else{var y=0;x[4]>x[0]&&(y=1),x[8]>x[y*3+y]&&(y=2);var w=i[y],A=i[w];E=Math.sqrt(x[y*3+y]-x[w*3+w]-x[A*3+A]+1),s[y]=.5*E,E=.5/E,s[w]=(x[w*3+y]+x[y*3+w])*E,s[A]=(x[A*3+y]+x[y*3+A])*E,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(x[A*3+w]-x[w*3+A])*E}return this.onChangeCallback(this),this}});v.exports=c},23701:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=function(l){return l*h.RAD_TO_DEG};v.exports=m},16906:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var m=Math.random()*2*Math.PI;return t.x=Math.cos(m)*h,t.y=Math.sin(m)*h,t};v.exports=S},52417:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);var m=Math.random()*2*Math.PI,l=Math.random()*2-1,a=Math.sqrt(1-l*l)*h;return t.x=Math.cos(m)*a,t.y=Math.sin(m)*a,t.z=l*h,t};v.exports=S},17915:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t.x=(Math.random()*2-1)*h,t.y=(Math.random()*2-1)*h,t.z=(Math.random()*2-1)*h,t.w=(Math.random()*2-1)*h,t};v.exports=S},52257:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x,l=t.y;return t.x=m*Math.cos(h)-l*Math.sin(h),t.y=m*Math.sin(h)+l*Math.cos(h),t};v.exports=S},2386:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=Math.cos(l),r=Math.sin(l),i=t.x-h,s=t.y-m;return t.x=i*a-s*r+h,t.y=i*r+s*a+m,t};v.exports=S},72395:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){var r=l+Math.atan2(t.y-m,t.x-h);return t.x=h+a*Math.cos(r),t.y=m+a*Math.sin(r),t};v.exports=S},41061:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){return t.x=h+a*Math.cos(l),t.y=m+a*Math.sin(l),t};v.exports=S},93709:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(70015),m=t(16650),l=t(75003),a=new m,r=new l,i=new h,s=function(f,e,o){return r.setAxisAngle(e,o),a.fromRotationTranslation(r,i.set(0,0,0)),f.transformMat4(a)};v.exports=s},67233:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};v.exports=S},64333:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=10);var l=Math.pow(m,-h);return Math.round(t*l)/l};v.exports=S},59533:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){h===void 0&&(h=1),m===void 0&&(m=1),l===void 0&&(l=1),l*=Math.PI/t;for(var a=[],r=[],i=0;i<t;i++)m-=h*l,h+=m*l,a[i]=m,r[i]=h;return{sin:r,cos:a,length:t}};v.exports=S},5514:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t<=h?0:t>=m?1:(t=(t-h)/(m-h),t*t*(3-2*t))};v.exports=S},87736:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t=Math.max(0,Math.min(1,(t-h)/(m-h))),t*t*t*(t*(t*6-15)+10)};v.exports=S},55805:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i){i===void 0&&(i=new h);var s=0,f=0,e=a*r;return l>0&&l<=e&&(l>a-1?(f=Math.floor(l/a),s=l-f*a):s=l),i.set(s,f)};v.exports=m},64462:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s,f,e,o){o===void 0&&(o=new h);var d=Math.sin(s),c=Math.cos(s),p=c*f,x=d*f,T=-d*e,E=c*e,y=1/(p*E+T*-x);return o.x=E*y*l+-T*y*a+(i*T-r*E)*y,o.y=p*y*a+-x*y*l+(-i*p+r*x)*y,o};v.exports=m},93736:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(88456),l=new h({initialize:function(r,i){this.x=0,this.y=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0):(i===void 0&&(i=r),this.x=r||0,this.y=i||0)},clone:function(){return new l(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,r){return r===void 0&&(r=a),this.x=a,this.y=r,this},setTo:function(a,r){return this.set(a,r)},setToPolar:function(a,r){return r==null&&(r=1),this.x=Math.cos(a)*r,this.y=Math.sin(a)*r,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,r){return m(this.x,a.x,r)&&m(this.y,a.y,r)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var r=a.x-this.x,i=a.y-this.y;return Math.sqrt(r*r+i*i)},distanceSq:function(a){var r=a.x-this.x,i=a.y-this.y;return r*r+i*i},length:function(){var a=this.x,r=this.y;return Math.sqrt(a*a+r*r)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,r=this.y;return a*a+r*r},normalize:function(){var a=this.x,r=this.y,i=a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=r*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,r){r===void 0&&(r=0);var i=this.x,s=this.y;return this.x=i+r*(a.x-i),this.y=s+r*(a.y-s),this},transformMat3:function(a){var r=this.x,i=this.y,s=a.val;return this.x=s[0]*r+s[3]*i+s[6],this.y=s[1]*r+s[4]*i+s[7],this},transformMat4:function(a){var r=this.x,i=this.y,s=a.val;return this.x=s[0]*r+s[4]*i+s[12],this.y=s[1]*r+s[5]*i+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var r=this.length();return r&&r>a&&this.scale(a/r),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var r=Math.cos(a),i=Math.sin(a);return this.set(r*this.x-i*this.y,i*this.x+r*this.y)},project:function(a){var r=this.dot(a)/a.dot(a);return this.copy(a).scale(r)}});l.ZERO=new l,l.RIGHT=new l(1,0),l.LEFT=new l(-1,0),l.UP=new l(0,-1),l.DOWN=new l(0,1),l.ONE=new l(1,1),v.exports=l},70015:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(l){return this.x=Math.min(this.x,l.x),this.y=Math.min(this.y,l.y),this.z=Math.min(this.z,l.z),this},max:function(l){return this.x=Math.max(this.x,l.x),this.y=Math.max(this.y,l.y),this.z=Math.max(this.z,l.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(l,a){return this.x=l.x+a.x,this.y=l.y+a.y,this.z=l.z+a.z,this},crossVectors:function(l,a){var r=l.x,i=l.y,s=l.z,f=a.x,e=a.y,o=a.z;return this.x=i*o-s*e,this.y=s*f-r*o,this.z=r*e-i*f,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this},set:function(l,a,r){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=a||0,this.z=r||0),this},setFromMatrixPosition:function(l){return this.fromArray(l.val,12)},setFromMatrixColumn:function(l,a){return this.fromArray(l.val,a*4)},fromArray:function(l,a){return a===void 0&&(a=0),this.x=l[a],this.y=l[a+1],this.z=l[a+2],this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this},addScalar:function(l){return this.x+=l,this.y+=l,this.z+=l,this},addScale:function(l,a){return this.x+=l.x*a,this.y+=l.y*a,this.z+=l.z*a||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l,this.z*=l):(this.x=0,this.y=0,this.z=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0;return Math.sqrt(a*a+r*r+i*i)},distanceSq:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0;return a*a+r*r+i*i},length:function(){var l=this.x,a=this.y,r=this.z;return Math.sqrt(l*l+a*a+r*r)},lengthSq:function(){var l=this.x,a=this.y,r=this.z;return l*l+a*a+r*r},normalize:function(){var l=this.x,a=this.y,r=this.z,i=l*l+a*a+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=l*i,this.y=a*i,this.z=r*i),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},cross:function(l){var a=this.x,r=this.y,i=this.z,s=l.x,f=l.y,e=l.z;return this.x=r*e-i*f,this.y=i*s-a*e,this.z=a*f-r*s,this},lerp:function(l,a){a===void 0&&(a=0);var r=this.x,i=this.y,s=this.z;return this.x=r+a*(l.x-r),this.y=i+a*(l.y-i),this.z=s+a*(l.z-s),this},applyMatrix3:function(l){var a=this.x,r=this.y,i=this.z,s=l.val;return this.x=s[0]*a+s[3]*r+s[6]*i,this.y=s[1]*a+s[4]*r+s[7]*i,this.z=s[2]*a+s[5]*r+s[8]*i,this},applyMatrix4:function(l){var a=this.x,r=this.y,i=this.z,s=l.val,f=1/(s[3]*a+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*a+s[4]*r+s[8]*i+s[12])*f,this.y=(s[1]*a+s[5]*r+s[9]*i+s[13])*f,this.z=(s[2]*a+s[6]*r+s[10]*i+s[14])*f,this},transformMat3:function(l){var a=this.x,r=this.y,i=this.z,s=l.val;return this.x=a*s[0]+r*s[3]+i*s[6],this.y=a*s[1]+r*s[4]+i*s[7],this.z=a*s[2]+r*s[5]+i*s[8],this},transformMat4:function(l){var a=this.x,r=this.y,i=this.z,s=l.val;return this.x=s[0]*a+s[4]*r+s[8]*i+s[12],this.y=s[1]*a+s[5]*r+s[9]*i+s[13],this.z=s[2]*a+s[6]*r+s[10]*i+s[14],this},transformCoordinates:function(l){var a=this.x,r=this.y,i=this.z,s=l.val,f=a*s[0]+r*s[4]+i*s[8]+s[12],e=a*s[1]+r*s[5]+i*s[9]+s[13],o=a*s[2]+r*s[6]+i*s[10]+s[14],d=a*s[3]+r*s[7]+i*s[11]+s[15];return this.x=f/d,this.y=e/d,this.z=o/d,this},transformQuat:function(l){var a=this.x,r=this.y,i=this.z,s=l.x,f=l.y,e=l.z,o=l.w,d=o*a+f*i-e*r,c=o*r+e*a-s*i,p=o*i+s*r-f*a,x=-s*a-f*r-e*i;return this.x=d*o+x*-s+c*-e-p*-f,this.y=c*o+x*-f+p*-s-d*-e,this.z=p*o+x*-e+d*-f-c*-s,this},project:function(l){var a=this.x,r=this.y,i=this.z,s=l.val,f=s[0],e=s[1],o=s[2],d=s[3],c=s[4],p=s[5],x=s[6],T=s[7],E=s[8],y=s[9],w=s[10],A=s[11],P=s[12],M=s[13],L=s[14],F=s[15],N=1/(a*d+r*T+i*A+F);return this.x=(a*f+r*c+i*E+P)*N,this.y=(a*e+r*p+i*y+M)*N,this.z=(a*o+r*x+i*w+L)*N,this},projectViewMatrix:function(l,a){return this.applyMatrix4(l).applyMatrix4(a)},unprojectViewMatrix:function(l,a){return this.applyMatrix4(l).applyMatrix4(a)},unproject:function(l,a){var r=l.x,i=l.y,s=l.z,f=l.w,e=this.x-r,o=f-this.y-1-i,d=this.z;return this.x=2*e/s-1,this.y=2*o/f-1,this.z=2*d-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),v.exports=m},51729:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=i||0,this.w=s||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(l){return this.x=l.x,this.y=l.y,this.z=l.z||0,this.w=l.w||0,this},equals:function(l){return this.x===l.x&&this.y===l.y&&this.z===l.z&&this.w===l.w},set:function(l,a,r,i){return typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=a||0,this.z=r||0,this.w=i||0),this},add:function(l){return this.x+=l.x,this.y+=l.y,this.z+=l.z||0,this.w+=l.w||0,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this.z-=l.z||0,this.w-=l.w||0,this},scale:function(l){return this.x*=l,this.y*=l,this.z*=l,this.w*=l,this},length:function(){var l=this.x,a=this.y,r=this.z,i=this.w;return Math.sqrt(l*l+a*a+r*r+i*i)},lengthSq:function(){var l=this.x,a=this.y,r=this.z,i=this.w;return l*l+a*a+r*r+i*i},normalize:function(){var l=this.x,a=this.y,r=this.z,i=this.w,s=l*l+a*a+r*r+i*i;return s>0&&(s=1/Math.sqrt(s),this.x=l*s,this.y=a*s,this.z=r*s,this.w=i*s),this},dot:function(l){return this.x*l.x+this.y*l.y+this.z*l.z+this.w*l.w},lerp:function(l,a){a===void 0&&(a=0);var r=this.x,i=this.y,s=this.z,f=this.w;return this.x=r+a*(l.x-r),this.y=i+a*(l.y-i),this.z=s+a*(l.z-s),this.w=f+a*(l.w-f),this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this.z*=l.z||1,this.w*=l.w||1,this},divide:function(l){return this.x/=l.x,this.y/=l.y,this.z/=l.z||1,this.w/=l.w||1,this},distance:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0,s=l.w-this.w||0;return Math.sqrt(a*a+r*r+i*i+s*s)},distanceSq:function(l){var a=l.x-this.x,r=l.y-this.y,i=l.z-this.z||0,s=l.w-this.w||0;return a*a+r*r+i*i+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(l){var a=this.x,r=this.y,i=this.z,s=this.w,f=l.val;return this.x=f[0]*a+f[4]*r+f[8]*i+f[12]*s,this.y=f[1]*a+f[5]*r+f[9]*i+f[13]*s,this.z=f[2]*a+f[6]*r+f[10]*i+f[14]*s,this.w=f[3]*a+f[7]*r+f[11]*i+f[15]*s,this},transformQuat:function(l){var a=this.x,r=this.y,i=this.z,s=l.x,f=l.y,e=l.z,o=l.w,d=o*a+f*i-e*r,c=o*r+e*a-s*i,p=o*i+s*r-f*a,x=-s*a-f*r-e*i;return this.x=d*o+x*-s+c*-e-p*-f,this.y=c*o+x*-f+p*-s-d*-e,this.z=p*o+x*-e+d*-f-c*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,v.exports=m},9557:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return Math.abs(t-h)<=m};v.exports=S},1071:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(t>=h&&t<=m)return t;var l=m-h;return h+((t-h)%l+l)%l};v.exports=S},90447:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return Math.atan2(l-h,m-t)};v.exports=S},94240:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)};v.exports=S},84066:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return Math.atan2(h.x-t.x,h.y-t.y)};v.exports=S},9678:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return Math.atan2(m-t,l-h)};v.exports=S},76861:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=function(l){return l>Math.PI&&(l-=h.PI2),Math.abs(((l+h.TAU)%h.PI2-h.PI2)%h.PI2)};v.exports=m},37570:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};v.exports=S},87597:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61616),m=function(){return h(-Math.PI,Math.PI)};v.exports=m},74493:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61616),m=function(){return h(-180,180)};v.exports=m},19049:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(37570),m=function(l){return h(l+Math.PI)};v.exports=m},90612:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=function(l,a,r){return r===void 0&&(r=.05),l===a||(Math.abs(a-l)<=r||Math.abs(a-l)>=h.PI2-r?l=a:(Math.abs(a-l)>Math.PI&&(a<l?a+=h.PI2:a-=h.PI2),a>l?l+=r:a<l&&(l-=r))),l};v.exports=m},93954:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=h-t;if(m===0)return 0;var l=Math.floor((m- -180)/360);return m-l*360};v.exports=S},35786:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1071),m=function(l){return h(l,-Math.PI,Math.PI)};v.exports=m},62138:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(1071),m=function(l){return h(l,-180,180)};v.exports=m},22153:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(90447),BetweenPoints:t(94240),BetweenPointsY:t(84066),BetweenY:t(9678),CounterClockwise:t(76861),Normalize:t(37570),Random:t(87597),RandomDegrees:t(74493),Reverse:t(19049),RotateTo:t(90612),ShortestBetween:t(93954),Wrap:t(35786),WrapDegrees:t(62138)}},83392:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};v.exports=S},53996:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=t-m,r=h-l;return Math.sqrt(a*a+r*r)};v.exports=S},92951:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x-h.x,l=t.y-h.y;return Math.sqrt(m*m+l*l)};v.exports=S},12161:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.x-h.x,l=t.y-h.y;return m*m+l*l};v.exports=S},38057:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return Math.max(Math.abs(t-m),Math.abs(h-l))};v.exports=S},33297:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){return a===void 0&&(a=2),Math.sqrt(Math.pow(m-t,a)+Math.pow(l-h,a))};v.exports=S},90366:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return Math.abs(t-m)+Math.abs(h-l)};v.exports=S},35032:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=t-m,r=h-l;return a*a+r*r};v.exports=S},10130:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(53996),BetweenPoints:t(92951),BetweenPointsSquared:t(12161),Chebyshev:t(38057),Power:t(33297),Snake:t(90366),Squared:t(35032)}},35060:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25265),m=t(57428),l=t(73214),a=t(71778),r=t(36468),i=t(88258),s=t(52910),f=t(67799),e=t(74083),o=t(92284),d=t(28035),c=t(8754);v.exports={Power0:s,Power1:f.Out,Power2:a.Out,Power3:e.Out,Power4:o.Out,Linear:s,Quad:f.Out,Cubic:a.Out,Quart:e.Out,Quint:o.Out,Sine:d.Out,Expo:i.Out,Circ:l.Out,Elastic:r.Out,Back:h.Out,Bounce:m.Out,Stepped:c,"Quad.easeIn":f.In,"Cubic.easeIn":a.In,"Quart.easeIn":e.In,"Quint.easeIn":o.In,"Sine.easeIn":d.In,"Expo.easeIn":i.In,"Circ.easeIn":l.In,"Elastic.easeIn":r.In,"Back.easeIn":h.In,"Bounce.easeIn":m.In,"Quad.easeOut":f.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":e.Out,"Quint.easeOut":o.Out,"Sine.easeOut":d.Out,"Expo.easeOut":i.Out,"Circ.easeOut":l.Out,"Elastic.easeOut":r.Out,"Back.easeOut":h.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":e.InOut,"Quint.easeInOut":o.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":l.InOut,"Elastic.easeInOut":r.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":m.InOut}},25860:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),t*t*((h+1)*t-h)};v.exports=S},45264:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1.70158);var m=h*1.525;return(t*=2)<1?.5*(t*t*((m+1)*t-m)):.5*((t-=2)*t*((m+1)*t+m)+2)};v.exports=S},36699:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1.70158),--t*t*((h+1)*t+h)+1};v.exports=S},25265:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(25860),Out:t(36699),InOut:t(45264)}},62191:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};v.exports=S},24799:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=!1;return t<.5?(t=1-t*2,h=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,h?(1-t)*.5:t*.5+.5};v.exports=S},60819:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};v.exports=S},57428:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(62191),Out:t(60819),InOut:t(24799)}},86855:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};v.exports=S},7280:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};v.exports=S},18058:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};v.exports=S},73214:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(86855),Out:t(18058),InOut:t(7280)}},91532:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};v.exports=S},63180:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};v.exports=S},16518:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};v.exports=S},71778:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(91532),Out:t(16518),InOut:t(63180)}},24729:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return h<1?h=1:l=m*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m))};v.exports=S},50325:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return h<1?h=1:l=m*Math.asin(1/h)/(2*Math.PI),(t*=2)<1?-.5*(h*Math.pow(2,10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m)):h*Math.pow(2,-10*(t-=1))*Math.sin((t-l)*(2*Math.PI)/m)*.5+1};v.exports=S},84074:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===void 0&&(h=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var l=m/4;return h<1?h=1:l=m*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*t)*Math.sin((t-l)*(2*Math.PI)/m)+1};v.exports=S},36468:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(24729),Out:t(84074),InOut:t(50325)}},95638:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};v.exports=S},10357:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};v.exports=S},14894:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};v.exports=S},88258:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(95638),Out:t(14894),InOut:t(10357)}},33063:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Back:t(25265),Bounce:t(57428),Circular:t(73214),Cubic:t(71778),Elastic:t(36468),Expo:t(88258),Linear:t(52910),Quadratic:t(67799),Quartic:t(74083),Quintic:t(92284),Sine:t(28035),Stepped:t(8754)}},43927:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};v.exports=S},52910:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(43927)},77471:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};v.exports=S},83863:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};v.exports=S},44383:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};v.exports=S},67799:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(77471),Out:t(44383),InOut:t(83863)}},48311:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};v.exports=S},55248:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};v.exports=S},23135:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};v.exports=S},74083:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(48311),Out:t(23135),InOut:t(55248)}},7313:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};v.exports=S},98759:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};v.exports=S},26670:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};v.exports=S},92284:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(7313),Out:t(26670),InOut:t(98759)}},52929:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};v.exports=S},66333:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};v.exports=S},37255:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};v.exports=S},28035:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(52929),Out:t(37255),InOut:t(66333)}},52770:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1),t<=0?0:t>=1?1:((h*t|0)+1)*(1/h)};v.exports=S},8754:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(52770)},17247:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.ceil(t-h)};v.exports=S},88456:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=1e-4),Math.abs(t-h)<m};v.exports=S},61824:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===void 0&&(h=1e-4),Math.floor(t+h)};v.exports=S},41935:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=1e-4),t>h-m};v.exports=S},54726:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return m===void 0&&(m=1e-4),t<h+m};v.exports=S},52778:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(17247),Equal:t(88456),Floor:t(61824),GreaterThan:t(41935),LessThan:t(54726)}},5923:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(83392),m=t(98611),l={Angle:t(22153),Distance:t(10130),Easing:t(33063),Fuzzy:t(52778),Interpolation:t(48528),Pow2:t(73773),Snap:t(23679),RandomDataGenerator:t(81429),Average:t(26042),Bernstein:t(22824),Between:t(17489),CatmullRom:t(14976),CeilTo:t(89129),Clamp:t(82897),DegToRad:t(75606),Difference:t(767),Euler:t(9849),Factorial:t(8034),FloatBetween:t(61616),FloorTo:t(60679),FromPercent:t(91806),GetSpeed:t(79366),IsEven:t(43776),IsEvenStrict:t(58442),Linear:t(42798),LinearXY:t(61072),MaxAdd:t(69635),Median:t(37394),MinSub:t(17259),Percent:t(61820),RadToDeg:t(23701),RandomXY:t(16906),RandomXYZ:t(52417),RandomXYZW:t(17915),Rotate:t(52257),RotateAround:t(2386),RotateAroundDistance:t(72395),RotateTo:t(41061),RoundAwayFromZero:t(67233),RoundTo:t(64333),SinCosTableGenerator:t(59533),SmootherStep:t(87736),SmoothStep:t(5514),ToXY:t(55805),TransformXY:t(64462),Within:t(9557),Wrap:t(1071),Vector2:t(93736),Vector3:t(70015),Vector4:t(51729),Matrix3:t(5341),Matrix4:t(16650),Quaternion:t(75003),RotateVec3:t(93709)};l=m(!1,l,h),v.exports=l},63210:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(22824),m=function(l,a){for(var r=0,i=l.length-1,s=0;s<=i;s++)r+=Math.pow(1-a,i-s)*Math.pow(a,s)*l[s]*h(i,s);return r};v.exports=m},88332:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14976),m=function(l,a){var r=l.length-1,i=r*a,s=Math.floor(i);return l[0]===l[r]?(a<0&&(s=Math.floor(i=r*(1+a))),h(i-s,l[(s-1+r)%r],l[s],l[(s+1)%r],l[(s+2)%r])):a<0?l[0]-(h(-i,l[0],l[0],l[1],l[1])-l[0]):a>1?l[r]-(h(i-r,l[r],l[r],l[r-1],l[r-1])-l[r]):h(i-s,l[s?s-1:0],l[s],l[r<s+1?r:s+1],l[r<s+2?r:s+2])};v.exports=m},34631:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var i=1-a;return i*i*i*r}function t(a,r){var i=1-a;return 3*i*i*a*r}function h(a,r){return 3*(1-a)*a*a*r}function m(a,r){return a*a*a*r}var l=function(a,r,i,s,f){return S(a,r)+t(a,i)+h(a,s)+m(a,f)};v.exports=l},47614:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42798),m=function(l,a){var r=l.length-1,i=r*a,s=Math.floor(i);return a<0?h(l[0],l[1],i):a>1?h(l[r],l[r-1],r-i):h(l[s],l[s+1>r?r:s+1],i-s)};v.exports=m},16252:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(l,a){var r=1-l;return r*r*a}function t(l,a){return 2*(1-l)*l*a}function h(l,a){return l*l*a}var m=function(l,a,r,i){return S(l,a)+t(l,r)+h(l,i)};v.exports=m},44521:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5514),m=function(l,a,r){return a+(r-a)*h(l,0,1)};v.exports=m},45507:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(87736),m=function(l,a,r){return a+(r-a)*h(l,0,1)};v.exports=m},48528:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bezier:t(63210),CatmullRom:t(88332),CubicBezier:t(34631),Linear:t(47614),QuadraticBezier:t(16252),SmoothStep:t(44521),SmootherStep:t(45507)}},3504:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=Math.log(t)/.6931471805599453;return 1<<Math.ceil(h)};v.exports=S},28621:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t>0&&(t&t-1)===0&&h>0&&(h&h-1)===0};v.exports=S},2018:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};v.exports=S},73773:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetNext:t(3504),IsSize:t(28621),IsValue:t(2018)}},81429:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var l=2091639*this.s0+this.c*23283064365386963e-26;return this.c=l|0,this.s0=this.s1,this.s1=this.s2,this.s2=l-this.c,this.s2},hash:function(l){var a,r=this.n;l=l.toString();for(var i=0;i<l.length;i++)r+=l.charCodeAt(i),a=.02519603282416938*r,r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296;return this.n=r,(r>>>0)*23283064365386963e-26},init:function(l){typeof l=="string"?this.state(l):this.sow(l)},sow:function(l){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!l)for(var a=0;a<l.length&&l[a]!=null;a++){var r=l[a];this.s0-=this.hash(r),this.s0+=~~(this.s0<0),this.s1-=this.hash(r),this.s1+=~~(this.s1<0),this.s2-=this.hash(r),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(l,a){return Math.floor(this.realInRange(0,a-l+1)+l)},between:function(l,a){return Math.floor(this.realInRange(0,a-l+1)+l)},realInRange:function(l,a){return this.frac()*(a-l)+l},normal:function(){return 1-2*this.frac()},uuid:function(){var l="",a="";for(a=l="";l++<36;a+=~l%5|l*3&4?(l^15?8^this.frac()*(l^20?16:4):4).toString(16):"-");return a},pick:function(l){return l[this.integerInRange(0,l.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(l){return l[~~(Math.pow(this.frac(),2)*(l.length-1)+.5)]},timestamp:function(l,a){return this.realInRange(l||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(l){return typeof l=="string"&&l.match(/^!rnd/)&&(l=l.split(","),this.c=parseFloat(l[1]),this.s0=parseFloat(l[2]),this.s1=parseFloat(l[3]),this.s2=parseFloat(l[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(l){for(var a=l.length-1,r=a;r>0;r--){var i=Math.floor(this.frac()*(r+1)),s=l[i];l[i]=l[r],l[r]=s}return l}});v.exports=m},82127:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return m===void 0&&(m=0),h===0?t:(t-=m,t=h*Math.ceil(t/h),l?(m+t)/h:m+t)};v.exports=S},84314:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return m===void 0&&(m=0),h===0?t:(t-=m,t=h*Math.floor(t/h),l?(m+t)/h:m+t)};v.exports=S},88462:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){return m===void 0&&(m=0),h===0?t:(t-=m,t=h*Math.round(t/h),l?(m+t)/h:m+t)};v.exports=S},23679:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(82127),Floor:t(84314),To:t(88462)}},92491:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(75205);var h=t(86459),m=t(98611),l={Actions:t(83979),Animations:t(13517),BlendModes:t(95723),Cache:t(45820),Cameras:t(44143),Core:t(80293),Class:t(56694),Create:t(84106),Curves:t(73962),Data:t(1999),Display:t(24816),DOM:t(3590),Events:t(95146),FX:t(96910),Game:t(15213),GameObjects:t(48013),Geom:t(84068),Input:t(20873),Loader:t(95695),Math:t(5923),Physics:t(53954),Plugins:t(45615),Renderer:t(42069),Scale:t(86754),ScaleModes:t(27394),Scene:t(87157),Scenes:t(20436),Structs:t(20010),Textures:t(87499),Tilemaps:t(52678),Time:t(97121),Tweens:t(75193),Utils:t(22178)};l.Sound=t(56751),l=m(!1,l,h),v.exports=l,t.g.Phaser=l},62832:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(7864),l=t(1539),a=new h({Extends:l,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(i,s,f,e,o){l.call(this,i,s,f,e,o),this.body=null}});v.exports=a},66150:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(75606),l=t(53996),a=t(35032),r=t(99523),i=t(72632),s=t(30657),f=t(2732),e=t(15147),o=t(91963),d=t(7599),c=t(93736),p=t(85233),x=new h({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,E.sys.events.once(d.BOOT,this.boot,this),E.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new p(this.scene,this.config),this.add=new r(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new p(this.scene,this.config),this.add=new r(this.world));var T=this.systems.events;i(this.config,"customUpdate",!1)||T.on(d.UPDATE,this.world.update,this.world),T.on(d.POST_UPDATE,this.world.postUpdate,this.world),T.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var T=this.systems.game.config.physics,E=this.systems.settings.physics,y=s(i(E,"arcade",{}),i(T,"arcade",{}));return y},overlap:function(T,E,y,w,A){return y===void 0&&(y=null),w===void 0&&(w=null),A===void 0&&(A=y),this.world.collideObjects(T,E,y,w,A,!0)},collide:function(T,E,y,w,A){return y===void 0&&(y=null),w===void 0&&(w=null),A===void 0&&(A=y),this.world.collideObjects(T,E,y,w,A,!1)},collideTiles:function(T,E,y,w,A){return this.world.collideTiles(T,E,y,w,A)},overlapTiles:function(T,E,y,w,A){return this.world.overlapTiles(T,E,y,w,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(T,E,y,w,A,P){w===void 0&&(w=60);var M=Math.atan2(y-T.y,E-T.x);return T.body.acceleration.setToPolar(M,w),A!==void 0&&P!==void 0&&T.body.maxVelocity.set(A,P),M},accelerateToObject:function(T,E,y,w,A){return this.accelerateTo(T,E.x,E.y,y,w,A)},closest:function(T,E){E||(E=this.world.bodies.entries);for(var y=Number.MAX_VALUE,w=null,A=T.x,P=T.y,M=E.length,L=0;L<M;L++){var F=E[L],N=F.body||F;if(!(T===F||T===N||T===N.gameObject||T===N.center)){var b=a(A,P,N.center.x,N.center.y);b<y&&(w=F,y=b)}}return w},furthest:function(T,E){E||(E=this.world.bodies.entries);for(var y=-1,w=null,A=T.x,P=T.y,M=E.length,L=0;L<M;L++){var F=E[L],N=F.body||F;if(!(T===F||T===N||T===N.gameObject||T===N.center)){var b=a(A,P,N.center.x,N.center.y);b>y&&(w=F,y=b)}}return w},moveTo:function(T,E,y,w,A){w===void 0&&(w=60),A===void 0&&(A=0);var P=Math.atan2(y-T.y,E-T.x);return A>0&&(w=l(T.x,T.y,E,y)/(A/1e3)),T.body.velocity.setToPolar(P,w),P},moveToObject:function(T,E,y,w){return this.moveTo(T,E.x,E.y,y,w)},velocityFromAngle:function(T,E,y){return E===void 0&&(E=60),y===void 0&&(y=new c),y.setToPolar(m(T),E)},velocityFromRotation:function(T,E,y){return E===void 0&&(E=60),y===void 0&&(y=new c),y.setToPolar(T,E)},overlapRect:function(T,E,y,w,A,P){return e(this.world,T,E,y,w,A,P)},overlapCirc:function(T,E,y,w,A){return f(this.world,T,E,y,w,A)},shutdown:function(){if(this.world){var T=this.systems.events;T.off(d.UPDATE,this.world.update,this.world),T.off(d.POST_UPDATE,this.world.postUpdate,this.world),T.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});o.register("ArcadePhysics",x,"arcadePhysics"),v.exports=x},25084:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(7864),l=t(13747),a=new h({Extends:l,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(i,s,f,e,o){l.call(this,i,s,f,e,o),this.body=null}});v.exports=a},97602:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(47401),l=t(27037),a=t(23701),r=t(74118),i=t(94287),s=t(93736),f=new h({initialize:function(o,d){var c=64,p=64,x={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=d!==void 0;T&&d.displayWidth&&(c=d.displayWidth,p=d.displayHeight),T||(d=x),this.world=o,this.gameObject=T?d:void 0,this.isBody=!0,this.transform={x:d.x,y:d.y,rotation:d.angle,scaleX:d.scaleX,scaleY:d.scaleY,displayOriginX:d.displayOriginX,displayOriginY:d.displayOriginY},this.debugShowBody=o.defaults.debugShowBody,this.debugShowVelocity=o.defaults.debugShowVelocity,this.debugBodyColor=o.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(d.x-d.scaleX*d.displayOriginX,d.y-d.scaleY*d.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=d.angle,this.preRotation=d.angle,this.width=c,this.height=p,this.sourceWidth=c,this.sourceHeight=p,d.frame&&(this.sourceWidth=d.frame.realWidth,this.sourceHeight=d.frame.realHeight),this.halfWidth=Math.abs(c/2),this.halfHeight=Math.abs(p/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new s,this.newVelocity=new s,this.deltaMax=new s,this.acceleration=new s,this.allowDrag=!0,this.drag=new s,this.allowGravity=!0,this.gravity=new s,this.bounce=new s,this.worldBounce=null,this.customBoundsRectangle=o.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new s(1e4,1e4),this.maxSpeed=-1,this.friction=new s(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=m.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=m.DYNAMIC_BODY,this._sx=d.scaleX,this._sy=d.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new r},updateBounds:function(){var e=this.gameObject,o=this.transform;if(e.parentContainer){var d=e.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);o.x=d.tx,o.y=d.ty,o.rotation=a(d.rotation),o.scaleX=d.scaleX,o.scaleY=d.scaleY,o.displayOriginX=e.displayOriginX,o.displayOriginY=e.displayOriginY}else o.x=e.x,o.y=e.y,o.rotation=e.angle,o.scaleX=e.scaleX,o.scaleY=e.scaleY,o.displayOriginX=e.displayOriginX,o.displayOriginY=e.displayOriginY;var c=!1;if(this.syncBounds){var p=e.getBounds(this._bounds);this.width=p.width,this.height=p.height,c=!0}else{var x=Math.abs(o.scaleX),T=Math.abs(o.scaleY);(this._sx!==x||this._sy!==T)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*T,this._sx=x,this._sy=T,c=!0)}c&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var e=this.transform;this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter()},resetFlags:function(e){e===void 0&&(e=!1);var o=this.wasTouching,d=this.touching,c=this.blocked;e?(o.none=!0,o.up=!1,o.down=!1,o.left=!1,o.right=!1):(o.none=d.none,o.up=d.up,o.down=d.down,o.left=d.left,o.right=d.right),d.none=!0,d.up=!1,d.down=!1,d.left=!1,d.right=!1,c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(e,o){e&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),e&&this.update(o)},update:function(e){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,e);var o=this.velocity.x,d=this.velocity.y;this.newVelocity.set(o*e,d*e),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(d,o),this.speed=Math.sqrt(o*o+d*d),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(l.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var e=this.position.x-this.prevFrame.x,o=this.position.y-this.prevFrame.y,d=this.gameObject;if(this.moves){var c=this.deltaMax.x,p=this.deltaMax.y;c!==0&&e!==0&&(e<0&&e<-c?e=-c:e>0&&e>c&&(e=c)),p!==0&&o!==0&&(o<0&&o<-p?o=-p:o>0&&o>p&&(o=p)),d&&(d.x+=e,d.y+=o)}e<0?this.facing=m.FACING_LEFT:e>0&&(this.facing=m.FACING_RIGHT),o<0?this.facing=m.FACING_UP:o>0&&(this.facing=m.FACING_DOWN),this.allowRotation&&d&&(d.angle+=this.deltaZ()),this._tx=e,this._ty=o},setBoundsRectangle:function(e){return this.customBoundsRectangle=e||this.world.bounds,this},checkWorldBounds:function(){var e=this.position,o=this.customBoundsRectangle,d=this.world.checkCollision,c=this.worldBounce?-this.worldBounce.x:-this.bounce.x,p=this.worldBounce?-this.worldBounce.y:-this.bounce.y,x=!1;return e.x<o.x&&d.left?(e.x=o.x,this.velocity.x*=c,this.blocked.left=!0,x=!0):this.right>o.right&&d.right&&(e.x=o.right-this.width,this.velocity.x*=c,this.blocked.right=!0,x=!0),e.y<o.y&&d.up?(e.y=o.y,this.velocity.y*=p,this.blocked.up=!0,x=!0):this.bottom>o.bottom&&d.down&&(e.y=o.bottom-this.height,this.velocity.y*=p,this.blocked.down=!0,x=!0),x&&(this.blocked.none=!1,this.updateCenter()),x},setOffset:function(e,o){return o===void 0&&(o=e),this.offset.set(e,o),this},setGameObject:function(e,o){return o===void 0&&(o=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=e,e.body&&(e.body=this),this.setSize(),this.world.add(this),this.enable=o,this},setSize:function(e,o,d){d===void 0&&(d=!0);var c=this.gameObject;if(c&&(!e&&c.frame&&(e=c.frame.realWidth),!o&&c.frame&&(o=c.frame.realHeight)),this.sourceWidth=e,this.sourceHeight=o,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),d&&c&&c.getCenter){var p=(c.width-e)/2,x=(c.height-o)/2;this.offset.set(p,x)}return this.isCircle=!1,this.radius=0,this},setCircle:function(e,o,d){return o===void 0&&(o=this.offset.x),d===void 0&&(d=this.offset.y),e>0?(this.isCircle=!0,this.radius=e,this.sourceWidth=e*2,this.sourceHeight=e*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(o,d),this.updateCenter()):this.isCircle=!1,this},reset:function(e,o){this.stop();var d=this.gameObject;d&&(d.setPosition(e,o),this.rotation=d.angle,this.preRotation=d.angle);var c=this.position;d&&d.getTopLeft?d.getTopLeft(c):c.set(e,o),this.prev.copy(c),this.prevFrame.copy(c),d&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,o){if(!this.isCircle)return i(this,e,o);if(this.radius>0&&e>=this.left&&e<=this.right&&o>=this.top&&o<=this.bottom){var d=(this.center.x-e)*(this.center.x-e),c=(this.center.y-o)*(this.center.y-o);return d+c<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(e){var o=this.position,d=o.x+this.halfWidth,c=o.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor),this.isCircle?e.strokeCircle(d,c,this.width/2):(this.checkCollision.up&&e.lineBetween(o.x,o.y,o.x+this.width,o.y),this.checkCollision.right&&e.lineBetween(o.x+this.width,o.y,o.x+this.width,o.y+this.height),this.checkCollision.down&&e.lineBetween(o.x,o.y+this.height,o.x+this.width,o.y+this.height),this.checkCollision.left&&e.lineBetween(o.x,o.y,o.x,o.y+this.height))),this.debugShowVelocity&&(e.lineStyle(e.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),e.lineBetween(d,c,d+this.velocity.x/2,c+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(e,o,d,c){e===void 0&&(e=!0),this.collideWorldBounds=e;var p=o!==void 0,x=d!==void 0;return(p||x)&&(this.worldBounce||(this.worldBounce=new s),p&&(this.worldBounce.x=o),x&&(this.worldBounce.y=d)),c!==void 0&&(this.onWorldBounds=c),this},setVelocity:function(e,o){return this.velocity.set(e,o),e=this.velocity.x,o=this.velocity.y,this.speed=Math.sqrt(e*e+o*o),this},setVelocityX:function(e){return this.setVelocity(e,this.velocity.y)},setVelocityY:function(e){return this.setVelocity(this.velocity.x,e)},setMaxVelocity:function(e,o){return this.maxVelocity.set(e,o),this},setMaxVelocityX:function(e){return this.maxVelocity.x=e,this},setMaxVelocityY:function(e){return this.maxVelocity.y=e,this},setMaxSpeed:function(e){return this.maxSpeed=e,this},setBounce:function(e,o){return this.bounce.set(e,o),this},setBounceX:function(e){return this.bounce.x=e,this},setBounceY:function(e){return this.bounce.y=e,this},setAcceleration:function(e,o){return this.acceleration.set(e,o),this},setAccelerationX:function(e){return this.acceleration.x=e,this},setAccelerationY:function(e){return this.acceleration.y=e,this},setAllowDrag:function(e){return e===void 0&&(e=!0),this.allowDrag=e,this},setAllowGravity:function(e){return e===void 0&&(e=!0),this.allowGravity=e,this},setAllowRotation:function(e){return e===void 0&&(e=!0),this.allowRotation=e,this},setDrag:function(e,o){return this.drag.set(e,o),this},setDamping:function(e){return this.useDamping=e,this},setDragX:function(e){return this.drag.x=e,this},setDragY:function(e){return this.drag.y=e,this},setGravity:function(e,o){return this.gravity.set(e,o),this},setGravityX:function(e){return this.gravity.x=e,this},setGravityY:function(e){return this.gravity.y=e,this},setFriction:function(e,o){return this.friction.set(e,o),this},setFrictionX:function(e){return this.friction.x=e,this},setFrictionY:function(e){return this.friction.y=e,this},setAngularVelocity:function(e){return this.angularVelocity=e,this},setAngularAcceleration:function(e){return this.angularAcceleration=e,this},setAngularDrag:function(e){return this.angularDrag=e,this},setMass:function(e){return this.mass=e,this},setImmovable:function(e){return e===void 0&&(e=!0),this.immovable=e,this},setEnable:function(e){return e===void 0&&(e=!0),this.enable=e,this},processX:function(e,o,d,c){this.x+=e,this.updateCenter(),o!==null&&(this.velocity.x=o);var p=this.blocked;d&&(p.left=!0,p.none=!1),c&&(p.right=!0,p.none=!1)},processY:function(e,o,d,c){this.y+=e,this.updateCenter(),o!==null&&(this.velocity.y=o);var p=this.blocked;d&&(p.up=!0,p.none=!1),c&&(p.down=!0,p.none=!1)},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=f},3909:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i,s,f,e,o){this.world=a,this.name="",this.active=!0,this.overlapOnly=r,this.object1=i,this.object2=s,this.collideCallback=f,this.processCallback=e,this.callbackContext=o},setName:function(l){return this.name=l,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});v.exports=m},99523:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62832),m=t(25084),l=t(97602),a=t(56694),r=t(47401),i=t(10481),s=t(66634),f=t(46346),e=new a({initialize:function(d){this.world=d,this.scene=d.scene,this.sys=d.scene.sys},collider:function(o,d,c,p,x){return this.world.addCollider(o,d,c,p,x)},overlap:function(o,d,c,p,x){return this.world.addOverlap(o,d,c,p,x)},existing:function(o,d){var c=d?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(o,c),o},staticImage:function(o,d,c,p){var x=new h(this.scene,o,d,c,p);return this.sys.displayList.add(x),this.world.enableBody(x,r.STATIC_BODY),x},image:function(o,d,c,p){var x=new h(this.scene,o,d,c,p);return this.sys.displayList.add(x),this.world.enableBody(x,r.DYNAMIC_BODY),x},staticSprite:function(o,d,c,p){var x=new m(this.scene,o,d,c,p);return this.sys.displayList.add(x),this.sys.updateList.add(x),this.world.enableBody(x,r.STATIC_BODY),x},sprite:function(o,d,c,p){var x=new m(this.scene,o,d,c,p);return this.sys.displayList.add(x),this.sys.updateList.add(x),this.world.enableBody(x,r.DYNAMIC_BODY),x},staticGroup:function(o,d){return this.sys.updateList.add(new f(this.world,this.world.scene,o,d))},group:function(o,d){return this.sys.updateList.add(new i(this.world,this.world.scene,o,d))},body:function(o,d,c,p){var x=new l(this.world);return x.position.set(o,d),c&&p&&x.setSize(c,p),this.world.add(x,r.DYNAMIC_BODY),x},staticBody:function(o,d,c,p){var x=new s(this.world);return x.position.set(o,d),c&&p&&x.setSize(c,p),this.world.add(x,r.STATIC_BODY),x},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=e},75671:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47401),m=function(l,a,r,i){var s=0,f=l.deltaAbsX()+a.deltaAbsX()+i;return l._dx===0&&a._dx===0?(l.embedded=!0,a.embedded=!0):l._dx>a._dx?(s=l.right-a.x,s>f&&!r||l.checkCollision.right===!1||a.checkCollision.left===!1?s=0:(l.touching.none=!1,l.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===h.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.right=!0),l.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.left=!0))):l._dx<a._dx&&(s=l.x-a.width-a.x,-s>f&&!r||l.checkCollision.left===!1||a.checkCollision.right===!1?s=0:(l.touching.none=!1,l.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===h.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.left=!0),l.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.right=!0))),l.overlapX=s,a.overlapX=s,s};v.exports=m},66185:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47401),m=function(l,a,r,i){var s=0,f=l.deltaAbsY()+a.deltaAbsY()+i;return l._dy===0&&a._dy===0?(l.embedded=!0,a.embedded=!0):l._dy>a._dy?(s=l.bottom-a.y,s>f&&!r||l.checkCollision.down===!1||a.checkCollision.up===!1?s=0:(l.touching.none=!1,l.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===h.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.down=!0),l.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.up=!0))):l._dy<a._dy&&(s=l.y-a.bottom,-s>f&&!r||l.checkCollision.up===!1||a.checkCollision.down===!1?s=0:(l.touching.none=!1,l.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===h.STATIC_BODY&&!r&&(l.blocked.none=!1,l.blocked.up=!0),l.physicsType===h.STATIC_BODY&&!r&&(a.blocked.none=!1,a.blocked.down=!0))),l.overlapY=s,a.overlapY=s,s};v.exports=m},10481:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25084),m=t(56694),l=t(47401),a=t(72632),r=t(59192),i=t(42911),s=new m({Extends:r,initialize:function(e,o,d,c){if(!d&&!c)c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(i(d))c=d,d=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&i(d[0])){c=d[0];var p=this;d.forEach(function(x){x.internalCreateCallback=p.createCallbackHandler,x.internalRemoveCallback=p.removeCallbackHandler}),d=null}else c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=e,c.classType=a(c,"classType",h),this.physicsType=l.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(c,"collideWorldBounds",!1),setBoundsRectangle:a(c,"customBoundsRectangle",null),setAccelerationX:a(c,"accelerationX",0),setAccelerationY:a(c,"accelerationY",0),setAllowDrag:a(c,"allowDrag",!0),setAllowGravity:a(c,"allowGravity",!0),setAllowRotation:a(c,"allowRotation",!0),setDamping:a(c,"useDamping",!1),setBounceX:a(c,"bounceX",0),setBounceY:a(c,"bounceY",0),setDragX:a(c,"dragX",0),setDragY:a(c,"dragY",0),setEnable:a(c,"enable",!0),setGravityX:a(c,"gravityX",0),setGravityY:a(c,"gravityY",0),setFrictionX:a(c,"frictionX",0),setFrictionY:a(c,"frictionY",0),setMaxSpeed:a(c,"maxSpeed",-1),setMaxVelocityX:a(c,"maxVelocityX",1e4),setMaxVelocityY:a(c,"maxVelocityY",1e4),setVelocityX:a(c,"velocityX",0),setVelocityY:a(c,"velocityY",0),setAngularVelocity:a(c,"angularVelocity",0),setAngularAcceleration:a(c,"angularAcceleration",0),setAngularDrag:a(c,"angularDrag",0),setMass:a(c,"mass",1),setImmovable:a(c,"immovable",!1)},r.call(this,o,d,c),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,l.DYNAMIC_BODY);var e=f.body;for(var o in this.defaults)e[o](this.defaults[o])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,e,o){o===void 0&&(o=0);for(var d=this.getChildren(),c=0;c<d.length;c++)d[c].body.velocity.set(f+c*o,e+c*o);return this},setVelocityX:function(f,e){e===void 0&&(e=0);for(var o=this.getChildren(),d=0;d<o.length;d++)o[d].body.velocity.x=f+d*e;return this},setVelocityY:function(f,e){e===void 0&&(e=0);for(var o=this.getChildren(),d=0;d<o.length;d++)o[d].body.velocity.y=f+d*e;return this}});v.exports=s},22916:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,m,l,a,r,i,s,f,e,o,d,c,p,x,T,E=function(L,F,N){S=L,t=F;var b=S.velocity.x,V=t.velocity.x;return h=S.pushable,s=S._dx<0,f=S._dx>0,e=S._dx===0,p=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),r=V-b*S.bounce.x,m=t.pushable,o=t._dx<0,d=t._dx>0,c=t._dx===0,x=!p,i=b-V*t.bounce.x,T=Math.abs(N),y()},y=function(){return f&&p&&t.blocked.right?(S.processX(-T,r,!1,!0),1):s&&x&&t.blocked.left?(S.processX(T,r,!0),1):d&&x&&S.blocked.right?(t.processX(-T,i,!1,!0),2):o&&p&&S.blocked.left?(t.processX(T,i,!0),2):0},w=function(){var L=S.velocity.x,F=t.velocity.x,N=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),b=Math.sqrt(L*L*S.mass/t.mass)*(L>0?1:-1),V=(N+b)*.5;return N-=V,b-=V,l=V+N*S.bounce.x,a=V+b*t.bounce.x,s&&x?A(0):o&&p?A(1):f&&p?A(2):d&&x?A(3):!1},A=function(L){if(h&&m)T*=.5,L===0||L===3?(S.processX(T,l),t.processX(-T,a)):(S.processX(-T,l),t.processX(T,a));else if(h&&!m)L===0||L===3?S.processX(T,r,!0):S.processX(-T,r,!1,!0);else if(!h&&m)L===0||L===3?t.processX(-T,i,!1,!0):t.processX(T,i,!0);else{var F=T*.5;L===0?c?(S.processX(T,0,!0),t.processX(0,null,!1,!0)):d?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.x,!0),t.processX(-F,null,!1,!0)):L===1?e?(S.processX(0,null,!1,!0),t.processX(T,0,!0)):f?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,null,!1,!0),t.processX(F,S.velocity.x,!0)):L===2?c?(S.processX(-T,0,!1,!0),t.processX(0,null,!0)):o?(S.processX(-F,0,!1,!0),t.processX(F,0,!0)):(S.processX(-F,t.velocity.x,!1,!0),t.processX(F,null,!0)):L===3&&(e?(S.processX(0,null,!0),t.processX(-T,0,!1,!0)):s?(S.processX(F,0,!0),t.processX(-F,0,!1,!0)):(S.processX(F,t.velocity.y,!0),t.processX(-F,null,!1,!0)))}return!0},P=function(L){L===1?t.velocity.x=0:p?t.processX(T,i,!0):t.processX(-T,i,!1,!0),S.moves&&(t.y+=(S.y-S.prev.y)*S.friction.y,t._dy=t.y-t.prev.y)},M=function(L){L===2?S.velocity.x=0:x?S.processX(T,r,!0):S.processX(-T,r,!1,!0),t.moves&&(S.y+=(t.y-t.prev.y)*t.friction.y,S._dy=S.y-S.prev.y)};v.exports={BlockCheck:y,Check:w,Set:E,Run:A,RunImmovableBody1:P,RunImmovableBody2:M}},67050:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,h,m,l,a,r,i,s,f,e,o,d,c,p,x,T,E=function(L,F,N){S=L,t=F;var b=S.velocity.y,V=t.velocity.y;return h=S.pushable,s=S._dy<0,f=S._dy>0,e=S._dy===0,p=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),r=V-b*S.bounce.y,m=t.pushable,o=t._dy<0,d=t._dy>0,c=t._dy===0,x=!p,i=b-V*t.bounce.y,T=Math.abs(N),y()},y=function(){return f&&p&&t.blocked.down?(S.processY(-T,r,!1,!0),1):s&&x&&t.blocked.up?(S.processY(T,r,!0),1):d&&x&&S.blocked.down?(t.processY(-T,i,!1,!0),2):o&&p&&S.blocked.up?(t.processY(T,i,!0),2):0},w=function(){var L=S.velocity.y,F=t.velocity.y,N=Math.sqrt(F*F*t.mass/S.mass)*(F>0?1:-1),b=Math.sqrt(L*L*S.mass/t.mass)*(L>0?1:-1),V=(N+b)*.5;return N-=V,b-=V,l=V+N*S.bounce.y,a=V+b*t.bounce.y,s&&x?A(0):o&&p?A(1):f&&p?A(2):d&&x?A(3):!1},A=function(L){if(h&&m)T*=.5,L===0||L===3?(S.processY(T,l),t.processY(-T,a)):(S.processY(-T,l),t.processY(T,a));else if(h&&!m)L===0||L===3?S.processY(T,r,!0):S.processY(-T,r,!1,!0);else if(!h&&m)L===0||L===3?t.processY(-T,i,!1,!0):t.processY(T,i,!0);else{var F=T*.5;L===0?c?(S.processY(T,0,!0),t.processY(0,null,!1,!0)):d?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)):L===1?e?(S.processY(0,null,!1,!0),t.processY(T,0,!0)):f?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,null,!1,!0),t.processY(F,S.velocity.y,!0)):L===2?c?(S.processY(-T,0,!1,!0),t.processY(0,null,!0)):o?(S.processY(-F,0,!1,!0),t.processY(F,0,!0)):(S.processY(-F,t.velocity.y,!1,!0),t.processY(F,null,!0)):L===3&&(e?(S.processY(0,null,!0),t.processY(-T,0,!1,!0)):s?(S.processY(F,0,!0),t.processY(-F,0,!1,!0)):(S.processY(F,t.velocity.y,!0),t.processY(-F,null,!1,!0)))}return!0},P=function(L){L===1?t.velocity.y=0:p?t.processY(T,i,!0):t.processY(-T,i,!1,!0),S.moves&&(t.x+=(S.x-S.prev.x)*S.friction.x,t._dx=t.x-t.prev.x)},M=function(L){L===2?S.velocity.y=0:x?S.processY(T,r,!0):S.processY(-T,r,!1,!0),t.moves&&(S.x+=(t.x-t.prev.x)*t.friction.x,S._dx=S.x-S.prev.x)};v.exports={BlockCheck:y,Check:w,Set:E,Run:A,RunImmovableBody1:P,RunImmovableBody2:M}},61777:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75671),m=t(22916),l=function(a,r,i,s,f){f===void 0&&(f=h(a,r,i,s));var e=a.immovable,o=r.immovable;if(i||f===0||e&&o||a.customSeparateX||r.customSeparateX)return f!==0||a.embedded&&r.embedded;var d=m.Set(a,r,f);return!e&&!o?d>0?!0:m.Check():(e?m.RunImmovableBody1(d):o&&m.RunImmovableBody2(d),!0)};v.exports=l},25299:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66185),m=t(67050),l=function(a,r,i,s,f){f===void 0&&(f=h(a,r,i,s));var e=a.immovable,o=r.immovable;if(i||f===0||e&&o||a.customSeparateY||r.customSeparateY)return f!==0||a.embedded&&r.embedded;var d=m.Set(a,r,f);return!e&&!o?d>0?!0:m.Check():(e?m.RunImmovableBody1(d):o&&m.RunImmovableBody2(d),!0)};v.exports=l},66634:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65650),m=t(56694),l=t(47401),a=t(94287),r=t(93736),i=new m({initialize:function(f,e){var o=64,d=64,c={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},p=e!==void 0;p&&e.displayWidth&&(o=e.displayWidth,d=e.displayHeight),p||(e=c),this.world=f,this.gameObject=p?e:void 0,this.isBody=!0,this.debugShowBody=f.defaults.debugShowStaticBody,this.debugBodyColor=f.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(e.x-o*e.originX,e.y-d*e.originY),this.width=o,this.height=d,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=r.ZERO,this.allowGravity=!1,this.gravity=r.ZERO,this.bounce=r.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=l.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(s,f){return s&&s!==this.gameObject&&(this.gameObject.body=null,s.body=this,this.gameObject=s),f&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var s=this.gameObject;return s.getTopLeft(this.position),this.width=s.displayWidth,this.height=s.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(s,f){return f===void 0&&(f=s),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s,f),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(s,f,e){e===void 0&&(e=!0);var o=this.gameObject;if(!s&&o.frame&&(s=o.frame.realWidth),!f&&o.frame&&(f=o.frame.realHeight),this.world.staticTree.remove(this),this.width=s,this.height=f,this.halfWidth=Math.floor(s/2),this.halfHeight=Math.floor(f/2),e&&o.getCenter){var d=o.displayWidth/2,c=o.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(d-this.halfWidth,c-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(s,f,e){return f===void 0&&(f=this.offset.x),e===void 0&&(e=this.offset.y),s>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=s,this.width=s*2,this.height=s*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,e),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(s,f){var e=this.gameObject;s===void 0&&(s=e.x),f===void 0&&(f=e.y),this.world.staticTree.remove(this),e.setPosition(s,f),e.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(s){return s.x=this.x,s.y=this.y,s.right=this.right,s.bottom=this.bottom,s},hitTest:function(s,f){return this.isCircle?h(this,s,f):a(this,s,f)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(s){var f=this.position,e=f.x+this.halfWidth,o=f.y+this.halfHeight;this.debugShowBody&&(s.lineStyle(s.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?s.strokeCircle(e,o,this.width/2):s.strokeRect(f.x,f.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(s){return s<=0&&(s=.1),this.mass=s,this},x:{get:function(){return this.position.x},set:function(s){this.world.staticTree.remove(this),this.position.x=s,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(s){this.world.staticTree.remove(this),this.position.y=s,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=i},46346:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25084),m=t(56694),l=t(47401),a=t(72632),r=t(59192),i=t(42911),s=new m({Extends:r,initialize:function(e,o,d,c){!d&&!c?c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:i(d)?(c=d,d=null,c.internalCreateCallback=this.createCallbackHandler,c.internalRemoveCallback=this.removeCallbackHandler,c.createMultipleCallback=this.createMultipleCallbackHandler,c.classType=a(c,"classType",h)):Array.isArray(d)&&i(d[0])?(c=d,d=null,c.forEach(function(p){p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler,p.createMultipleCallback=this.createMultipleCallbackHandler,p.classType=a(p,"classType",h)})):c={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=e,this.physicsType=l.STATIC_BODY,r.call(this,o,d,c),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,l.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,e=0;e<f.length;e++)f[e].body.reset();return this}});v.exports=s},85233:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94240),m=t(97602),l=t(82897),a=t(56694),r=t(3909),i=t(47401),s=t(53996),f=t(92951),e=t(6659),o=t(27037),d=t(88456),c=t(41935),p=t(54726),x=t(75671),T=t(66185),E=t(44662),y=t(10850),w=t(83392),A=t(74623),P=t(25163),M=t(74118),L=t(68687),F=t(27354),N=t(61777),b=t(25299),V=t(58403),X=t(66634),W=t(28808),k=t(69360),Q=t(93736),U=t(1071),Y=new a({Extends:e,initialize:function(G,z){e.call(this),this.scene=G,this.bodies=new V,this.staticBodies=new V,this.pendingDestroy=new V,this.colliders=new A,this.gravity=new Q(y(z,"gravity.x",0),y(z,"gravity.y",0)),this.bounds=new M(y(z,"x",0),y(z,"y",0),y(z,"width",G.sys.scale.width),y(z,"height",G.sys.scale.height)),this.checkCollision={up:y(z,"checkCollision.up",!0),down:y(z,"checkCollision.down",!0),left:y(z,"checkCollision.left",!0),right:y(z,"checkCollision.right",!0)},this.fps=y(z,"fps",60),this.fixedStep=y(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(z,"timeScale",1),this.OVERLAP_BIAS=y(z,"overlapBias",4),this.TILE_BIAS=y(z,"tileBias",16),this.forceX=y(z,"forceX",!1),this.isPaused=y(z,"isPaused",!1),this._total=0,this.drawDebug=y(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(z,"debugShowBody",!0),debugShowStaticBody:y(z,"debugShowStaticBody",!0),debugShowVelocity:y(z,"debugShowVelocity",!0),bodyDebugColor:y(z,"debugBodyColor",16711935),staticBodyDebugColor:y(z,"debugStaticBodyColor",255),velocityDebugColor:y(z,"debugVelocityColor",65280)},this.maxEntries=y(z,"maxEntries",16),this.useTree=y(z,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new k,this._tempMatrix2=new k,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(O,G){G===void 0&&(G=i.DYNAMIC_BODY),Array.isArray(O)||(O=[O]);for(var z=0;z<O.length;z++){var H=O[z];if(H.isParent)for(var K=H.getChildren(),J=0;J<K.length;J++){var Z=K[J];Z.isParent?this.enable(Z,G):this.enableBody(Z,G)}else this.enableBody(H,G)}},enableBody:function(O,G){return G===void 0&&(G=i.DYNAMIC_BODY),O.hasTransformComponent&&(O.body||(G===i.DYNAMIC_BODY?O.body=new m(this,O):G===i.STATIC_BODY&&(O.body=new X(this,O))),this.add(O.body)),O},add:function(O){return O.physicsType===i.DYNAMIC_BODY?this.bodies.set(O):O.physicsType===i.STATIC_BODY&&(this.staticBodies.set(O),this.staticTree.insert(O)),O.enable=!0,O},disable:function(O){Array.isArray(O)||(O=[O]);for(var G=0;G<O.length;G++){var z=O[G];if(z.isParent)for(var H=z.getChildren(),K=0;K<H.length;K++){var J=H[K];J.isParent?this.disable(J):this.disableBody(J.body)}else this.disableBody(z.body)}},disableBody:function(O){this.remove(O),O.enable=!1},remove:function(O){O.physicsType===i.DYNAMIC_BODY?(this.tree.remove(O),this.bodies.delete(O)):O.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(O),this.staticTree.remove(O))},createDebugGraphic:function(){var O=this.scene.sys.add.graphics({x:0,y:0});return O.setDepth(Number.MAX_VALUE),this.debugGraphic=O,this.drawDebug=!0,O},setBounds:function(O,G,z,H,K,J,Z,_){return this.bounds.setTo(O,G,z,H),K!==void 0&&this.setBoundsCollision(K,J,Z,_),this},setBoundsCollision:function(O,G,z,H){return O===void 0&&(O=!0),G===void 0&&(G=!0),z===void 0&&(z=!0),H===void 0&&(H=!0),this.checkCollision.left=O,this.checkCollision.right=G,this.checkCollision.up=z,this.checkCollision.down=H,this},pause:function(){return this.isPaused=!0,this.emit(o.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(o.RESUME),this},addCollider:function(O,G,z,H,K){z===void 0&&(z=null),H===void 0&&(H=null),K===void 0&&(K=z);var J=new r(this,!1,O,G,z,H,K);return this.colliders.add(J),J},addOverlap:function(O,G,z,H,K){z===void 0&&(z=null),H===void 0&&(H=null),K===void 0&&(K=z);var J=new r(this,!0,O,G,z,H,K);return this.colliders.add(J),J},removeCollider:function(O){return this.colliders.remove(O),this},setFPS:function(O){return this.fps=O,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(O,G){if(!(this.isPaused||this.bodies.size===0)){var z,H=this._frameTime,K=this._frameTimeMS*this.timeScale;this._elapsed+=G;var J,Z=this.bodies.entries,_=this._elapsed>=K;for(this.fixedStep||(H=G*.001,_=!0,this._elapsed=0),z=0;z<Z.length;z++)J=Z[z],J.enable&&J.preUpdate(_,H);if(_){this._elapsed-=K,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Z));var tt=this.colliders.update();for(z=0;z<tt.length;z++){var et=tt[z];et.active&&et.update()}this.emit(o.WORLD_STEP,H)}for(;this._elapsed>=K;)this._elapsed-=K,this.step(H)}},step:function(O){var G,z,H=this.bodies.entries,K=H.length;for(G=0;G<K;G++)z=H[G],z.enable&&z.update(O);this.useTree&&(this.tree.clear(),this.tree.load(H));var J=this.colliders.update();for(G=0;G<J.length;G++){var Z=J[G];Z.active&&Z.update()}this.emit(o.WORLD_STEP,O),this.stepsLastFrame++},postUpdate:function(){var O,G,z=this.bodies.entries,H=z.length,K=this.bodies,J=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,O=0;O<H;O++)G=z[O],G.enable&&G.postUpdate();if(this.drawDebug){var Z=this.debugGraphic;for(Z.clear(),O=0;O<H;O++)G=z[O],G.willDrawDebug()&&G.drawDebug(Z);for(z=J.entries,H=z.length,O=0;O<H;O++)G=z[O],G.willDrawDebug()&&G.drawDebug(Z)}var _=this.pendingDestroy;if(_.size>0){var tt=this.tree,et=this.staticTree;for(z=_.entries,H=z.length,O=0;O<H;O++)G=z[O],G.physicsType===i.DYNAMIC_BODY?(tt.remove(G),K.delete(G)):G.physicsType===i.STATIC_BODY&&(et.remove(G),J.delete(G)),G.world=void 0,G.gameObject=void 0;_.clear()}},updateMotion:function(O,G){O.allowRotation&&this.computeAngularVelocity(O,G),this.computeVelocity(O,G)},computeAngularVelocity:function(O,G){var z=O.angularVelocity,H=O.angularAcceleration,K=O.angularDrag,J=O.maxAngular;H?z+=H*G:O.allowDrag&&K&&(K*=G,c(z-K,0,.1)?z-=K:p(z+K,0,.1)?z+=K:z=0),z=l(z,-J,J);var Z=z-O.angularVelocity;O.angularVelocity+=Z,O.rotation+=O.angularVelocity*G},computeVelocity:function(O,G){var z=O.velocity.x,H=O.acceleration.x,K=O.drag.x,J=O.maxVelocity.x,Z=O.velocity.y,_=O.acceleration.y,tt=O.drag.y,et=O.maxVelocity.y,nt=O.speed,rt=O.maxSpeed,st=O.allowDrag,lt=O.useDamping;O.allowGravity&&(z+=(this.gravity.x+O.gravity.x)*G,Z+=(this.gravity.y+O.gravity.y)*G),H?z+=H*G:st&&K&&(lt?(K=Math.pow(K,G),z*=K,nt=Math.sqrt(z*z+Z*Z),d(nt,0,.001)&&(z=0)):(K*=G,c(z-K,0,.01)?z-=K:p(z+K,0,.01)?z+=K:z=0)),_?Z+=_*G:st&&tt&&(lt?(tt=Math.pow(tt,G),Z*=tt,nt=Math.sqrt(z*z+Z*Z),d(nt,0,.001)&&(Z=0)):(tt*=G,c(Z-tt,0,.01)?Z-=tt:p(Z+tt,0,.01)?Z+=tt:Z=0)),z=l(z,-J,J),Z=l(Z,-et,et),O.velocity.set(z,Z),rt>-1&&O.velocity.length()>rt&&(O.velocity.normalize().scale(rt),nt=rt),O.speed=nt},separate:function(O,G,z,H,K){var J,Z,_=!1,tt=!0;if(!O.enable||!G.enable||O.checkCollision.none||G.checkCollision.none||!this.intersects(O,G)||z&&z.call(H,O.gameObject,G.gameObject)===!1)return _;if(O.isCircle||G.isCircle){var et=this.separateCircle(O,G,K);et.result?(_=!0,tt=!1):(J=et.x,Z=et.y,tt=!0)}if(tt){var nt=!1,rt=!1,st=this.OVERLAP_BIAS;K?(nt=N(O,G,K,st,J),rt=b(O,G,K,st,Z)):this.forceX||Math.abs(this.gravity.y+O.gravity.y)<Math.abs(this.gravity.x+O.gravity.x)?(nt=N(O,G,K,st,J),this.intersects(O,G)&&(rt=b(O,G,K,st,Z))):(rt=b(O,G,K,st,Z),this.intersects(O,G)&&(nt=N(O,G,K,st,J))),_=nt||rt}return _&&(K?(O.onOverlap||G.onOverlap)&&this.emit(o.OVERLAP,O.gameObject,G.gameObject,O,G):(O.onCollide||G.onCollide)&&this.emit(o.COLLIDE,O.gameObject,G.gameObject,O,G)),_},separateCircle:function(O,G,z){x(O,G,!1,0),T(O,G,!1,0);var H=O.isCircle,K=G.isCircle,J=O.center,Z=G.center,_=O.immovable,tt=G.immovable,et=O.velocity,nt=G.velocity,rt=0,st=!0;if(H!==K){st=!1;var lt=J.x,mt=J.y,gt=O.halfWidth,xt=G.position.x,ot=G.position.y,vt=G.right,dt=G.bottom;K&&(lt=Z.x,mt=Z.y,gt=G.halfWidth,xt=O.position.x,ot=O.position.y,vt=O.right,dt=O.bottom),mt<ot?lt<xt?rt=s(lt,mt,xt,ot)-gt:lt>vt&&(rt=s(lt,mt,vt,ot)-gt):mt>dt&&(lt<xt?rt=s(lt,mt,xt,dt)-gt:lt>vt&&(rt=s(lt,mt,vt,dt)-gt)),rt*=-1}else rt=O.halfWidth+G.halfWidth-f(J,Z);O.overlapR=rt,G.overlapR=rt;var wt=h(J,Z),Tt=(rt+w.EPSILON)*Math.cos(wt),Mt=(rt+w.EPSILON)*Math.sin(wt),Vt={overlap:rt,result:!1,x:Tt,y:Mt};if(z&&(!st||st&&rt!==0))return Vt.result=!0,Vt;if(!st&&rt===0||_&&tt||O.customSeparateX||G.customSeparateX)return Vt.x=void 0,Vt.y=void 0,Vt;var It=!O.pushable&&!G.pushable;if(st){var At=J.x-Z.x,zt=J.y-Z.y,Wt=Math.sqrt(Math.pow(At,2)+Math.pow(zt,2)),te=(Z.x-J.x)/Wt||0,se=(Z.y-J.y)/Wt||0,me=2*(et.x*te+et.y*se-nt.x*te-nt.y*se)/(O.mass+G.mass);(_||tt)&&(me*=2),_||(et.x=et.x-me/O.mass*te,et.y=et.y-me/O.mass*se,et.multiply(O.bounce)),tt||(nt.x=nt.x+me/G.mass*te,nt.y=nt.y+me/G.mass*se,nt.multiply(G.bounce)),!_&&!tt&&(Tt*=.5,Mt*=.5),_||(O.x-=Tt,O.y-=Mt,O.updateCenter()),tt||(G.x+=Tt,G.y+=Mt,G.updateCenter()),Vt.result=!0}else!_||O.pushable||It?(O.x-=Tt,O.y-=Mt,O.updateCenter()):(!tt||G.pushable||It)&&(G.x+=Tt,G.y+=Mt,G.updateCenter()),Vt.x=void 0,Vt.y=void 0;return Vt},intersects:function(O,G){return O===G?!1:!O.isCircle&&!G.isCircle?!(O.right<=G.left||O.bottom<=G.top||O.left>=G.right||O.top>=G.bottom):O.isCircle?G.isCircle?f(O.center,G.center)<=O.halfWidth+G.halfWidth:this.circleBodyIntersects(O,G):this.circleBodyIntersects(G,O)},circleBodyIntersects:function(O,G){var z=l(O.center.x,G.left,G.right),H=l(O.center.y,G.top,G.bottom),K=(O.center.x-z)*(O.center.x-z),J=(O.center.y-H)*(O.center.y-H);return K+J<=O.halfWidth*O.halfWidth},overlap:function(O,G,z,H,K){return z===void 0&&(z=null),H===void 0&&(H=null),K===void 0&&(K=z),this.collideObjects(O,G,z,H,K,!0)},collide:function(O,G,z,H,K){return z===void 0&&(z=null),H===void 0&&(H=null),K===void 0&&(K=z),this.collideObjects(O,G,z,H,K,!1)},collideObjects:function(O,G,z,H,K,J){var Z,_;O.isParent&&(O.physicsType===void 0||G===void 0||O===G)&&(O=O.children.entries),G&&G.isParent&&G.physicsType===void 0&&(G=G.children.entries);var tt=Array.isArray(O),et=Array.isArray(G);if(this._total=0,!tt&&!et)this.collideHandler(O,G,z,H,K,J);else if(!tt&&et)for(Z=0;Z<G.length;Z++)this.collideHandler(O,G[Z],z,H,K,J);else if(tt&&!et)if(G)for(Z=0;Z<O.length;Z++)this.collideHandler(O[Z],G,z,H,K,J);else for(Z=0;Z<O.length;Z++){var nt=O[Z];for(_=Z+1;_<O.length;_++)Z!==_&&this.collideHandler(nt,O[_],z,H,K,J)}else for(Z=0;Z<O.length;Z++)for(_=0;_<G.length;_++)this.collideHandler(O[Z],G[_],z,H,K,J);return this._total>0},collideHandler:function(O,G,z,H,K,J){if(G===void 0&&O.isParent)return this.collideGroupVsGroup(O,O,z,H,K,J);if(!O||!G)return!1;if(O.body||O.isBody){if(G.body||G.isBody)return this.collideSpriteVsSprite(O,G,z,H,K,J);if(G.isParent)return this.collideSpriteVsGroup(O,G,z,H,K,J);if(G.isTilemap)return this.collideSpriteVsTilemapLayer(O,G,z,H,K,J)}else if(O.isParent){if(G.body||G.isBody)return this.collideSpriteVsGroup(G,O,z,H,K,J);if(G.isParent)return this.collideGroupVsGroup(O,G,z,H,K,J);if(G.isTilemap)return this.collideGroupVsTilemapLayer(O,G,z,H,K,J)}else if(O.isTilemap){if(G.body||G.isBody)return this.collideSpriteVsTilemapLayer(G,O,z,H,K,J);if(G.isParent)return this.collideGroupVsTilemapLayer(G,O,z,H,K,J)}},collideSpriteVsSprite:function(O,G,z,H,K,J){var Z=O.isBody?O:O.body,_=G.isBody?G:G.body;return!Z||!_?!1:(this.separate(Z,_,H,K,J)&&(z&&z.call(K,O,G),this._total++),!0)},collideSpriteVsGroup:function(O,G,z,H,K,J){var Z=O.isBody?O:O.body;if(!(G.length===0||!Z||!Z.enable||Z.checkCollision.none)){var _,tt,et;if(this.useTree||G.physicsType===i.STATIC_BODY){var nt=this.treeMinMax;nt.minX=Z.left,nt.minY=Z.top,nt.maxX=Z.right,nt.maxY=Z.bottom;var rt=G.physicsType===i.DYNAMIC_BODY?this.tree.search(nt):this.staticTree.search(nt);for(tt=rt.length,_=0;_<tt;_++)et=rt[_],!(Z===et||!et.enable||et.checkCollision.none||!G.contains(et.gameObject))&&this.separate(Z,et,H,K,J)&&(z&&z.call(K,Z.gameObject,et.gameObject),this._total++)}else{var st=G.getChildren(),lt=G.children.entries.indexOf(O);for(tt=st.length,_=0;_<tt;_++)et=st[_].body,!(!et||_===lt||!et.enable)&&this.separate(Z,et,H,K,J)&&(z&&z.call(K,Z.gameObject,et.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(O,G,z,H,K,J){var Z=O.getChildren();if(Z.length===0)return!1;for(var _=!1,tt=0;tt<Z.length;tt++)(Z[tt].body||Z[tt].isBody)&&this.collideSpriteVsTilemapLayer(Z[tt],G,z,H,K,J)&&(_=!0);return _},collideTiles:function(O,G,z,H,K){return G.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,G,z,H,K,!1,!1)},overlapTiles:function(O,G,z,H,K){return G.length===0||O.body&&!O.body.enable||O.isBody&&!O.enable?!1:this.collideSpriteVsTilesHandler(O,G,z,H,K,!0,!1)},collideSpriteVsTilemapLayer:function(O,G,z,H,K,J){var Z=O.isBody?O:O.body;if(!Z.enable||Z.checkCollision.none)return!1;var _=Z.x,tt=Z.y,et=Z.width,nt=Z.height,rt=G.layer;if(rt.tileWidth>rt.baseTileWidth){var st=(rt.tileWidth-rt.baseTileWidth)*G.scaleX;_-=st,et+=st}if(rt.tileHeight>rt.baseTileHeight){var lt=(rt.tileHeight-rt.baseTileHeight)*G.scaleY;nt+=lt}var mt=J?null:this.tileFilterOptions,gt=E(_,tt,et,nt,mt,G.scene.cameras.main,G.layer);return gt.length===0?!1:this.collideSpriteVsTilesHandler(O,gt,z,H,K,J,!0)},collideSpriteVsTilesHandler:function(O,G,z,H,K,J,Z){for(var _=O.isBody?O:O.body,tt,et={left:0,right:0,top:0,bottom:0},nt,rt=!1,st=0;st<G.length;st++){tt=G[st],nt=tt.tilemapLayer;var lt=nt.tileToWorldXY(tt.x,tt.y);et.left=lt.x,et.top=lt.y,tt.baseHeight!==tt.height&&(et.top-=(tt.height-tt.baseHeight)*nt.scaleY),et.right=et.left+tt.width*nt.scaleX,et.bottom=et.top+tt.height*nt.scaleY,W(et,_)&&(!H||H.call(K,O,tt))&&P(tt,O)&&(J||F(st,_,tt,et,nt,this.TILE_BIAS,Z))&&(this._total++,rt=!0,z&&z.call(K,O,tt),J&&_.onOverlap?this.emit(o.TILE_OVERLAP,O,tt,_):_.onCollide&&this.emit(o.TILE_COLLIDE,O,tt,_))}return rt},collideGroupVsGroup:function(O,G,z,H,K,J){if(!(O.length===0||G.length===0))for(var Z=O.getChildren(),_=0;_<Z.length;_++)this.collideSpriteVsGroup(Z[_],G,z,H,K,J)},wrap:function(O,G){O.body?this.wrapObject(O,G):O.getChildren?this.wrapArray(O.getChildren(),G):Array.isArray(O)?this.wrapArray(O,G):this.wrapObject(O,G)},wrapArray:function(O,G){for(var z=0;z<O.length;z++)this.wrapObject(O[z],G)},wrapObject:function(O,G){G===void 0&&(G=0),O.x=U(O.x,this.bounds.left-G,this.bounds.right+G),O.y=U(O.y,this.bounds.top-G,this.bounds.bottom+G)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});v.exports=Y},5321:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,h){return this.body.acceleration.set(t,h),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};v.exports=S},29257:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};v.exports=S},62122:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,h){return this.body.bounce.set(t,h),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,h,m,l){return this.body.setCollideWorldBounds(t,h,m,l),this}};v.exports=S},99803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,h,m){return this.debugShowBody=t,this.debugShowVelocity=h,this.debugBodyColor=m,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};v.exports=S},87145:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,h){return this.body.drag.set(t,h),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};v.exports=S},96174:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={enableBody:function(t,h,m,l,a){return t&&this.body.reset(h,m),l&&(this.body.gameObject.active=!0),a&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,h){return t===void 0&&(t=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};v.exports=S},51702:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h){return this.body.friction.set(t,h),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};v.exports=S},25578:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,h){return this.body.gravity.set(t,h),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};v.exports=S},72029:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};v.exports=S},34566:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};v.exports=S},2732:(v,S,t)=>{var h=t(15147),m=t(26673),l=t(22184),a=t(26535),r=function(i,s,f,e,o,d){var c=h(i,s-e,f-e,2*e,2*e,o,d);if(c.length===0)return c;for(var p=new m(s,f,e),x=new m,T=[],E=0;E<c.length;E++){var y=c[E];y.isCircle?(x.setTo(y.center.x,y.center.y,y.halfWidth),l(p,x)&&T.push(y)):a(p,y)&&T.push(y)}return T};v.exports=r},15147:v=>{var S=function(t,h,m,l,a,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var s=[],f=[],e=t.treeMinMax;if(e.minX=h,e.minY=m,e.maxX=h+l,e.maxY=m+a,i&&(f=t.staticTree.search(e)),r&&t.useTree)s=t.tree.search(e);else if(r){var o=t.bodies,d={position:{x:h,y:m},left:h,top:m,right:h+l,bottom:m+a,isCircle:!1},c=t.intersects;o.iterate(function(p){c(p,d)&&s.push(p)})}return f.concat(s)};v.exports=S},57527:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};v.exports=S},77687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,h){return this.body.setOffset(t,h),this},setSize:function(t,h,m){return this.body.setSize(t,h,m),this},setBodySize:function(t,h,m){return this.body.setSize(t,h,m),this},setCircle:function(t,h,m){return this.body.setCircle(t,h,m),this}};v.exports=S},66536:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,h){return this.body.setVelocity(t,h),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,h){return this.body.maxVelocity.set(t,h),this}};v.exports=S},7864:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Acceleration:t(5321),Angular:t(29257),Bounce:t(62122),Debug:t(99803),Drag:t(87145),Enable:t(96174),Friction:t(51702),Gravity:t(25578),Immovable:t(72029),Mass:t(34566),OverlapCirc:t(2732),OverlapRect:t(15147),Pushable:t(57527),Size:t(77687),Velocity:t(66536)}},47401:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};v.exports=S},22346:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collide"},95092:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="overlap"},15775:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},74142:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},22825:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tilecollide"},10851:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tileoverlap"},7543:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldbounds"},1487:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldstep"},27037:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COLLIDE:t(22346),OVERLAP:t(95092),PAUSE:t(15775),RESUME:t(74142),TILE_COLLIDE:t(22825),TILE_OVERLAP:t(10851),WORLD_BOUNDS:t(7543),WORLD_STEP:t(1487)}},39977:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47401),m=t(98611),l={ArcadePhysics:t(66150),Body:t(97602),Collider:t(3909),Components:t(7864),Events:t(27037),Factory:t(99523),GetOverlapX:t(75671),GetOverlapY:t(66185),SeparateX:t(61777),SeparateY:t(25299),Group:t(10481),Image:t(62832),Sprite:t(25084),StaticBody:t(66634),StaticGroup:t(46346),Tilemap:t(8413),World:t(85233)};l=m(!1,l,h),v.exports=l},25163:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,h,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,h,t):!0};v.exports=S},98209:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.left=!0):h>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=h,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};v.exports=S},72792:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h<0?(t.blocked.none=!1,t.blocked.up=!0):h>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=h,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};v.exports=S},27354:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14405),m=t(52926),l=t(28808),a=function(r,i,s,f,e,o,d){var c=f.left,p=f.top,x=f.right,T=f.bottom,E=s.faceLeft||s.faceRight,y=s.faceTop||s.faceBottom;if(d||(E=!0,y=!0),!E&&!y)return!1;var w=0,A=0,P=0,M=1;if(i.deltaAbsX()>i.deltaAbsY()?P=-1:i.deltaAbsX()<i.deltaAbsY()&&(M=-1),i.deltaX()!==0&&i.deltaY()!==0&&E&&y&&(P=Math.min(Math.abs(i.position.x-x),Math.abs(i.right-c)),M=Math.min(Math.abs(i.position.y-T),Math.abs(i.bottom-p))),P<M){if(E&&(w=h(i,s,c,x,o,d),w!==0&&!l(f,i)))return!0;y&&(A=m(i,s,p,T,o,d))}else{if(y&&(A=m(i,s,p,T,o,d),A!==0&&!l(f,i)))return!0;E&&(w=h(i,s,c,x,o,d))}return w!==0||A!==0};v.exports=a},14405:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98209),m=function(l,a,r,i,s,f){var e=0,o=a.faceLeft,d=a.faceRight,c=a.collideLeft,p=a.collideRight;return f||(o=!0,d=!0,c=!0,p=!0),l.deltaX()<0&&p&&l.checkCollision.left?d&&l.x<i&&(e=l.x-i,e<-s&&(e=0)):l.deltaX()>0&&c&&l.checkCollision.right&&o&&l.right>r&&(e=l.right-r,e>s&&(e=0)),e!==0&&(l.customSeparateX?l.overlapX=e:h(l,e)),e};v.exports=m},52926:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72792),m=function(l,a,r,i,s,f){var e=0,o=a.faceTop,d=a.faceBottom,c=a.collideUp,p=a.collideDown;return f||(o=!0,d=!0,c=!0,p=!0),l.deltaY()<0&&p&&l.checkCollision.up?d&&l.y<i&&(e=l.y-i,e<-s&&(e=0)):l.deltaY()>0&&c&&l.checkCollision.down&&o&&l.bottom>r&&(e=l.bottom-r,e>s&&(e=0)),e!==0&&(l.customSeparateY?l.overlapY=e:h(l,e)),e};v.exports=m},28808:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return!(h.right<=t.left||h.bottom<=t.top||h.position.x>=t.right||h.position.y>=t.bottom)};v.exports=S},8413:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:t(25163),ProcessTileSeparationX:t(98209),ProcessTileSeparationY:t(72792),SeparateTile:t(27354),TileCheckX:t(14405),TileCheckY:t(52926),TileIntersectsBody:t(28808)};v.exports=h},53954:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Arcade:t(39977),Matter:t(45949)}},63568:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(93736),l=new h({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var r=this.boundsCenter,i=this.centerDiff,s=a.bounds.max.x-a.bounds.min.x,f=a.bounds.max.y-a.bounds.min.y,e=s*a.centerOfMass.x,o=f*a.centerOfMass.y;return r.set(s/2,f/2),i.set(e-r.x,o-r.y),!0},getTopLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r+s.x+f.x,i+s.y+f.y)}return!1},getTopCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r+f.x,i+s.y+f.y)}return!1},getTopRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r-(s.x-f.x),i+s.y+f.y)}return!1},getLeftCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r+s.x+f.x,i+f.y)}return!1},getCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.centerDiff;return new m(r+s.x,i+s.y)}return!1},getRightCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r-(s.x-f.x),i+f.y)}return!1},getBottomLeft:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r+s.x+f.x,i-(s.y-f.y))}return!1},getBottomCenter:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r+f.x,i-(s.y-f.y))}return!1},getBottomRight:function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),this.parseBody(a)){var s=this.boundsCenter,f=this.centerDiff;return new m(r-(s.x-f.x),i-(s.y-f.y))}return!1}});v.exports=l},18171:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16929);h.Body=t(84125),h.Composite=t(11299),h.World=t(72005),h.Collision=t(63454),h.Detector=t(13657),h.Pairs=t(91327),h.Pair=t(70584),h.Query=t(13390),h.Resolver=t(44272),h.Constraint=t(52838),h.Common=t(68758),h.Engine=t(45775),h.Events=t(39073),h.Sleeping=t(22806),h.Plugin=t(84474),h.Bodies=t(68516),h.Composites=t(56643),h.Axes=t(50658),h.Bounds=t(84091),h.Svg=t(92765),h.Vector=t(10438),h.Vertices=t(39745),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,v.exports=h},72653:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),m=t(56694),l=t(56643),a=t(52838),r=t(92765),i=t(3860),s=t(7030),f=t(73658),e=t(84720),o=t(10998),d=t(72829),c=t(88596),p=t(39745),x=new m({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(T,E,y,w,A){var P=h.rectangle(T,E,y,w,A);return this.world.add(P),P},trapezoid:function(T,E,y,w,A,P){var M=h.trapezoid(T,E,y,w,A,P);return this.world.add(M),M},circle:function(T,E,y,w,A){var P=h.circle(T,E,y,w,A);return this.world.add(P),P},polygon:function(T,E,y,w,A){var P=h.polygon(T,E,y,w,A);return this.world.add(P),P},fromVertices:function(T,E,y,w,A,P,M){typeof y=="string"&&(y=p.fromPath(y));var L=h.fromVertices(T,E,y,w,A,P,M);return this.world.add(L),L},fromPhysicsEditor:function(T,E,y,w,A){A===void 0&&(A=!0);var P=o.parseBody(T,E,y,w);return A&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(T,E,y,w,A,P){w===void 0&&(w=1),A===void 0&&(A={}),P===void 0&&(P=!0);for(var M=y.getElementsByTagName("path"),L=[],F=0;F<M.length;F++){var N=r.pathToVertices(M[F],30);w!==1&&p.scale(N,w,w),L.push(N)}var b=h.fromVertices(T,E,L,A);return P&&this.world.add(b),b},fromJSON:function(T,E,y,w,A){w===void 0&&(w={}),A===void 0&&(A=!0);var P=d.parseBody(T,E,y,w);return P&&A&&this.world.add(P),P},imageStack:function(T,E,y,w,A,P,M,L,F){M===void 0&&(M=0),L===void 0&&(L=0),F===void 0&&(F={});var N=this.world,b=this.sys.displayList;F.addToWorld=!1;var V=l.stack(y,w,A,P,M,L,function(X,W){var k=new s(N,X,W,T,E,F);return b.add(k),k.body});return N.add(V),V},stack:function(T,E,y,w,A,P,M){var L=l.stack(T,E,y,w,A,P,M);return this.world.add(L),L},pyramid:function(T,E,y,w,A,P,M){var L=l.pyramid(T,E,y,w,A,P,M);return this.world.add(L),L},chain:function(T,E,y,w,A,P){return l.chain(T,E,y,w,A,P)},mesh:function(T,E,y,w,A){return l.mesh(T,E,y,w,A)},newtonsCradle:function(T,E,y,w,A){var P=l.newtonsCradle(T,E,y,w,A);return this.world.add(P),P},car:function(T,E,y,w,A){var P=l.car(T,E,y,w,A);return this.world.add(P),P},softBody:function(T,E,y,w,A,P,M,L,F,N){var b=l.softBody(T,E,y,w,A,P,M,L,F,N);return this.world.add(b),b},joint:function(T,E,y,w,A){return this.constraint(T,E,y,w,A)},spring:function(T,E,y,w,A){return this.constraint(T,E,y,w,A)},constraint:function(T,E,y,w,A){w===void 0&&(w=1),A===void 0&&(A={}),A.bodyA=T.type==="body"?T:T.body,A.bodyB=E.type==="body"?E:E.body,isNaN(y)||(A.length=y),A.stiffness=w;var P=a.create(A);return this.world.add(P),P},worldConstraint:function(T,E,y,w){y===void 0&&(y=1),w===void 0&&(w={}),w.bodyB=T.type==="body"?T:T.body,isNaN(E)||(w.length=E),w.stiffness=y;var A=a.create(w);return this.world.add(A),A},mouseSpring:function(T){return this.pointerConstraint(T)},pointerConstraint:function(T){T===void 0&&(T={}),T.hasOwnProperty("render")||(T.render={visible:!1});var E=new c(this.scene,this.world,T);return this.world.add(E.constraint),E},image:function(T,E,y,w,A){var P=new s(this.world,T,E,y,w,A);return this.sys.displayList.add(P),P},tileBody:function(T,E){return new e(this.world,T,E)},sprite:function(T,E,y,w,A){var P=new f(this.world,T,E,y,w,A);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(T,E,y){return i(this.world,T,E,y)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=x},3860:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74527),m=t(72632),l=t(93736);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var r=function(i,s,f,e){f===void 0&&(f={}),e===void 0&&(e=!0);var o=s.x,d=s.y;s.body={temp:!0,position:{x:o,y:d}};var c=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(c.forEach(function(x){for(var T in x)a(x[T])?Object.defineProperty(s,T,{get:x[T].get,set:x[T].set}):Object.defineProperty(s,T,{value:x[T]})}),s.world=i,s._tempVec2=new l(o,d),f.hasOwnProperty("type")&&f.type==="body")s.setExistingBody(f,e);else{var p=m(f,"shape",null);p||(p="rectangle"),f.addToWorld=e,s.setBody(p,f)}return s};v.exports=r},7030:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(74527),l=t(89980),a=t(72632),r=t(1539),i=t(58210),s=t(93736),f=new h({Extends:r,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,i],initialize:function(o,d,c,p,x,T){l.call(this,o.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,x),this.setSizeToFrame(),this.setOrigin(),this.world=o,this._tempVec2=new s(d,c);var E=a(T,"shape",null);E?this.setBody(E,T):this.setRectangle(this.width,this.height,T),this.setPosition(d,c),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=f},50583:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84093),m=t(50658),l=t(68516),a=t(84125),r=t(63568),i=t(84091),s=t(56694),f=t(63454),e=t(68758),o=t(11299),d=t(56643),c=t(52838),p=t(13657),x=t(53996),T=t(72653),E=t(72632),y=t(10850),w=t(1675),A=t(80391),P=t(16929),M=t(44097),L=t(30657),F=t(70584),N=t(91327),b=t(84474),V=t(91963),X=t(13390),W=t(44272),k=t(7599),Q=t(92765),U=t(10438),Y=t(39745),O=t(31468);e.setDecomp(t(81084));var G=new s({initialize:function(H){this.scene=H,this.systems=H.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=o,this.collision=f,this.detector=p,this.pair=F,this.pairs=N,this.query=X,this.resolver=W,this.constraint=c,this.bodies=l,this.composites=d,this.axes=m,this.bounds=i,this.svg=Q,this.vector=U,this.vertices=Y,this.verts=Y,this._tempVec2=U.create(),y(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),y(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),y(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),W._restingThresh=y(this.config,"restingThresh",4),W._restingThreshTangent=y(this.config,"restingThreshTangent",6),W._positionDampen=y(this.config,"positionDampen",.9),W._positionWarming=y(this.config,"positionWarming",.8),W._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),H.sys.events.once(k.BOOT,this.boot,this),H.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new O(this.scene,this.config),this.add=new T(this.world),this.bodyBounds=new r,this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new O(this.scene,this.config),this.add=new T(this.world));var z=this.systems.events;z.on(k.UPDATE,this.world.update,this.world),z.on(k.POST_UPDATE,this.world.postUpdate,this.world),z.once(k.SHUTDOWN,this.shutdown,this)},getConfig:function(){var z=this.systems.game.config.physics,H=this.systems.settings.physics,K=L(E(H,"matter",{}),E(z,"matter",{}));return K},enableAttractorPlugin:function(){return b.register(w),b.use(P,w),this},enableWrapPlugin:function(){return b.register(M),b.use(P,M),this},enableCollisionEventsPlugin:function(){return b.register(A),b.use(P,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(z,H){this.world.step(z,H)},containsPoint:function(z,H,K){z=this.getMatterBodies(z);var J=U.create(H,K),Z=X.point(z,J);return Z.length>0},intersectPoint:function(z,H,K){K=this.getMatterBodies(K);var J=U.create(z,H),Z=[],_=X.point(K,J);return _.forEach(function(tt){Z.indexOf(tt)===-1&&Z.push(tt)}),Z},intersectRect:function(z,H,K,J,Z,_){Z===void 0&&(Z=!1),_=this.getMatterBodies(_);var tt={min:{x:z,y:H},max:{x:z+K,y:H+J}},et=[],nt=X.region(_,tt,Z);return nt.forEach(function(rt){et.indexOf(rt)===-1&&et.push(rt)}),et},intersectRay:function(z,H,K,J,Z,_){Z===void 0&&(Z=1),_=this.getMatterBodies(_);for(var tt=[],et=X.ray(_,U.create(z,H),U.create(K,J),Z),nt=0;nt<et.length;nt++)tt.push(et[nt].body);return tt},intersectBody:function(z,H){H=this.getMatterBodies(H);for(var K=[],J=X.collides(z,H),Z=0;Z<J.length;Z++){var _=J[Z];_.bodyA===z?K.push(_.bodyB):K.push(_.bodyA)}return K},overlap:function(z,H,K,J,Z){K===void 0&&(K=null),J===void 0&&(J=null),Z===void 0&&(Z=K),Array.isArray(z)||(z=[z]),z=this.getMatterBodies(z),H=this.getMatterBodies(H);for(var _=!1,tt=0;tt<z.length;tt++)for(var et=z[tt],nt=X.collides(et,H),rt=0;rt<nt.length;rt++){var st=nt[rt],lt=st.bodyA.id===et.id?st.bodyB:st.bodyA;if(!J||J.call(Z,et,lt,st)){if(_=!0,K)K.call(Z,et,lt,st);else if(!J)return!0}}return _},setCollisionCategory:function(z,H){return z=this.getMatterBodies(z),z.forEach(function(K){K.collisionFilter.category=H}),this},setCollisionGroup:function(z,H){return z=this.getMatterBodies(z),z.forEach(function(K){K.collisionFilter.group=H}),this},setCollidesWith:function(z,H){z=this.getMatterBodies(z);var K=0;if(!Array.isArray(H))K=H;else for(var J=0;J<H.length;J++)K|=H[J];return z.forEach(function(Z){Z.collisionFilter.mask=K}),this},getMatterBodies:function(z){if(!z)return this.world.getAllBodies();Array.isArray(z)||(z=[z]);for(var H=[],K=0;K<z.length;K++){var J=z[K].hasOwnProperty("body")?z[K].body:z[K];H.push(J)}return H},setVelocity:function(z,H,K){z=this.getMatterBodies(z);var J=this._tempVec2;return J.x=H,J.y=K,z.forEach(function(Z){a.setVelocity(Z,J)}),this},setVelocityX:function(z,H){z=this.getMatterBodies(z);var K=this._tempVec2;return K.x=H,z.forEach(function(J){K.y=J.velocity.y,a.setVelocity(J,K)}),this},setVelocityY:function(z,H){z=this.getMatterBodies(z);var K=this._tempVec2;return K.y=H,z.forEach(function(J){K.x=J.velocity.x,a.setVelocity(J,K)}),this},setAngularVelocity:function(z,H){return z=this.getMatterBodies(z),z.forEach(function(K){a.setAngularVelocity(K,H)}),this},applyForce:function(z,H){z=this.getMatterBodies(z);var K=this._tempVec2;return z.forEach(function(J){K.x=J.position.x,K.y=J.position.y,a.applyForce(J,K,H)}),this},applyForceFromPosition:function(z,H,K,J){z=this.getMatterBodies(z);var Z=this._tempVec2;return z.forEach(function(_){J===void 0&&(J=_.angle),Z.x=K*Math.cos(J),Z.y=K*Math.sin(J),a.applyForce(_,H,Z)}),this},applyForceFromAngle:function(z,H,K){z=this.getMatterBodies(z);var J=this._tempVec2;return z.forEach(function(Z){K===void 0&&(K=Z.angle),J.x=H*Math.cos(K),J.y=H*Math.sin(K),a.applyForce(Z,{x:Z.position.x,y:Z.position.y},J)}),this},getConstraintLength:function(z){var H=z.pointA.x,K=z.pointA.y,J=z.pointB.x,Z=z.pointB.y;return z.bodyA&&(H+=z.bodyA.position.x,K+=z.bodyA.position.y),z.bodyB&&(J+=z.bodyB.position.x,Z+=z.bodyB.position.y),x(H,K,J,Z)},alignBody:function(z,H,K,J){z=z.hasOwnProperty("body")?z.body:z;var Z;switch(J){case h.TOP_LEFT:case h.LEFT_TOP:Z=this.bodyBounds.getTopLeft(z,H,K);break;case h.TOP_CENTER:Z=this.bodyBounds.getTopCenter(z,H,K);break;case h.TOP_RIGHT:case h.RIGHT_TOP:Z=this.bodyBounds.getTopRight(z,H,K);break;case h.LEFT_CENTER:Z=this.bodyBounds.getLeftCenter(z,H,K);break;case h.CENTER:Z=this.bodyBounds.getCenter(z,H,K);break;case h.RIGHT_CENTER:Z=this.bodyBounds.getRightCenter(z,H,K);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:Z=this.bodyBounds.getBottomLeft(z,H,K);break;case h.BOTTOM_CENTER:Z=this.bodyBounds.getBottomCenter(z,H,K);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:Z=this.bodyBounds.getBottomRight(z,H,K);break}return Z&&a.setPosition(z,Z),this},shutdown:function(){var z=this.systems.events;this.world&&(z.off(k.UPDATE,this.world.update,this.world),z.off(k.POST_UPDATE,this.world.postUpdate,this.world)),z.off(k.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.systems=null}});V.register("MatterPhysics",G,"matterPhysics"),v.exports=G},73658:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(16569),m=t(56694),l=t(74527),a=t(89980),r=t(72632),i=t(58210),s=t(13747),f=t(93736),e=new m({Extends:s,Mixins:[l.Bounce,l.Collision,l.Force,l.Friction,l.Gravity,l.Mass,l.Sensor,l.SetBody,l.Sleep,l.Static,l.Transform,l.Velocity,i],initialize:function(d,c,p,x,T,E){a.call(this,d.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(x,T),this.setSizeToFrame(),this.setOrigin(),this.world=d,this._tempVec2=new f(c,p);var y=r(E,"shape",null);y?this.setBody(y,E):this.setRectangle(this.width,this.height,E),this.setPosition(c,p),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=e},84720:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),m=t(84125),l=t(56694),a=t(74527),r=t(28699),i=t(6659),s=t(72632),f=t(19256),e=t(39745),o=new l({Extends:i,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(c,p,x){i.call(this),this.tile=p,this.world=c,p.physics.matterBody&&p.physics.matterBody.destroy(),p.physics.matterBody=this;var T=s(x,"body",null),E=s(x,"addToWorld",!0);if(T)this.setBody(T,E);else{var y=p.getCollisionGroup(),w=s(y,"objects",[]);w.length>0?this.setFromTileCollision(x):this.setFromTileRectangle(x)}if(p.flipX||p.flipY){var A={x:p.getCenterX(),y:p.getCenterY()},P=p.flipX?-1:1,M=p.flipY?-1:1;m.scale(T,P,M,A)}},setFromTileRectangle:function(d){d===void 0&&(d={}),f(d,"isStatic")||(d.isStatic=!0),f(d,"addToWorld")||(d.addToWorld=!0);var c=this.tile.getBounds(),p=c.x+c.width/2,x=c.y+c.height/2,T=h.rectangle(p,x,c.width,c.height,d);return this.setBody(T,d.addToWorld),this},setFromTileCollision:function(d){d===void 0&&(d={}),f(d,"isStatic")||(d.isStatic=!0),f(d,"addToWorld")||(d.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,p=this.tile.tilemapLayer.scaleY,x=this.tile.getLeft(),T=this.tile.getTop(),E=this.tile.getCollisionGroup(),y=s(E,"objects",[]),w=[],A=0;A<y.length;A++){var P=y[A],M=x+P.x*c,L=T+P.y*p,F=P.width*c,N=P.height*p,b=null;if(P.rectangle)b=h.rectangle(M+F/2,L+N/2,F,N,d);else if(P.ellipse)b=h.circle(M+F/2,L+N/2,F/2,d);else if(P.polygon||P.polyline){var V=P.polygon?P.polygon:P.polyline,X=V.map(function(U){return{x:U.x*c,y:U.y*p}}),W=e.create(X),k=e.centre(W);M+=k.x,L+=k.y,b=h.fromVertices(M,L,W,d)}b&&w.push(b)}if(w.length===1)this.setBody(w[0],d.addToWorld);else if(w.length>1){var Q=r(d);Q.parts=w,this.setBody(m.create(Q),Q.addToWorld)}return this},setBody:function(d,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=d,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});v.exports=o},10998:(v,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),m=t(84125),l=t(68758),a=t(72632),r=t(39745),i={parseBody:function(s,f,e,o){o===void 0&&(o={});for(var d=a(e,"fixtures",[]),c=[],p=0;p<d.length;p++)for(var x=this.parseFixture(d[p]),T=0;T<x.length;T++)c.push(x[T]);var E=l.clone(e,!0);l.extend(E,o,!0),delete E.fixtures,delete E.type;var y=m.create(E);return m.setParts(y,c),m.setPosition(y,{x:s,y:f}),y},parseFixture:function(s){var f=l.extend({},!1,s);delete f.circle,delete f.vertices;var e;if(s.circle){var o=a(s.circle,"x"),d=a(s.circle,"y"),c=a(s.circle,"radius");e=[h.circle(o,d,c,f)]}else s.vertices&&(e=this.parseVertices(s.vertices,f));return e},parseVertices:function(s,f){f===void 0&&(f={});for(var e=[],o=0;o<s.length;o++)r.clockwiseSort(s[o]),e.push(m.create(l.extend({position:r.centre(s[o]),vertices:s[o]},f)));return h.flagCoincidentParts(e)}};v.exports=i},72829:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),m=t(84125),l={parseBody:function(a,r,i,s){s===void 0&&(s={});var f,e=i.vertices;if(e.length===1)s.vertices=e[0],f=m.create(s),h.flagCoincidentParts(f.parts);else{for(var o=[],d=0;d<e.length;d++){var c=m.create({vertices:e[d]});o.push(c)}h.flagCoincidentParts(o),s.parts=o,f=m.create(s)}return f.label=i.label,m.setPosition(f,{x:a,y:r}),f}};v.exports=l},88596:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84091),m=t(56694),l=t(11299),a=t(52838),r=t(13657),i=t(35416),s=t(33963),f=t(30657),e=t(22806),o=t(93736),d=t(39745),c=new m({initialize:function(x,T,E){E===void 0&&(E={});var y={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=x,this.world=T,this.camera=null,this.pointer=null,this.active=!0,this.position=new o,this.body=null,this.part=null,this.constraint=a.create(f(E,y)),this.world.on(i.BEFORE_UPDATE,this.update,this),x.sys.input.on(s.POINTER_DOWN,this.onDown,this),x.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(p){this.pointer||(this.pointer=p,this.camera=p.camera)},onUp:function(p){p===this.pointer&&(this.pointer=null)},getBody:function(p){var x=this.position,T=this.constraint;this.camera.getWorldPoint(p.x,p.y,x);for(var E=l.allBodies(this.world.localWorld),y=0;y<E.length;y++){var w=E[y];if(!w.ignorePointer&&h.contains(w.bounds,x)&&r.canCollide(w.collisionFilter,T.collisionFilter)&&this.hitTestBody(w,x))return this.world.emit(i.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(p,x){for(var T=this.constraint,E=p.parts.length,y=E>1?1:0,w=y;w<E;w++){var A=p.parts[w];if(d.contains(A.vertices,x))return T.pointA=x,T.pointB={x:x.x-p.position.x,y:x.y-p.position.y},T.bodyB=p,T.angleB=p.angle,e.set(p,!1),this.part=A,this.body=p,!0}return!1},update:function(){var p=this.pointer,x=this.body;if(!this.active||!p){x&&this.stopDrag();return}if(!p.isDown&&x){this.stopDrag();return}else if(p.isDown){if(!x&&!this.getBody(p))return;x=this.body;var T=this.position,E=this.constraint;this.camera.getWorldPoint(p.x,p.y,T),E.pointA.x=T.x,E.pointA.y=T.y,e.set(x,!1),this.world.emit(i.DRAG,x,this)}},stopDrag:function(){var p=this.body,x=this.constraint;x.bodyB=null,x.pointB=null,this.pointer=null,this.body=null,this.part=null,p&&this.world.emit(i.DRAG_END,p,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});v.exports=c},31468:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),m=t(84125),l=t(56694),a=t(68758),r=t(11299),i=t(45775),s=t(6659),f=t(35416),e=t(72632),o=t(10850),d=t(84125),c=t(39073),p=t(84720),x=t(72005),T=t(10438),E=new l({Extends:s,initialize:function(w,A){s.call(this),this.scene=w,this.engine=i.create(A),this.localWorld=this.engine.world;var P=o(A,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):P===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=o(A,"enabled",!0),this.getDelta=o(A,"getDelta",this.update60Hz);var M=e(A,"runner",{}),L=e(M,"fps",!1),F=e(M,"fps",60),N=e(M,"delta",1e3/F),b=e(M,"deltaMin",1e3/F),V=e(M,"deltaMax",1e3/(F*.5));L||(F=1e3/N),this.runner={fps:F,deltaSampleSize:e(M,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:e(M,"isFixed",!1),delta:N,deltaMin:b,deltaMax:V},this.autoUpdate=o(A,"autoUpdate",!0);var X=o(A,"debug",!1);if(this.drawDebug=typeof X=="object"?!0:X,this.debugGraphic,this.debugConfig={showAxes:e(X,"showAxes",!1),showAngleIndicator:e(X,"showAngleIndicator",!1),angleColor:e(X,"angleColor",15208787),showBroadphase:e(X,"showBroadphase",!1),broadphaseColor:e(X,"broadphaseColor",16757760),showBounds:e(X,"showBounds",!1),boundsColor:e(X,"boundsColor",16777215),showVelocity:e(X,"showVelocity",!1),velocityColor:e(X,"velocityColor",44783),showCollisions:e(X,"showCollisions",!1),collisionColor:e(X,"collisionColor",16094476),showSeparations:e(X,"showSeparations",!1),separationColor:e(X,"separationColor",16753920),showBody:e(X,"showBody",!0),showStaticBody:e(X,"showStaticBody",!0),showInternalEdges:e(X,"showInternalEdges",!1),renderFill:e(X,"renderFill",!1),renderLine:e(X,"renderLine",!0),fillColor:e(X,"fillColor",1075465),fillOpacity:e(X,"fillOpacity",1),lineColor:e(X,"lineColor",2678297),lineOpacity:e(X,"lineOpacity",1),lineThickness:e(X,"lineThickness",1),staticFillColor:e(X,"staticFillColor",857979),staticLineColor:e(X,"staticLineColor",1255396),showSleeping:e(X,"showSleeping",!1),staticBodySleepOpacity:e(X,"staticBodySleepOpacity",.7),sleepFillColor:e(X,"sleepFillColor",4605510),sleepLineColor:e(X,"sleepLineColor",10066585),showSensors:e(X,"showSensors",!0),sensorFillColor:e(X,"sensorFillColor",857979),sensorLineColor:e(X,"sensorLineColor",1255396),showPositions:e(X,"showPositions",!0),positionSize:e(X,"positionSize",4),positionColor:e(X,"positionColor",14697178),showJoint:e(X,"showJoint",!0),jointColor:e(X,"jointColor",14737474),jointLineOpacity:e(X,"jointLineOpacity",1),jointLineThickness:e(X,"jointLineThickness",2),pinSize:e(X,"pinSize",4),pinColor:e(X,"pinColor",4382944),springColor:e(X,"springColor",14697184),anchorColor:e(X,"anchorColor",15724527),anchorSize:e(X,"anchorSize",4),showConvexHulls:e(X,"showConvexHulls",!1),hullColor:e(X,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),e(A,"setBounds",!1)){var W=A.setBounds;if(typeof W=="boolean")this.setBounds();else{var k=e(W,"x",0),Q=e(W,"y",0),U=e(W,"width",w.sys.scale.width),Y=e(W,"height",w.sys.scale.height),O=e(W,"thickness",64),G=e(W,"left",!0),z=e(W,"right",!0),H=e(W,"top",!0),K=e(W,"bottom",!0);this.setBounds(k,Q,U,Y,O,G,z,H,K)}}},setCompositeRenderStyle:function(y){var w=y.bodies,A=y.constraints,P=y.composites,M,L,F;for(M=0;M<w.length;M++)L=w[M],F=L.render,this.setBodyRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(M=0;M<A.length;M++)L=A[M],F=L.render,this.setConstraintRenderStyle(L,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(M=0;M<P.length;M++)L=P[M],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(y,w,A,P,M,L){var F=y.render,N=this.debugConfig;return F?(w==null&&(w=y.isStatic?N.staticLineColor:N.lineColor),A==null&&(A=N.lineOpacity),P==null&&(P=N.lineThickness),M==null&&(M=y.isStatic?N.staticFillColor:N.fillColor),L==null&&(L=N.fillOpacity),w!==!1&&(F.lineColor=w),A!==!1&&(F.lineOpacity=A),P!==!1&&(F.lineThickness=P),M!==!1&&(F.fillColor=M),L!==!1&&(F.fillOpacity=L),this):this},setConstraintRenderStyle:function(y,w,A,P,M,L,F){var N=y.render,b=this.debugConfig;if(!N)return this;if(w==null){var V=N.type;V==="line"?w=b.jointColor:V==="pin"?w=b.pinColor:V==="spring"&&(w=b.springColor)}return A==null&&(A=b.jointLineOpacity),P==null&&(P=b.jointLineThickness),M==null&&(M=b.pinSize),L==null&&(L=b.anchorColor),F==null&&(F=b.anchorSize),w!==!1&&(N.lineColor=w),A!==!1&&(N.lineOpacity=A),P!==!1&&(N.lineThickness=P),M!==!1&&(N.pinSize=M),L!==!1&&(N.anchorColor=L),F!==!1&&(N.anchorSize=F),this},setEventsProxy:function(){var y=this,w=this.engine,A=this.localWorld;this.drawDebug&&(c.on(A,"compositeModified",function(P){y.setCompositeRenderStyle(P)}),c.on(A,"beforeAdd",function(P){for(var M=[].concat(P.object),L=0;L<M.length;L++){var F=M[L],N=F.render;F.type==="body"?y.setBodyRenderStyle(F,N.lineColor,N.lineOpacity,N.lineThickness,N.fillColor,N.fillOpacity):F.type==="composite"?y.setCompositeRenderStyle(F):F.type==="constraint"&&y.setConstraintRenderStyle(F,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize)}})),c.on(A,"beforeAdd",function(P){y.emit(f.BEFORE_ADD,P)}),c.on(A,"afterAdd",function(P){y.emit(f.AFTER_ADD,P)}),c.on(A,"beforeRemove",function(P){y.emit(f.BEFORE_REMOVE,P)}),c.on(A,"afterRemove",function(P){y.emit(f.AFTER_REMOVE,P)}),c.on(w,"beforeUpdate",function(P){y.emit(f.BEFORE_UPDATE,P)}),c.on(w,"afterUpdate",function(P){y.emit(f.AFTER_UPDATE,P)}),c.on(w,"collisionStart",function(P){var M=P.pairs,L,F;M.length>0&&(L=M[0].bodyA,F=M[0].bodyB),y.emit(f.COLLISION_START,P,L,F)}),c.on(w,"collisionActive",function(P){var M=P.pairs,L,F;M.length>0&&(L=M[0].bodyA,F=M[0].bodyB),y.emit(f.COLLISION_ACTIVE,P,L,F)}),c.on(w,"collisionEnd",function(P){var M=P.pairs,L,F;M.length>0&&(L=M[0].bodyA,F=M[0].bodyB),y.emit(f.COLLISION_END,P,L,F)})},setBounds:function(y,w,A,P,M,L,F,N,b){return y===void 0&&(y=0),w===void 0&&(w=0),A===void 0&&(A=this.scene.sys.scale.width),P===void 0&&(P=this.scene.sys.scale.height),M===void 0&&(M=64),L===void 0&&(L=!0),F===void 0&&(F=!0),N===void 0&&(N=!0),b===void 0&&(b=!0),this.updateWall(L,"left",y-M,w-M,M,P+M*2),this.updateWall(F,"right",y+A,w-M,M,P+M*2),this.updateWall(N,"top",y,w-M,A,M),this.updateWall(b,"bottom",y,w+P,A,M),this},updateWall:function(y,w,A,P,M,L){var F=this.walls[w];y?(F&&x.remove(this.localWorld,F),A+=M/2,P+=L/2,this.walls[w]=this.create(A,P,M,L,{isStatic:!0,friction:0,frictionStatic:0})):(F&&x.remove(this.localWorld,F),this.walls[w]=null)},createDebugGraphic:function(){var y=this.scene.sys.add.graphics({x:0,y:0});return y.setDepth(Number.MAX_VALUE),this.debugGraphic=y,this.drawDebug=!0,y},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(y,w,A){return y===void 0&&(y=0),w===void 0&&(w=1),A===void 0&&(A=.001),this.localWorld.gravity.x=y,this.localWorld.gravity.y=w,this.localWorld.gravity.scale=A,this},create:function(y,w,A,P,M){var L=h.rectangle(y,w,A,P,M);return x.add(this.localWorld,L),L},add:function(y){return x.add(this.localWorld,y),this},remove:function(y,w){Array.isArray(y)||(y=[y]);for(var A=0;A<y.length;A++){var P=y[A],M=P.body?P.body:P;r.remove(this.localWorld,M,w)}return this},removeConstraint:function(y,w){return r.remove(this.localWorld,y,w),this},convertTilemapLayer:function(y,w){var A=y.layer,P=y.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(P,w),this},convertTiles:function(y,w){if(y.length===0)return this;for(var A=0;A<y.length;A++)new p(this,y[A],w);return this},nextGroup:function(y){return d.nextGroup(y)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(y,w){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,P=this.runner,M=A.timing;P.isFixed?w=this.getDelta(y,w):(w=y-P.timePrev||P.delta,P.timePrev=y,P.deltaHistory.push(w),P.deltaHistory=P.deltaHistory.slice(-P.deltaSampleSize),w=Math.min.apply(null,P.deltaHistory),w=w<P.deltaMin?P.deltaMin:w,w=w>P.deltaMax?P.deltaMax:w,P.delta=w),P.timeScalePrev=M.timeScale,P.frameCounter+=1,y-P.counterTimestamp>=1e3&&(P.fps=P.frameCounter*((y-P.counterTimestamp)/1e3),P.counterTimestamp=y,P.frameCounter=0),i.update(A,w)}},step:function(y){i.update(this.engine,y)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(y){var w=y.hasOwnProperty("body")?y.body:y;return r.get(this.localWorld,w.id,w.type)!==null},getAllBodies:function(){return r.allBodies(this.localWorld)},getAllConstraints:function(){return r.allConstraints(this.localWorld)},getAllComposites:function(){return r.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var y=this.debugConfig,w=this.engine,A=this.debugGraphic,P=r.allBodies(this.localWorld);this.debugGraphic.clear(),y.showBroadphase&&w.broadphase.controller&&this.renderGrid(w.broadphase,A,y.broadphaseColor,.5),y.showBounds&&this.renderBodyBounds(P,A,y.boundsColor,.5),(y.showBody||y.showStaticBody)&&this.renderBodies(P),y.showJoint&&this.renderJoints(),(y.showAxes||y.showAngleIndicator)&&this.renderBodyAxes(P,A,y.showAxes,y.angleColor,.5),y.showVelocity&&this.renderBodyVelocity(P,A,y.velocityColor,1,2),y.showSeparations&&this.renderSeparations(w.pairs.list,A,y.separationColor),y.showCollisions&&this.renderCollisions(w.pairs.list,A,y.collisionColor)}},renderGrid:function(y,w,A,P){w.lineStyle(1,A,P);for(var M=a.keys(y.buckets),L=0;L<M.length;L++){var F=M[L];if(!(y.buckets[F].length<2)){var N=F.split(/C|R/);w.strokeRect(parseInt(N[1],10)*y.bucketWidth,parseInt(N[2],10)*y.bucketHeight,y.bucketWidth,y.bucketHeight)}}return this},renderSeparations:function(y,w,A){w.lineStyle(1,A,1);for(var P=0;P<y.length;P++){var M=y[P];if(M.isActive){var L=M.collision,F=L.bodyA,N=L.bodyB,b=F.position,V=N.position,X=L.penetration,W=!F.isStatic&&!N.isStatic?4:1;N.isStatic&&(W=0),w.lineBetween(V.x,V.y,V.x-X.x*W,V.y-X.y*W),W=!F.isStatic&&!N.isStatic?4:1,F.isStatic&&(W=0),w.lineBetween(b.x,b.y,b.x-X.x*W,b.y-X.y*W)}}return this},renderCollisions:function(y,w,A){w.lineStyle(1,A,.5),w.fillStyle(A,1);var P,M;for(P=0;P<y.length;P++)if(M=y[P],!!M.isActive)for(var L=0;L<M.activeContacts.length;L++){var F=M.activeContacts[L],N=F.vertex;w.fillRect(N.x-2,N.y-2,5,5)}for(P=0;P<y.length;P++)if(M=y[P],!!M.isActive){var b=M.collision,V=M.activeContacts;if(V.length>0){var X=V[0].vertex.x,W=V[0].vertex.y;V.length===2&&(X=(V[0].vertex.x+V[1].vertex.x)/2,W=(V[0].vertex.y+V[1].vertex.y)/2),b.bodyB===b.supports[0].body||b.bodyA.isStatic?w.lineBetween(X-b.normal.x*8,W-b.normal.y*8,X,W):w.lineBetween(X+b.normal.x*8,W+b.normal.y*8,X,W)}}return this},renderBodyBounds:function(y,w,A,P){w.lineStyle(1,A,P);for(var M=0;M<y.length;M++){var L=y[M];if(L.render.visible){var F=L.bounds;if(F)w.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var N=L.parts,b=N.length>1?1:0;b<N.length;b++){var V=N[b];w.strokeRect(V.bounds.min.x,V.bounds.min.y,V.bounds.max.x-V.bounds.min.x,V.bounds.max.y-V.bounds.min.y)}}}return this},renderBodyAxes:function(y,w,A,P,M){w.lineStyle(1,P,M);for(var L=0;L<y.length;L++){var F=y[L],N=F.parts;if(F.render.visible){var b,V,X;if(A)for(V=N.length>1?1:0;V<N.length;V++)for(b=N[V],X=0;X<b.axes.length;X++){var W=b.axes[X];w.lineBetween(b.position.x,b.position.y,b.position.x+W.x*20,b.position.y+W.y*20)}else for(V=N.length>1?1:0;V<N.length;V++)for(b=N[V],X=0;X<b.axes.length;X++)w.lineBetween(b.position.x,b.position.y,(b.vertices[0].x+b.vertices[b.vertices.length-1].x)/2,(b.vertices[0].y+b.vertices[b.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(y,w,A,P,M){w.lineStyle(M,A,P);for(var L=0;L<y.length;L++){var F=y[L];F.render.visible&&w.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(y){for(var w=this.debugGraphic,A=this.debugConfig,P=A.showBody,M=A.showStaticBody,L=A.showSleeping,F=A.showInternalEdges,N=A.showConvexHulls,b=A.renderFill,V=A.renderLine,X=A.staticBodySleepOpacity,W=A.sleepFillColor,k=A.sleepLineColor,Q=A.hullColor,U=0;U<y.length;U++){var Y=y[U];if(Y.render.visible&&!(!M&&Y.isStatic||!P&&!Y.isStatic)){var O=Y.render.lineColor,G=Y.render.lineOpacity,z=Y.render.lineThickness,H=Y.render.fillColor,K=Y.render.fillOpacity;L&&Y.isSleeping&&(Y.isStatic?(G*=X,K*=X):(O=k,H=W)),b||(H=null),V||(O=null),this.renderBody(Y,w,F,O,G,z,H,K);var J=Y.parts.length;N&&J>1&&this.renderConvexHull(Y,w,Q,z)}}},renderBody:function(y,w,A,P,M,L,F,N){P===void 0&&(P=null),M===void 0&&(M=null),L===void 0&&(L=1),F===void 0&&(F=null),N===void 0&&(N=null);for(var b=this.debugConfig,V=b.sensorFillColor,X=b.sensorLineColor,W=y.parts,k=W.length,Q=k>1?1:0;Q<k;Q++){var U=W[Q],Y=U.render,O=Y.opacity;if(!(!Y.visible||O===0||U.isSensor&&!b.showSensors)){var G=U.circleRadius;if(w.beginPath(),U.isSensor?(F!==null&&w.fillStyle(V,N*O),P!==null&&w.lineStyle(L,X,M*O)):(F!==null&&w.fillStyle(F,N*O),P!==null&&w.lineStyle(L,P,M*O)),G)w.arc(U.position.x,U.position.y,G,0,2*Math.PI);else{var z=U.vertices,H=z.length;w.moveTo(z[0].x,z[0].y);for(var K=1;K<H;K++){var J=z[K];if(!z[K-1].isInternal||A?w.lineTo(J.x,J.y):w.moveTo(J.x,J.y),K<H&&J.isInternal&&!A){var Z=(K+1)%H;w.moveTo(z[Z].x,z[Z].y)}}w.closePath()}F!==null&&w.fillPath(),P!==null&&w.strokePath()}}if(b.showPositions&&!y.isStatic){var _=y.position.x,tt=y.position.y,et=Math.ceil(b.positionSize/2);w.fillStyle(b.positionColor,1),w.fillRect(_-et,tt-et,b.positionSize,b.positionSize)}return this},renderConvexHull:function(y,w,A,P){P===void 0&&(P=1);var M=y.parts,L=M.length;if(L>1){var F=y.vertices;w.lineStyle(P,A),w.beginPath(),w.moveTo(F[0].x,F[0].y);for(var N=1;N<F.length;N++)w.lineTo(F[N].x,F[N].y);w.lineTo(F[0].x,F[0].y),w.strokePath()}return this},renderJoints:function(){for(var y=this.debugGraphic,w=r.allConstraints(this.localWorld),A=0;A<w.length;A++){var P=w[A].render,M=P.lineColor,L=P.lineOpacity,F=P.lineThickness,N=P.pinSize,b=P.anchorColor,V=P.anchorSize;this.renderConstraint(w[A],y,M,L,F,N,b,V)}},renderConstraint:function(y,w,A,P,M,L,F,N){var b=y.render;if(!b.visible||!y.pointA||!y.pointB)return this;w.lineStyle(M,A,P);var V=y.bodyA,X=y.bodyB,W,k;if(V?W=T.add(V.position,y.pointA):W=y.pointA,b.type==="pin")w.strokeCircle(W.x,W.y,L);else{if(X?k=T.add(X.position,y.pointB):k=y.pointB,w.beginPath(),w.moveTo(W.x,W.y),b.type==="spring")for(var Q=T.sub(k,W),U=T.perp(T.normalise(Q)),Y=Math.ceil(a.clamp(y.length/5,12,20)),O,G=1;G<Y;G+=1)O=G%2===0?1:-1,w.lineTo(W.x+Q.x*(G/Y)+U.x*O*4,W.y+Q.y*(G/Y)+U.y*O*4);w.lineTo(k.x,k.y)}return w.strokePath(),b.anchors&&N>0&&(w.fillStyle(F),w.fillCircle(W.x,W.y,N),w.fillCircle(k.x,k.y,N)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){c.off(this.engine),this.removeAllListeners(),x.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});v.exports=E},95349:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};v.exports=S},70679:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var h=0;if(!Array.isArray(t))h=t;else for(var m=0;m<t.length;m++)h|=t[m];return this.body.collisionFilter.mask=h,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,h){Array.isArray(t)||(t=[t]);for(var m=0;m<t.length;m++){var l=t[m].hasOwnProperty("body")?t[m].body:t[m];this.body.setOnCollideWith(l,h)}return this}};v.exports=S},77178:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),m={applyForce:function(l){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,l),this},applyForceFrom:function(l,a){return h.applyForce(this.body,l,a),this},thrust:function(l){var a=this.body.angle;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(l){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(l){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(l){var a=this.body.angle-Math.PI;return this._tempVec2.set(l*Math.cos(a),l*Math.sin(a)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};v.exports=m},74015:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,h,m){return this.body.friction=t,h!==void 0&&(this.body.frictionAir=h),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};v.exports=S},11535:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};v.exports=S},74497:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),m=t(93736),l={setMass:function(a){return h.setMass(this.body,a),this},setDensity:function(a){return h.setDensity(this.body,a),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};v.exports=l},75529:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};v.exports=S},64024:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68516),m=t(84125),l=t(88456),a=t(72632),r=t(10998),i=t(72829),s=t(39745),f={setRectangle:function(e,o,d){return this.setBody({type:"rectangle",width:e,height:o},d)},setCircle:function(e,o){return this.setBody({type:"circle",radius:e},o)},setPolygon:function(e,o,d){return this.setBody({type:"polygon",sides:o,radius:e},d)},setTrapezoid:function(e,o,d,c){return this.setBody({type:"trapezoid",width:e,height:o,slope:d},c)},setExistingBody:function(e,o){o===void 0&&(o=!0),this.body&&this.world.remove(this.body,!0),this.body=e;for(var d=0;d<e.parts.length;d++)e.parts[d].gameObject=this;var c=this;if(e.destroy=function(){c.world.remove(c.body,!0),c.body.gameObject=null},o&&(this.world.has(e)&&this.world.remove(e,!0),this.world.add(e)),this._originComponent){var p=e.render.sprite.xOffset,x=e.render.sprite.yOffset,T=e.centerOfMass.x,E=e.centerOfMass.y;if(l(T,.5)&&l(E,.5))this.setOrigin(p+.5,x+.5);else{var y=e.centerOffset.x,w=e.centerOffset.y;this.setOrigin(p+y/this.displayWidth,x+w/this.displayHeight)}}return this},setBody:function(e,o){if(!e)return this;var d;typeof e=="string"&&(e={type:e});var c=a(e,"type","rectangle"),p=a(e,"x",this._tempVec2.x),x=a(e,"y",this._tempVec2.y),T=a(e,"width",this.width),E=a(e,"height",this.height);switch(c){case"rectangle":d=h.rectangle(p,x,T,E,o);break;case"circle":var y=a(e,"radius",Math.max(T,E)/2),w=a(e,"maxSides",25);d=h.circle(p,x,y,o,w);break;case"trapezoid":var A=a(e,"slope",.5);d=h.trapezoid(p,x,T,E,A,o);break;case"polygon":var P=a(e,"sides",5),M=a(e,"radius",Math.max(T,E)/2);d=h.polygon(p,x,P,M,o);break;case"fromVertices":case"fromVerts":var L=a(e,"verts",null);if(L)if(typeof L=="string"&&(L=s.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,L),d=this.body;else{var F=a(e,"flagInternal",!1),N=a(e,"removeCollinear",.01),b=a(e,"minimumArea",10);d=h.fromVertices(p,x,L,o,F,N,b)}break;case"fromPhysicsEditor":d=r.parseBody(p,x,e,o);break;case"fromPhysicsTracer":d=i.parseBody(p,x,e,o);break}return d&&this.setExistingBody(d,e.addToWorld),this}};v.exports=f},25106:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35416),m=t(22806),l=t(39073),a={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(r){return r===void 0&&(r=60),this.body.sleepThreshold=r,this},setSleepEvents:function(r,i){return this.setSleepStartEvent(r),this.setSleepEndEvent(i),this},setSleepStartEvent:function(r){if(r){var i=this.world;l.on(this.body,"sleepStart",function(s){i.emit(h.SLEEP_START,s,this)})}else l.off(this.body,"sleepStart");return this},setSleepEndEvent:function(r){if(r){var i=this.world;l.on(this.body,"sleepEnd",function(s){i.emit(h.SLEEP_END,s,this)})}else l.off(this.body,"sleepEnd");return this}};v.exports=a},82884:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),m={setStatic:function(l){return h.setStatic(this.body,l),this},isStatic:function(){return this.body.isStatic}};v.exports=m},4753:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),m=t(83392),l=t(35786),a=t(62138),r=4,i={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),h.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(s){var f=1/this._scaleX,e=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=~r:this.renderFlags|=r,h.scale(this.body,f,e),h.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var f=1/this._scaleX,e=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=~r:this.renderFlags|=r,h.scale(this.body,f,e),h.scale(this.body,this._scaleX,s)}},angle:{get:function(){return a(this.body.angle*m.RAD_TO_DEG)},set:function(s){this.rotation=a(s)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=l(s),h.setAngle(this.body,this._rotation)}},setPosition:function(s,f){return s===void 0&&(s=0),f===void 0&&(f=s),this._tempVec2.set(s,f),h.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=l(s),h.setAngle(this.body,s),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,h.setAngle(this.body,this.rotation),this},setScale:function(s,f,e){s===void 0&&(s=1),f===void 0&&(f=s);var o=1/this._scaleX,d=1/this._scaleY;return this._scaleX=s,this._scaleY=f,h.scale(this.body,o,d,e),h.scale(this.body,s,f,e),this}};v.exports=i},37268:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84125),m={setVelocityX:function(l){return this._tempVec2.set(l,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(l){return this._tempVec2.set(this.body.velocity.x,l),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(l,a){return this._tempVec2.set(l,a),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(l){return h.setAngularVelocity(this.body,l),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(l){return h.setAngularSpeed(this.body,l),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};v.exports=m},74527:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bounce:t(95349),Collision:t(70679),Force:t(77178),Friction:t(74015),Gravity:t(11535),Mass:t(74497),Sensor:t(75529),SetBody:t(64024),Sleep:t(25106),Static:t(82884),Transform:t(4753),Velocity:t(37268)}},63201:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afteradd"},30474:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterremove"},44822:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterupdate"},88820:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeadd"},94849:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeremove"},6391:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeupdate"},96738:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionactive"},7916:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionend"},59529:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionstart"},10219:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},183:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},39143:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},16483:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},35806:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},22106:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepend"},5803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepstart"},35416:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_ADD:t(63201),AFTER_REMOVE:t(30474),AFTER_UPDATE:t(44822),BEFORE_ADD:t(88820),BEFORE_REMOVE:t(94849),BEFORE_UPDATE:t(6391),COLLISION_ACTIVE:t(96738),COLLISION_END:t(7916),COLLISION_START:t(59529),DRAG_END:t(10219),DRAG:t(183),DRAG_START:t(39143),PAUSE:t(16483),RESUME:t(35806),SLEEP_END:t(22106),SLEEP_START:t(5803)}},45949:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BodyBounds:t(63568),Components:t(74527),Events:t(35416),Factory:t(72653),MatterGameObject:t(3860),Image:t(7030),Matter:t(18171),MatterPhysics:t(50583),PolyDecomp:t(81084),Sprite:t(73658),TileBody:t(84720),PhysicsEditorParser:t(10998),PhysicsJSONParser:t(72829),PointerConstraint:t(88596),World:t(31468)}},84125:(v,S,t)=>{var h={};v.exports=h;var m=t(39745),l=t(10438),a=t(22806),r=t(68758),i=t(84091),s=t(50658);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(e){var o={id:r.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=m.centre(e.vertices):e.hasOwnProperty("vertices")||(o.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var d=r.extend(o,e);return f(d,e),d.setOnCollideWith=function(c,p){return p?this.onCollideWith[c.id]=p:delete this.onCollideWith[c.id],this},d},h.nextGroup=function(e){return e?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var f=function(e,o){if(o=o||{},h.set(e,{bounds:e.bounds||i.create(e.vertices),positionPrev:e.positionPrev||l.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),m.rotate(e.vertices,e.angle,e.position),s.rotate(e.axes,e.angle),i.update(e.bounds,e.vertices,e.velocity),h.set(e,{axes:o.axes||e.axes,area:o.area||e.area,mass:o.mass||e.mass,inertia:o.inertia||e.inertia}),e.parts.length===1){var d=e.bounds,c=e.centerOfMass,p=e.centerOffset,x=d.max.x-d.min.x,T=d.max.y-d.min.y;c.x=-(d.min.x-e.position.x)/x,c.y=-(d.min.y-e.position.y)/T,p.x=x*c.x,p.y=T*c.y}};h.set=function(e,o,d){var c;typeof o=="string"&&(c=o,o={},o[c]=d);for(c in o)if(Object.prototype.hasOwnProperty.call(o,c))switch(d=o[c],c){case"isStatic":h.setStatic(e,d);break;case"isSleeping":a.set(e,d);break;case"mass":h.setMass(e,d);break;case"density":h.setDensity(e,d);break;case"inertia":h.setInertia(e,d);break;case"vertices":h.setVertices(e,d);break;case"position":h.setPosition(e,d);break;case"angle":h.setAngle(e,d);break;case"velocity":h.setVelocity(e,d);break;case"angularVelocity":h.setAngularVelocity(e,d);break;case"speed":h.setSpeed(e,d);break;case"angularSpeed":h.setAngularSpeed(e,d);break;case"parts":h.setParts(e,d);break;case"centre":h.setCentre(e,d);break;default:e[c]=d}},h.setStatic=function(e,o){for(var d=0;d<e.parts.length;d++){var c=e.parts[d];o?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=o}},h.setMass=function(e,o){var d=e.inertia/(e.mass/6);e.inertia=d*(o/6),e.inverseInertia=1/e.inertia,e.mass=o,e.inverseMass=1/e.mass,e.density=e.mass/e.area},h.setDensity=function(e,o){h.setMass(e,o*e.area),e.density=o},h.setInertia=function(e,o){e.inertia=o,e.inverseInertia=1/e.inertia},h.setVertices=function(e,o){o[0].body===e?e.vertices=o:e.vertices=m.create(o,e),e.axes=s.fromVertices(e.vertices),e.area=m.area(e.vertices),h.setMass(e,e.density*e.area);var d=m.centre(e.vertices);m.translate(e.vertices,d,-1),h.setInertia(e,h._inertiaScale*m.inertia(e.vertices,e.mass)),m.translate(e.vertices,e.position),i.update(e.bounds,e.vertices,e.velocity)},h.setParts=function(e,o,d){var c;for(o=o.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,c=0;c<o.length;c++){var p=o[c];p!==e&&(p.parent=e,e.parts.push(p))}if(e.parts.length!==1){if(d=typeof d<"u"?d:!0,d){var x=[];for(c=0;c<o.length;c++)x=x.concat(o[c].vertices);m.clockwiseSort(x);var T=m.hull(x),E=m.centre(T);h.setVertices(e,T),m.translate(e.vertices,E)}var y=h._totalProperties(e),w=y.centre.x,A=y.centre.y,P=e.bounds,M=e.centerOfMass,L=e.centerOffset;i.update(P,e.vertices,e.velocity),M.x=-(P.min.x-w)/(P.max.x-P.min.x),M.y=-(P.min.y-A)/(P.max.y-P.min.y),L.x=w,L.y=A,e.area=y.area,e.parent=e,e.position.x=w,e.position.y=A,e.positionPrev.x=w,e.positionPrev.y=A,h.setMass(e,y.mass),h.setInertia(e,y.inertia),h.setPosition(e,y.centre)}},h.setCentre=function(e,o,d){d?(e.positionPrev.x+=o.x,e.positionPrev.y+=o.y,e.position.x+=o.x,e.position.y+=o.y):(e.positionPrev.x=o.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=o.y-(e.position.y-e.positionPrev.y),e.position.x=o.x,e.position.y=o.y)},h.setPosition=function(e,o,d){var c=l.sub(o,e.position);d?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=c.x,e.velocity.y=c.y,e.speed=l.magnitude(c)):(e.positionPrev.x+=c.x,e.positionPrev.y+=c.y);for(var p=0;p<e.parts.length;p++){var x=e.parts[p];x.position.x+=c.x,x.position.y+=c.y,m.translate(x.vertices,c),i.update(x.bounds,x.vertices,e.velocity)}},h.setAngle=function(e,o,d){var c=o-e.angle;d?(e.anglePrev=e.angle,e.angularVelocity=c,e.angularSpeed=Math.abs(c)):e.anglePrev+=c;for(var p=0;p<e.parts.length;p++){var x=e.parts[p];x.angle+=c,m.rotate(x.vertices,c,e.position),s.rotate(x.axes,c),i.update(x.bounds,x.vertices,e.velocity),p>0&&l.rotateAbout(x.position,c,e.position,x.position)}},h.setVelocity=function(e,o){var d=e.deltaTime/h._baseDelta;e.positionPrev.x=e.position.x-o.x*d,e.positionPrev.y=e.position.y-o.y*d,e.velocity.x=(e.position.x-e.positionPrev.x)/d,e.velocity.y=(e.position.y-e.positionPrev.y)/d,e.speed=l.magnitude(e.velocity)},h.getVelocity=function(e){var o=h._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*o,y:(e.position.y-e.positionPrev.y)*o}},h.getSpeed=function(e){return l.magnitude(h.getVelocity(e))},h.setSpeed=function(e,o){h.setVelocity(e,l.mult(l.normalise(h.getVelocity(e)),o))},h.setAngularVelocity=function(e,o){var d=e.deltaTime/h._baseDelta;e.anglePrev=e.angle-o*d,e.angularVelocity=(e.angle-e.anglePrev)/d,e.angularSpeed=Math.abs(e.angularVelocity)},h.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*h._baseDelta/e.deltaTime},h.getAngularSpeed=function(e){return Math.abs(h.getAngularVelocity(e))},h.setAngularSpeed=function(e,o){h.setAngularVelocity(e,r.sign(h.getAngularVelocity(e))*o)},h.translate=function(e,o,d){h.setPosition(e,l.add(e.position,o),d)},h.rotate=function(e,o,d,c){if(!d)h.setAngle(e,e.angle+o,c);else{var p=Math.cos(o),x=Math.sin(o),T=e.position.x-d.x,E=e.position.y-d.y;h.setPosition(e,{x:d.x+(T*p-E*x),y:d.y+(T*x+E*p)},c),h.setAngle(e,e.angle+o,c)}},h.scale=function(e,o,d,c){var p=0,x=0;c=c||e.position;for(var T=0;T<e.parts.length;T++){var E=e.parts[T];E.scale.x=o,E.scale.y=d,m.scale(E.vertices,o,d,c),E.axes=s.fromVertices(E.vertices),E.area=m.area(E.vertices),h.setMass(E,e.density*E.area),m.translate(E.vertices,{x:-E.position.x,y:-E.position.y}),h.setInertia(E,h._inertiaScale*m.inertia(E.vertices,E.mass)),m.translate(E.vertices,{x:E.position.x,y:E.position.y}),T>0&&(p+=E.area,x+=E.inertia),E.position.x=c.x+(E.position.x-c.x)*o,E.position.y=c.y+(E.position.y-c.y)*d,i.update(E.bounds,E.vertices,e.velocity)}e.parts.length>1&&(e.area=p,e.isStatic||(h.setMass(e,e.density*p),h.setInertia(e,x))),e.circleRadius&&(o===d?e.circleRadius*=o:e.circleRadius=null)},h.update=function(e,o){o=(typeof o<"u"?o:16.666666666666668)*e.timeScale;var d=o*o,c=h._timeCorrection?o/(e.deltaTime||o):1,p=1-e.frictionAir*(o/r._baseDelta),x=(e.position.x-e.positionPrev.x)*c,T=(e.position.y-e.positionPrev.y)*c;e.velocity.x=x*p+e.force.x/e.mass*d,e.velocity.y=T*p+e.force.y/e.mass*d,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=o,e.angularVelocity=(e.angle-e.anglePrev)*p*c+e.torque/e.inertia*d,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=l.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var E=0;E<e.parts.length;E++){var y=e.parts[E];m.translate(y.vertices,e.velocity),E>0&&(y.position.x+=e.velocity.x,y.position.y+=e.velocity.y),e.angularVelocity!==0&&(m.rotate(y.vertices,e.angularVelocity,e.position),s.rotate(y.axes,e.angularVelocity),E>0&&l.rotateAbout(y.position,e.angularVelocity,e.position,y.position)),i.update(y.bounds,y.vertices,e.velocity)}},h.updateVelocities=function(e){var o=h._baseDelta/e.deltaTime,d=e.velocity;d.x=(e.position.x-e.positionPrev.x)*o,d.y=(e.position.y-e.positionPrev.y)*o,e.speed=Math.sqrt(d.x*d.x+d.y*d.y),e.angularVelocity=(e.angle-e.anglePrev)*o,e.angularSpeed=Math.abs(e.angularVelocity)},h.applyForce=function(e,o,d){var c={x:o.x-e.position.x,y:o.y-e.position.y};e.force.x+=d.x,e.force.y+=d.y,e.torque+=c.x*d.y-c.y*d.x},h._totalProperties=function(e){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},d=e.parts.length===1?0:1;d<e.parts.length;d++){var c=e.parts[d],p=c.mass!==1/0?c.mass:1;o.mass+=p,o.area+=c.area,o.inertia+=c.inertia,o.centre=l.add(o.centre,l.mult(c.position,p))}return o.centre=l.div(o.centre,o.mass),o}})()},11299:(v,S,t)=>{var h={};v.exports=h;var m=t(39073),l=t(68758),a=t(84091),r=t(84125);(function(){h.create=function(i){return l.extend({id:l.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},h.setModified=function(i,s,f,e){if(m.trigger(i,"compositeModified",i),i.isModified=s,s&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),f&&i.parent&&h.setModified(i.parent,s,f,e),e)for(var o=0;o<i.composites.length;o++){var d=i.composites[o];h.setModified(d,s,f,e)}},h.add=function(i,s){var f=[].concat(s);m.trigger(i,"beforeAdd",{object:s});for(var e=0;e<f.length;e++){var o=f[e];switch(o.type){case"body":if(o.parent!==o){l.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(i,o);break;case"constraint":h.addConstraint(i,o);break;case"composite":h.addComposite(i,o);break;case"mouseConstraint":h.addConstraint(i,o.constraint);break}}return m.trigger(i,"afterAdd",{object:s}),i},h.remove=function(i,s,f){var e=[].concat(s);m.trigger(i,"beforeRemove",{object:s});for(var o=0;o<e.length;o++){var d=e[o];switch(d.type){case"body":h.removeBody(i,d,f);break;case"constraint":h.removeConstraint(i,d,f);break;case"composite":h.removeComposite(i,d,f);break;case"mouseConstraint":h.removeConstraint(i,d.constraint);break}}return m.trigger(i,"afterRemove",{object:s}),i},h.addComposite=function(i,s){return i.composites.push(s),s.parent=i,h.setModified(i,!0,!0,!1),i},h.removeComposite=function(i,s,f){var e=l.indexOf(i.composites,s);if(e!==-1&&h.removeCompositeAt(i,e),f)for(var o=0;o<i.composites.length;o++)h.removeComposite(i.composites[o],s,!0);return i},h.removeCompositeAt=function(i,s){return i.composites.splice(s,1),h.setModified(i,!0,!0,!1),i},h.addBody=function(i,s){return i.bodies.push(s),h.setModified(i,!0,!0,!1),i},h.removeBody=function(i,s,f){var e=l.indexOf(i.bodies,s);if(e!==-1&&h.removeBodyAt(i,e),f)for(var o=0;o<i.composites.length;o++)h.removeBody(i.composites[o],s,!0);return i},h.removeBodyAt=function(i,s){return i.bodies.splice(s,1),h.setModified(i,!0,!0,!1),i},h.addConstraint=function(i,s){return i.constraints.push(s),h.setModified(i,!0,!0,!1),i},h.removeConstraint=function(i,s,f){var e=l.indexOf(i.constraints,s);if(e!==-1&&h.removeConstraintAt(i,e),f)for(var o=0;o<i.composites.length;o++)h.removeConstraint(i.composites[o],s,!0);return i},h.removeConstraintAt=function(i,s){return i.constraints.splice(s,1),h.setModified(i,!0,!0,!1),i},h.clear=function(i,s,f){if(f)for(var e=0;e<i.composites.length;e++)h.clear(i.composites[e],s,!0);return s?i.bodies=i.bodies.filter(function(o){return o.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,h.setModified(i,!0,!0,!1),i},h.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var s=[].concat(i.bodies),f=0;f<i.composites.length;f++)s=s.concat(h.allBodies(i.composites[f]));return i.cache&&(i.cache.allBodies=s),s},h.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var s=[].concat(i.constraints),f=0;f<i.composites.length;f++)s=s.concat(h.allConstraints(i.composites[f]));return i.cache&&(i.cache.allConstraints=s),s},h.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var s=[].concat(i.composites),f=0;f<i.composites.length;f++)s=s.concat(h.allComposites(i.composites[f]));return i.cache&&(i.cache.allComposites=s),s},h.get=function(i,s,f){var e,o;switch(f){case"body":e=h.allBodies(i);break;case"constraint":e=h.allConstraints(i);break;case"composite":e=h.allComposites(i).concat(i);break}return e?(o=e.filter(function(d){return d.id.toString()===s.toString()}),o.length===0?null:o[0]):null},h.move=function(i,s,f){return h.remove(i,s),h.add(f,s),i},h.rebase=function(i){for(var s=h.allBodies(i).concat(h.allConstraints(i)).concat(h.allComposites(i)),f=0;f<s.length;f++)s[f].id=l.nextId();return i},h.translate=function(i,s,f){for(var e=f?h.allBodies(i):i.bodies,o=0;o<e.length;o++)r.translate(e[o],s);return i},h.rotate=function(i,s,f,e){for(var o=Math.cos(s),d=Math.sin(s),c=e?h.allBodies(i):i.bodies,p=0;p<c.length;p++){var x=c[p],T=x.position.x-f.x,E=x.position.y-f.y;r.setPosition(x,{x:f.x+(T*o-E*d),y:f.y+(T*d+E*o)}),r.rotate(x,s)}return i},h.scale=function(i,s,f,e,o){for(var d=o?h.allBodies(i):i.bodies,c=0;c<d.length;c++){var p=d[c],x=p.position.x-e.x,T=p.position.y-e.y;r.setPosition(p,{x:e.x+x*s,y:e.y+T*f}),r.scale(p,s,f)}return i},h.bounds=function(i){for(var s=h.allBodies(i),f=[],e=0;e<s.length;e+=1){var o=s[e];f.push(o.bounds.min,o.bounds.max)}return a.create(f)}})()},72005:(v,S,t)=>{var h={};v.exports=h;var m=t(11299);(function(){h.create=m.create,h.add=m.add,h.remove=m.remove,h.clear=m.clear,h.addComposite=m.addComposite,h.addBody=m.addBody,h.addConstraint=m.addConstraint})()},63454:(v,S,t)=>{var h={};v.exports=h;var m=t(39745),l=t(70584);(function(){var a=[],r={overlap:0,axis:null},i={overlap:0,axis:null};h.create=function(s,f){return{pair:null,collided:!1,bodyA:s,bodyB:f,parentA:s.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},h.collides=function(s,f,e){if(h._overlapAxes(r,s.vertices,f.vertices,s.axes),r.overlap<=0||(h._overlapAxes(i,f.vertices,s.vertices,f.axes),i.overlap<=0))return null;var o=e&&e.table[l.id(s,f)],d;o?d=o.collision:(d=h.create(s,f),d.collided=!0,d.bodyA=s.id<f.id?s:f,d.bodyB=s.id<f.id?f:s,d.parentA=d.bodyA.parent,d.parentB=d.bodyB.parent),s=d.bodyA,f=d.bodyB;var c;r.overlap<i.overlap?c=r:c=i;var p=d.normal,x=d.supports,T=c.axis,E=T.x,y=T.y;E*(f.position.x-s.position.x)+y*(f.position.y-s.position.y)<0?(p.x=E,p.y=y):(p.x=-E,p.y=-y),d.tangent.x=-p.y,d.tangent.y=p.x,d.depth=c.overlap,d.penetration.x=p.x*d.depth,d.penetration.y=p.y*d.depth;var w=h._findSupports(s,f,p,1),A=0;if(m.contains(s.vertices,w[0])&&(x[A++]=w[0]),m.contains(s.vertices,w[1])&&(x[A++]=w[1]),A<2){var P=h._findSupports(f,s,p,-1);m.contains(f.vertices,P[0])&&(x[A++]=P[0]),A<2&&m.contains(f.vertices,P[1])&&(x[A++]=P[1])}return A===0&&(x[A++]=w[0]),x.length=A,d},h._overlapAxes=function(s,f,e,o){var d=f.length,c=e.length,p=f[0].x,x=f[0].y,T=e[0].x,E=e[0].y,y=o.length,w=Number.MAX_VALUE,A=0,P,M,L,F,N,b;for(N=0;N<y;N++){var V=o[N],X=V.x,W=V.y,k=p*X+x*W,Q=T*X+E*W,U=k,Y=Q;for(b=1;b<d;b+=1)F=f[b].x*X+f[b].y*W,F>U?U=F:F<k&&(k=F);for(b=1;b<c;b+=1)F=e[b].x*X+e[b].y*W,F>Y?Y=F:F<Q&&(Q=F);if(M=U-Q,L=Y-k,P=M<L?M:L,P<w&&(w=P,A=N,P<=0))break}s.axis=o[A],s.overlap=w},h._projectToAxis=function(s,f,e){for(var o=f[0].x*e.x+f[0].y*e.y,d=o,c=1;c<f.length;c+=1){var p=f[c].x*e.x+f[c].y*e.y;p>d?d=p:p<o&&(o=p)}s.min=o,s.max=d},h._findSupports=function(s,f,e,o){var d=f.vertices,c=d.length,p=s.position.x,x=s.position.y,T=e.x*o,E=e.y*o,y=Number.MAX_VALUE,w,A,P,M,L;for(L=0;L<c;L+=1)A=d[L],M=T*(p-A.x)+E*(x-A.y),M<y&&(y=M,w=A);return P=d[(c+w.index-1)%c],y=T*(p-P.x)+E*(x-P.y),A=d[(w.index+1)%c],T*(p-A.x)+E*(x-A.y)<y?(a[0]=w,a[1]=A,a):(a[0]=w,a[1]=P,a)}})()},17319:v=>{var S={};v.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},13657:(v,S,t)=>{var h={};v.exports=h;var m=t(68758),l=t(63454);(function(){h.create=function(a){var r={bodies:[],pairs:null};return m.extend(r,a)},h.setBodies=function(a,r){a.bodies=r.slice(0)},h.clear=function(a){a.bodies=[]},h.collisions=function(a){var r=[],i=a.pairs,s=a.bodies,f=s.length,e=h.canCollide,o=l.collides,d,c;for(s.sort(h._compareBoundsX),d=0;d<f;d++){var p=s[d],x=p.bounds,T=p.bounds.max.x,E=p.bounds.max.y,y=p.bounds.min.y,w=p.isStatic||p.isSleeping,A=p.parts.length,P=A===1;for(c=d+1;c<f;c++){var M=s[c],L=M.bounds;if(L.min.x>T)break;if(!(E<L.min.y||y>L.max.y)&&!(w&&(M.isStatic||M.isSleeping))&&e(p.collisionFilter,M.collisionFilter)){var F=M.parts.length;if(P&&F===1){var N=o(p,M,i);N&&r.push(N)}else for(var b=A>1?1:0,V=F>1?1:0,X=b;X<A;X++)for(var W=p.parts[X],x=W.bounds,k=V;k<F;k++){var Q=M.parts[k],L=Q.bounds;if(!(x.min.x>L.max.x||x.max.x<L.min.x||x.max.y<L.min.y||x.min.y>L.max.y)){var N=o(W,Q,i);N&&r.push(N)}}}}}return r},h.canCollide=function(a,r){return a.group===r.group&&a.group!==0?a.group>0:(a.mask&r.category)!==0&&(r.mask&a.category)!==0},h._compareBoundsX=function(a,r){return a.bounds.min.x-r.bounds.min.x}})()},70584:(v,S,t)=>{var h={};v.exports=h;var m=t(17319);(function(){h.create=function(l,a){var r=l.bodyA,i=l.bodyB,s={id:h.id(r,i),bodyA:r,bodyB:i,collision:l,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:a,timeUpdated:a,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(s,l,a),s},h.update=function(l,a,r){var i=l.contacts,s=a.supports,f=l.activeContacts,e=a.parentA,o=a.parentB,d=e.vertices.length;l.isActive=!0,l.timeUpdated=r,l.collision=a,l.separation=a.depth,l.inverseMass=e.inverseMass+o.inverseMass,l.friction=e.friction<o.friction?e.friction:o.friction,l.frictionStatic=e.frictionStatic>o.frictionStatic?e.frictionStatic:o.frictionStatic,l.restitution=e.restitution>o.restitution?e.restitution:o.restitution,l.slop=e.slop>o.slop?e.slop:o.slop,a.pair=l,f.length=0;for(var c=0;c<s.length;c++){var p=s[c],x=p.body===e?p.index:d+p.index,T=i[x];T?f.push(T):f.push(i[x]=m.create(p))}},h.setActive=function(l,a,r){a?(l.isActive=!0,l.timeUpdated=r):(l.isActive=!1,l.activeContacts.length=0)},h.id=function(l,a){return l.id<a.id?"A"+l.id+"B"+a.id:"A"+a.id+"B"+l.id}})()},91327:(v,S,t)=>{var h={};v.exports=h;var m=t(70584),l=t(68758);(function(){h.create=function(a){return l.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},h.update=function(a,r,i){var s=a.list,f=s.length,e=a.table,o=r.length,d=a.collisionStart,c=a.collisionEnd,p=a.collisionActive,x,T,E,y;for(d.length=0,c.length=0,p.length=0,y=0;y<f;y++)s[y].confirmedActive=!1;for(y=0;y<o;y++)x=r[y],E=x.pair,E?(E.isActive?p.push(E):d.push(E),m.update(E,x,i),E.confirmedActive=!0):(E=m.create(x,i),e[E.id]=E,d.push(E),s.push(E));var w=[];for(f=s.length,y=0;y<f;y++)E=s[y],E.confirmedActive||(m.setActive(E,!1,i),c.push(E),!E.collision.bodyA.isSleeping&&!E.collision.bodyB.isSleeping&&w.push(y));for(y=0;y<w.length;y++)T=w[y]-y,E=s[T],s.splice(T,1),delete e[E.id]},h.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},13390:(v,S,t)=>{var h={};v.exports=h;var m=t(10438),l=t(63454),a=t(84091),r=t(68516),i=t(39745);(function(){h.collides=function(s,f){for(var e=[],o=f.length,d=s.bounds,c=l.collides,p=a.overlaps,x=0;x<o;x++){var T=f[x],E=T.parts.length,y=E===1?0:1;if(s!==T&&p(T.bounds,d))for(var w=y;w<E;w++){var A=T.parts[w];if(p(A.bounds,d)){var P=c(A,s);if(P){e.push(P);break}}}}return e},h.ray=function(s,f,e,o){o=o||1e-100;for(var d=m.angle(f,e),c=m.magnitude(m.sub(f,e)),p=(e.x+f.x)*.5,x=(e.y+f.y)*.5,T=r.rectangle(p,x,c,o,{angle:d}),E=h.collides(T,s),y=0;y<E.length;y+=1){var w=E[y];w.body=w.bodyB=w.bodyA}return E},h.region=function(s,f,e){for(var o=[],d=0;d<s.length;d++){var c=s[d],p=a.overlaps(c.bounds,f);(p&&!e||!p&&e)&&o.push(c)}return o},h.point=function(s,f){for(var e=[],o=0;o<s.length;o++){var d=s[o];if(a.contains(d.bounds,f))for(var c=d.parts.length===1?0:1;c<d.parts.length;c++){var p=d.parts[c];if(a.contains(p.bounds,f)&&i.contains(p.vertices,f)){e.push(d);break}}}return e}})()},44272:(v,S,t)=>{var h={};v.exports=h;var m=t(39745),l=t(68758),a=t(84091);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(r){var i,s,f,e=r.length;for(i=0;i<e;i++)s=r[i],s.isActive&&(f=s.activeContacts.length,s.collision.parentA.totalContacts+=f,s.collision.parentB.totalContacts+=f)},h.solvePosition=function(r,i,s){var f,e,o,d,c,p,x,T,E=h._positionDampen*(s||1),y=l.clamp(i/l._baseDelta,0,1),w=r.length;for(f=0;f<w;f++)e=r[f],!(!e.isActive||e.isSensor)&&(o=e.collision,d=o.parentA,c=o.parentB,p=o.normal,e.separation=p.x*(c.positionImpulse.x+o.penetration.x-d.positionImpulse.x)+p.y*(c.positionImpulse.y+o.penetration.y-d.positionImpulse.y));for(f=0;f<w;f++)e=r[f],!(!e.isActive||e.isSensor)&&(o=e.collision,d=o.parentA,c=o.parentB,p=o.normal,T=e.separation-e.slop*y,(d.isStatic||c.isStatic)&&(T*=2),d.isStatic||d.isSleeping||(x=E/d.totalContacts,d.positionImpulse.x+=p.x*T*x,d.positionImpulse.y+=p.y*T*x),c.isStatic||c.isSleeping||(x=E/c.totalContacts,c.positionImpulse.x-=p.x*T*x,c.positionImpulse.y-=p.y*T*x))},h.postSolvePosition=function(r){for(var i=h._positionWarming,s=r.length,f=m.translate,e=a.update,o=0;o<s;o++){var d=r[o],c=d.positionImpulse,p=c.x,x=c.y,T=d.velocity;if(d.totalContacts=0,p!==0||x!==0){for(var E=0;E<d.parts.length;E++){var y=d.parts[E];f(y.vertices,c),e(y.bounds,y.vertices,T),y.position.x+=p,y.position.y+=x}d.positionPrev.x+=p,d.positionPrev.y+=x,p*T.x+x*T.y<0?(c.x=0,c.y=0):(c.x*=i,c.y*=i)}}},h.preSolveVelocity=function(r){var i=r.length,s,f;for(s=0;s<i;s++){var e=r[s];if(!(!e.isActive||e.isSensor)){var o=e.activeContacts,d=o.length,c=e.collision,p=c.parentA,x=c.parentB,T=c.normal,E=c.tangent;for(f=0;f<d;f++){var y=o[f],w=y.vertex,A=y.normalImpulse,P=y.tangentImpulse;if(A!==0||P!==0){var M=T.x*A+E.x*P,L=T.y*A+E.y*P;p.isStatic||p.isSleeping||(p.positionPrev.x+=M*p.inverseMass,p.positionPrev.y+=L*p.inverseMass,p.anglePrev+=p.inverseInertia*((w.x-p.position.x)*L-(w.y-p.position.y)*M)),x.isStatic||x.isSleeping||(x.positionPrev.x-=M*x.inverseMass,x.positionPrev.y-=L*x.inverseMass,x.anglePrev-=x.inverseInertia*((w.x-x.position.x)*L-(w.y-x.position.y)*M))}}}}},h.solveVelocity=function(r,i){var s=i/l._baseDelta,f=s*s,e=f*s,o=-h._restingThresh*s,d=h._restingThreshTangent,c=h._frictionNormalMultiplier*s,p=h._frictionMaxStatic,x=r.length,T,E,y,w;for(y=0;y<x;y++){var A=r[y];if(!(!A.isActive||A.isSensor)){var P=A.collision,M=P.parentA,L=P.parentB,F=M.velocity,N=L.velocity,b=P.normal.x,V=P.normal.y,X=P.tangent.x,W=P.tangent.y,k=A.activeContacts,Q=k.length,U=1/Q,Y=M.inverseMass+L.inverseMass,O=A.friction*A.frictionStatic*c;for(F.x=M.position.x-M.positionPrev.x,F.y=M.position.y-M.positionPrev.y,N.x=L.position.x-L.positionPrev.x,N.y=L.position.y-L.positionPrev.y,M.angularVelocity=M.angle-M.anglePrev,L.angularVelocity=L.angle-L.anglePrev,w=0;w<Q;w++){var G=k[w],z=G.vertex,H=z.x-M.position.x,K=z.y-M.position.y,J=z.x-L.position.x,Z=z.y-L.position.y,_=F.x-K*M.angularVelocity,tt=F.y+H*M.angularVelocity,et=N.x-Z*L.angularVelocity,nt=N.y+J*L.angularVelocity,rt=_-et,st=tt-nt,lt=b*rt+V*st,mt=X*rt+W*st,gt=A.separation+lt,xt=Math.min(gt,1);xt=gt<0?0:xt;var ot=xt*O;mt<-ot||mt>ot?(E=mt>0?mt:-mt,T=A.friction*(mt>0?1:-1)*e,T<-E?T=-E:T>E&&(T=E)):(T=mt,E=p);var vt=H*V-K*b,dt=J*V-Z*b,wt=U/(Y+M.inverseInertia*vt*vt+L.inverseInertia*dt*dt),Tt=(1+A.restitution)*lt*wt;if(T*=wt,lt<o)G.normalImpulse=0;else{var Mt=G.normalImpulse;G.normalImpulse+=Tt,G.normalImpulse>0&&(G.normalImpulse=0),Tt=G.normalImpulse-Mt}if(mt<-d||mt>d)G.tangentImpulse=0;else{var Vt=G.tangentImpulse;G.tangentImpulse+=T,G.tangentImpulse<-E&&(G.tangentImpulse=-E),G.tangentImpulse>E&&(G.tangentImpulse=E),T=G.tangentImpulse-Vt}var It=b*Tt+X*T,At=V*Tt+W*T;M.isStatic||M.isSleeping||(M.positionPrev.x+=It*M.inverseMass,M.positionPrev.y+=At*M.inverseMass,M.anglePrev+=(H*At-K*It)*M.inverseInertia),L.isStatic||L.isSleeping||(L.positionPrev.x-=It*L.inverseMass,L.positionPrev.y-=At*L.inverseMass,L.anglePrev-=(J*At-Z*It)*L.inverseInertia)}}}}})()},52838:(v,S,t)=>{var h={};v.exports=h;var m=t(39745),l=t(10438),a=t(22806),r=t(84091),i=t(50658),s=t(68758);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(f){var e=f;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var o=e.bodyA?l.add(e.bodyA.position,e.pointA):e.pointA,d=e.bodyB?l.add(e.bodyB.position,e.pointB):e.pointB,c=l.magnitude(l.sub(o,d));e.length=typeof e.length<"u"?e.length:c,e.id=e.id||s.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var p={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return e.length===0&&e.stiffness>.1?(p.type="pin",p.anchors=!1):e.stiffness<.9&&(p.type="spring"),e.render=s.extend(p,e.render),e},h.preSolveAll=function(f){for(var e=0;e<f.length;e+=1){var o=f[e],d=o.constraintImpulse;o.isStatic||d.x===0&&d.y===0&&d.angle===0||(o.position.x+=d.x,o.position.y+=d.y,o.angle+=d.angle)}},h.solveAll=function(f,e){for(var o=s.clamp(e/s._baseDelta,0,1),d=0;d<f.length;d+=1){var c=f[d],p=!c.bodyA||c.bodyA&&c.bodyA.isStatic,x=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(p||x)&&h.solve(f[d],o)}for(d=0;d<f.length;d+=1)c=f[d],p=!c.bodyA||c.bodyA&&c.bodyA.isStatic,x=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!p&&!x&&h.solve(f[d],o)},h.solve=function(f,e){var o=f.bodyA,d=f.bodyB,c=f.pointA,p=f.pointB;if(!(!o&&!d)){o&&!o.isStatic&&(l.rotate(c,o.angle-f.angleA,c),f.angleA=o.angle),d&&!d.isStatic&&(l.rotate(p,d.angle-f.angleB,p),f.angleB=d.angle);var x=c,T=p;if(o&&(x=l.add(o.position,c)),d&&(T=l.add(d.position,p)),!(!x||!T)){var E=l.sub(x,T),y=l.magnitude(E);y<h._minLength&&(y=h._minLength);var w=(y-f.length)/y,A=f.stiffness>=1||f.length===0,P=A?f.stiffness*e:f.stiffness*e*e,M=f.damping*e,L=l.mult(E,w*P),F=(o?o.inverseMass:0)+(d?d.inverseMass:0),N=(o?o.inverseInertia:0)+(d?d.inverseInertia:0),b=F+N,V,X,W,k,Q;if(M>0){var U=l.create();W=l.div(E,y),Q=l.sub(d&&l.sub(d.position,d.positionPrev)||U,o&&l.sub(o.position,o.positionPrev)||U),k=l.dot(W,Q)}o&&!o.isStatic&&(X=o.inverseMass/F,o.constraintImpulse.x-=L.x*X,o.constraintImpulse.y-=L.y*X,o.position.x-=L.x*X,o.position.y-=L.y*X,M>0&&(o.positionPrev.x-=M*W.x*k*X,o.positionPrev.y-=M*W.y*k*X),V=l.cross(c,L)/b*h._torqueDampen*o.inverseInertia*(1-f.angularStiffness),o.constraintImpulse.angle-=V,o.angle-=V),d&&!d.isStatic&&(X=d.inverseMass/F,d.constraintImpulse.x+=L.x*X,d.constraintImpulse.y+=L.y*X,d.position.x+=L.x*X,d.position.y+=L.y*X,M>0&&(d.positionPrev.x+=M*W.x*k*X,d.positionPrev.y+=M*W.y*k*X),V=l.cross(p,L)/b*h._torqueDampen*d.inverseInertia*(1-f.angularStiffness),d.constraintImpulse.angle+=V,d.angle+=V)}}},h.postSolveAll=function(f){for(var e=0;e<f.length;e++){var o=f[e],d=o.constraintImpulse;if(!(o.isStatic||d.x===0&&d.y===0&&d.angle===0)){a.set(o,!1);for(var c=0;c<o.parts.length;c++){var p=o.parts[c];m.translate(p.vertices,d),c>0&&(p.position.x+=d.x,p.position.y+=d.y),d.angle!==0&&(m.rotate(p.vertices,d.angle,o.position),i.rotate(p.axes,d.angle),c>0&&l.rotateAbout(p.position,d.angle,o.position,p.position)),r.update(p.bounds,p.vertices,o.velocity)}d.angle*=h._warming,d.x*=h._warming,d.y*=h._warming}}},h.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},h.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},h.currentLength=function(f){var e=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),o=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),d=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),c=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),p=e-d,x=o-c;return Math.sqrt(p*p+x*x)}})()},68758:(v,S,t)=>{var h={};v.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(l,a){var r,i;typeof a=="boolean"?(r=2,i=a):(r=1,i=!0);for(var s=r;s<arguments.length;s++){var f=arguments[s];if(f)for(var e in f)i&&f[e]&&f[e].constructor===Object&&(!l[e]||l[e].constructor===Object)?(l[e]=l[e]||{},h.extend(l[e],i,f[e])):l[e]=f[e]}return l},h.clone=function(l,a){return h.extend({},a,l)},h.keys=function(l){if(Object.keys)return Object.keys(l);var a=[];for(var r in l)a.push(r);return a},h.values=function(l){var a=[];if(Object.keys){for(var r=Object.keys(l),i=0;i<r.length;i++)a.push(l[r[i]]);return a}for(var s in l)a.push(l[s]);return a},h.get=function(l,a,r,i){a=a.split(".").slice(r,i);for(var s=0;s<a.length;s+=1)l=l[a[s]];return l},h.set=function(l,a,r,i,s){var f=a.split(".").slice(i,s);return h.get(l,a,0,-1)[f[f.length-1]]=r,r},h.shuffle=function(l){for(var a=l.length-1;a>0;a--){var r=Math.floor(h.random()*(a+1)),i=l[a];l[a]=l[r],l[r]=i}return l},h.choose=function(l){return l[Math.floor(h.random()*l.length)]},h.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},h.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},h.isFunction=function(l){return typeof l=="function"},h.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},h.isString=function(l){return toString.call(l)==="[object String]"},h.clamp=function(l,a,r){return l<a?a:l>r?r:l},h.sign=function(l){return l<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(l,a){return l=typeof l<"u"?l:0,a=typeof a<"u"?a:1,l+m()*(a-l)};var m=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[l]||(h.warn(l),h._warnedOnce[l]=!0)},h.deprecated=function(l,a,r){l[a]=h.chain(function(){h.warnOnce("🔅 deprecated 🔅",r)},l[a])},h.nextId=function(){return h._nextId++},h.indexOf=function(l,a){if(l.indexOf)return l.indexOf(a);for(var r=0;r<l.length;r++)if(l[r]===a)return r;return-1},h.map=function(l,a){if(l.map)return l.map(a);for(var r=[],i=0;i<l.length;i+=1)r.push(a(l[i]));return r},h.topologicalSort=function(l){var a=[],r=[],i=[];for(var s in l)!r[s]&&!i[s]&&h._topologicalSort(s,r,i,l,a);return a},h._topologicalSort=function(l,a,r,i,s){var f=i[l]||[];r[l]=!0;for(var e=0;e<f.length;e+=1){var o=f[e];r[o]||a[o]||h._topologicalSort(o,a,r,i,s)}r[l]=!1,a[l]=!0,s.push(l)},h.chain=function(){for(var l=[],a=0;a<arguments.length;a+=1){var r=arguments[a];r._chained?l.push.apply(l,r._chained):l.push(r)}var i=function(){for(var s,f=new Array(arguments.length),e=0,o=arguments.length;e<o;e++)f[e]=arguments[e];for(e=0;e<l.length;e+=1){var d=l[e].apply(s,f);typeof d<"u"&&(s=d)}return s};return i._chained=l,i},h.chainPathBefore=function(l,a,r){return h.set(l,a,h.chain(r,h.get(l,a)))},h.chainPathAfter=function(l,a,r){return h.set(l,a,h.chain(h.get(l,a),r))},h.setDecomp=function(l){h._decomp=l},h.getDecomp=function(){var l=h._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof t.g<"u"&&(l=t.g.decomp)}catch{l=null}return l}}()},45775:(v,S,t)=>{var h={};v.exports=h;var m=t(22806),l=t(44272),a=t(13657),r=t(91327),i=t(39073),s=t(11299),f=t(52838),e=t(68758),o=t(84125);(function(){h.create=function(d){d=d||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},p=e.extend(c,d);return p.world=d.world||s.create({label:"World"}),p.pairs=d.pairs||r.create(),p.detector=d.detector||a.create(),p.grid={buckets:[]},p.world.gravity=p.gravity,p.broadphase=p.grid,p.metrics={},p},h.update=function(d,c){var p=e.now(),x=d.world,T=d.detector,E=d.pairs,y=d.timing,w=y.timestamp,A;c=typeof c<"u"?c:e._baseDelta,c*=y.timeScale,y.timestamp+=c,y.lastDelta=c;var P={timestamp:y.timestamp,delta:c};i.trigger(d,"beforeUpdate",P);var M=s.allBodies(x),L=s.allConstraints(x);for(x.isModified&&(a.setBodies(T,M),s.setModified(x,!1,!1,!0)),d.enableSleeping&&m.update(M,c),h._bodiesApplyGravity(M,d.gravity),c>0&&h._bodiesUpdate(M,c),i.trigger(d,"beforeSolve",P),f.preSolveAll(M),A=0;A<d.constraintIterations;A++)f.solveAll(L,c);f.postSolveAll(M),T.pairs=d.pairs;var F=a.collisions(T);r.update(E,F,w),d.enableSleeping&&m.afterCollisions(E.list),E.collisionStart.length>0&&i.trigger(d,"collisionStart",{pairs:E.collisionStart,timestamp:y.timestamp,delta:c});var N=e.clamp(20/d.positionIterations,0,1);for(l.preSolvePosition(E.list),A=0;A<d.positionIterations;A++)l.solvePosition(E.list,c,N);for(l.postSolvePosition(M),f.preSolveAll(M),A=0;A<d.constraintIterations;A++)f.solveAll(L,c);for(f.postSolveAll(M),l.preSolveVelocity(E.list),A=0;A<d.velocityIterations;A++)l.solveVelocity(E.list,c);return h._bodiesUpdateVelocities(M),E.collisionActive.length>0&&i.trigger(d,"collisionActive",{pairs:E.collisionActive,timestamp:y.timestamp,delta:c}),E.collisionEnd.length>0&&i.trigger(d,"collisionEnd",{pairs:E.collisionEnd,timestamp:y.timestamp,delta:c}),h._bodiesClearForces(M),i.trigger(d,"afterUpdate",P),d.timing.lastElapsed=e.now()-p,d},h.merge=function(d,c){if(e.extend(d,c),c.world){d.world=c.world,h.clear(d);for(var p=s.allBodies(d.world),x=0;x<p.length;x++){var T=p[x];m.set(T,!1),T.id=e.nextId()}}},h.clear=function(d){r.clear(d.pairs),a.clear(d.detector)},h._bodiesClearForces=function(d){for(var c=d.length,p=0;p<c;p++){var x=d[p];x.force.x=0,x.force.y=0,x.torque=0}},h._bodiesApplyGravity=function(d,c){var p=typeof c.scale<"u"?c.scale:.001,x=d.length;if(!(c.x===0&&c.y===0||p===0))for(var T=0;T<x;T++){var E=d[T];E.isStatic||E.isSleeping||(E.force.y+=E.mass*c.y*p,E.force.x+=E.mass*c.x*p)}},h._bodiesUpdate=function(d,c){for(var p=d.length,x=0;x<p;x++){var T=d[x];T.isStatic||T.isSleeping||o.update(T,c)}},h._bodiesUpdateVelocities=function(d){for(var c=d.length,p=0;p<c;p++)o.updateVelocities(d[p])}})()},39073:(v,S,t)=>{var h={};v.exports=h;var m=t(68758);(function(){h.on=function(l,a,r){for(var i=a.split(" "),s,f=0;f<i.length;f++)s=i[f],l.events=l.events||{},l.events[s]=l.events[s]||[],l.events[s].push(r);return r},h.off=function(l,a,r){if(!a){l.events={};return}typeof a=="function"&&(r=a,a=m.keys(l.events).join(" "));for(var i=a.split(" "),s=0;s<i.length;s++){var f=l.events[i[s]],e=[];if(r&&f)for(var o=0;o<f.length;o++)f[o]!==r&&e.push(f[o]);l.events[i[s]]=e}},h.trigger=function(l,a,r){var i,s,f,e,o=l.events;if(o&&m.keys(o).length>0){r||(r={}),i=a.split(" ");for(var d=0;d<i.length;d++)if(s=i[d],f=o[s],f){e=m.clone(r,!1),e.name=s,e.source=l;for(var c=0;c<f.length;c++)f[c].apply(l,[e])}}}})()},16929:(v,S,t)=>{var h={};v.exports=h;var m=t(84474),l=t(68758);(function(){h.name="matter-js",h.version="0.19.0",h.uses=[],h.used=[],h.use=function(){m.use(h,Array.prototype.slice.call(arguments))},h.before=function(a,r){return a=a.replace(/^Matter./,""),l.chainPathBefore(h,a,r)},h.after=function(a,r){return a=a.replace(/^Matter./,""),l.chainPathAfter(h,a,r)}})()},84474:(v,S,t)=>{var h={};v.exports=h;var m=t(68758);(function(){h._registry={},h.register=function(l){if(h.isPlugin(l)||m.warn("Plugin.register:",h.toString(l),"does not implement all required fields."),l.name in h._registry){var a=h._registry[l.name],r=h.versionParse(l.version).number,i=h.versionParse(a.version).number;r>i?(m.warn("Plugin.register:",h.toString(a),"was upgraded to",h.toString(l)),h._registry[l.name]=l):r<i?m.warn("Plugin.register:",h.toString(a),"can not be downgraded to",h.toString(l)):l!==a&&m.warn("Plugin.register:",h.toString(l),"is already registered to different plugin object")}else h._registry[l.name]=l;return l},h.resolve=function(l){return h._registry[h.dependencyParse(l).name]},h.toString=function(l){return typeof l=="string"?l:(l.name||"anonymous")+"@"+(l.version||l.range||"0.0.0")},h.isPlugin=function(l){return l&&l.name&&l.version&&l.install},h.isUsed=function(l,a){return l.used.indexOf(a)>-1},h.isFor=function(l,a){var r=l.for&&h.dependencyParse(l.for);return!l.for||a.name===r.name&&h.versionSatisfies(a.version,r.range)},h.use=function(l,a){if(l.uses=(l.uses||[]).concat(a||[]),l.uses.length===0){m.warn("Plugin.use:",h.toString(l),"does not specify any dependencies to install.");return}for(var r=h.dependencies(l),i=m.topologicalSort(r),s=[],f=0;f<i.length;f+=1)if(i[f]!==l.name){var e=h.resolve(i[f]);if(!e){s.push("❌ "+i[f]);continue}h.isUsed(l,e.name)||(h.isFor(e,l)||(m.warn("Plugin.use:",h.toString(e),"is for",e.for,"but installed on",h.toString(l)+"."),e._warned=!0),e.install?e.install(l):(m.warn("Plugin.use:",h.toString(e),"does not specify an install function."),e._warned=!0),e._warned?(s.push("🔶 "+h.toString(e)),delete e._warned):s.push("✅ "+h.toString(e)),l.used.push(e.name))}s.length>0&&!e.silent&&m.info(s.join("  "))},h.dependencies=function(l,a){var r=h.dependencyParse(l),i=r.name;if(a=a||{},!(i in a)){l=h.resolve(l)||l,a[i]=m.map(l.uses||[],function(f){h.isPlugin(f)&&h.register(f);var e=h.dependencyParse(f),o=h.resolve(f);return o&&!h.versionSatisfies(o.version,e.range)?(m.warn("Plugin.dependencies:",h.toString(o),"does not satisfy",h.toString(e),"used by",h.toString(r)+"."),o._warned=!0,l._warned=!0):o||(m.warn("Plugin.dependencies:",h.toString(f),"used by",h.toString(r),"could not be resolved."),l._warned=!0),e.name});for(var s=0;s<a[i].length;s+=1)h.dependencies(a[i][s],a);return a}},h.dependencyParse=function(l){if(m.isString(l)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return a.test(l)||m.warn("Plugin.dependencyParse:",l,"is not a valid dependency string."),{name:l.split("@")[0],range:l.split("@")[1]||"*"}}return{name:l.name,range:l.range||l.version}},h.versionParse=function(l){var a=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;a.test(l)||m.warn("Plugin.versionParse:",l,"is not a valid version or range.");var r=a.exec(l),i=Number(r[4]),s=Number(r[5]),f=Number(r[6]);return{isRange:!!(r[1]||r[2]),version:r[3],range:l,operator:r[1]||r[2]||"",major:i,minor:s,patch:f,parts:[i,s,f],prerelease:r[7],number:i*1e8+s*1e4+f}},h.versionSatisfies=function(l,a){a=a||"*";var r=h.versionParse(a),i=h.versionParse(l);if(r.isRange){if(r.operator==="*"||l==="*")return!0;if(r.operator===">")return i.number>r.number;if(r.operator===">=")return i.number>=r.number;if(r.operator==="~")return i.major===r.major&&i.minor===r.minor&&i.patch>=r.patch;if(r.operator==="^")return r.major>0?i.major===r.major&&i.number>=r.number:r.minor>0?i.minor===r.minor&&i.patch>=r.patch:i.patch===r.patch}return l===a||l==="*"}})()},22806:(v,S,t)=>{var h={};v.exports=h;var m=t(84125),l=t(39073),a=t(68758);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(r,i){for(var s=i/a._baseDelta,f=h._motionSleepThreshold,e=0;e<r.length;e++){var o=r[e],d=m.getSpeed(o),c=m.getAngularSpeed(o),p=d*d+c*c;if(o.force.x!==0||o.force.y!==0){h.set(o,!1);continue}var x=Math.min(o.motion,p),T=Math.max(o.motion,p);o.motion=h._minBias*x+(1-h._minBias)*T,o.sleepThreshold>0&&o.motion<f?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/s&&h.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},h.afterCollisions=function(r){for(var i=h._motionSleepThreshold,s=0;s<r.length;s++){var f=r[s];if(f.isActive){var e=f.collision,o=e.bodyA.parent,d=e.bodyB.parent;if(!(o.isSleeping&&d.isSleeping||o.isStatic||d.isStatic)&&(o.isSleeping||d.isSleeping)){var c=o.isSleeping&&!o.isStatic?o:d,p=c===o?d:o;!c.isStatic&&p.motion>i&&h.set(c,!1)}}}},h.set=function(r,i){var s=r.isSleeping;i?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,s||l.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,s&&l.trigger(r,"sleepEnd"))}})()},68516:(v,S,t)=>{var h={};v.exports=h;var m=t(39745),l=t(68758),a=t(84125),r=t(84091),i=t(10438);(function(){h.rectangle=function(s,f,e,o,d){d=d||{};var c={label:"Rectangle Body",position:{x:s,y:f},vertices:m.fromPath("L 0 0 L "+e+" 0 L "+e+" "+o+" L 0 "+o)};if(d.chamfer){var p=d.chamfer;c.vertices=m.chamfer(c.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete d.chamfer}return a.create(l.extend({},c,d))},h.trapezoid=function(s,f,e,o,d,c){c=c||{},d*=.5;var p=(1-d*2)*e,x=e*d,T=x+p,E=T+x,y;d<.5?y="L 0 0 L "+x+" "+-o+" L "+T+" "+-o+" L "+E+" 0":y="L 0 0 L "+T+" "+-o+" L "+E+" 0";var w={label:"Trapezoid Body",position:{x:s,y:f},vertices:m.fromPath(y)};if(c.chamfer){var A=c.chamfer;w.vertices=m.chamfer(w.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete c.chamfer}return a.create(l.extend({},w,c))},h.circle=function(s,f,e,o,d){o=o||{};var c={label:"Circle Body",circleRadius:e};d=d||25;var p=Math.ceil(Math.max(10,Math.min(d,e)));return p%2===1&&(p+=1),h.polygon(s,f,p,e,l.extend({},c,o))},h.polygon=function(s,f,e,o,d){if(d=d||{},e<3)return h.circle(s,f,o,d);for(var c=2*Math.PI/e,p="",x=c*.5,T=0;T<e;T+=1){var E=x+T*c,y=Math.cos(E)*o,w=Math.sin(E)*o;p+="L "+y.toFixed(3)+" "+w.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:s,y:f},vertices:m.fromPath(p)};if(d.chamfer){var P=d.chamfer;A.vertices=m.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete d.chamfer}return a.create(l.extend({},A,d))},h.fromVertices=function(s,f,e,o,d,c,p,x){var T=l.getDecomp(),E,y,w,A,P,M,L,F,N,b,V;for(E=!!(T&&T.quickDecomp),o=o||{},w=[],d=typeof d<"u"?d:!1,c=typeof c<"u"?c:.01,p=typeof p<"u"?p:10,x=typeof x<"u"?x:.01,l.isArray(e[0])||(e=[e]),b=0;b<e.length;b+=1)if(M=e[b],A=m.isConvex(M),P=!A,P&&!E&&l.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!E)A?M=m.clockwiseSort(M):M=m.hull(M),w.push({position:{x:s,y:f},vertices:M});else{var X=M.map(function(J){return[J.x,J.y]});T.makeCCW(X),c!==!1&&T.removeCollinearPoints(X,c),x!==!1&&T.removeDuplicatePoints&&T.removeDuplicatePoints(X,x);var W=T.quickDecomp(X);for(L=0;L<W.length;L++){var k=W[L],Q=k.map(function(J){return{x:J[0],y:J[1]}});p>0&&m.area(Q)<p||w.push({position:m.centre(Q),vertices:Q})}}for(L=0;L<w.length;L++)w[L]=a.create(l.extend(w[L],o));if(d){var U=5;for(L=0;L<w.length;L++){var Y=w[L];for(F=L+1;F<w.length;F++){var O=w[F];if(r.overlaps(Y.bounds,O.bounds)){var G=Y.vertices,z=O.vertices;for(N=0;N<Y.vertices.length;N++)for(V=0;V<O.vertices.length;V++){var H=i.magnitudeSquared(i.sub(G[(N+1)%G.length],z[V])),K=i.magnitudeSquared(i.sub(G[N],z[(V+1)%z.length]));H<U&&K<U&&(G[N].isInternal=!0,z[V].isInternal=!0)}}}}}return w.length>1?(y=a.create(l.extend({parts:w.slice(0)},o)),a.setPosition(y,{x:s,y:f}),y):w[0]},h.flagCoincidentParts=function(s,f){f===void 0&&(f=5);for(var e=0;e<s.length;e++)for(var o=s[e],d=e+1;d<s.length;d++){var c=s[d];if(r.overlaps(o.bounds,c.bounds))for(var p=o.vertices,x=c.vertices,T=0;T<o.vertices.length;T++)for(var E=0;E<c.vertices.length;E++){var y=i.magnitudeSquared(i.sub(p[(T+1)%p.length],x[E])),w=i.magnitudeSquared(i.sub(p[T],x[(E+1)%x.length]));y<f&&w<f&&(p[T].isInternal=!0,x[E].isInternal=!0)}}return s}})()},56643:(v,S,t)=>{var h={};v.exports=h;var m=t(11299),l=t(52838),a=t(68758),r=t(84125),i=t(68516);(function(){h.stack=function(s,f,e,o,d,c,p){for(var x=m.create({label:"Stack"}),T=s,E=f,y,w=0,A=0;A<o;A++){for(var P=0,M=0;M<e;M++){var L=p(T,E,M,A,y,w);if(L){var F=L.bounds.max.y-L.bounds.min.y,N=L.bounds.max.x-L.bounds.min.x;F>P&&(P=F),r.translate(L,{x:N*.5,y:F*.5}),T=L.bounds.max.x+d,m.addBody(x,L),y=L,w+=1}else T+=d}E+=P+c,T=s}return x},h.chain=function(s,f,e,o,d,c){for(var p=s.bodies,x=1;x<p.length;x++){var T=p[x-1],E=p[x],y=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,A=E.bounds.max.y-E.bounds.min.y,P=E.bounds.max.x-E.bounds.min.x,M={bodyA:T,pointA:{x:w*f,y:y*e},bodyB:E,pointB:{x:P*o,y:A*d}},L=a.extend(M,c);m.addConstraint(s,l.create(L))}return s.label+=" Chain",s},h.mesh=function(s,f,e,o,d){var c=s.bodies,p,x,T,E,y;for(p=0;p<e;p++){for(x=1;x<f;x++)T=c[x-1+p*f],E=c[x+p*f],m.addConstraint(s,l.create(a.extend({bodyA:T,bodyB:E},d)));if(p>0)for(x=0;x<f;x++)T=c[x+(p-1)*f],E=c[x+p*f],m.addConstraint(s,l.create(a.extend({bodyA:T,bodyB:E},d))),o&&x>0&&(y=c[x-1+(p-1)*f],m.addConstraint(s,l.create(a.extend({bodyA:y,bodyB:E},d)))),o&&x<f-1&&(y=c[x+1+(p-1)*f],m.addConstraint(s,l.create(a.extend({bodyA:y,bodyB:E},d))))}return s.label+=" Mesh",s},h.pyramid=function(s,f,e,o,d,c,p){return h.stack(s,f,e,o,d,c,function(x,T,E,y,w,A){var P=Math.min(o,Math.ceil(e/2)),M=w?w.bounds.max.x-w.bounds.min.x:0;if(!(y>P)){y=P-y;var L=y,F=e-1-y;if(!(E<L||E>F)){A===1&&r.translate(w,{x:(E+(e%2===1?1:-1))*M,y:0});var N=w?E*M:0;return p(s+N+E*d,T,E,y,w,A)}}})},h.newtonsCradle=function(s,f,e,o,d){for(var c=m.create({label:"Newtons Cradle"}),p=0;p<e;p++){var x=1.9,T=i.circle(s+p*(o*x),f+d,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=l.create({pointA:{x:s+p*(o*x),y:f},bodyB:T});m.addBody(c,T),m.addConstraint(c,E)}return c},h.car=function(s,f,e,o,d){var c=r.nextGroup(!0),p=20,x=-e*.5+p,T=e*.5-p,E=0,y=m.create({label:"Car"}),w=i.rectangle(s,f,e,o,{collisionFilter:{group:c},chamfer:{radius:o*.5},density:2e-4}),A=i.circle(s+x,f+E,d,{collisionFilter:{group:c},friction:.8}),P=i.circle(s+T,f+E,d,{collisionFilter:{group:c},friction:.8}),M=l.create({bodyB:w,pointB:{x,y:E},bodyA:A,stiffness:1,length:0}),L=l.create({bodyB:w,pointB:{x:T,y:E},bodyA:P,stiffness:1,length:0});return m.addBody(y,w),m.addBody(y,A),m.addBody(y,P),m.addConstraint(y,M),m.addConstraint(y,L),y},h.softBody=function(s,f,e,o,d,c,p,x,T,E){T=a.extend({inertia:1/0},T),E=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var y=h.stack(s,f,e,o,d,c,function(w,A){return i.circle(w,A,x,T)});return h.mesh(y,e,o,p,E),y.label="Soft Body",y}})()},50658:(v,S,t)=>{var h={};v.exports=h;var m=t(10438),l=t(68758);(function(){h.fromVertices=function(a){for(var r={},i=0;i<a.length;i++){var s=(i+1)%a.length,f=m.normalise({x:a[s].y-a[i].y,y:a[i].x-a[s].x}),e=f.y===0?1/0:f.x/f.y;e=e.toFixed(3).toString(),r[e]=f}return l.values(r)},h.rotate=function(a,r){if(r!==0)for(var i=Math.cos(r),s=Math.sin(r),f=0;f<a.length;f++){var e=a[f],o;o=e.x*i-e.y*s,e.y=e.x*s+e.y*i,e.x=o}}})()},84091:v=>{var S={};v.exports=S,function(){S.create=function(t){var h={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(h,t),h},S.update=function(t,h,m){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var l=0;l<h.length;l++){var a=h[l];a.x>t.max.x&&(t.max.x=a.x),a.x<t.min.x&&(t.min.x=a.x),a.y>t.max.y&&(t.max.y=a.y),a.y<t.min.y&&(t.min.y=a.y)}m&&(m.x>0?t.max.x+=m.x:t.min.x+=m.x,m.y>0?t.max.y+=m.y:t.min.y+=m.y)},S.contains=function(t,h){return h.x>=t.min.x&&h.x<=t.max.x&&h.y>=t.min.y&&h.y<=t.max.y},S.overlaps=function(t,h){return t.min.x<=h.max.x&&t.max.x>=h.min.x&&t.max.y>=h.min.y&&t.min.y<=h.max.y},S.translate=function(t,h){t.min.x+=h.x,t.max.x+=h.x,t.min.y+=h.y,t.max.y+=h.y},S.shift=function(t,h){var m=t.max.x-t.min.x,l=t.max.y-t.min.y;t.min.x=h.x,t.max.x=h.x+m,t.min.y=h.y,t.max.y=h.y+l}}()},92765:(v,S,t)=>{var h={};v.exports=h,t(84091);var m=t(68758);(function(){h.pathToVertices=function(l,a){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,i,s,f,e,o,d,c,p,x,T=[],E,y,w=0,A=0,P=0;a=a||15;var M=function(F,N,b){var V=b%2===1&&b>1;if(!p||F!=p.x||N!=p.y){p&&V?(E=p.x,y=p.y):(E=0,y=0);var X={x:E+F,y:y+N};(V||!p)&&(p=X),T.push(X),A=E+F,P=y+N}},L=function(F){var N=F.pathSegTypeAsLetter.toUpperCase();if(N!=="Z"){switch(N){case"M":case"L":case"T":case"C":case"S":case"Q":A=F.x,P=F.y;break;case"H":A=F.x;break;case"V":P=F.y;break}M(A,P,F.pathSegType)}};for(h._svgPathToAbsolute(l),s=l.getTotalLength(),o=[],r=0;r<l.pathSegList.numberOfItems;r+=1)o.push(l.pathSegList.getItem(r));for(d=o.concat();w<s;){if(x=l.getPathSegAtLength(w),e=o[x],e!=c){for(;d.length&&d[0]!=e;)L(d.shift());c=e}switch(e.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=l.getPointAtLength(w),M(f.x,f.y,0);break}w+=a}for(r=0,i=d.length;r<i;++r)L(d[r]);return T},h._svgPathToAbsolute=function(l){for(var a,r,i,s,f,e,o=l.pathSegList,d=0,c=0,p=o.numberOfItems,x=0;x<p;++x){var T=o.getItem(x),E=T.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in T&&(d=T.x),"y"in T&&(c=T.y);else switch("x1"in T&&(i=d+T.x1),"x2"in T&&(f=d+T.x2),"y1"in T&&(s=c+T.y1),"y2"in T&&(e=c+T.y2),"x"in T&&(d+=T.x),"y"in T&&(c+=T.y),E){case"m":o.replaceItem(l.createSVGPathSegMovetoAbs(d,c),x);break;case"l":o.replaceItem(l.createSVGPathSegLinetoAbs(d,c),x);break;case"h":o.replaceItem(l.createSVGPathSegLinetoHorizontalAbs(d),x);break;case"v":o.replaceItem(l.createSVGPathSegLinetoVerticalAbs(c),x);break;case"c":o.replaceItem(l.createSVGPathSegCurvetoCubicAbs(d,c,i,s,f,e),x);break;case"s":o.replaceItem(l.createSVGPathSegCurvetoCubicSmoothAbs(d,c,f,e),x);break;case"q":o.replaceItem(l.createSVGPathSegCurvetoQuadraticAbs(d,c,i,s),x);break;case"t":o.replaceItem(l.createSVGPathSegCurvetoQuadraticSmoothAbs(d,c),x);break;case"a":o.replaceItem(l.createSVGPathSegArcAbs(d,c,T.r1,T.r2,T.angle,T.largeArcFlag,T.sweepFlag),x);break;case"z":case"Z":d=a,c=r;break}(E=="M"||E=="m")&&(a=d,r=c)}}})()},10438:v=>{var S={};v.exports=S,function(){S.create=function(t,h){return{x:t||0,y:h||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,h,m){var l=Math.cos(h),a=Math.sin(h);m||(m={});var r=t.x*l-t.y*a;return m.y=t.x*a+t.y*l,m.x=r,m},S.rotateAbout=function(t,h,m,l){var a=Math.cos(h),r=Math.sin(h);l||(l={});var i=m.x+((t.x-m.x)*a-(t.y-m.y)*r);return l.y=m.y+((t.x-m.x)*r+(t.y-m.y)*a),l.x=i,l},S.normalise=function(t){var h=S.magnitude(t);return h===0?{x:0,y:0}:{x:t.x/h,y:t.y/h}},S.dot=function(t,h){return t.x*h.x+t.y*h.y},S.cross=function(t,h){return t.x*h.y-t.y*h.x},S.cross3=function(t,h,m){return(h.x-t.x)*(m.y-t.y)-(h.y-t.y)*(m.x-t.x)},S.add=function(t,h,m){return m||(m={}),m.x=t.x+h.x,m.y=t.y+h.y,m},S.sub=function(t,h,m){return m||(m={}),m.x=t.x-h.x,m.y=t.y-h.y,m},S.mult=function(t,h){return{x:t.x*h,y:t.y*h}},S.div=function(t,h){return{x:t.x/h,y:t.y/h}},S.perp=function(t,h){return h=h===!0?-1:1,{x:h*-t.y,y:h*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,h){return Math.atan2(h.y-t.y,h.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},39745:(v,S,t)=>{var h={};v.exports=h;var m=t(10438),l=t(68758);(function(){h.create=function(a,r){for(var i=[],s=0;s<a.length;s++){var f=a[s],e={x:f.x,y:f.y,index:s,body:r,isInternal:!1};i.push(e)}return i},h.fromPath=function(a,r){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return a.replace(i,function(f,e,o){s.push({x:parseFloat(e),y:parseFloat(o)})}),h.create(s,r)},h.centre=function(a){for(var r=h.area(a,!0),i={x:0,y:0},s,f,e,o=0;o<a.length;o++)e=(o+1)%a.length,s=m.cross(a[o],a[e]),f=m.mult(m.add(a[o],a[e]),s),i=m.add(i,f);return m.div(i,6*r)},h.mean=function(a){for(var r={x:0,y:0},i=0;i<a.length;i++)r.x+=a[i].x,r.y+=a[i].y;return m.div(r,a.length)},h.area=function(a,r){for(var i=0,s=a.length-1,f=0;f<a.length;f++)i+=(a[s].x-a[f].x)*(a[s].y+a[f].y),s=f;return r?i/2:Math.abs(i)/2},h.inertia=function(a,r){for(var i=0,s=0,f=a,e,o,d=0;d<f.length;d++)o=(d+1)%f.length,e=Math.abs(m.cross(f[o],f[d])),i+=e*(m.dot(f[o],f[o])+m.dot(f[o],f[d])+m.dot(f[d],f[d])),s+=e;return r/6*(i/s)},h.translate=function(a,r,i){i=typeof i<"u"?i:1;var s=a.length,f=r.x*i,e=r.y*i,o;for(o=0;o<s;o++)a[o].x+=f,a[o].y+=e;return a},h.rotate=function(a,r,i){if(r!==0){var s=Math.cos(r),f=Math.sin(r),e=i.x,o=i.y,d=a.length,c,p,x,T;for(T=0;T<d;T++)c=a[T],p=c.x-e,x=c.y-o,c.x=e+(p*s-x*f),c.y=o+(p*f+x*s);return a}},h.contains=function(a,r){for(var i=r.x,s=r.y,f=a.length,e=a[f-1],o,d=0;d<f;d++){if(o=a[d],(i-e.x)*(o.y-e.y)+(s-e.y)*(e.x-o.x)>0)return!1;e=o}return!0},h.scale=function(a,r,i,s){if(r===1&&i===1)return a;s=s||h.centre(a);for(var f,e,o=0;o<a.length;o++)f=a[o],e=m.sub(f,s),a[o].x=s.x+e.x*r,a[o].y=s.y+e.y*i;return a},h.chamfer=function(a,r,i,s,f){typeof r=="number"?r=[r]:r=r||[8],i=typeof i<"u"?i:-1,s=s||2,f=f||14;for(var e=[],o=0;o<a.length;o++){var d=a[o-1>=0?o-1:a.length-1],c=a[o],p=a[(o+1)%a.length],x=r[o<r.length?o:r.length-1];if(x===0){e.push(c);continue}var T=m.normalise({x:c.y-d.y,y:d.x-c.x}),E=m.normalise({x:p.y-c.y,y:c.x-p.x}),y=Math.sqrt(2*Math.pow(x,2)),w=m.mult(l.clone(T),x),A=m.normalise(m.mult(m.add(T,E),.5)),P=m.sub(c,m.mult(A,y)),M=i;i===-1&&(M=Math.pow(x,.32)*1.75),M=l.clamp(M,s,f),M%2===1&&(M+=1);for(var L=Math.acos(m.dot(T,E)),F=L/M,N=0;N<M;N++)e.push(m.add(m.rotate(w,F*N),P))}return e},h.clockwiseSort=function(a){var r=h.mean(a);return a.sort(function(i,s){return m.angle(r,i)-m.angle(r,s)}),a},h.isConvex=function(a){var r=0,i=a.length,s,f,e,o;if(i<3)return null;for(s=0;s<i;s++)if(f=(s+1)%i,e=(s+2)%i,o=(a[f].x-a[s].x)*(a[e].y-a[f].y),o-=(a[f].y-a[s].y)*(a[e].x-a[f].x),o<0?r|=1:o>0&&(r|=2),r===3)return!1;return r!==0?!0:null},h.hull=function(a){var r=[],i=[],s,f;for(a=a.slice(0),a.sort(function(e,o){var d=e.x-o.x;return d!==0?d:e.y-o.y}),f=0;f<a.length;f+=1){for(s=a[f];i.length>=2&&m.cross3(i[i.length-2],i[i.length-1],s)<=0;)i.pop();i.push(s)}for(f=a.length-1;f>=0;f-=1){for(s=a[f];r.length>=2&&m.cross3(r[r.length-2],r[r.length-1],s)<=0;)r.pop();r.push(s)}return r.pop(),i.pop(),r.concat(i)}})()},1675:(v,S,t)=>{var h=t(18171),m={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Body.create",function(){m.Body.init(this)}),l.before("Engine.update",function(a){m.Engine.update(a)})},Body:{init:function(l){l.plugin.attractors=l.plugin.attractors||[]}},Engine:{update:function(l){for(var a=h.Composite.allBodies(l.world),r=0;r<a.length;r++){var i=a[r],s=i.plugin.attractors;if(s&&s.length>0)for(var f=0;f<a.length;f++){var e=a[f];if(r!==f)for(var o=0;o<s.length;o++){var d=s[o],c=d;h.Common.isFunction(d)&&(c=d(i,e)),c&&h.Body.applyForce(e,e.position,c)}}}}},Attractors:{gravityConstant:.001,gravity:function(l,a){var r=h.Vector.sub(a.position,l.position),i=h.Vector.magnitudeSquared(r)||1e-4,s=h.Vector.normalise(r),f=-m.Attractors.gravityConstant*(l.mass*a.mass/i),e=h.Vector.mult(s,f);h.Body.applyForce(l,l.position,h.Vector.neg(e)),h.Body.applyForce(a,a.position,e)}}};v.exports=m},80391:v=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(t){t.after("Engine.create",function(){t.Events.on(this,"collisionStart",function(h){h.pairs.map(function(m){var l=m.bodyA,a=m.bodyB;l.gameObject&&l.gameObject.emit("collide",l,a,m),a.gameObject&&a.gameObject.emit("collide",a,l,m),t.Events.trigger(l,"onCollide",{pair:m}),t.Events.trigger(a,"onCollide",{pair:m}),l.onCollideCallback&&l.onCollideCallback(m),a.onCollideCallback&&a.onCollideCallback(m),l.onCollideWith[a.id]&&l.onCollideWith[a.id](a,m),a.onCollideWith[l.id]&&a.onCollideWith[l.id](l,m)})}),t.Events.on(this,"collisionActive",function(h){h.pairs.map(function(m){var l=m.bodyA,a=m.bodyB;l.gameObject&&l.gameObject.emit("collideActive",l,a,m),a.gameObject&&a.gameObject.emit("collideActive",a,l,m),t.Events.trigger(l,"onCollideActive",{pair:m}),t.Events.trigger(a,"onCollideActive",{pair:m}),l.onCollideActiveCallback&&l.onCollideActiveCallback(m),a.onCollideActiveCallback&&a.onCollideActiveCallback(m)})}),t.Events.on(this,"collisionEnd",function(h){h.pairs.map(function(m){var l=m.bodyA,a=m.bodyB;l.gameObject&&l.gameObject.emit("collideEnd",l,a,m),a.gameObject&&a.gameObject.emit("collideEnd",a,l,m),t.Events.trigger(l,"onCollideEnd",{pair:m}),t.Events.trigger(a,"onCollideEnd",{pair:m}),l.onCollideEndCallback&&l.onCollideEndCallback(m),a.onCollideEndCallback&&a.onCollideEndCallback(m)})})})}};v.exports=S},44097:(v,S,t)=>{var h=t(18171),m={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(l){l.after("Engine.update",function(){m.Engine.update(this)})},Engine:{update:function(l){for(var a=l.world,r=h.Composite.allBodies(a),i=h.Composite.allComposites(a),s=0;s<r.length;s+=1){var f=r[s];f.plugin.wrap&&m.Body.wrap(f,f.plugin.wrap)}for(s=0;s<i.length;s+=1){var e=i[s];e.plugin.wrap&&m.Composite.wrap(e,e.plugin.wrap)}}},Bounds:{wrap:function(l,a){var r=null,i=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(l.min.x>a.max.x?r=a.min.x-l.max.x:l.max.x<a.min.x&&(r=a.max.x-l.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(l.min.y>a.max.y?i=a.min.y-l.max.y:l.max.y<a.min.y&&(i=a.max.y-l.min.y)),r!==null||i!==null)return{x:r||0,y:i||0}}},Body:{wrap:function(l,a){var r=m.Bounds.wrap(l.bounds,a);return r&&h.Body.translate(l,r),r}},Composite:{bounds:function(l){for(var a=h.Composite.allBodies(l),r=[],i=0;i<a.length;i+=1){var s=a[i];r.push(s.bounds.min,s.bounds.max)}return h.Bounds.create(r)},wrap:function(l,a){var r=m.Bounds.wrap(m.Composite.bounds(l),a);return r&&h.Composite.translate(l,r),r}}};v.exports=m},81084:v=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={decomp:L,quickDecomp:V,isSimple:N,removeCollinearPoints:X,removeDuplicatePoints:W,makeCCW:p};function S(U,Y,O){O=O||0;var G=[0,0],z,H,K,J,Z,_,tt;return z=U[1][1]-U[0][1],H=U[0][0]-U[1][0],K=z*U[0][0]+H*U[0][1],J=Y[1][1]-Y[0][1],Z=Y[0][0]-Y[1][0],_=J*Y[0][0]+Z*Y[0][1],tt=z*Z-J*H,k(tt,0,O)||(G[0]=(Z*K-H*_)/tt,G[1]=(z*_-J*K)/tt),G}function t(U,Y,O,G){var z=Y[0]-U[0],H=Y[1]-U[1],K=G[0]-O[0],J=G[1]-O[1];if(K*H-J*z===0)return!1;var Z=(z*(O[1]-U[1])+H*(U[0]-O[0]))/(K*H-J*z),_=(K*(U[1]-O[1])+J*(O[0]-U[0]))/(J*z-K*H);return Z>=0&&Z<=1&&_>=0&&_<=1}function h(U,Y,O){return(Y[0]-U[0])*(O[1]-U[1])-(O[0]-U[0])*(Y[1]-U[1])}function m(U,Y,O){return h(U,Y,O)>0}function l(U,Y,O){return h(U,Y,O)>=0}function a(U,Y,O){return h(U,Y,O)<0}function r(U,Y,O){return h(U,Y,O)<=0}var i=[],s=[];function f(U,Y,O,G){if(G){var z=i,H=s;z[0]=Y[0]-U[0],z[1]=Y[1]-U[1],H[0]=O[0]-Y[0],H[1]=O[1]-Y[1];var K=z[0]*H[0]+z[1]*H[1],J=Math.sqrt(z[0]*z[0]+z[1]*z[1]),Z=Math.sqrt(H[0]*H[0]+H[1]*H[1]),_=Math.acos(K/(J*Z));return _<G}else return h(U,Y,O)===0}function e(U,Y){var O=Y[0]-U[0],G=Y[1]-U[1];return O*O+G*G}function o(U,Y){var O=U.length;return U[Y<0?Y%O+O:Y%O]}function d(U){U.length=0}function c(U,Y,O,G){for(var z=O;z<G;z++)U.push(Y[z])}function p(U){for(var Y=0,O=U,G=1;G<U.length;++G)(O[G][1]<O[Y][1]||O[G][1]===O[Y][1]&&O[G][0]>O[Y][0])&&(Y=G);return m(o(U,Y-1),o(U,Y),o(U,Y+1))?!1:(x(U),!0)}function x(U){for(var Y=[],O=U.length,G=0;G!==O;G++)Y.push(U.pop());for(var G=0;G!==O;G++)U[G]=Y[G]}function T(U,Y){return a(o(U,Y-1),o(U,Y),o(U,Y+1))}var E=[],y=[];function w(U,Y,O){var G,z,H=E,K=y;if(l(o(U,Y+1),o(U,Y),o(U,O))&&r(o(U,Y-1),o(U,Y),o(U,O)))return!1;z=e(o(U,Y),o(U,O));for(var J=0;J!==U.length;++J)if(!((J+1)%U.length===Y||J===Y)&&l(o(U,Y),o(U,O),o(U,J+1))&&r(o(U,Y),o(U,O),o(U,J))&&(H[0]=o(U,Y),H[1]=o(U,O),K[0]=o(U,J),K[1]=o(U,J+1),G=S(H,K),e(o(U,Y),G)<z))return!1;return!0}function A(U,Y,O){for(var G=0;G!==U.length;++G)if(!(G===Y||G===O||(G+1)%U.length===Y||(G+1)%U.length===O)&&t(o(U,Y),o(U,O),o(U,G),o(U,G+1)))return!1;return!0}function P(U,Y,O,G){var z=G||[];if(d(z),Y<O)for(var H=Y;H<=O;H++)z.push(U[H]);else{for(var H=0;H<=O;H++)z.push(U[H]);for(var H=Y;H<U.length;H++)z.push(U[H])}return z}function M(U){for(var Y=[],O=[],G=[],z=[],H=Number.MAX_VALUE,K=0;K<U.length;++K)if(T(U,K)){for(var J=0;J<U.length;++J)if(w(U,K,J)){O=M(P(U,K,J,z)),G=M(P(U,J,K,z));for(var Z=0;Z<G.length;Z++)O.push(G[Z]);O.length<H&&(Y=O,H=O.length,Y.push([o(U,K),o(U,J)]))}}return Y}function L(U){var Y=M(U);return Y.length>0?F(U,Y):[U]}function F(U,Y){if(Y.length===0)return[U];if(Y instanceof Array&&Y.length&&Y[0]instanceof Array&&Y[0].length===2&&Y[0][0]instanceof Array){for(var O=[U],G=0;G<Y.length;G++)for(var z=Y[G],H=0;H<O.length;H++){var K=O[H],J=F(K,z);if(J){O.splice(H,1),O.push(J[0],J[1]);break}}return O}else{var z=Y,G=U.indexOf(z[0]),H=U.indexOf(z[1]);return G!==-1&&H!==-1?[P(U,G,H),P(U,H,G)]:!1}}function N(U){var Y=U,O;for(O=0;O<Y.length-1;O++)for(var G=0;G<O-1;G++)if(t(Y[O],Y[O+1],Y[G],Y[G+1]))return!1;for(O=1;O<Y.length-2;O++)if(t(Y[0],Y[Y.length-1],Y[O],Y[O+1]))return!1;return!0}function b(U,Y,O,G,z){z=z||0;var H=Y[1]-U[1],K=U[0]-Y[0],J=H*U[0]+K*U[1],Z=G[1]-O[1],_=O[0]-G[0],tt=Z*O[0]+_*O[1],et=H*_-Z*K;return k(et,0,z)?[0,0]:[(_*J-K*tt)/et,(H*tt-Z*J)/et]}function V(U,Y,O,G,z,H,K){H=H||100,K=K||0,z=z||25,Y=typeof Y<"u"?Y:[],O=O||[],G=G||[];var J=[0,0],Z=[0,0],_=[0,0],tt=0,et=0,nt=0,rt=0,st=0,lt=0,mt=0,gt=[],xt=[],ot=U,vt=U;if(vt.length<3)return Y;if(K++,K>H)return console.warn("quickDecomp: max level ("+H+") reached."),Y;for(var dt=0;dt<U.length;++dt)if(T(ot,dt)){O.push(ot[dt]),tt=et=Number.MAX_VALUE;for(var wt=0;wt<U.length;++wt)m(o(ot,dt-1),o(ot,dt),o(ot,wt))&&r(o(ot,dt-1),o(ot,dt),o(ot,wt-1))&&(_=b(o(ot,dt-1),o(ot,dt),o(ot,wt),o(ot,wt-1)),a(o(ot,dt+1),o(ot,dt),_)&&(nt=e(ot[dt],_),nt<et&&(et=nt,Z=_,lt=wt))),m(o(ot,dt+1),o(ot,dt),o(ot,wt+1))&&r(o(ot,dt+1),o(ot,dt),o(ot,wt))&&(_=b(o(ot,dt+1),o(ot,dt),o(ot,wt),o(ot,wt+1)),m(o(ot,dt-1),o(ot,dt),_)&&(nt=e(ot[dt],_),nt<tt&&(tt=nt,J=_,st=wt)));if(lt===(st+1)%U.length)_[0]=(Z[0]+J[0])/2,_[1]=(Z[1]+J[1])/2,G.push(_),dt<st?(c(gt,ot,dt,st+1),gt.push(_),xt.push(_),lt!==0&&c(xt,ot,lt,ot.length),c(xt,ot,0,dt+1)):(dt!==0&&c(gt,ot,dt,ot.length),c(gt,ot,0,st+1),gt.push(_),xt.push(_),c(xt,ot,lt,dt+1));else{if(lt>st&&(st+=U.length),rt=Number.MAX_VALUE,st<lt)return Y;for(var wt=lt;wt<=st;++wt)l(o(ot,dt-1),o(ot,dt),o(ot,wt))&&r(o(ot,dt+1),o(ot,dt),o(ot,wt))&&(nt=e(o(ot,dt),o(ot,wt)),nt<rt&&A(ot,dt,wt)&&(rt=nt,mt=wt%U.length));dt<mt?(c(gt,ot,dt,mt+1),mt!==0&&c(xt,ot,mt,vt.length),c(xt,ot,0,dt+1)):(dt!==0&&c(gt,ot,dt,vt.length),c(gt,ot,0,mt+1),c(xt,ot,mt,dt+1))}return gt.length<xt.length?(V(gt,Y,O,G,z,H,K),V(xt,Y,O,G,z,H,K)):(V(xt,Y,O,G,z,H,K),V(gt,Y,O,G,z,H,K)),Y}return Y.push(U),Y}function X(U,Y){for(var O=0,G=U.length-1;U.length>3&&G>=0;--G)f(o(U,G-1),o(U,G),o(U,G+1),Y)&&(U.splice(G%U.length,1),O++);return O}function W(U,Y){for(var O=U.length-1;O>=1;--O)for(var G=U[O],z=O-1;z>=0;--z)if(Q(G,U[z],Y)){U.splice(O,1);continue}}function k(U,Y,O){return O=O||0,Math.abs(U-Y)<=O}function Q(U,Y,O){return k(U[0],Y[0],O)&&k(U[1],Y[1],O)}},88257:(v,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(56694),m=new h({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=m},18360:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};v.exports=S},91963:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},h={};h.register=function(m,l,a,r){r===void 0&&(r=!1),S[m]={plugin:l,mapping:a,custom:r}},h.registerCustom=function(m,l,a,r){t[m]={plugin:l,mapping:a,data:r}},h.hasCore=function(m){return S.hasOwnProperty(m)},h.hasCustom=function(m){return t.hasOwnProperty(m)},h.getCore=function(m){return S[m]},h.getCustom=function(m){return t[m]},h.getCustomClass=function(m){return t.hasOwnProperty(m)?t[m].plugin:null},h.remove=function(m){S.hasOwnProperty(m)&&delete S[m]},h.removeCustom=function(m){t.hasOwnProperty(m)&&delete t[m]},h.destroyCorePlugins=function(){for(var m in S)S.hasOwnProperty(m)&&delete S[m]},h.destroyCustomPlugins=function(){for(var m in t)t.hasOwnProperty(m)&&delete t[m]},v.exports=h},49274:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(97081),l=t(6659),a=t(76846),r=t(99325),i=t(61286),s=t(72632),f=t(91963),e=t(66458),o=new h({Extends:l,initialize:function(c){l.call(this),this.game=c,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],c.isBooted?this.boot():c.events.once(m.BOOT,this.boot,this)},boot:function(){var d,c,p,x,T,E,y,w=this.game.config,A=w.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),d=0;d<A.length;d++)c=A[d],p=s(c,"key",null),x=s(c,"plugin",null),T=s(c,"start",!1),E=s(c,"mapping",null),y=s(c,"data",null),p&&(x?this.install(p,x,T,E,y):console.warn("Missing `plugin` for key: "+p));for(A=w.installScenePlugins,A=A.concat(this._pendingScene),d=0;d<A.length;d++)c=A[d],p=s(c,"key",null),x=s(c,"plugin",null),E=s(c,"mapping",null),p&&(x?this.installScenePlugin(p,x,E):console.warn("Missing `plugin` for key: "+p));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(d,c,p){var x,T,E,y=this.game,w=d.scene,A=d.settings.map,P=d.settings.isBooted;for(x=0;x<c.length;x++)T=c[x],y[T]?(d[T]=y[T],A.hasOwnProperty(T)&&(w[A[T]]=d[T])):T==="game"&&A.hasOwnProperty(T)&&(w[A[T]]=y);for(var M=0;M<p.length;M++)for(E=p[M],x=0;x<E.length;x++)if(T=E[x],!!f.hasCore(T)){var L=f.getCore(T),F=L.mapping,N=new L.plugin(w,this,F);d[F]=N,L.custom?w[F]=N:A.hasOwnProperty(F)&&(w[A[F]]=N),P&&N.boot()}for(E=this.plugins,x=0;x<E.length;x++){var b=E[x];b.mapping&&(w[b.mapping]=b.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,c,p,x,T){if(T===void 0&&(T=!1),typeof c!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(f.hasCore(d)||f.register(d,c,p,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!T&&f.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(x){var E=new c(x,this,d);x.sys[d]=E,p&&p!==""&&(x[p]=E),E.boot()}},install:function(d,c,p,x,T){if(p===void 0&&(p=!1),x===void 0&&(x=null),T===void 0&&(T=null),typeof c!="function")return console.warn("Invalid Plugin: "+d),null;if(f.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(x!==null&&(p=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:c,start:p,mapping:x,data:T});else if(f.registerCustom(d,c,x,T),p)return this.start(d);return null},getIndex:function(d){for(var c=this.plugins,p=0;p<c.length;p++){var x=c[p];if(x.key===d)return p}return-1},getEntry:function(d){var c=this.getIndex(d);if(c!==-1)return this.plugins[c]},isActive:function(d){var c=this.getEntry(d);return c&&c.active},start:function(d,c){c===void 0&&(c=d);var p=this.getEntry(c);return p&&!p.active?(p.active=!0,p.plugin.start()):p||(p=this.createEntry(d,c)),p?p.plugin:null},createEntry:function(d,c){var p=f.getCustom(d);if(p){var x=new p.plugin(this);p={key:c,plugin:x,active:!0,mapping:p.mapping,data:p.data},this.plugins.push(p),x.init(p.data),x.start()}return p},stop:function(d){var c=this.getEntry(d);return c&&c.active&&(c.active=!1,c.plugin.stop()),this},get:function(d,c){c===void 0&&(c=!0);var p=this.getEntry(d);if(p)return p.plugin;var x=this.getClass(d);return x&&c?(p=this.createEntry(d,d),p?p.plugin:null):x||null},getClass:function(d){return f.getCustomClass(d)},removeGlobalPlugin:function(d){var c=this.getEntry(d);c&&e(this.plugins,c),f.removeCustom(d)},removeScenePlugin:function(d){e(this.scenePlugins,d),f.remove(d)},registerGameObject:function(d,c,p){return c&&i.register(d,c),p&&r.register(d,p),this},removeGameObject:function(d,c,p){return c===void 0&&(c=!0),p===void 0&&(p=!0),c&&i.remove(d),p&&r.remove(d),this},registerFileType:function(d,c,p){a.register(d,c),p&&p.sys.load&&(p.sys.load[d]=c)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});v.exports=o},39283:(v,S,t)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=t(88257),m=t(56694),l=t(7599),a=new m({Extends:h,initialize:function(i,s,f){h.call(this,s),this.scene=i,this.systems=i.sys,this.pluginKey=f,i.sys.events.once(l.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=a},45615:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BasePlugin:t(88257),DefaultPlugins:t(18360),PluginCache:t(91963),PluginManager:t(49274),ScenePlugin:t(39283)}},75205:()=>{!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(v){const S=performance.now(),t=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,m=(l,a)=>{const r=this.getVideoPlaybackQuality(),i=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames;if(i>h){const s=this.mozFrameDelay||r.totalFrameDelay-t.totalFrameDelay||0,f=a-l;v(a,{presentationTime:a+s*1e3,expectedDisplayTime:a+f,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+f/1e3,presentedFrames:i,processingDuration:s}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(s=>m(a,s))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(l=>m(S,l)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(v){cancelAnimationFrame(this._rvfcpolyfillmap[v]),delete this._rvfcpolyfillmap[v]})},95723:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};v.exports=S},91135:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(89787),m=t(61840),l=t(56694),a=t(86459),r=t(6659),i=t(81044),s=t(32834),f=t(40444),e=t(38203),o=t(69360),d=new l({Extends:r,initialize:function(p){r.call(this);var x=p.config;this.config={clearBeforeRender:x.clearBeforeRender,backgroundColor:x.backgroundColor,antialias:x.antialias,roundPixels:x.roundPixels},this.game=p,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=p.canvas;var T={alpha:p.config.transparent,desynchronized:p.config.desynchronized,willReadFrequently:!1};this.gameContext=x.context?x.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=p.config.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(e.READY,this.boot,this)},boot:function(){var c=this.game,p=c.scale.baseSize;this.width=p.width,this.height=p.height,this.isBooted=!0,c.scale.on(f.RESIZE,this.onResize,this),this.resize(p.width,p.height)},onResize:function(c,p){(p.width!==this.width||p.height!==this.height)&&this.resize(p.width,p.height)},resize:function(c,p){this.width=c,this.height=p,this.emit(i.RESIZE,c,p)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(c){return this.currentContext.globalCompositeOperation=c,this},setContext:function(c){return this.currentContext=c||this.gameContext,this},setAlpha:function(c){return this.currentContext.globalAlpha=c,this},preRender:function(){var c=this.gameContext,p=this.config,x=this.width,T=this.height;c.globalAlpha=1,c.globalCompositeOperation="source-over",c.setTransform(1,0,0,1,0,0),p.clearBeforeRender&&(c.clearRect(0,0,x,T),p.transparent||(c.fillStyle=p.backgroundColor.rgba,c.fillRect(0,0,x,T))),c.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(c,p,x){var T=p.length;this.emit(i.RENDER,c,x);var E=x.x,y=x.y,w=x.width,A=x.height,P=x.renderToTexture?x.context:c.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(E,y,w,A),P.clip()),x.emit(h.PRE_RENDER,x),this.currentContext=P;var M=x.mask;M&&M.preRenderCanvas(this,null,x._maskCamera),x.transparent||(P.fillStyle=x.backgroundColor.rgba,P.fillRect(E,y,w,A)),P.globalAlpha=x.alpha,P.globalCompositeOperation="source-over",this.drawCount+=T,x.renderToTexture&&x.emit(h.PRE_RENDER,x),x.matrix.copyToContext(P);for(var L=0;L<T;L++){var F=p[L];F.mask&&F.mask.preRenderCanvas(this,F,x),F.renderCanvas(this,F,x),F.mask&&F.mask.postRenderCanvas(this,F,x)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,x.flashEffect.postRenderCanvas(P),x.fadeEffect.postRenderCanvas(P),x.dirty=!1,M&&M.postRenderCanvas(this),P.restore(),x.renderToTexture&&(x.emit(h.POST_RENDER,x),x.renderToGame&&c.sys.context.drawImage(x.canvas,E,y)),x.emit(h.POST_RENDER,x)},postRender:function(){var c=this.gameContext;c.restore(),this.emit(i.POST_RENDER);var p=this.snapshotState;p.callback&&(m(this.gameCanvas,p),p.callback=null)},snapshotCanvas:function(c,p,x,T,E,y,w,A,P){x===void 0&&(x=!1),this.snapshotArea(T,E,y,w,p,A,P);var M=this.snapshotState;return M.getPixel=x,m(c,M),M.callback=null,this},snapshot:function(c,p,x){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,c,p,x)},snapshotArea:function(c,p,x,T,E,y,w){var A=this.snapshotState;return A.callback=E,A.type=y,A.encoder=w,A.getPixel=!1,A.x=c,A.y=p,A.width=Math.min(x,this.gameCanvas.width),A.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(c,p,x){return this.snapshotArea(c,p,1,1,x),this.snapshotState.getPixel=!0,this},batchSprite:function(c,p,x,T){var E=x.alpha*c.alpha;if(E!==0){var y=this.currentContext,w=this._tempMatrix1,A=this._tempMatrix2,P=p.canvasData,M=P.x,L=P.y,F=p.cutWidth,N=p.cutHeight,b=p.customPivot,V=p.source.resolution,X=c.displayOriginX,W=c.displayOriginY,k=-X+p.x,Q=-W+p.y;if(c.isCropped){var U=c._crop;(U.flipX!==c.flipX||U.flipY!==c.flipY)&&p.updateCropUVs(U,c.flipX,c.flipY),F=U.cw,N=U.ch,M=U.cx,L=U.cy,k=-X+U.x,Q=-W+U.y,c.flipX&&(k>=0?k=-(k+F):k<0&&(k=Math.abs(k)-F)),c.flipY&&(Q>=0?Q=-(Q+N):Q<0&&(Q=Math.abs(Q)-N))}var Y=1,O=1;c.flipX&&(b||(k+=-p.realWidth+X*2),Y=-1),c.flipY&&(b||(Q+=-p.realHeight+W*2),O=-1);var G=c.x,z=c.y;x.roundPixels&&(G=Math.floor(G),z=Math.floor(z)),A.applyITRS(G,z,c.rotation,c.scaleX*Y,c.scaleY*O),w.copyFrom(x.matrix),T?(w.multiplyWithOffset(T,-x.scrollX*c.scrollFactorX,-x.scrollY*c.scrollFactorY),A.e=G,A.f=z):(A.e-=x.scrollX*c.scrollFactorX,A.f-=x.scrollY*c.scrollFactorY),w.multiply(A),x.roundPixels&&(w.e=Math.round(w.e),w.f=Math.round(w.f)),y.save(),w.setToContext(y),y.globalCompositeOperation=this.blendModes[c.blendMode],y.globalAlpha=E,y.imageSmoothingEnabled=!p.source.scaleMode,c.mask&&c.mask.preRenderCanvas(this,c,x),F>0&&N>0&&y.drawImage(p.source.image,M,L,F,N,k,Q,F/V,N/V),c.mask&&c.mask.postRenderCanvas(this,c,x),y.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});v.exports=d},6046:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasRenderer:t(91135),GetBlendModes:t(32834),SetTransform:t(49584)}},32834:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),m=t(98581),l=function(){var a=[],r=m.supportNewBlendModes,i="source-over";return a[h.NORMAL]=i,a[h.ADD]="lighter",a[h.MULTIPLY]=r?"multiply":i,a[h.SCREEN]=r?"screen":i,a[h.OVERLAY]=r?"overlay":i,a[h.DARKEN]=r?"darken":i,a[h.LIGHTEN]=r?"lighten":i,a[h.COLOR_DODGE]=r?"color-dodge":i,a[h.COLOR_BURN]=r?"color-burn":i,a[h.HARD_LIGHT]=r?"hard-light":i,a[h.SOFT_LIGHT]=r?"soft-light":i,a[h.DIFFERENCE]=r?"difference":i,a[h.EXCLUSION]=r?"exclusion":i,a[h.HUE]=r?"hue":i,a[h.SATURATION]=r?"saturation":i,a[h.COLOR]=r?"color":i,a[h.LUMINOSITY]=r?"luminosity":i,a[h.ERASE]="destination-out",a[h.SOURCE_IN]="source-in",a[h.SOURCE_OUT]="source-out",a[h.SOURCE_ATOP]="source-atop",a[h.DESTINATION_OVER]="destination-over",a[h.DESTINATION_IN]="destination-in",a[h.DESTINATION_OUT]="destination-out",a[h.DESTINATION_ATOP]="destination-atop",a[h.LIGHTER]="lighter",a[h.COPY]="copy",a[h.XOR]="xor",a};v.exports=l},49584:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(73329),m=function(l,a,r,i,s){var f=i.alpha*r.alpha;if(f<=0)return!1;var e=h(r,i,s).calc;return a.globalCompositeOperation=l.blendModes[r.blendMode],a.globalAlpha=f,a.save(),e.setToContext(a),a.imageSmoothingEnabled=r.frame?!r.frame.source.scaleMode:l.antialias,!0};v.exports=m},70936:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},99298:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},7743:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},99519:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},81044:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={POST_RENDER:t(70936),PRE_RENDER:t(99298),RENDER:t(7743),RESIZE:t(99519)}},42069:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(6046),Events:t(81044),Snapshot:t(95528),WebGL:t(55478)}},61840:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),m=t(27119),l=t(72632),a=function(r,i){var s=l(i,"callback"),f=l(i,"type","image/png"),e=l(i,"encoder",.92),o=Math.abs(Math.round(l(i,"x",0))),d=Math.abs(Math.round(l(i,"y",0))),c=Math.floor(l(i,"width",r.width)),p=Math.floor(l(i,"height",r.height)),x=l(i,"getPixel",!1);if(x){var T=r.getContext("2d",{willReadFrequently:!1}),E=T.getImageData(o,d,1,1),y=E.data;s.call(null,new m(y[0],y[1],y[2],y[3]))}else if(o!==0||d!==0||c!==r.width||p!==r.height){var w=h.createWebGL(this,c,p),A=w.getContext("2d",{willReadFrequently:!0});c>0&&p>0&&A.drawImage(r,o,d,c,p,0,0,c,p);var P=new Image;P.onerror=function(){s.call(null),h.remove(w)},P.onload=function(){s.call(null,P),h.remove(w)},P.src=w.toDataURL(f,e)}else{var M=new Image;M.onerror=function(){s.call(null)},M.onload=function(){s.call(null,M)},M.src=r.toDataURL(f,e)}};v.exports=a},1217:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),m=t(27119),l=t(72632),a=function(r,i){var s=r,f=l(i,"callback"),e=l(i,"type","image/png"),o=l(i,"encoder",.92),d=Math.abs(Math.round(l(i,"x",0))),c=Math.abs(Math.round(l(i,"y",0))),p=l(i,"getPixel",!1),x=l(i,"isFramebuffer",!1),T=x?l(i,"bufferWidth",1):s.drawingBufferWidth,E=x?l(i,"bufferHeight",1):s.drawingBufferHeight;if(p){var y=new Uint8Array(4),w=x?c:E-c;s.readPixels(d,w,1,1,s.RGBA,s.UNSIGNED_BYTE,y),f.call(null,new m(y[0],y[1],y[2],y[3]))}else{var A=Math.floor(l(i,"width",T)),P=Math.floor(l(i,"height",E)),M=A*P*4,L=new Uint8Array(M);s.readPixels(d,E-c-P,A,P,s.RGBA,s.UNSIGNED_BYTE,L);for(var F=h.createWebGL(this,A,P),N=F.getContext("2d",{willReadFrequently:!0}),b=N.getImageData(0,0,A,P),V=b.data,X=0;X<P;X++)for(var W=0;W<A;W++){var k=((P-X-1)*A+W)*4,Q=x?M-(X*A+(A-W))*4:(X*A+W)*4;V[Q+0]=L[k+0],V[Q+1]=L[k+1],V[Q+2]=L[k+2],V[Q+3]=L[k+3]}N.putImageData(b,0,0);var U=new Image;U.onerror=function(){f.call(null),h.remove(F)},U.onload=function(){f.call(null,U),h.remove(F)},U.src=F.toDataURL(e,o)}};v.exports=a},95528:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(61840),WebGL:t(1217)}},35217:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(65641),l=t(33885),a=t(77290),r=t(72632),i=t(37410),s=t(82127),f=t(5583),e=t(58136),o=t(47406),d=t(81828),c=t(66901),p=t(71264),x=t(77310),T=t(10919),E=t(21213),y=t(51212),w=t(60848),A=new h({initialize:function(M){this.game=M.game,this.renderer=M,this.classes=new l([[m.UTILITY_PIPELINE,w],[m.MULTI_PIPELINE,x],[m.BITMAPMASK_PIPELINE,f],[m.SINGLE_PIPELINE,y],[m.ROPE_PIPELINE,E],[m.LIGHT_PIPELINE,c],[m.POINTLIGHT_PIPELINE,T],[m.MOBILE_PIPELINE,p],[m.FX_PIPELINE,d]]),this.postPipelineClasses=new l([[String(o.BARREL),e.Barrel],[String(o.BLOOM),e.Bloom],[String(o.BLUR),e.Blur],[String(o.BOKEH),e.Bokeh],[String(o.CIRCLE),e.Circle],[String(o.COLOR_MATRIX),e.ColorMatrix],[String(o.DISPLACEMENT),e.Displacement],[String(o.GLOW),e.Glow],[String(o.GRADIENT),e.Gradient],[String(o.PIXELATE),e.Pixelate],[String(o.SHADOW),e.Shadow],[String(o.SHINE),e.Shine],[String(o.VIGNETTE),e.Vignette],[String(o.WIPE),e.Wipe]]),this.pipelines=new l,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(P,M,L){var F=this.renderer,N=this.renderTargets;this.frameInc=Math.floor(r(P,"frameInc",32));for(var b=F.width,V=F.height,X=Math.min(b,V),W=Math.ceil(X/this.frameInc),k=1;k<W;k++){var Q=k*this.frameInc;N.push(new i(F,Q,Q)),N.push(new i(F,Q,Q)),N.push(new i(F,Q,Q)),this.maxDimension=Q}N.push(new i(F,b,V,1,0,!0,!0)),N.push(new i(F,b,V,1,0,!0,!0)),N.push(new i(F,b,V,1,0,!0,!0));var U,Y,O=this,G=this.game;if(this.classes.each(function(H,K){U=O.add(H,new K({game:G})),H===m.UTILITY_PIPELINE&&(O.UTILITY_PIPELINE=U,O.fullFrame1=U.fullFrame1,O.fullFrame2=U.fullFrame2,O.halfFrame1=U.halfFrame1,O.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),this.FX_PIPELINE=this.get(m.FX_PIPELINE),P)for(Y in P){var z=P[Y];U=new z(G),U.name=Y,U.isPostFX?this.postPipelineClasses.set(Y,z):this.has(Y)||(this.classes.set(Y,z),this.add(Y,U))}this.default=this.get(M),L&&!a.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(P){var M=this.get(P);return M&&(this.default=M),M},add:function(P,M){if(M.isPostFX){console.warn(P+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,F=this.renderer;return L.has(P)?console.warn("Pipeline exists: "+P):(M.name=P,M.manager=this,L.set(P,M)),M.hasBooted||M.boot(),F.width!==0&&F.height!==0&&!M.isPreFX&&M.resize(F.width,F.height),M},addPostPipeline:function(P,M){this.postPipelineClasses.has(P)||this.postPipelineClasses.set(P,M)},flush:function(){this.current&&this.current.flush()},has:function(P){var M=this.pipelines;return typeof P=="string"?M.has(P):!!M.contains(P)},get:function(P){var M=this.pipelines;if(typeof P=="string")return M.get(P);if(M.contains(P))return P},getPostPipeline:function(P,M,L){var F=this.postPipelineClasses,N,b="",V=typeof P;if(V==="string"||V==="number"?(N=F.get(P),b=P):V==="function"?(F.contains(P)&&(N=P),b=P.name):V==="object"&&(N=F.get(P.name),b=P.name),N){var X=new N(this.game,L);return X.name=b,M&&(X.gameObject=M),X}},remove:function(P,M,L){M===void 0&&(M=!0),L===void 0&&(L=!0),this.pipelines.delete(P),M&&this.classes.delete(P),L&&this.postPipelineClasses.delete(P)},set:function(P,M,L){if(!P.isPostFX)return this.isCurrent(P,L)||(this.flush(),this.current&&this.current.unbind(),this.current=P,P.bind(L)),P.updateProjectionMatrix(),P.onBind(M),P},preBatch:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=M.length-1;L>=0;L--){var F=M[L];F.active&&F.preBatch(P)}}},postBatch:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=0;L<M.length;L++){var F=M[L];F.active&&F.postBatch(P)}}},preBatchCamera:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=M.length-1;L>=0;L--){var F=M[L];F.active&&F.preBatch(P)}}},postBatchCamera:function(P){if(P.hasPostPipeline){this.flush();for(var M=P.postPipelines,L=0;L<M.length;L++){var F=M[L];F.active&&F.postBatch(P)}}},isCurrent:function(P,M){var L=this.renderer,F=this.current;return F&&!M&&(M=F.currentShader),!(F!==P||M.program!==L.currentProgram)},copyFrame:function(P,M,L,F,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(P,M,L,F,N),this},copyToGame:function(P){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(P),this},drawFrame:function(P,M,L,F){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(P,M,L,F),this},blendFrames:function(P,M,L,F,N){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(P,M,L,F,N),this},blendFramesAdditive:function(P,M,L,F,N){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(P,M,L,F,N),this},clearFrame:function(P,M){return this.UTILITY_PIPELINE.clearFrame(P,M),this},blitFrame:function(P,M,L,F,N,b){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(P,M,L,F,N,b),this},copyFrameRect:function(P,M,L,F,N,b,V,X){return this.UTILITY_PIPELINE.copyFrameRect(P,M,L,F,N,b,V,X),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(P){return this.UTILITY_PIPELINE.bind(P)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(P){P===void 0&&this.previous&&(P=this.previous);var M=this.renderer,L=M.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),M.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,M.width,M.height),M.currentProgram=null,M.setBlendMode(0,!0);var F=M.vaoExtension;F&&F.bindVertexArrayOES(null);var N=this.pipelines.entries;for(var b in N)N[b].glReset=!0;P&&(this.current=P,P.rebind())},clear:function(){var P=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,P.currentProgram=null,P.setBlendMode(0,!0);var M=P.vaoExtension;M&&M.bindVertexArrayOES(null)},getRenderTarget:function(P){var M=this.renderTargets,L=3;if(P>this.maxDimension)return this.targetIndex=M.length-L,M[this.targetIndex];var F=(s(P,this.frameInc,0,!0)-1)*L;return this.targetIndex=F,M[F]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});v.exports=A},37410:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(81044),l=new h({initialize:function(r,i,s,f,e,o,d,c,p){f===void 0&&(f=1),e===void 0&&(e=0),o===void 0&&(o=!0),d===void 0&&(d=!1),c===void 0&&(c=!0),p===void 0&&(p=!0),this.renderer=r,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=e,this.autoClear=o,this.autoResize=!0,this.hasDepthBuffer=c,this.forceClamp=p,this.resize(i,s),d?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,r){var i=a*this.scale,s=r*this.scale;if(this.autoResize&&(i!==this.width||s!==this.height)){var f=this.renderer;f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),a*=this.scale,r*=this.scale,a=Math.round(a),r=Math.round(r),a<=0&&(a=1),r<=0&&(r=1),this.texture=f.createTextureFromSource(null,a,r,this.minFilter,this.forceClamp),this.framebuffer=f.createFramebuffer(a,r,this.texture,this.hasDepthBuffer),this.width=a,this.height=r}return this},bind:function(a,r,i){a===void 0&&(a=!1);var s=this.renderer;if(a&&s.flush(),r&&i&&this.resize(r,i),s.pushFramebuffer(this.framebuffer,!1,!1),a&&this.adjustViewport(),this.autoClear){var f=this.renderer.gl;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,r=a.gl;a.pushFramebuffer(this.framebuffer),r.disable(r.SCISSOR_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var r=this.renderer;return a&&r.flush(),r.popFramebuffer()},destroy:function(){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),a.off(m.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});v.exports=l},75512:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={getTintFromFloats:function(S,t,h,m){var l=(S*255|0)&255,a=(t*255|0)&255,r=(h*255|0)&255,i=(m*255|0)&255;return(i<<24|l<<16|a<<8|r)>>>0},getTintAppendFloatAlpha:function(S,t){var h=(t*255|0)&255;return(h<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var h=(S>>16|0)&255,m=(S>>8|0)&255,l=(S|0)&255,a=(t*255|0)&255;return(a<<24|l<<16|m<<8|h)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,h=(S>>8|0)&255,m=(S|0)&255;return[t/255,h/255,m/255]},checkShaderMax:function(S,t){var h=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?h:Math.min(h,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var h="",m=0;m<t;m++)m>0&&(h+=`
	else `),m<t-1&&(h+="if (outTexId < "+m+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",h+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,h)},setGlowQuality:function(S,t,h,m){return h===void 0&&(h=t.config.glowFXQuality),m===void 0&&(m=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/h/m).toFixed(7)),S=S.replace(/__DIST__/gi,m.toFixed(0)+".0"),S}}},44775:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(28699),l=t(6659),a=t(18970),r=t(72632),i=t(16650),s=t(81044),f=t(37410),e=t(75512),o=t(71305),d=new h({Extends:l,initialize:function(p){l.call(this);var x=p.game,T=x.renderer,E=T.gl;this.name=r(p,"name","WebGLPipeline"),this.game=x,this.renderer=T,this.manager,this.gl=E,this.view=x.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=r(p,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=r(p,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=p,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var c,p=this.gl,x=this.config,T=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var E=this.renderTargets,y=r(x,"renderTarget",!1);typeof y=="boolean"&&y&&(y=1);var w=T.width,A=T.height;if(typeof y=="number")for(c=0;c<y;c++)E.push(new f(T,w,A,1,0,!0));else if(Array.isArray(y))for(c=0;c<y.length;c++){var P=r(y[c],"scale",1),M=r(y[c],"minFilter",0),L=r(y[c],"autoClear",1),F=r(y[c],"width",null),N=r(y[c],"height",F);F?E.push(new f(T,F,N,1,M,L)):E.push(new f(T,w,A,P,M,L))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(x);var b=this.shaders,V=0;for(c=0;c<b.length;c++)b[c].vertexSize>V&&(V=b[c].vertexSize);var X=r(x,"batchSize",T.config.batchSize);this.vertexCapacity=X*6;var W=new ArrayBuffer(this.vertexCapacity*V);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var k=r(x,"vertices",null);for(k?(this.vertexViewF32.set(k),this.vertexBuffer=T.createVertexBuffer(W,p.STATIC_DRAW)):this.vertexBuffer=T.createVertexBuffer(W.byteLength,p.DYNAMIC_DRAW),this.setVertexBuffer(),c=b.length-1;c>=0;c--)b[c].rebind();this.hasBooted=!0,T.on(s.RESIZE,this.resize,this),T.on(s.PRE_RENDER,this.onPreRender,this),T.on(s.RENDER,this.onRender,this),T.on(s.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(c,p,x){var T=this.renderer;if(c!==this.currentShader||T.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(x);E&&!p&&(p=!0),c.bind(p,!1),this.currentShader=c}return this},getShaderByName:function(c){for(var p=this.shaders,x=0;x<p.length;x++)if(p[x].name===c)return p[x]},setShadersFromConfig:function(c){var p,x=this.shaders,T=this.renderer;for(p=0;p<x.length;p++)x[p].destroy();var E="vertShader",y="fragShader",w="attributes",A=r(c,E,null),P=e.parseFragmentShaderMaxTextures(r(c,y,null),T.maxTextures),M=r(c,w,null),L=r(c,"shaders",[]),F=L.length;if(F===0)A&&P&&(this.shaders=[new o(this,"default",A,P,m(M))]);else{var N=[];for(p=0;p<F;p++){var b=L[p],V,X,W,k;if(typeof b=="string"?(V="default",X=A,W=e.parseFragmentShaderMaxTextures(b,T.maxTextures),k=M):(V=r(b,"name","default"),X=r(b,E,A),W=e.parseFragmentShaderMaxTextures(r(b,y,P),T.maxTextures),k=r(b,w,M)),V==="default"){var Q=W.split(`
`),U=Q[0].trim();U.indexOf("#define SHADER_NAME")>-1&&(V=U.substring(20))}X&&W&&N.push(new o(this,V,X,W,m(k)))}this.shaders=N}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(c){return this.currentBatch={start:this.vertexCount,count:0,texture:[c],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=c,this.batch.push(this.currentBatch),0},addTextureToBatch:function(c){var p=this.currentBatch;p&&(p.texture.push(c),p.unit++,p.maxUnit++)},pushBatch:function(c){if(!this.currentBatch||this.forceZero&&c!==this.currentTexture)return this.createBatch(c);if(c===this.currentTexture)return this.currentUnit;var p=this.currentBatch,x=p.texture.indexOf(c);return x===-1?p.texture.length===this.renderer.maxTextures?this.createBatch(c):(p.unit++,p.maxUnit++,p.texture.push(c),this.currentUnit=p.unit,this.currentTexture=c,p.unit):(this.currentUnit=x,this.currentTexture=c,x)},setGameObject:function(c,p){return p===void 0&&(p=c.frame),this.pushBatch(p.source.glTexture)},shouldFlush:function(c){return c===void 0&&(c=0),this.vertexCount+c>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(c,p){(c!==this.width||p!==this.height)&&this.flush(),this.width=c,this.height=p;for(var x=this.renderTargets,T=0;T<x.length;T++)x[T].resize(c,p);return this.setProjectionMatrix(c,p),this.emit(a.RESIZE,c,p,this),this.onResize(c,p),this},setProjectionMatrix:function(c,p){var x=this.projectionMatrix;if(!x)return this;this.projectionWidth=c,this.projectionHeight=p,x.ortho(0,c,p,0,-1e3,1e3);for(var T=this.shaders,E="uProjectionMatrix",y=0;y<T.length;y++){var w=T[y];w.hasUniform(E)&&(w.resetUniform(E),w.setMatrix4fv(E,!1,x.val,w))}return this},flipProjectionMatrix:function(c){c===void 0&&(c=!0);var p=this.projectionMatrix;if(!p)return this;var x=this.projectionWidth,T=this.projectionHeight;c?p.ortho(0,x,0,T,-1e3,1e3):p.ortho(0,x,T,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,p.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var c=this.renderer.projectionWidth,p=this.renderer.projectionHeight;(this.projectionWidth!==c||this.projectionHeight!==p)&&this.setProjectionMatrix(c,p)}},bind:function(c){if(c===void 0&&(c=this.currentShader),this.glReset)return this.rebind(c);var p=!1,x=this.gl;return x.getParameter(x.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(x.bindBuffer(x.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,p=!0),c.bind(p),this.currentShader=c,this.activeTextures.length=0,this.emit(a.BIND,this,c),this.onActive(c),this},rebind:function(c){this.activeBuffer=null,this.setVertexBuffer();for(var p=this.shaders,x=p.length-1;x>=0;x--){var T=p[x].rebind();(!c||T===c)&&(this.currentShader=T)}return this.activeTextures.length=0,this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(c){if(c===void 0&&(c=this.vertexBuffer),c!==this.activeBuffer){var p=this.gl;return this.gl.bindBuffer(p.ARRAY_BUFFER,c),this.activeBuffer=c,!0}return!1},preBatch:function(c){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(c),this},postBatch:function(c){return this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(c){if(c===void 0&&(c=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,c),this.onBeforeFlush(c);var p=this.gl,x=this.vertexCount,T=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),x===this.vertexCapacity?p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.DYNAMIC_DRAW):p.bufferSubData(p.ARRAY_BUFFER,0,this.bytes.subarray(0,x*T));var y,w,A,P=this.batch,M=this.activeTextures;if(this.forceZero)for(M[0]||p.activeTexture(p.TEXTURE0),y=0;y<P.length;y++)w=P[y],A=w.texture[0],M[0]!==A&&(p.bindTexture(p.TEXTURE_2D,A),M[0]=A),p.drawArrays(E,w.start,w.count);else for(y=0;y<P.length;y++){w=P[y];for(var L=0;L<=w.maxUnit;L++)A=w.texture[L],M[L]!==A&&(p.activeTexture(p.TEXTURE0+L),p.bindTexture(p.TEXTURE_2D,A),M[L]=A);p.drawArrays(E,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(a.AFTER_FLUSH,this,c),this.onAfterFlush(c)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(c,p,x,T,E,y,w){var A=this.vertexViewF32,P=this.vertexViewU32,M=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++M]=c,A[++M]=p,A[++M]=x,A[++M]=T,A[++M]=E,A[++M]=y,P[++M]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(c,p,x,T,E,y,w,A,P,M,L,F,N,b,V,X,W,k,Q,U){U===void 0&&(U=this.currentUnit);var Y=!1;this.shouldFlush(6)&&(this.flush(),Y=!0),this.currentBatch||(U=this.setTexture2D(Q));var O=this.vertexViewF32,G=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return O[++z]=p,O[++z]=x,O[++z]=M,O[++z]=L,O[++z]=U,O[++z]=k,G[++z]=b,O[++z]=T,O[++z]=E,O[++z]=M,O[++z]=N,O[++z]=U,O[++z]=k,G[++z]=X,O[++z]=y,O[++z]=w,O[++z]=F,O[++z]=N,O[++z]=U,O[++z]=k,G[++z]=W,O[++z]=p,O[++z]=x,O[++z]=M,O[++z]=L,O[++z]=U,O[++z]=k,G[++z]=b,O[++z]=y,O[++z]=w,O[++z]=F,O[++z]=N,O[++z]=U,O[++z]=k,G[++z]=W,O[++z]=A,O[++z]=P,O[++z]=F,O[++z]=L,O[++z]=U,O[++z]=k,G[++z]=V,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),Y},batchTri:function(c,p,x,T,E,y,w,A,P,M,L,F,N,b,V,X,W){W===void 0&&(W=this.currentUnit);var k=!1;this.shouldFlush(3)&&(this.flush(),k=!0),this.currentBatch||(W=this.setTexture2D(X));var Q=this.vertexViewF32,U=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return Q[++Y]=p,Q[++Y]=x,Q[++Y]=A,Q[++Y]=P,Q[++Y]=W,Q[++Y]=V,U[++Y]=F,Q[++Y]=T,Q[++Y]=E,Q[++Y]=A,Q[++Y]=L,Q[++Y]=W,Q[++Y]=V,U[++Y]=N,Q[++Y]=y,Q[++Y]=w,Q[++Y]=M,Q[++Y]=L,Q[++Y]=W,Q[++Y]=V,U[++Y]=b,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(c),k},drawFillRect:function(c,p,x,T,E,y,w,A){w===void 0&&(w=this.renderer.whiteTexture),A===void 0&&(A=!0),c=Math.floor(c),p=Math.floor(p);var P=Math.floor(c+x),M=Math.floor(p+T),L=this.setTexture2D(w),F=e.getTintAppendFloatAlphaAndSwap(E,y),N=0,b=0,V=1,X=1;A&&(b=1,X=0),this.batchQuad(null,c,p,c,M,P,M,P,p,N,b,V,X,F,F,F,F,0,w,L)},setTexture2D:function(c){return c===void 0&&(c=this.renderer.whiteTexture),this.pushBatch(c)},bindTexture:function(c,p){p===void 0&&(p=0);var x=this.gl;return x.activeTexture(x.TEXTURE0+p),x.bindTexture(x.TEXTURE_2D,c),this},bindRenderTarget:function(c,p){return this.bindTexture(c.texture,p)},setTime:function(c,p){return this.set1f(c,this.game.loop.getDuration(),p),this},setBoolean:function(c,p,x){return x===void 0&&(x=this.currentShader),x.setBoolean(c,p),this},set1f:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set1f(c,p),this},set2f:function(c,p,x,T){return T===void 0&&(T=this.currentShader),T.set2f(c,p,x),this},set3f:function(c,p,x,T,E){return E===void 0&&(E=this.currentShader),E.set3f(c,p,x,T),this},set4f:function(c,p,x,T,E,y){return y===void 0&&(y=this.currentShader),y.set4f(c,p,x,T,E),this},set1fv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set1fv(c,p),this},set2fv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set2fv(c,p),this},set3fv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set3fv(c,p),this},set4fv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set4fv(c,p),this},set1iv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set1iv(c,p),this},set2iv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set2iv(c,p),this},set3iv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set3iv(c,p),this},set4iv:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set4iv(c,p),this},set1i:function(c,p,x){return x===void 0&&(x=this.currentShader),x.set1i(c,p),this},set2i:function(c,p,x,T){return T===void 0&&(T=this.currentShader),T.set2i(c,p,x),this},set3i:function(c,p,x,T,E){return E===void 0&&(E=this.currentShader),E.set3i(c,p,x,T),this},set4i:function(c,p,x,T,E,y){return y===void 0&&(y=this.currentShader),y.set4i(c,p,x,T,E),this},setMatrix2fv:function(c,p,x,T){return T===void 0&&(T=this.currentShader),T.setMatrix2fv(c,p,x),this},setMatrix3fv:function(c,p,x,T){return T===void 0&&(T=this.currentShader),T.setMatrix3fv(c,p,x),this},setMatrix4fv:function(c,p,x,T){return T===void 0&&(T=this.currentShader),T.setMatrix4fv(c,p,x),this},destroy:function(){this.emit(a.DESTROY,this);var c,p=this.shaders;for(c=0;c<p.length;c++)p[c].destroy();var x=this.renderTargets;for(c=0;c<x.length;c++)x[c].destroy();this.gl.deleteBuffer(this.vertexBuffer);var T=this.renderer;return T.off(s.RESIZE,this.resize,this),T.off(s.PRE_RENDER,this.onPreRender,this),T.off(s.RENDER,this.onRender,this),T.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});v.exports=d},11857:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),m=t(89787),l=t(56694),a=t(86459),r=t(6659),i=t(81044),s=t(28621),f=t(16650),e=t(72283),o=t(35217),d=t(37410),c=t(40444),p=t(38203),x=t(75512),T=t(1217),E=new l({Extends:r,initialize:function(w){r.call(this);var A=w.config,P={alpha:A.transparent,desynchronized:A.desynchronized,depth:!0,antialias:A.antialiasGL,premultipliedAlpha:A.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:A.failIfMajorPerformanceCaveat,powerPreference:A.powerPreference,preserveDrawingBuffer:A.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:A.clearBeforeRender,antialias:A.antialias,backgroundColor:A.backgroundColor,contextCreation:P,roundPixels:A.roundPixels,maxTextures:A.maxTextures,maxTextureSize:A.maxTextureSize,batchSize:A.batchSize,maxLights:A.maxLights,mipmapFilter:A.mipmapFilter},this.game=w,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=w.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=e,this.contextRestoredHandler=e,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(y){var w,A=this.game,P=this.canvas,M=y.backgroundColor;if(A.config.context?w=A.config.context:w=P.getContext("webgl",y.contextCreation)||P.getContext("experimental-webgl",y.contextCreation),!w||w.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=w;var L=this;this.contextLostHandler=function(k){L.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),k.preventDefault()},P.addEventListener("webglcontextlost",this.contextLostHandler,!1),A.context=w;for(var F=0;F<=27;F++)this.blendModes.push({func:[w.ONE,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_ADD});this.blendModes[1].func=[w.ONE,w.DST_ALPHA],this.blendModes[2].func=[w.DST_COLOR,w.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[w.ONE,w.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[w.ZERO,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_REVERSE_SUBTRACT},this.glFormats=[w.BYTE,w.SHORT,w.UNSIGNED_BYTE,w.UNSIGNED_SHORT,w.FLOAT],this.glFuncMap={mat2:{func:w.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:w.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:w.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:w.uniform1f,length:1},"1fv":{func:w.uniform1fv,length:1},"1i":{func:w.uniform1i,length:1},"1iv":{func:w.uniform1iv,length:1},"2f":{func:w.uniform2f,length:2},"2fv":{func:w.uniform2fv,length:1},"2i":{func:w.uniform2i,length:2},"2iv":{func:w.uniform2iv,length:1},"3f":{func:w.uniform3f,length:3},"3fv":{func:w.uniform3fv,length:1},"3i":{func:w.uniform3i,length:3},"3iv":{func:w.uniform3iv,length:1},"4f":{func:w.uniform4f,length:4},"4fv":{func:w.uniform4fv,length:1},"4i":{func:w.uniform4i,length:4},"4iv":{func:w.uniform4iv,length:1}};var N=w.getSupportedExtensions();(!y.maxTextures||y.maxTextures===-1)&&(y.maxTextures=w.getParameter(w.MAX_TEXTURE_IMAGE_UNITS)),y.maxTextureSize||(y.maxTextureSize=w.getParameter(w.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=N;var b="ANGLE_instanced_arrays";this.instancedArraysExtension=N.indexOf(b)>-1?w.getExtension(b):null;var V="OES_vertex_array_object";this.vaoExtension=N.indexOf(V)>-1?w.getExtension(V):null,w.disable(w.DEPTH_TEST),w.disable(w.CULL_FACE),w.enable(w.BLEND),w.clearColor(M.redGL,M.greenGL,M.blueGL,M.alphaGL),y.mipmapFilter!==""&&(this.mipmapFilter=w[y.mipmapFilter]),this.maxTextures=x.checkShaderMax(w,y.maxTextures),this.textureIndexes=[];for(var X=0;X<this.maxTextures;X++){var W=w.createTexture();w.activeTexture(w.TEXTURE0+X),w.bindTexture(w.TEXTURE_2D,W),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,1,1,0,w.RGBA,w.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(X)}return this.pipelines=new o(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new f().identity(),A.textures.once(p.READY,this.boot,this),this},boot:function(){var y=this.game,w=this.pipelines,A=y.scale.baseSize,P=A.width,M=A.height;this.width=P,this.height=M,this.isBooted=!0,this.renderTarget=new d(this,P,M,1,0,!0,!0),this.maskTarget=new d(this,P,M,1,0,!0,!0),this.maskSource=new d(this,P,M,1,0,!0,!0);var L=y.config;w.boot(L.pipeline,L.defaultPipeline,L.autoMobilePipeline),this.blankTexture=y.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=y.textures.getFrame("__WHITE").glTexture;var F=this.gl;F.bindFramebuffer(F.FRAMEBUFFER,null),F.enable(F.SCISSOR_TEST),y.scale.on(c.RESIZE,this.onResize,this),this.resize(P,M)},captureFrame:function(y,w){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(y,w,A){},stopCapture:function(){},onCapture:function(y){},onResize:function(y,w){(w.width!==this.width||w.height!==this.height)&&this.resize(w.width,w.height)},beginCapture:function(y,w){y===void 0&&(y=this.width),w===void 0&&(w=this.height),this.renderTarget.bind(!0,y,w),this.setProjectionMatrix(y,w)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(y,w){var A=this.gl;return this.width=y,this.height=w,this.setProjectionMatrix(y,w),A.viewport(0,0,y,w),this.drawingBufferHeight=A.drawingBufferHeight,A.scissor(0,A.drawingBufferHeight-w,y,w),this.defaultScissor[2]=y,this.defaultScissor[3]=w,this.emit(i.RESIZE,y,w),this},getCompressedTextures:function(){var y="WEBGL_compressed_texture_",w="WEBKIT_"+y,A=function(M,L){var F=M.getExtension(y+L)||M.getExtension(w+L);if(F){var N={};for(var b in F)N[F[b]]=b;return N}},P=this.gl;return{ETC:A(P,"etc"),ETC1:A(P,"etc1"),ATC:A(P,"atc"),ASTC:A(P,"astc"),BPTC:A(P,"bptc"),RGTC:A(P,"rgtc"),PVRTC:A(P,"pvrtc"),S3TC:A(P,"s3tc"),S3TCSRGB:A(P,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(y,w){var A=this.compression[y.toUpperCase()];if(w in A)return A[w]},supportsCompressedTexture:function(y,w){var A=this.compression[y.toUpperCase()];return A?w?w in A:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(y,w){return(y!==this.projectionWidth||w!==this.projectionHeight)&&(this.projectionWidth=y,this.projectionHeight=w,this.projectionMatrix.ortho(0,y,w,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(y){return this.supportedExtensions?this.supportedExtensions.indexOf(y):!1},getExtension:function(y){return this.hasExtension(y)?(y in this.extensions||(this.extensions[y]=this.gl.getExtension(y)),this.extensions[y]):null},flush:function(){this.pipelines.flush()},pushScissor:function(y,w,A,P,M){M===void 0&&(M=this.drawingBufferHeight);var L=this.scissorStack,F=[y,w,A,P];return L.push(F),this.setScissor(y,w,A,P,M),this.currentScissor=F,F},setScissor:function(y,w,A,P,M){M===void 0&&(M=this.drawingBufferHeight);var L=this.gl,F=this.currentScissor,N=A>0&&P>0;if(F&&N){var b=F[0],V=F[1],X=F[2],W=F[3];N=b!==y||V!==w||X!==A||W!==P}N&&(this.flush(),L.scissor(y,M-w-P,A,P))},resetScissor:function(){var y=this.gl;y.enable(y.SCISSOR_TEST);var w=this.currentScissor;if(w){var A=w[0],P=w[1],M=w[2],L=w[3];M>0&&L>0&&y.scissor(A,this.drawingBufferHeight-P-L,M,L)}},popScissor:function(){var y=this.scissorStack;y.pop();var w=y[y.length-1];w&&this.setScissor(w[0],w[1],w[2],w[3]),this.currentScissor=w},hasActiveStencilMask:function(){var y=this.currentMask.mask,w=this.currentCameraMask.mask;return y&&y.isStencil||w&&w.isStencil},resetViewport:function(){var y=this.gl;y.viewport(0,0,this.width,this.height),this.drawingBufferHeight=y.drawingBufferHeight},setBlendMode:function(y,w){w===void 0&&(w=!1);var A=this.gl,P=this.blendModes[y];return w||y!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==y?(this.flush(),A.enable(A.BLEND),A.blendEquation(P.equation),P.func.length>2?A.blendFuncSeparate(P.func[0],P.func[1],P.func[2],P.func[3]):A.blendFunc(P.func[0],P.func[1]),this.currentBlendMode=y,!0):!1},addBlendMode:function(y,w){var A=this.blendModes.push({func:y,equation:w});return A-1},updateBlendMode:function(y,w,A){return this.blendModes[y]&&(this.blendModes[y].func=w,A&&(this.blendModes[y].equation=A)),this},removeBlendMode:function(y){return y>17&&this.blendModes[y]&&this.blendModes.splice(y,1),this},pushFramebuffer:function(y,w,A,P,M){return y===this.currentFramebuffer?this:(this.fboStack.push(y),this.setFramebuffer(y,w,A,P,M))},setFramebuffer:function(y,w,A,P,M){if(w===void 0&&(w=!1),A===void 0&&(A=!0),P===void 0&&(P=null),M===void 0&&(M=!1),y===this.currentFramebuffer)return this;var L=this.gl,F=this.width,N=this.height;return y&&y.renderTexture&&A?(F=y.renderTexture.width,N=y.renderTexture.height):this.flush(),L.bindFramebuffer(L.FRAMEBUFFER,y),A&&L.viewport(0,0,F,N),P&&L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,P,0),M&&(L.clearColor(0,0,0,0),L.clear(L.COLOR_BUFFER_BIT)),w&&(y?(this.drawingBufferHeight=N,this.pushScissor(0,0,F,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=y,this},popFramebuffer:function(y,w){y===void 0&&(y=!1),w===void 0&&(w=!0);var A=this.fboStack;A.pop();var P=A[A.length-1];return P||(P=null),this.setFramebuffer(P,y,w),P},restoreFramebuffer:function(y,w){y===void 0&&(y=!1),w===void 0&&(w=!0);var A=this.fboStack,P=A[A.length-1];P||(P=null),this.currentFramebuffer=null,this.setFramebuffer(P,y,w)},setProgram:function(y){return y!==this.currentProgram?(this.flush(),this.gl.useProgram(y),this.currentProgram=y,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(y,w,A,P,M){M===void 0&&(M=!1);var L=this.gl,F=L.NEAREST,N=L.NEAREST,b=L.CLAMP_TO_EDGE,V=null;w=y?y.width:w,A=y?y.height:A;var X=s(w,A);return X&&!M&&(b=L.REPEAT),P===a.ScaleModes.LINEAR&&this.config.antialias&&(F=X&&this.mipmapFilter?this.mipmapFilter:L.LINEAR,N=L.LINEAR),y&&y.compressed&&(F=L.LINEAR,N=L.LINEAR),!y&&typeof w=="number"&&typeof A=="number"?V=this.createTexture2D(0,F,N,b,b,L.RGBA,null,w,A):V=this.createTexture2D(0,F,N,b,b,L.RGBA,y),V},createTexture2D:function(y,w,A,P,M,L,F,N,b,V,X,W){V=V??!0,X===void 0&&(X=!1),W===void 0&&(W=!1);var k=this.gl,Q=k.createTexture();k.activeTexture(k.TEXTURE0);var U=k.getParameter(k.TEXTURE_BINDING_2D);k.bindTexture(k.TEXTURE_2D,Q),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,w),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,A),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,M),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,P),k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V),W&&k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!0);var Y=!1;if(F==null)k.texImage2D(k.TEXTURE_2D,y,L,N,b,0,L,k.UNSIGNED_BYTE,null),Y=s(N,b);else if(F.compressed){N=F.width,b=F.height,Y=F.generateMipmap;for(var O=0;O<F.mipmaps.length;O++)k.compressedTexImage2D(k.TEXTURE_2D,O,F.internalFormat,F.mipmaps[O].width,F.mipmaps[O].height,0,F.mipmaps[O].data)}else X||(N=F.width,b=F.height),k.texImage2D(k.TEXTURE_2D,y,L,L,k.UNSIGNED_BYTE,F),Y=s(N,b);return Y&&k.generateMipmap(k.TEXTURE_2D),U&&k.bindTexture(k.TEXTURE_2D,U),Q.isAlphaPremultiplied=V,Q.isRenderTexture=!1,Q.width=N,Q.height=b,Q},createFramebuffer:function(y,w,A,P){P===void 0&&(P=!0);var M=this.gl,L=M.createFramebuffer(),F=0;if(this.setFramebuffer(L),A.isRenderTexture=!0,A.isAlphaPremultiplied=!1,M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,A,0),F=M.checkFramebufferStatus(M.FRAMEBUFFER),F!==M.FRAMEBUFFER_COMPLETE){var N={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(N[F]||F))}if(L.renderTexture=A,P){var b=M.createRenderbuffer();M.bindRenderbuffer(M.RENDERBUFFER,b),M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_STENCIL,y,w),M.framebufferRenderbuffer(M.FRAMEBUFFER,M.DEPTH_STENCIL_ATTACHMENT,M.RENDERBUFFER,b)}return this.setFramebuffer(null),L},beginBitmapMask:function(y,w){var A=this.gl;A&&(this.flush(),this.maskTarget.bind(),this.currentCameraMask.mask!==y&&(this.currentMask.mask=y,this.currentMask.camera=w))},drawBitmapMask:function(y,w,A){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),y.renderWebGL(this,y,w),this.maskSource.unbind(!0),this.maskTarget.unbind();var P=this.gl,M=this.getCurrentStencilMask();M?(P.enable(P.STENCIL_TEST),M.mask.applyStencil(this,M.camera,!0)):this.currentMask.mask=null,this.pipelines.set(A),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,this.maskTarget.texture),P.activeTexture(P.TEXTURE1),P.bindTexture(P.TEXTURE_2D,this.maskSource.texture)},createProgram:function(y,w){var A=this.gl,P=A.createProgram(),M=A.createShader(A.VERTEX_SHADER),L=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(M,y),A.shaderSource(L,w),A.compileShader(M),A.compileShader(L);var F=`Shader failed:
`;if(!A.getShaderParameter(M,A.COMPILE_STATUS))throw new Error("Vertex "+F+A.getShaderInfoLog(M));if(!A.getShaderParameter(L,A.COMPILE_STATUS))throw new Error("Fragment "+F+A.getShaderInfoLog(L));if(A.attachShader(P,M),A.attachShader(P,L),A.linkProgram(P),!A.getProgramParameter(P,A.LINK_STATUS))throw new Error("Link "+F+A.getProgramInfoLog(P));return A.useProgram(P),P},createVertexBuffer:function(y,w){var A=this.gl,P=A.createBuffer();return A.bindBuffer(A.ARRAY_BUFFER,P),A.bufferData(A.ARRAY_BUFFER,y,w),A.bindBuffer(A.ARRAY_BUFFER,null),P},createIndexBuffer:function(y,w){var A=this.gl,P=A.createBuffer();return A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,P),A.bufferData(A.ELEMENT_ARRAY_BUFFER,y,w),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,null),P},deleteTexture:function(y){return y&&this.gl.deleteTexture(y),this},deleteFramebuffer:function(y){if(y){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,y);var A=w.getParameter(w.RENDERBUFFER_BINDING);A&&w.deleteRenderbuffer(A),w.bindFramebuffer(w.FRAMEBUFFER,null),w.deleteFramebuffer(y),h(this.fboStack,y),this.currentFramebuffer===y&&(this.currentFramebuffer=null)}return this},deleteProgram:function(y){return y&&this.gl.deleteProgram(y),this},deleteBuffer:function(y){return this.gl.deleteBuffer(y),this},preRenderCamera:function(y){var w=y.x,A=y.y,P=y.width,M=y.height,L=y.backgroundColor;if(y.emit(m.PRE_RENDER,y),this.pipelines.preBatchCamera(y),this.pushScissor(w,A,P,M),y.mask&&(this.currentCameraMask.mask=y.mask,this.currentCameraMask.camera=y._maskCamera,y.mask.preRenderWebGL(this,y,y._maskCamera)),L.alphaGL>0){var F=this.pipelines.setMulti();F.drawFillRect(w,A,P,M,x.getTintFromFloats(L.blueGL,L.greenGL,L.redGL,1),L.alphaGL)}},getCurrentStencilMask:function(){var y=null,w=this.maskStack,A=this.currentCameraMask;return w.length>0?y=w[w.length-1]:A.mask&&A.mask.isStencil&&(y=A),y},postRenderCamera:function(y){var w=y.flashEffect,A=y.fadeEffect;if(w.isRunning||A.isRunning||A.isComplete){var P=this.pipelines.setMulti();w.postRenderWebGL(P,x.getTintFromFloats),A.postRenderWebGL(P,x.getTintFromFloats)}y.dirty=!1,this.popScissor(),y.mask&&(this.currentCameraMask.mask=null,y.mask.postRenderWebGL(this,y._maskCamera)),this.pipelines.postBatchCamera(y),y.emit(m.POST_RENDER,y)},preRender:function(){if(!this.contextLost){var y=this.gl;if(y.bindFramebuffer(y.FRAMEBUFFER,null),this.config.clearBeforeRender){var w=this.config.backgroundColor;y.clearColor(w.redGL,w.greenGL,w.blueGL,w.alphaGL),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT)}y.enable(y.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&y.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(i.PRE_RENDER)}},render:function(y,w,A){if(!this.contextLost){var P=w.length;if(this.emit(i.RENDER,y,A),this.preRenderCamera(A),P===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A);return}this.currentType="";for(var M=this.currentMask,L=0;L<P;L++){this.finalType=L===P-1;var F=w[L],N=F.mask;M=this.currentMask,M.mask&&M.mask!==N&&M.mask.postRenderWebGL(this,M.camera),N&&M.mask!==N&&N.preRenderWebGL(this,F,A),F.blendMode!==this.currentBlendMode&&this.setBlendMode(F.blendMode);var b=F.type;b!==this.currentType&&(this.newType=!0,this.currentType=b),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=w[L+1].type===this.currentType,F.renderWebGL(this,F,A),this.newType=!1}M=this.currentMask,M.mask&&M.mask.postRenderWebGL(this,M.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(A)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(i.POST_RENDER);var y=this.snapshotState;y.callback&&(T(this.gl,y),y.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var y=this.gl,w=this.getCurrentStencilMask();if(w){var A=w.mask;y.enable(y.STENCIL_TEST),A.invertAlpha?y.stencilFunc(y.NOTEQUAL,A.level,255):y.stencilFunc(y.EQUAL,A.level,255)}},snapshot:function(y,w,A){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,y,w,A)},snapshotArea:function(y,w,A,P,M,L,F){var N=this.snapshotState;return N.callback=M,N.type=L,N.encoder=F,N.getPixel=!1,N.x=y,N.y=w,N.width=A,N.height=P,this},snapshotPixel:function(y,w,A){return this.snapshotArea(y,w,1,1,A),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(y,w,A,P,M,L,F,N,b,V,X){M===void 0&&(M=!1),L===void 0&&(L=0),F===void 0&&(F=0),N===void 0&&(N=w),b===void 0&&(b=A),V==="pixel"&&(M=!0,V="image/png");var W=this.currentFramebuffer;this.snapshotArea(L,F,N,b,P,V,X);var k=this.snapshotState;return k.getPixel=M,k.isFramebuffer=!0,k.bufferWidth=w,k.bufferHeight=A,k.width=Math.min(k.width,w),k.height=Math.min(k.height,A),this.setFramebuffer(y),T(this.gl,k),this.setFramebuffer(W),k.callback=null,k.isFramebuffer=!1,this},canvasToTexture:function(y,w,A,P){return A===void 0&&(A=!1),P===void 0&&(P=!1),w?this.updateCanvasTexture(y,w,P):this.createCanvasTexture(y,A,P)},createCanvasTexture:function(y,w,A){w===void 0&&(w=!1),A===void 0&&(A=!1);var P=this.gl,M=P.NEAREST,L=P.NEAREST,F=y.width,N=y.height,b=P.CLAMP_TO_EDGE,V=s(F,N);return!w&&V&&(b=P.REPEAT),this.config.antialias&&(M=V&&this.mipmapFilter?this.mipmapFilter:P.LINEAR,L=P.LINEAR),this.createTexture2D(0,M,L,b,b,P.RGBA,y,F,N,!0,!1,A)},updateCanvasTexture:function(y,w,A){A===void 0&&(A=!1);var P=this.gl,M=y.width,L=y.height;if(M>0&&L>0){P.activeTexture(P.TEXTURE0);var F=P.getParameter(P.TEXTURE_BINDING_2D);P.bindTexture(P.TEXTURE_2D,w),A&&P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,!0),P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,y),w.width=M,w.height=L,F&&P.bindTexture(P.TEXTURE_2D,F)}return w},createVideoTexture:function(y,w,A){w===void 0&&(w=!1),A===void 0&&(A=!1);var P=this.gl,M=P.NEAREST,L=P.NEAREST,F=y.videoWidth,N=y.videoHeight,b=P.CLAMP_TO_EDGE,V=s(F,N);return!w&&V&&(b=P.REPEAT),this.config.antialias&&(M=V&&this.mipmapFilter?this.mipmapFilter:P.LINEAR,L=P.LINEAR),this.createTexture2D(0,M,L,b,b,P.RGBA,y,F,N,!0,!0,A)},updateVideoTexture:function(y,w,A){A===void 0&&(A=!1);var P=this.gl,M=y.videoWidth,L=y.videoHeight;if(M>0&&L>0){P.activeTexture(P.TEXTURE0);var F=P.getParameter(P.TEXTURE_BINDING_2D);P.bindTexture(P.TEXTURE_2D,w),P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,A),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,y),w.width=M,w.height=L,F&&P.bindTexture(P.TEXTURE_2D,F)}return w},setTextureFilter:function(y,w){var A=this.gl,P=[A.LINEAR,A.NEAREST][w];A.activeTexture(A.TEXTURE0);var M=A.getParameter(A.TEXTURE_BINDING_2D);return A.bindTexture(A.TEXTURE_2D,y),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,P),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,P),M&&A.bindTexture(A.TEXTURE_2D,M),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});v.exports=E},71305:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(71402),a=new h({initialize:function(i,s,f,e,o){this.pipeline=i,this.name=s,this.renderer=i.renderer,this.gl=this.renderer.gl,this.fragSrc=e,this.vertSrc=f,this.program=this.renderer.createProgram(f,e),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(o),this.createUniforms()},createAttributes:function(r){var i=0,s=0,f=[];this.vertexComponentCount=0;for(var e=0;e<r.length;e++){var o=r[e],d=o.name,c=m(o,"size",1),p=m(o,"type",l.FLOAT),x=p.enum,T=p.size,E=!!o.normalized;f.push({name:d,size:c,type:x,normalized:E,offset:s,enabled:!1,location:-1}),T===4?i+=c:i++,s+=c*T}this.vertexSize=s,this.vertexComponentCount=i,this.attributes=f},bind:function(r,i){return r===void 0&&(r=!1),i===void 0&&(i=!1),i&&this.pipeline.flush(),this.renderer.setProgram(this.program),r&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(r){r===void 0&&(r=!1);for(var i=this.gl,s=this.vertexSize,f=this.attributes,e=this.program,o=0;o<f.length;o++){var d=f[o],c=d.size,p=d.type,x=d.offset,T=d.enabled,E=d.location,y=!!d.normalized;if(r){var w=i.getAttribLocation(e,d.name);w>=0?(i.enableVertexAttribArray(w),i.vertexAttribPointer(w,c,p,y,s,x),d.enabled=!0,d.location=w):w!==-1&&i.disableVertexAttribArray(w)}else T?i.vertexAttribPointer(E,c,p,y,s,x):!T&&E>-1&&(i.disableVertexAttribArray(E),d.location=-1)}return this},createUniforms:function(){var r=this.gl,i=this.program,s=this.uniforms,f,e,o,d=r.getProgramParameter(i,r.ACTIVE_UNIFORMS);for(f=0;f<d;f++){var c=r.getActiveUniform(i,f);if(c){e=c.name,o=r.getUniformLocation(i,e),o!==null&&(s[e]={name:e,location:o,value1:null,value2:null,value3:null,value4:null});var p=e.indexOf("[");p>0&&(e=e.substr(0,p),s.hasOwnProperty(e)||(o=r.getUniformLocation(i,e),o!==null&&(s[e]={name:e,location:o,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(r){return this.uniforms.hasOwnProperty(r)},resetUniform:function(r){var i=this.uniforms[r];return i&&(i.value1=null,i.value2=null,i.value3=null,i.value4=null),this},setUniform1:function(r,i,s,f){var e=this.uniforms[i];return e?((f||e.value1!==s)&&(e.value1=s,this.renderer.setProgram(this.program),r.call(this.gl,e.location,s),this.pipeline.currentShader=this),this):this},setUniform2:function(r,i,s,f,e){var o=this.uniforms[i];return o?((e||o.value1!==s||o.value2!==f)&&(o.value1=s,o.value2=f,this.renderer.setProgram(this.program),r.call(this.gl,o.location,s,f),this.pipeline.currentShader=this),this):this},setUniform3:function(r,i,s,f,e,o){var d=this.uniforms[i];return d?((o||d.value1!==s||d.value2!==f||d.value3!==e)&&(d.value1=s,d.value2=f,d.value3=e,this.renderer.setProgram(this.program),r.call(this.gl,d.location,s,f,e),this.pipeline.currentShader=this),this):this},setUniform4:function(r,i,s,f,e,o,d){var c=this.uniforms[i];return c?((d||c.value1!==s||c.value2!==f||c.value3!==e||c.value4!==o)&&(c.value1=s,c.value2=f,c.value3=e,c.value4=o,this.renderer.setProgram(this.program),r.call(this.gl,c.location,s,f,e,o),this.pipeline.currentShader=this),this):this},setBoolean:function(r,i){return this.setUniform1(this.gl.uniform1i,r,Number(i))},set1f:function(r,i){return this.setUniform1(this.gl.uniform1f,r,i)},set2f:function(r,i,s){return this.setUniform2(this.gl.uniform2f,r,i,s)},set3f:function(r,i,s,f){return this.setUniform3(this.gl.uniform3f,r,i,s,f)},set4f:function(r,i,s,f,e){return this.setUniform4(this.gl.uniform4f,r,i,s,f,e)},set1fv:function(r,i){return this.setUniform1(this.gl.uniform1fv,r,i,!0)},set2fv:function(r,i){return this.setUniform1(this.gl.uniform2fv,r,i,!0)},set3fv:function(r,i){return this.setUniform1(this.gl.uniform3fv,r,i,!0)},set4fv:function(r,i){return this.setUniform1(this.gl.uniform4fv,r,i,!0)},set1iv:function(r,i){return this.setUniform1(this.gl.uniform1iv,r,i,!0)},set2iv:function(r,i){return this.setUniform1(this.gl.uniform2iv,r,i,!0)},set3iv:function(r,i){return this.setUniform1(this.gl.uniform3iv,r,i,!0)},set4iv:function(r,i){return this.setUniform1(this.gl.uniform4iv,r,i,!0)},set1i:function(r,i){return this.setUniform1(this.gl.uniform1i,r,i)},set2i:function(r,i,s){return this.setUniform2(this.gl.uniform2i,r,i,s)},set3i:function(r,i,s,f){return this.setUniform3(this.gl.uniform3i,r,i,s,f)},set4i:function(r,i,s,f,e){return this.setUniform4(this.gl.uniform4i,r,i,s,f,e)},setMatrix2fv:function(r,i,s){return this.setUniform2(this.gl.uniformMatrix2fv,r,i,s,!0)},setMatrix3fv:function(r,i,s){return this.setUniform2(this.gl.uniformMatrix3fv,r,i,s,!0)},setMatrix4fv:function(r,i,s){return this.setUniform2(this.gl.uniformMatrix4fv,r,i,s,!0)},createProgram:function(r,i){r===void 0&&(r=this.vertSrc),i===void 0&&(i=this.fragSrc);var s=this.gl;return this.program&&s.deleteProgram(this.program),this.vertSrc=r,this.fragSrc=i,this.program=this.renderer.createProgram(r,i),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});v.exports=a},71402:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};v.exports=S},55478:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71402),m=t(98611),l={PipelineManager:t(35217),Pipelines:t(62253),RenderTarget:t(37410),Utils:t(75512),WebGLPipeline:t(44775),WebGLRenderer:t(11857),WebGLShader:t(71305)};l=m(!1,l,h),v.exports=l},5583:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(91679),a=t(89053),r=t(71402),i=t(44775),s=new h({Extends:i,initialize:function(e){e.fragShader=m(e,"fragShader",l),e.vertShader=m(e,"vertShader",a),e.batchSize=m(e,"batchSize",1),e.vertices=m(e,"vertices",[-1,1,-1,-7,7,1]),e.attributes=m(e,"attributes",[{name:"inPosition",size:2,type:r.FLOAT}]),i.call(this,e)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,e){i.prototype.resize.call(this,f,e),this.set2f("uResolution",f,e)},beginMask:function(f,e,o){this.renderer.beginBitmapMask(f,o)},endMask:function(f,e,o){var d=this.gl,c=this.renderer,p=f.bitmapMask;p&&d&&(c.drawBitmapMask(p,e,this),o&&this.set2f("uResolution",o.width,o.height),this.set1i("uInvertMaskAlpha",f.invertAlpha),d.drawArrays(this.topology,0,3),o&&this.set2f("uResolution",this.width,this.height),d.bindTexture(d.TEXTURE_2D,null))}});v.exports=s},81828:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(58136),l=t(47406),a=t(72632),r=t(87228),i=t(92462),s=t(75512),f=new h({Extends:r,initialize:function(o){o.shaders=[s.setGlowQuality(i.FXGlowFrag,o.game),i.FXShadowFrag,i.FXPixelateFrag,i.FXVignetteFrag,i.FXShineFrag,i.FXBlurLowFrag,i.FXBlurMedFrag,i.FXBlurHighFrag,i.FXGradientFrag,i.FXBloomFrag,i.ColorMatrixFrag,i.FXCircleFrag,i.FXBarrelFrag,i.FXDisplacementFrag,i.FXWipeFrag,i.FXBokehFrag],r.call(this,o);var d=this.game;this.glow=new m.Glow(d),this.shadow=new m.Shadow(d),this.pixelate=new m.Pixelate(d),this.vignette=new m.Vignette(d),this.shine=new m.Shine(d),this.gradient=new m.Gradient(d),this.circle=new m.Circle(d),this.barrel=new m.Barrel(d),this.wipe=new m.Wipe(d),this.bokeh=new m.Bokeh(d);var c=[];c[l.GLOW]=this.onGlow,c[l.SHADOW]=this.onShadow,c[l.PIXELATE]=this.onPixelate,c[l.VIGNETTE]=this.onVignette,c[l.SHINE]=this.onShine,c[l.BLUR]=this.onBlur,c[l.GRADIENT]=this.onGradient,c[l.BLOOM]=this.onBloom,c[l.COLOR_MATRIX]=this.onColorMatrix,c[l.CIRCLE]=this.onCircle,c[l.BARREL]=this.onBarrel,c[l.DISPLACEMENT]=this.onDisplacement,c[l.WIPE]=this.onWipe,c[l.BOKEH]=this.onBokeh,this.fxHandlers=c,this.source,this.target,this.swap},onDraw:function(e,o,d){this.source=e,this.target=o,this.swap=d;var c=e.width,p=e.height,x=this.tempSprite,T=this.fxHandlers;if(x&&x.preFX)for(var E=x.preFX.list,y=0;y<E.length;y++){var w=E[y];w.active&&T[w.type].call(this,w,c,p)}this.drawToGame(this.source)},runDraw:function(){var e=this.source,o=this.target;this.copy(e,o),this.source=o,this.target=e},onGlow:function(e,o,d){var c=this.shaders[l.GLOW];this.setShader(c),this.glow.onPreRender(e,c,o,d),this.runDraw()},onShadow:function(e){var o=this.shaders[l.SHADOW];this.setShader(o),this.shadow.onPreRender(e,o),this.runDraw()},onPixelate:function(e,o,d){var c=this.shaders[l.PIXELATE];this.setShader(c),this.pixelate.onPreRender(e,c,o,d),this.runDraw()},onVignette:function(e){var o=this.shaders[l.VIGNETTE];this.setShader(o),this.vignette.onPreRender(e,o),this.runDraw()},onShine:function(e,o,d){var c=this.shaders[l.SHINE];this.setShader(c),this.shine.onPreRender(e,c,o,d),this.runDraw()},onBlur:function(e,o,d){var c=a(e,"quality"),p=this.shaders[l.BLUR+c];this.setShader(p),this.set1i("uMainSampler",0),this.set2f("resolution",o,d),this.set1f("strength",a(e,"strength")),this.set3fv("color",a(e,"glcolor"));for(var x=a(e,"x"),T=a(e,"y"),E=a(e,"steps"),y=0;y<E;y++)this.set2f("offset",x,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw()},onGradient:function(e){var o=this.shaders[l.GRADIENT];this.setShader(o),this.gradient.onPreRender(e,o),this.runDraw()},onBloom:function(e,o,d){var c=this.shaders[l.BLOOM];this.copySprite(this.source,this.swap),this.setShader(c),this.set1i("uMainSampler",0),this.set1f("strength",a(e,"blurStrength")),this.set3fv("color",a(e,"glcolor"));for(var p=2/o*a(e,"offsetX"),x=2/d*a(e,"offsetY"),T=a(e,"steps"),E=0;E<T;E++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,x),this.runDraw();this.blendFrames(this.swap,this.source,this.target,a(e,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(e){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",e.getData()),this.set1f("uAlpha",e.alpha),this.runDraw()},onCircle:function(e,o,d){var c=this.shaders[l.CIRCLE];this.setShader(c),this.circle.onPreRender(e,c,o,d),this.runDraw()},onBarrel:function(e){var o=this.shaders[l.BARREL];this.setShader(o),this.barrel.onPreRender(e,o),this.runDraw()},onDisplacement:function(e){this.setShader(this.shaders[l.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.runDraw()},onWipe:function(e){var o=this.shaders[l.WIPE];this.setShader(o),this.wipe.onPreRender(e,o),this.runDraw()},onBokeh:function(e,o,d){var c=this.shaders[l.BOKEH];this.setShader(c),this.bokeh.onPreRender(e,c,o,d),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,r.prototype.destroy.call(this),this}});v.exports=f},66901:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(65045),a=t(77310),r=t(69360),i=t(93736),s=t(44775),f=new h({Extends:a,initialize:function(o){var d=m(o,"fragShader",l);o.fragShader=d.replace("%LIGHT_COUNT%",o.game.renderer.config.maxLights),a.call(this,o),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new i,this._tempMatrix=new r,this._tempMatrix2=new r},boot:function(){s.prototype.boot.call(this);var e=this.gl,o=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:o}},onRender:function(e,o){var d=e.sys.lights;if(this.lightsActive=!1,!(!d||!d.active)){var c=d.getLights(o),p=c.length;this.lightsActive=!0;var x,T=this.renderer,E=T.height,y=o.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",o.x,o.y,o.rotation,o.zoom),this.set3f("uAmbientLightColor",d.ambientColor.r,d.ambientColor.g,d.ambientColor.b),this.set1i("uLightCount",p),x=0;x<p;x++){var A=c[x].light,P=A.color,M="uLights["+x+"].";y.transformPoint(A.x,A.y,w),this.set2f(M+"position",w.x-o.scrollX*A.scrollFactorX*o.zoom,E-(w.y-o.scrollY*A.scrollFactorY*o.zoom)),this.set3f(M+"color",P.r,P.g,P.b),this.set1f(M+"intensity",A.intensity),this.set1f(M+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(e){if(e!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var o=this.inverseRotationMatrix;if(e){var d=-e,c=Math.cos(d),p=Math.sin(d);o[1]=p,o[3]=-p,o[0]=o[4]=c}else o[0]=o[4]=1,o[1]=o[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,o),this.currentNormalMapRotation=e}},setTexture2D:function(e,o){var d=this.renderer;e===void 0&&(e=d.whiteTexture);var c=this.getNormalMap(o);this.isNewNormalMap(e,c)&&(this.flush(),this.createBatch(e),this.addTextureToBatch(c),this.currentNormalMap=c);var p=0;if(o&&o.parentContainer){var x=o.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);p=x.rotationNormalized}else o&&(p=o.rotation);return this.setNormalMapRotation(p),0},setGameObject:function(e,o){o===void 0&&(o=e.frame);var d=o.glTexture,c=this.getNormalMap(e);if(this.isNewNormalMap(d,c)&&(this.flush(),this.createBatch(d),this.addTextureToBatch(c),this.currentNormalMap=c),e.parentContainer){var p=e.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(p.rotationNormalized)}else this.setNormalMapRotation(e.rotation);return 0},isNewNormalMap:function(e,o){return this.currentTexture!==e||this.currentNormalMap!==o},getNormalMap:function(e){var o;return e?e.displayTexture?o=e.displayTexture.dataSource[e.displayFrame.sourceIndex]:e.texture?o=e.texture.dataSource[e.frame.sourceIndex]:e.tileset&&(Array.isArray(e.tileset)?o=e.tileset[0].image.dataSource[0]:o=e.tileset.image.dataSource[0]):o=this.defaultNormalMap,o||(o=this.defaultNormalMap),o.glTexture},batchSprite:function(e,o,d){this.lightsActive&&a.prototype.batchSprite.call(this,e,o,d)},batchTexture:function(e,o,d,c,p,x,T,E,y,w,A,P,M,L,F,N,b,V,X,W,k,Q,U,Y,O,G,z,H,K,J,Z,_){this.lightsActive&&a.prototype.batchTexture.call(this,e,o,d,c,p,x,T,E,y,w,A,P,M,L,F,N,b,V,X,W,k,Q,U,Y,O,G,z,H,K,J,Z,_)},batchTextureFrame:function(e,o,d,c,p,x,T){this.lightsActive&&a.prototype.batchTextureFrame.call(this,e,o,d,c,p,x,T)}});v.exports=f},71264:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(77310),a=t(85060),r=t(18166),i=t(71402),s=t(44775),f=new h({Extends:l,initialize:function(o){o.fragShader=m(o,"fragShader",a),o.vertShader=m(o,"vertShader",r),o.attributes=m(o,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:i.UNSIGNED_BYTE,normalized:!0}]),o.forceZero=!0,l.call(this,o)},boot:function(){s.prototype.boot.call(this),this.set1i("uMainSampler",0)}});v.exports=f},77310:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(11117),l=t(72632),a=t(53787),r=t(15968),i=t(69360),s=t(75512),f=t(71402),e=t(44775),o=new h({Extends:e,initialize:function(c){var p=c.game.renderer,x=l(c,"fragShader",a);c.fragShader=s.parseFragmentShaderMaxTextures(x,p.maxTextures),c.vertShader=l(c,"vertShader",r),c.attributes=l(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),e.call(this,c),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){e.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(d,c,p){this.manager.set(this,d);var x=this._tempMatrix1,T=this._tempMatrix2,E=this._tempMatrix3,y=d.frame,w=y.glTexture,A=y.u0,P=y.v0,M=y.u1,L=y.v1,F=y.x,N=y.y,b=y.cutWidth,V=y.cutHeight,X=y.customPivot,W=d.displayOriginX,k=d.displayOriginY,Q=-W+F,U=-k+N;if(d.isCropped){var Y=d._crop;(Y.flipX!==d.flipX||Y.flipY!==d.flipY)&&y.updateCropUVs(Y,d.flipX,d.flipY),A=Y.u0,P=Y.v0,M=Y.u1,L=Y.v1,b=Y.width,V=Y.height,F=Y.x,N=Y.y,Q=-W+F,U=-k+N}var O=1,G=1;d.flipX&&(X||(Q+=-y.realWidth+W*2),O=-1),(d.flipY||y.source.isGLTexture&&!w.flipY)&&(X||(U+=-y.realHeight+k*2),G=-1);var z=d.x,H=d.y;T.applyITRS(z,H,d.rotation,d.scaleX*O,d.scaleY*G),x.copyFrom(c.matrix),p?(x.multiplyWithOffset(p,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),T.e=z,T.f=H):(T.e-=c.scrollX*d.scrollFactorX,T.f-=c.scrollY*d.scrollFactorY),x.multiply(T,E);var K=E.setQuad(Q,U,Q+b,U+V,c.roundPixels),J=s.getTintAppendFloatAlpha,Z=c.alpha,_=J(d.tintTopLeft,Z*d._alphaTL),tt=J(d.tintTopRight,Z*d._alphaTR),et=J(d.tintBottomLeft,Z*d._alphaBL),nt=J(d.tintBottomRight,Z*d._alphaBR);this.shouldFlush(6)&&this.flush();var rt=this.setGameObject(d,y);this.manager.preBatch(d),this.batchQuad(d,K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],A,P,M,L,_,tt,et,nt,d.tintFill,w,rt),this.manager.postBatch(d)},batchTexture:function(d,c,p,x,T,E,y,w,A,P,M,L,F,N,b,V,X,W,k,Q,U,Y,O,G,z,H,K,J,Z,_,tt,et){this.manager.set(this,d);var nt=this._tempMatrix1,rt=this._tempMatrix2,st=this._tempMatrix3,lt=W/p+K,mt=k/x+J,gt=(W+Q)/p+K,xt=(k+U)/x+J,ot=y,vt=w,dt=-V,wt=-X;if(d.isCropped){var Tt=d._crop,Mt=Tt.width,Vt=Tt.height;ot=Mt,vt=Vt,y=Mt,w=Vt,W=Tt.x,k=Tt.y;var It=W,At=k;L&&(It=Q-Tt.x-Mt),F&&(At=U-Tt.y-Vt),lt=It/p+K,mt=At/x+J,gt=(It+Mt)/p+K,xt=(At+Vt)/x+J,dt=-V+W,wt=-X+k}F=F^(!tt&&c.isRenderTexture?1:0),L&&(ot*=-1,dt+=y),F&&(vt*=-1,wt+=w),rt.applyITRS(T,E,M,A,P),nt.copyFrom(Z.matrix),_?(nt.multiplyWithOffset(_,-Z.scrollX*N,-Z.scrollY*b),rt.e=T,rt.f=E):(rt.e-=Z.scrollX*N,rt.f-=Z.scrollY*b),nt.multiply(rt,st);var zt=st.setQuad(dt,wt,dt+ot,wt+vt,Z.roundPixels);et===void 0&&(et=this.setTexture2D(c)),d&&this.manager.preBatch(d),this.batchQuad(d,zt[0],zt[1],zt[2],zt[3],zt[4],zt[5],zt[6],zt[7],lt,mt,gt,xt,Y,O,G,z,H,c,et),d&&this.manager.postBatch(d)},batchTextureFrame:function(d,c,p,x,T,E,y){this.manager.set(this);var w=this._tempMatrix1.copyFrom(E),A=this._tempMatrix2;y?w.multiply(y,A):A=w;var P=A.setQuad(c,p,c+d.width,p+d.height,!1),M=this.setTexture2D(d.source.glTexture);x=s.getTintAppendFloatAlpha(x,T),this.batchQuad(null,P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],d.u0,d.v0,d.u1,d.v1,x,x,x,x,0,d.glTexture,M)},batchFillRect:function(d,c,p,x,T,E){this.renderer.pipelines.set(this);var y=this.calcMatrix;E&&E.multiply(T,y);var w=y.setQuad(d,c,d+p,c+x,!1),A=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(d,c,p,x,T,E,y,w){this.renderer.pipelines.set(this);var A=this.calcMatrix;w&&w.multiply(y,A);var P=A.getX(d,c),M=A.getY(d,c),L=A.getX(p,x),F=A.getY(p,x),N=A.getX(T,E),b=A.getY(T,E),V=this.fillTint;this.batchTri(null,P,M,L,F,N,b,0,0,1,1,V.TL,V.TR,V.BL,2)},batchStrokeTriangle:function(d,c,p,x,T,E,y,w,A){var P=this.tempTriangle;P[0].x=d,P[0].y=c,P[0].width=y,P[1].x=p,P[1].y=x,P[1].width=y,P[2].x=T,P[2].y=E,P[2].width=y,P[3].x=d,P[3].y=c,P[3].width=y,this.batchStrokePath(P,y,!1,w,A)},batchFillPath:function(d,c,p){this.renderer.pipelines.set(this);var x=this.calcMatrix;p&&p.multiply(c,x);for(var T=d.length,E=this.polygonCache,y,w,A=this.fillTint.TL,P=this.fillTint.TR,M=this.fillTint.BL,L=0;L<T;++L)w=d[L],E.push(w.x,w.y);y=m(E),T=y.length;for(var F=0;F<T;F+=3){var N=y[F+0]*2,b=y[F+1]*2,V=y[F+2]*2,X=E[N+0],W=E[N+1],k=E[b+0],Q=E[b+1],U=E[V+0],Y=E[V+1],O=x.getX(X,W),G=x.getY(X,W),z=x.getX(k,Q),H=x.getY(k,Q),K=x.getX(U,Y),J=x.getY(U,Y);this.batchTri(null,O,G,z,H,K,J,0,0,1,1,A,P,M,2)}E.length=0},batchStrokePath:function(d,c,p,x,T){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=d.length-1,y=0;y<E;y++){var w=d[y],A=d[y+1];this.batchLine(w.x,w.y,A.x,A.y,w.width/2,A.width/2,c,y,!p&&y===E-1,x,T)}},batchLine:function(d,c,p,x,T,E,y,w,A,P,M){this.renderer.pipelines.set(this);var L=this.calcMatrix;M&&M.multiply(P,L);var F=p-d,N=x-c,b=Math.sqrt(F*F+N*N);if(b!==0){var V=T*(x-c)/b,X=T*(d-p)/b,W=E*(x-c)/b,k=E*(d-p)/b,Q=p-W,U=x-k,Y=d-V,O=c-X,G=p+W,z=x+k,H=d+V,K=c+X,J=L.getX(Q,U),Z=L.getY(Q,U),_=L.getX(Y,O),tt=L.getY(Y,O),et=L.getX(G,z),nt=L.getY(G,z),rt=L.getX(H,K),st=L.getY(H,K),lt=this.strokeTint,mt=lt.TL,gt=lt.TR,xt=lt.BL,ot=lt.BR;if(this.batchQuad(null,rt,st,_,tt,J,Z,et,nt,0,0,1,1,mt,gt,xt,ot,2),!(y<=2)){var vt=this.prevQuad,dt=this.firstQuad;w>0&&vt[4]?this.batchQuad(null,rt,st,_,tt,vt[0],vt[1],vt[2],vt[3],0,0,1,1,mt,gt,xt,ot,2):(dt[0]=rt,dt[1]=st,dt[2]=_,dt[3]=tt,dt[4]=1),A&&dt[4]?this.batchQuad(null,J,Z,et,nt,dt[0],dt[1],dt[2],dt[3],0,0,1,1,mt,gt,xt,ot,2):(vt[0]=J,vt[1]=Z,vt[2]=et,vt[3]=nt,vt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,e.prototype.destroy.call(this),this}});v.exports=o},10919:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(83327),a=t(54677),r=t(44775),i=new h({Extends:r,initialize:function(f){f.vertShader=m(f,"vertShader",a),f.fragShader=m(f,"fragShader",l),f.attributes=m(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),r.call(this,f)},onRender:function(s,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(s,f,e,o,d,c,p,x,T,E,y,w){var A=s.color,P=s.intensity,M=s.radius,L=s.attenuation,F=A.r*P,N=A.g*P,b=A.b*P,V=f.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(e,o,y,w,M,L,F,N,b,V),this.batchLightVert(d,c,y,w,M,L,F,N,b,V),this.batchLightVert(p,x,y,w,M,L,F,N,b,V),this.batchLightVert(e,o,y,w,M,L,F,N,b,V),this.batchLightVert(p,x,y,w,M,L,F,N,b,V),this.batchLightVert(T,E,y,w,M,L,F,N,b,V),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,f,e,o,d,c,p,x,T,E){var y=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;y[++w]=s,y[++w]=f,y[++w]=e,y[++w]=o,y[++w]=d,y[++w]=c,y[++w]=p,y[++w]=x,y[++w]=T,y[++w]=E,this.vertexCount++}});v.exports=i},80486:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(65246),l=t(72632),a=t(12569),r=t(99365),i=t(44775),s=new h({Extends:i,initialize:function(e){e.renderTarget=l(e,"renderTarget",1),e.fragShader=l(e,"fragShader",a),e.vertShader=l(e,"vertShader",r),e.attributes=l(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),e.batchSize=1,e.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,e),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){i.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(f){this.bindAndDraw(f)},getController:function(f){return f!==void 0?f:this.controller?this.controller:this},copySprite:function(f,e,o){o===void 0&&(o=!1);var d=this.gl;d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,f.texture);var c=d.getParameter(d.FRAMEBUFFER_BINDING);d.bindFramebuffer(d.FRAMEBUFFER,e.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,e.texture,0),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),o&&(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,c))},copyFrame:function(f,e,o,d,c){this.manager.copyFrame(f,e,o,d,c)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,e,o){this.manager.drawFrame(f,e,o,this.colorMatrix)},blendFrames:function(f,e,o,d,c){this.manager.blendFrames(f,e,o,d,c)},blendFramesAdditive:function(f,e,o,d,c){this.manager.blendFramesAdditive(f,e,o,d,c)},clearFrame:function(f,e){this.manager.clearFrame(f,e)},blitFrame:function(f,e,o,d,c,p){this.manager.blitFrame(f,e,o,d,c,p)},copyFrameRect:function(f,e,o,d,c,p,x,T){this.manager.copyFrameRect(f,e,o,d,c,p,x,T)},bindAndDraw:function(f,e,o,d,c){o===void 0&&(o=!0),d===void 0&&(d=!0);var p=this.gl,x=this.renderer;this.bind(c),this.set1i("uMainSampler",0),e?(p.viewport(0,0,e.width,e.height),p.bindFramebuffer(p.FRAMEBUFFER,e.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,e.texture,0),o&&(d?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT))):(x.popFramebuffer(!1,!1),x.currentFramebuffer||p.viewport(0,0,x.width,x.height)),x.restoreStencilMask(),p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,f.texture),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),e&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,x.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,i.prototype.destroy.call(this),this}});v.exports=s},87228:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),m=t(79993),l=t(56694),a=t(37486),r=t(72632),i=t(77310),s=t(12569),f=t(74118),e=t(37410),o=t(85060),d=t(18166),c=t(44775),p=new l({Extends:i,initialize:function(T){var E=r(T,"fragShader",s),y=r(T,"vertShader",d),w=r(T,"drawShader",s),A=[{name:"DrawSprite",fragShader:o,vertShader:d},{name:"CopySprite",fragShader:E,vertShader:y},{name:"DrawGame",fragShader:w,vertShader:d},{name:"ColorMatrix",fragShader:a}],P=r(T,"shaders",[]);T.shaders=A.concat(P),T.vertShader||(T.vertShader=y),T.batchSize=1,i.call(this,T),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new f,this.targetBounds=new f,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){c.prototype.boot.call(this);var x=this.shaders,T=this.renderer;this.drawSpriteShader=x[0],this.copyShader=x[1],this.gameShader=x[2],this.colorMatrixShader=x[3],this.fsTarget=new e(T,T.width,T.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=T.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(T.width,T.height),this.currentShader=this.copyShader},onResize:function(x,T){var E=this.quadVertexViewF32;E[1]=T,E[22]=T,E[14]=x,E[28]=x,E[35]=x,E[36]=T},batchQuad:function(x,T,E,y,w,A,P,M,L,F,N,b,V,X,W,k,Q,U,Y){var O=Math.min(T,y,A,M),G=Math.min(E,w,P,L),z=Math.max(T,y,A,M),H=Math.max(E,w,P,L),K=z-O,J=H-G,Z=this.spriteBounds.setTo(O,G,K,J),_=x?x.preFX.padding:0,tt=K+_*2,et=J+_*2,nt=Math.abs(Math.max(tt,et)),rt=this.manager.getRenderTarget(nt),st=this.targetBounds.setTo(0,0,rt.width,rt.height);m(st,Z.centerX,Z.centerY),this.tempSprite=x;var lt=this.gl,mt=this.renderer;mt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.flipProjectionMatrix(!0),x&&(this.onDrawSprite(x,rt),x.preFX.onFX(this));var gt=this.fsTarget;return this.flush(),lt.viewport(0,0,mt.width,mt.height),lt.bindFramebuffer(lt.FRAMEBUFFER,gt.framebuffer),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,gt.texture,0),lt.clearColor(0,0,0,0),lt.clear(lt.COLOR_BUFFER_BIT),this.setTexture2D(Y),this.batchVert(T,E,F,N,0,U,X),this.batchVert(y,w,F,V,0,U,k),this.batchVert(A,P,b,V,0,U,Q),this.batchVert(T,E,F,N,0,U,X),this.batchVert(A,P,b,V,0,U,Q),this.batchVert(M,L,b,N,0,U,W),this.flush(),this.flipProjectionMatrix(!1),lt.activeTexture(lt.TEXTURE0),lt.bindTexture(lt.TEXTURE_2D,rt.texture),lt.copyTexSubImage2D(lt.TEXTURE_2D,0,0,0,st.x,st.y,st.width,st.height),lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.bindTexture(lt.TEXTURE_2D,null),this.onBatch(x),this.currentShader=this.copyShader,this.onDraw(rt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(x,T,E,y,w,A,P){E===void 0&&(E=!0),y===void 0&&(y=!0),w===void 0&&(w=!1),P===void 0&&(P=this.copyShader);var M=this.gl,L=this.tempSprite;A&&(P=this.colorMatrixShader),this.currentShader=P;var F=this.setVertexBuffer(this.quadVertexBuffer);if(P.bind(F,!1),this.set1i("uMainSampler",0),L.preFX.onFXCopy(this),this.onCopySprite(x,T,L),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,x.texture),x.height>T.height)M.viewport(0,0,x.width,x.height),this.setTargetUVs(x,T);else{var N=T.height-x.height;M.viewport(0,N,x.width,x.height),this.resetUVs()}if(M.bindFramebuffer(M.FRAMEBUFFER,T.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,T.texture,0),E&&(M.clearColor(0,0,0,+!y),M.clear(M.COLOR_BUFFER_BIT)),w){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),w&&this.renderer.setBlendMode(b),M.bindFramebuffer(M.FRAMEBUFFER,null)},copy:function(x,T){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,x.texture),E.viewport(0,0,x.width,x.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,T.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,T.texture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(x,T,E,y,w){this.manager.blendFrames(x,T,E,y,w)},blendFramesAdditive:function(x,T,E,y,w){this.manager.blendFramesAdditive(x,T,E,y,w)},drawToGame:function(x){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(x)},copyToGame:function(x){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(x)},bindAndDraw:function(x){var T=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(x.texture);var y=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,A=this.targetBounds.y,P=w+x.width,M=A+x.height,L=y.getX(w,A),F=y.getX(w,M),N=y.getX(P,M),b=y.getX(P,A),V=y.getY(w,A),X=y.getY(w,M),W=y.getY(P,M),k=y.getY(P,A),Q=16777215;this.batchVert(L,V,0,0,0,0,Q),this.batchVert(F,X,0,1,0,0,Q),this.batchVert(N,W,1,1,0,0,Q),this.batchVert(L,V,0,0,0,0,Q),this.batchVert(N,W,1,1,0,0,Q),this.batchVert(b,k,1,0,0,0,Q),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||T.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(x){this.drawToGame(x)},setUVs:function(x,T,E,y,w,A,P,M){var L=this.quadVertexViewF32;L[2]=x,L[3]=T,L[9]=E,L[10]=y,L[16]=w,L[17]=A,L[23]=x,L[24]=T,L[30]=w,L[31]=A,L[37]=P,L[38]=M},setTargetUVs:function(x,T){var E=T.height/x.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,i.prototype.destroy.call(this),this}});v.exports=p},21213:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(77310),a=new h({Extends:l,initialize:function(i){i.topology=5,i.batchSize=m(i,"batchSize",256),l.call(this,i)}});v.exports=a},51212:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(77310),a=t(85060),r=t(18166),i=t(44775),s=new h({Extends:l,initialize:function(e){e.fragShader=m(e,"fragShader",a),e.vertShader=m(e,"vertShader",r),e.forceZero=!0,l.call(this,e)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});v.exports=s},60848:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(2529),m=t(95723),l=t(56694),a=t(65246),r=t(37486),i=t(79060),s=t(72632),f=t(98921),e=t(99365),o=t(44775),d=new l({Extends:o,initialize:function(p){p.renderTarget=s(p,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),p.vertShader=s(p,"vertShader",e),p.shaders=s(p,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:r}]),p.attributes=s(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),p.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],p.batchSize=1,o.call(this,p),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){o.prototype.boot.call(this);var c=this.shaders,p=this.renderTargets;this.copyShader=c[0],this.addShader=c[1],this.linearShader=c[2],this.colorMatrixShader=c[3],this.fullFrame1=p[0],this.fullFrame2=p[1],this.halfFrame1=p[2],this.halfFrame2=p[3]},copyFrame:function(c,p,x,T,E){x===void 0&&(x=1),T===void 0&&(T=!0),E===void 0&&(E=!0);var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,c.texture),p?(y.viewport(0,0,p.width,p.height),y.bindFramebuffer(y.FRAMEBUFFER,p.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,p.texture,0)):y.viewport(0,0,c.width,c.height),T&&(E?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blitFrame:function(c,p,x,T,E,y,w){x===void 0&&(x=1),T===void 0&&(T=!0),E===void 0&&(E=!0),y===void 0&&(y=!1),w===void 0&&(w=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",x),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,c.texture),c.height>p.height)A.viewport(0,0,c.width,c.height),this.setTargetUVs(c,p);else{var P=p.height-c.height;A.viewport(0,P,c.width,c.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,p.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,p.texture,0),T&&(E?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),y){var M=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}w&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),y&&this.renderer.setBlendMode(M),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(c,p,x,T,E,y,w,A){w===void 0&&(w=!0),A===void 0&&(A=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,c.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,c.texture,0),w&&(A?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,p.texture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,x,T,E,y),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(c){var p=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,c.texture),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6)},drawFrame:function(c,p,x,T){x===void 0&&(x=!0),T===void 0&&(T=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",T.getData()),this.set1f("uAlpha",T.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,c.texture),p?(E.viewport(0,0,p.width,p.height),E.bindFramebuffer(E.FRAMEBUFFER,p.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,p.texture,0)):E.viewport(0,0,c.width,c.height),x?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(c,p,x,T,E,y){T===void 0&&(T=1),E===void 0&&(E=!0),y===void 0&&(y=this.linearShader);var w=this.gl;this.setShader(y),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",T),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,c.texture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,p.texture),x?(w.bindFramebuffer(w.FRAMEBUFFER,x.framebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,x.texture,0),w.viewport(0,0,x.width,x.height)):w.viewport(0,0,c.width,c.height),E?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(c,p,x,T,E){this.blendFrames(c,p,x,T,E,this.addShader)},clearFrame:function(c,p){p===void 0&&(p=!0);var x=this.gl;x.viewport(0,0,c.width,c.height),x.bindFramebuffer(x.FRAMEBUFFER,c.framebuffer),p?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT);var T=this.renderer.currentFramebuffer;x.bindFramebuffer(x.FRAMEBUFFER,T)},setUVs:function(c,p,x,T,E,y,w,A){var P=this.vertexViewF32;P[2]=c,P[3]=p,P[6]=x,P[7]=T,P[10]=E,P[11]=y,P[14]=c,P[15]=p,P[18]=E,P[19]=y,P[22]=w,P[23]=A},setTargetUVs:function(c,p){var x=p.height/c.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});v.exports=d},65641:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};v.exports=S},68726:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineafterflush"},67186:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebeforeflush"},22709:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebind"},74469:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineboot"},93953:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinedestroy"},51687:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinerebind"},25034:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineresize"},18970:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_FLUSH:t(68726),BEFORE_FLUSH:t(67186),BIND:t(22709),BOOT:t(74469),DESTROY:t(93953),REBIND:t(51687),RESIZE:t(25034)}},32469:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(87751),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.amount=1},onPreRender:function(r,i){r=this.getController(r),this.set1f("amount",r.amount,i)}});v.exports=a},2134:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(88222),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(r){r=this.getController(r),this.set1f("strength",r.blurStrength),this.set3fv("color",r.glcolor)},onDraw:function(r){var i=this.getController(),s=this.fullFrame1,f=this.fullFrame2;this.copyFrame(r,f);for(var e=2/r.width*i.offsetX,o=2/r.height*i.offsetY,d=0;d<i.steps;d++)this.set2f("offset",e,0),this.copySprite(r,s),this.set2f("offset",0,o),this.copySprite(s,r);this.blendFrames(f,r,s,i.strength),this.copyToGame(s)}});v.exports=a},63377:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(35491),l=t(75568),a=t(44481),r=t(80486),i=new h({Extends:r,initialize:function(f){r.call(this,{game:f,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:l},{name:"Gaussian13",fragShader:a}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var f=this.getController(),e=this.gl,o=this.fullFrame1,d=e.getParameter(e.FRAMEBUFFER_BINDING);this.bind(this.activeShader),e.activeTexture(e.TEXTURE0),e.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",f.strength),this.set3fv("color",f.glcolor);for(var c=0;c<f.steps;c++)this.set2f("offset",f.x,0),this.copySprite(s,o),this.set2f("offset",0,f.y),this.copySprite(o,s);e.bindFramebuffer(e.FRAMEBUFFER,d),e.bindTexture(e.TEXTURE_2D,null),this.copyToGame(s)}});v.exports=i},49745:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(69960),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(r,i,s,f){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("amount",r.amount,i),this.set1f("contrast",r.contrast,i),this.set1f("strength",r.strength,i),this.set2f("blur",r.blurX,r.blurY,i),this.setBoolean("isTiltShift",r.isTiltShift,i),s&&f&&this.set2f("resolution",s,f,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=a},4323:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(33754),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(r,i,s,f){r=this.getController(r),this.set1f("scale",r.scale,i),this.set1f("feather",r.feather,i),this.set1f("thickness",r.thickness,i),this.set3fv("color",r.glcolor,i),this.set4fv("backgroundColor",r.glcolor2,i),s&&f&&this.set2f("resolution",s,f,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=a},92066:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(80486),l=new h({Extends:m,initialize:function(r){m.call(this,{game:r})},onDraw:function(a){var r=this.fullFrame1;this.controller?this.manager.drawFrame(a,r,!0,this.controller):this.drawFrame(a,r),this.copyToGame(r)}});v.exports=l},89581:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(35668),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(r){var i=this.game.textures.getFrame(r);i&&(this.glTexture=i.glTexture)},onDraw:function(r){var i=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.copySprite(r,s),this.copyToGame(s)}});v.exports=a},55084:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=t(69675),a=t(80486),r=t(75512),i=new h({Extends:a,initialize:function(f,e){var o=m(e,"quality",.1),d=m(e,"distance",10);a.call(this,{game:f,fragShader:r.setGlowQuality(l,f,o,d)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,f,e,o){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,f),this.set1f("innerStrength",s.innerStrength,f),this.set4fv("glowColor",s.glcolor,f),this.setBoolean("knockout",s.knockout,f),e&&o&&this.set2f("resolution",e,o,f)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=i},41653:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(90993),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(r,i){r=this.getController(r),this.set1f("alpha",r.alpha,i),this.set1i("size",r.size,i),this.set3fv("color1",r.glcolor1,i),this.set3fv("color2",r.glcolor2,i),this.set2f("positionFrom",r.fromX,r.fromY,i),this.set2f("positionTo",r.toX,r.toY,i)}});v.exports=a},73416:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(37945),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.amount=1},onPreRender:function(r,i,s,f){r=this.getController(r),this.set1f("amount",r.amount,i),s&&f&&this.set2f("resolution",s,f,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=a},58049:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(85718),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(r,i){r=this.getController(r);var s=r.samples;this.set1i("samples",s,i),this.set1f("intensity",r.intensity,i),this.set1f("decay",r.decay,i),this.set1f("power",r.power/s,i),this.set2f("lightPosition",r.x,r.y,i),this.set4fv("color",r.glcolor,i)}});v.exports=a},18026:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(13740),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(r,i,s,f){r=this.getController(r),this.setTime("time",i),this.set1f("speed",r.speed,i),this.set1f("lineWidth",r.lineWidth,i),this.set1f("gradient",r.gradient,i),this.setBoolean("reveal",r.reveal,i),s&&f&&this.set2f("resolution",s,f,i)},onDraw:function(r){this.set2f("resolution",r.width,r.height),this.bindAndDraw(r)}});v.exports=a},72381:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(80617),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(r,i){r=this.getController(r),this.set1f("radius",r.radius,i),this.set1f("strength",r.strength,i),this.set2f("position",r.x,r.y,i)}});v.exports=a},80542:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(62879),l=t(80486),a=new h({Extends:l,initialize:function(i){l.call(this,{game:i,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(r,i){r=this.getController(r);var s=r.progress,f=r.wipeWidth,e=r.direction,o=r.axis;this.set4f("config",s,f,e,o,i),this.setBoolean("reveal",r.reveal,i)}});v.exports=a},58136:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:t(32469),Bloom:t(2134),Blur:t(63377),Bokeh:t(49745),Circle:t(4323),ColorMatrix:t(92066),Displacement:t(89581),Glow:t(55084),Gradient:t(41653),Pixelate:t(73416),Shadow:t(58049),Shine:t(18026),Vignette:t(72381),Wipe:t(80542)};v.exports=h},62253:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65641),m=t(98611),l={FX:t(58136),BitmapMaskPipeline:t(5583),Events:t(18970),FXPipeline:t(81828),LightPipeline:t(66901),MobilePipeline:t(71264),MultiPipeline:t(77310),PointLightPipeline:t(10919),PostFXPipeline:t(80486),PreFXPipeline:t(87228),RopePipeline:t(21213),SinglePipeline:t(51212),UtilityPipeline:t(60848)};l=m(!1,l,h),v.exports=l},2529:v=>{v.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:v=>{v.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:v=>{v.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:v=>{v.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:v=>{v.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:v=>{v.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:v=>{v.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:v=>{v.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:v=>{v.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:v=>{v.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:v=>{v.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:v=>{v.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:v=>{v.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:v=>{v.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:v=>{v.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:v=>{v.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:v=>{v.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:v=>{v.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:v=>{v.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:v=>{v.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_VS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:v=>{v.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:v=>{v.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AddBlendFrag:t(2529),BitmapMaskFrag:t(91679),BitmapMaskVert:t(89053),ColorMatrixFrag:t(37486),CopyFrag:t(79060),FXBarrelFrag:t(87751),FXBloomFrag:t(88222),FXBlurHighFrag:t(44481),FXBlurLowFrag:t(35491),FXBlurMedFrag:t(75568),FXBokehFrag:t(69960),FXCircleFrag:t(33754),FXDisplacementFrag:t(35668),FXGlowFrag:t(69675),FXGradientFrag:t(90993),FXPixelateFrag:t(37945),FXShadowFrag:t(85718),FXShineFrag:t(13740),FXVignetteFrag:t(80617),FXWipeFrag:t(62879),LightFrag:t(65045),LinearBlendFrag:t(98921),MeshFrag:t(25005),MeshVert:t(94914),MobileFrag:t(11263),MobileVert:t(51852),MultiFrag:t(53787),MultiVert:t(15968),PointLightFrag:t(83327),PointLightVert:t(54677),PostFXFrag:t(12569),QuadVert:t(99365),SingleFrag:t(85060),SingleVert:t(18166)}},756:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(55301),m=t(56694),l=t(6659),a=t(40444),r=t(97081),i=t(74181),s=t(2893),f=t(9229),e=t(72283),o=t(74118),d=t(90881),c=t(84314),p=t(93736),x=t(47751),T=new m({Extends:l,initialize:function(y){l.call(this),this.game=y,this.canvas,this.canvasBounds=new o,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new p(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:e,windowResize:e,fullScreenChange:e,fullScreenError:e}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(r.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen,this.scaleMode!==h.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(r.PRE_STEP,this.step,this),E.events.once(r.READY,this.refresh,this),E.events.once(r.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var y=E.width,w=E.height,A=E.scaleMode,P=E.zoom,M=E.autoRound;if(typeof y=="string"){var L=this.parentSize.width;L===0&&(L=window.innerWidth);var F=parseInt(y,10)/100;y=Math.floor(L*F)}if(typeof w=="string"){var N=this.parentSize.height;N===0&&(N=window.innerHeight);var b=parseInt(w,10)/100;w=Math.floor(N*b)}this.scaleMode=A,this.autoRound=M,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,M&&(y=Math.floor(y),w=Math.floor(w)),this.gameSize.setSize(y,w),P===h.ZOOM.MAX_ZOOM&&(P=this.getMaxZoom()),this.zoom=P,P!==1&&(this._resetZoom=!0),this.baseSize.setSize(y,w),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*P,E.minHeight*P),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*P,E.maxHeight*P),this.displaySize.setSize(y,w),this.orientation=f(y,w)},getParent:function(E){var y=E.parent;if(y!==null){if(this.parent=s(y),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==h.SCALE_MODE.NONE){var w=this.parent.getBoundingClientRect();(this.parentIsWindow||w.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",w=this.parent.getBoundingClientRect(),!this.parentIsWindow&&w.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,y=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(y.height=i(!0));var w=y.width,A=y.height;if(E.width!==w||E.height!==A)return E.setSize(w,A),!0;if(this.canvas){var P=this.canvasBounds,M=this.canvas.getBoundingClientRect();if(M.x!==P.x||M.y!==P.y)return!0}return!1},lockOrientation:function(E){var y=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return y?y.call(screen,E):!1},setParentSize:function(E,y){return this.parentSize.setSize(E,y),this.refresh()},setGameSize:function(E,y){var w=this.autoRound;w&&(E=Math.floor(E),y=Math.floor(y));var A=this.width,P=this.height;return this.gameSize.resize(E,y),this.baseSize.resize(E,y),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/y),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,P)},resize:function(E,y){var w=this.zoom,A=this.autoRound;A&&(E=Math.floor(E),y=Math.floor(y));var P=this.width,M=this.height;this.gameSize.resize(E,y),this.baseSize.resize(E,y),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*w,y*w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,F=E*w,N=y*w;return A&&(F=Math.floor(F),N=Math.floor(N)),(F!==E||N!==y)&&(L.width=F+"px",L.height=N+"px"),this.refresh(P,M)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(E,y){E===void 0&&(E=this.width),y===void 0&&(y=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var w=this.game.domContainer;if(w){this.baseSize.setCSS(w);var A=this.canvas.style,P=w.style;P.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",P.marginLeft=A.marginLeft,P.marginTop=A.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,y),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=f(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(a.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,y=this.gameSize.width,w=this.gameSize.height,A,P,M=this.zoom,L=this.autoRound;this.scaleMode===h.SCALE_MODE.NONE?(this.displaySize.setSize(y*M,w*M),A=this.displaySize.width,P=this.displaySize.height,L&&(A=Math.floor(A),P=Math.floor(P)),this._resetZoom&&(E.width=A+"px",E.height=P+"px",this._resetZoom=!1)):this.scaleMode===h.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,P=this.displaySize.height,L&&(A=Math.floor(A),P=Math.floor(P)),this.canvas.width=A,this.canvas.height=P):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,P=this.displaySize.height,L&&(A=Math.floor(A),P=Math.floor(P)),E.width=A+"px",E.height=P+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=c(this.parentSize.width,this.gameSize.width,0,!0),y=c(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,y),1)},updateCenter:function(){var E=this.autoCenter;if(E!==h.CENTER.NO_CENTER){var y=this.canvas,w=y.style,A=y.getBoundingClientRect(),P=A.width,M=A.height,L=Math.floor((this.parentSize.width-P)/2),F=Math.floor((this.parentSize.height-M)/2);E===h.CENTER.CENTER_HORIZONTALLY?F=0:E===h.CENTER.CENTER_VERTICALLY&&(L=0),w.marginLeft=L+"px",w.marginTop=F+"px"}},updateBounds:function(){var E=this.canvasBounds,y=this.canvas.getBoundingClientRect();E.x=y.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=y.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=y.width,E.height=y.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var y=this.fullscreen;if(!y.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!y.active){var w=this.getFullscreenTarget();y.keyboard?w[y.request](Element.ALLOW_KEYBOARD_INPUT):w[y.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var y=this.canvas.parentNode;y.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var y=E.parentNode;y.insertBefore(this.canvas,E),y.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,y=this.domlisteners;if(y.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0},y.windowResize=function(){E.updateBounds(),E.dirty=!0},window.addEventListener("orientationchange",y.orientationChange,!1),window.addEventListener("resize",y.windowResize,!1),this.fullscreen.available){y.fullScreenChange=function(A){return E.onFullScreenChange(A)},y.fullScreenError=function(A){return E.onFullScreenError(A)};var w=["webkit","moz",""];w.forEach(function(A){document.addEventListener(A+"fullscreenchange",y.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",y.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.addEventListener("MSFullscreenError",y.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,y){E instanceof x||(y=E,E=void 0),y===void 0&&(y=new o);var w=this.baseSize,A=this.parentSize,P=this.canvasBounds,M=this.displayScale,L=P.x>=0?0:-(P.x*M.x),F=P.y>=0?0:-(P.y*M.y),N;A.width>=P.width?N=w.width:N=w.width-(P.width-A.width)*M.x;var b;return A.height>=P.height?b=w.height:b=w.height-(P.height-A.height)*M.y,y.setTo(L,F,N,b),E&&(y.width/=E.zoomX,y.height/=E.zoomY,y.centerX=E.centerX+E.scrollX,y.centerY=E.centerY+E.scrollY),y},step:function(E,y){this.parent&&(this._lastCheck+=y,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var y=["webkit","moz",""];y.forEach(function(w){document.removeEventListener(w+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(w+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});v.exports=T},35098:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:t(35098),ORIENTATION:t(53539),SCALE_MODE:t(12637),ZOOM:t(10217)};v.exports=h},82085:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="enterfullscreen"},11826:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenfailed"},56691:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenunsupported"},34739:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="leavefullscreen"},26681:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="orientationchange"},11428:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},40444:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ENTER_FULLSCREEN:t(82085),FULLSCREEN_FAILED:t(11826),FULLSCREEN_UNSUPPORTED:t(56691),LEAVE_FULLSCREEN:t(34739),ORIENTATION_CHANGE:t(26681),RESIZE:t(11428)}},86754:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),m=t(55301),l={Center:t(35098),Events:t(40444),Orientation:t(53539),ScaleManager:t(756),ScaleModes:t(12637),Zoom:t(10217)};l=h(!1,l,m.CENTER),l=h(!1,l,m.ORIENTATION),l=h(!1,l,m.SCALE_MODE),l=h(!1,l,m.ZOOM),v.exports=l},47736:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=t(40587),l=function(a){var r=a.game.config.defaultPhysicsSystem,i=h(a.settings,"physics",!1);if(!(!r&&!i)){var s=[];if(r&&s.push(m(r+"Physics")),i)for(var f in i)f=m(f.concat("Physics")),s.indexOf(f)===-1&&s.push(f);return s}};v.exports=l},91088:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=function(l){var a=l.plugins.getDefaultScenePlugins(),r=h(l.settings,"plugins",!1);return Array.isArray(r)?r:a||[]};v.exports=m},90415:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};v.exports=S},87157:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(63946),l=new h({initialize:function(r){this.sys=new m(this,r),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});v.exports=l},13553:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(92980),l=t(7599),a=t(97081),r=t(10850),i=t(683),s=t(72283),f=t(87157),e=t(63946),o=new h({initialize:function(c,p){if(this.game=c,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,p){Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)this._pending.push({key:"default",scene:p[x],autoStart:x===0,data:{}})}c.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new f);var d,c,p,x;for(d=0;d<this._pending.length;d++){c=this._pending[d],p=c.key,x=c.scene;var T;x instanceof f?T=this.createSceneFromInstance(p,x):typeof x=="object"?T=this.createSceneFromObject(p,x):typeof x=="function"&&(T=this.createSceneFromFunction(p,x)),p=T.sys.settings.key,this.keys[p]=T,this.scenes.push(T),this._data[p]&&(T.sys.settings.data=this._data[p].data,this._data[p].autoStart&&(c.autoStart=!0)),(c.autoStart||T.sys.settings.active)&&this._start.push(p)}for(this._pending.length=0,this._data={},this.isBooted=!0,d=0;d<this._start.length;d++)c=this._start[d],this.start(c);this._start.length=0}},processQueue:function(){var d=this._pending.length,c=this._queue.length;if(!(d===0&&c===0)){var p,x;if(d){for(p=0;p<d;p++)x=this._pending[p],this.add(x.key,x.scene,x.autoStart,x.data);for(p=0;p<this._start.length;p++)x=this._start[p],this.start(x);this._start.length=0,this._pending.length=0}for(p=0;p<this._queue.length;p++)x=this._queue[p],this[x.op](x.keyA,x.keyB);this._queue.length=0}},add:function(d,c,p,x){if(p===void 0&&(p=!1),x===void 0&&(x={}),this.isProcessing||!this.isBooted)return this._pending.push({key:d,scene:c,autoStart:p,data:x}),this.isBooted||(this._data[d]={data:x}),null;d=this.getKey(d,c);var T;return c instanceof f?T=this.createSceneFromInstance(d,c):typeof c=="object"?(c.key=d,T=this.createSceneFromObject(d,c)):typeof c=="function"&&(T=this.createSceneFromFunction(d,c)),T.sys.settings.data=x,d=T.sys.settings.key,this.keys[d]=T,this.scenes.push(T),(p||T.sys.settings.active)&&(this._pending.length?this._start.push(d):this.start(d)),T},remove:function(d){if(this.isProcessing)this._queue.push({op:"remove",keyA:d,keyB:null});else{var c=this.getScene(d);if(!c||c.sys.isTransitioning())return this;var p=this.scenes.indexOf(c),x=c.sys.settings.key;p>-1&&(delete this.keys[x],this.scenes.splice(p,1),this._start.indexOf(x)>-1&&(p=this._start.indexOf(x),this._start.splice(p,1)),c.sys.destroy())}return this},bootScene:function(d){var c=d.sys,p=c.settings;c.sceneUpdate=s,d.init&&(d.init.call(d,p.data),p.status=m.INIT,p.isTransition&&c.events.emit(l.TRANSITION_INIT,p.transitionFrom,p.transitionDuration));var x;c.load&&(x=c.load,x.reset()),x&&d.preload?(d.preload.call(d),p.status=m.LOADING,x.once(i.COMPLETE,this.loadComplete,this),x.start()):this.create(d)},loadComplete:function(d){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(d.scene)},payloadComplete:function(d){this.bootScene(d.scene)},update:function(d,c){this.processQueue(),this.isProcessing=!0;for(var p=this.scenes.length-1;p>=0;p--){var x=this.scenes[p].sys;x.settings.status>m.START&&x.settings.status<=m.RUNNING&&x.step(d,c),x.scenePlugin._target&&x.scenePlugin.step(d,c)}},render:function(d){for(var c=0;c<this.scenes.length;c++){var p=this.scenes[c].sys;p.settings.visible&&p.settings.status>=m.LOADING&&p.settings.status<m.SLEEPING&&p.render(d)}this.isProcessing=!1},create:function(d){var c=d.sys,p=c.settings;d.create&&(p.status=m.CREATING,d.create.call(d,p.data),p.status===m.DESTROYED)||(p.isTransition&&c.events.emit(l.TRANSITION_START,p.transitionFrom,p.transitionDuration),d.update&&(c.sceneUpdate=d.update),p.status=m.RUNNING,c.events.emit(l.CREATE,d))},createSceneFromFunction:function(d,c){var p=new c;if(p instanceof f){var x=p.sys.settings.key;if(x!==""&&(d=x),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return this.createSceneFromInstance(d,p)}else return p.sys=new e(p),p.sys.settings.key=d,p.sys.init(this.game),p},createSceneFromInstance:function(d,c){var p=c.sys.settings.key;return p===""&&(c.sys.settings.key=d),c.sys.init(this.game),c},createSceneFromObject:function(d,c){var p=new f(c),x=p.sys.settings.key;x!==""?d=x:p.sys.settings.key=d,p.sys.init(this.game);for(var T=["init","preload","create","update","render"],E=0;E<T.length;E++){var y=r(c,T[E],null);y&&(p[T[E]]=y)}if(c.hasOwnProperty("extend")){for(var w in c.extend)if(c.extend.hasOwnProperty(w)){var A=c.extend[w];w==="data"&&p.hasOwnProperty("data")&&typeof A=="object"?p.data.merge(A):w!=="sys"&&(p[w]=A)}}return p},getKey:function(d,c){if(d||(d="default"),typeof c=="function")return d;if(c instanceof f?d=c.sys.settings.key:typeof c=="object"&&c.hasOwnProperty("key")&&(d=c.key),this.keys.hasOwnProperty(d))throw new Error("Cannot add a Scene with duplicate key: "+d);return d},getScenes:function(d,c){d===void 0&&(d=!0),c===void 0&&(c=!1);for(var p=[],x=this.scenes,T=0;T<x.length;T++){var E=x[T];E&&(!d||d&&E.sys.isActive())&&p.push(E)}return c?p.reverse():p},getScene:function(d){if(typeof d=="string"){if(this.keys[d])return this.keys[d]}else for(var c=0;c<this.scenes.length;c++)if(d===this.scenes[c])return d;return null},isActive:function(d){var c=this.getScene(d);return c?c.sys.isActive():null},isPaused:function(d){var c=this.getScene(d);return c?c.sys.isPaused():null},isVisible:function(d){var c=this.getScene(d);return c?c.sys.isVisible():null},isSleeping:function(d){var c=this.getScene(d);return c?c.sys.isSleeping():null},pause:function(d,c){var p=this.getScene(d);return p&&p.sys.pause(c),this},resume:function(d,c){var p=this.getScene(d);return p&&p.sys.resume(c),this},sleep:function(d,c){var p=this.getScene(d);return p&&!p.sys.isTransitioning()&&p.sys.sleep(c),this},wake:function(d,c){var p=this.getScene(d);return p&&p.sys.wake(c),this},run:function(d,c){var p=this.getScene(d);if(!p){for(var x=0;x<this._pending.length;x++)if(this._pending[x].key===d){this.queueOp("start",d,c);break}return this}p.sys.isSleeping()?p.sys.wake(c):p.sys.isPaused()?p.sys.resume(c):this.start(d,c)},start:function(d,c){if(!this.isBooted)return this._data[d]={autoStart:!0,data:c},this;var p=this.getScene(d);if(!p)return console.warn("Scene not found for key: "+d),this;var x=p.sys,T=x.settings.status;if(T>=m.START&&T<=m.CREATING)return this;if(T>=m.RUNNING&&T<=m.SLEEPING)x.shutdown(),x.sceneUpdate=s,x.start(c);else{x.sceneUpdate=s,x.start(c);var E;if(x.load&&(E=x.load),E&&x.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:x.settings.pack})))return x.settings.status=m.LOADING,E.once(i.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(p),this},stop:function(d,c){var p=this.getScene(d);if(p&&!p.sys.isTransitioning()&&p.sys.settings.status!==m.SHUTDOWN){var x=p.sys.load;x&&(x.off(i.COMPLETE,this.loadComplete,this),x.off(i.COMPLETE,this.payloadComplete,this)),p.sys.shutdown(c)}return this},switch:function(d,c){var p=this.getScene(d),x=this.getScene(c);return p&&x&&p!==x&&(this.sleep(d),this.isSleeping(c)?this.wake(c):this.start(c)),this},getAt:function(d){return this.scenes[d]},getIndex:function(d){var c=this.getScene(d);return this.scenes.indexOf(c)},bringToTop:function(d){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c!==-1&&c<this.scenes.length){var p=this.getScene(d);this.scenes.splice(c,1),this.scenes.push(p)}}return this},sendToBack:function(d){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c!==-1&&c>0){var p=this.getScene(d);this.scenes.splice(c,1),this.scenes.unshift(p)}}return this},moveDown:function(d){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c>0){var p=c-1,x=this.getScene(d),T=this.getAt(p);this.scenes[c]=T,this.scenes[p]=x}}return this},moveUp:function(d){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:d,keyB:null});else{var c=this.getIndex(d);if(c<this.scenes.length-1){var p=c+1,x=this.getScene(d),T=this.getAt(p);this.scenes[c]=T,this.scenes[p]=x}}return this},moveAbove:function(d,c){if(d===c)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:d,keyB:c});else{var p=this.getIndex(d),x=this.getIndex(c);if(p!==-1&&x!==-1&&x<p){var T=this.getAt(x);this.scenes.splice(x,1),this.scenes.splice(p+(x>p),0,T)}}return this},moveBelow:function(d,c){if(d===c)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:d,keyB:c});else{var p=this.getIndex(d),x=this.getIndex(c);if(p!==-1&&x!==-1&&x>p){var T=this.getAt(x);this.scenes.splice(x,1),p===0?this.scenes.unshift(T):this.scenes.splice(p-(x<p),0,T)}}return this},queueOp:function(d,c,p){return this._queue.push({op:d,keyA:c,keyB:p}),this},swapPosition:function(d,c){if(d===c)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:d,keyB:c});else{var p=this.getIndex(d),x=this.getIndex(c);if(p!==x&&p!==-1&&x!==-1){var T=this.getAt(p);this.scenes[p]=this.scenes[x],this.scenes[x]=T}}return this},dump:function(){for(var d=[],c=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],p=0;p<this.scenes.length;p++){var x=this.scenes[p].sys,T=x.settings.visible&&(x.settings.status===m.RUNNING||x.settings.status===m.PAUSED)?"[*] ":"[-] ";T+=x.settings.key+" ("+c[x.settings.status]+")",d.push(T)}console.log(d.join(`
`))},destroy:function(){for(var d=0;d<this.scenes.length;d++){var c=this.scenes[d].sys;c.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});v.exports=o},64051:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(7599),a=t(72632),r=t(91963),i=new m({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},start:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,f),this},restart:function(s){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,s),this},transition:function(s){s===void 0&&(s={});var f=a(s,"target",!1),e=this.manager.getScene(f);if(!f||!this.checkValidTransition(e))return!1;var o=a(s,"duration",1e3);this._elapsed=0,this._target=e,this._duration=o,this._willSleep=a(s,"sleep",!1),this._willRemove=a(s,"remove",!1);var d=a(s,"onUpdate",null);d&&(this._onUpdate=d,this._onUpdateScope=a(s,"onUpdateScope",this.scene));var c=a(s,"allowInput",!1);this.settings.transitionAllowInput=c;var p=e.sys.settings;p.isTransition=!0,p.transitionFrom=this.scene,p.transitionDuration=o,p.transitionAllowInput=c,a(s,"moveAbove",!1)?this.manager.moveAbove(this.key,f):a(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),e.sys.isSleeping()?e.sys.wake(a(s,"data")):this.manager.start(f,a(s,"data"));var x=a(s,"onStart",null),T=a(s,"onStartScope",this.scene);return x&&x.call(T,this.scene,e,o),this.systems.events.emit(l.TRANSITION_OUT,e,o),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,f){this._elapsed+=f,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,f=this._target.sys.settings;s.events.emit(l.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,f,e,o){return this.manager.add(s,f,e,o)},launch:function(s,f){return s&&s!==this.key&&this.manager.queueOp("start",s,f),this},run:function(s,f){return s&&s!==this.key&&this.manager.queueOp("run",s,f),this},pause:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,f),this},resume:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,f),this},sleep:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,f),this},wake:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,f),this},switch:function(s){return s!==this.key&&this.manager.queueOp("switch",this.key,s),this},stop:function(s,f){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,f),this},setActive:function(s,f,e){f===void 0&&(f=this.key);var o=this.manager.getScene(f);return o&&o.sys.setActive(s,e),this},setVisible:function(s,f){f===void 0&&(f=this.key);var e=this.manager.getScene(f);return e&&e.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,f){return f===void 0&&(f=this.key),s!==f&&this.manager.swapPosition(s,f),this},moveAbove:function(s,f){return f===void 0&&(f=this.key),s!==f&&this.manager.moveAbove(s,f),this},moveBelow:function(s,f){return f===void 0&&(f=this.key),s!==f&&this.manager.moveBelow(s,f),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var f=this.manager.getScene(s);if(f)return f.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(l.SHUTDOWN,this.shutdown,this),s.off(l.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});r.register("ScenePlugin",i,"scenePlugin"),v.exports=i},36765:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92980),m=t(10850),l=t(30657),a=t(90415),r={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:h.PENDING,key:m(i,"key",""),active:m(i,"active",!1),visible:m(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(i,"pack",!1),cameras:m(i,"cameras",null),map:m(i,"map",l(a,m(i,"mapAdd",{}))),physics:m(i,"physics",{}),loader:m(i,"loader",{}),plugins:m(i,"plugins",!1),input:m(i,"input",{})}}};v.exports=r},63946:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(92980),l=t(18360),a=t(7599),r=t(47736),i=t(91088),s=t(72283),f=t(36765),e=new h({initialize:function(d,c){this.scene=d,this.game,this.renderer,this.config=c,this.settings=f.create(c),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(o){this.settings.status=m.INIT,this.sceneUpdate=s,this.game=o,this.renderer=o.renderer,this.canvas=o.canvas,this.context=o.context;var d=o.plugins;this.plugins=d,d.addToScene(this,l.Global,[l.CoreScene,i(this),r(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(o,d){var c=this.events;c.emit(a.PRE_UPDATE,o,d),c.emit(a.UPDATE,o,d),this.sceneUpdate.call(this.scene,o,d),c.emit(a.POST_UPDATE,o,d)},render:function(o){var d=this.displayList;d.depthSort(),this.events.emit(a.PRE_RENDER,o),this.cameras.render(o,d),this.events.emit(a.RENDER,o)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(o){var d=this.settings,c=this.getStatus();return c!==m.CREATING&&c!==m.RUNNING?console.warn("Cannot pause non-running Scene",d.key):this.settings.active&&(d.status=m.PAUSED,d.active=!1,this.events.emit(a.PAUSE,this,o)),this},resume:function(o){var d=this.events,c=this.settings;return this.settings.active||(c.status=m.RUNNING,c.active=!0,d.emit(a.RESUME,this,o)),this},sleep:function(o){var d=this.settings,c=this.getStatus();return c!==m.CREATING&&c!==m.RUNNING?console.warn("Cannot sleep non-running Scene",d.key):(d.status=m.SLEEPING,d.active=!1,d.visible=!1,this.events.emit(a.SLEEP,this,o)),this},wake:function(o){var d=this.events,c=this.settings;return c.status=m.RUNNING,c.active=!0,c.visible=!0,d.emit(a.WAKE,this,o),c.isTransition&&d.emit(a.TRANSITION_WAKE,c.transitionFrom,c.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var o=this.settings.status;return o>m.PENDING&&o<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(o){return this.settings.visible=o,this},setActive:function(o,d){return o?this.resume(d):this.pause(d)},start:function(o){var d=this.events,c=this.settings;o&&(c.data=o),c.status=m.START,c.active=!0,c.visible=!0,d.emit(a.START,this),d.emit(a.READY,this,o)},shutdown:function(o){var d=this.events,c=this.settings;d.off(a.TRANSITION_INIT),d.off(a.TRANSITION_START),d.off(a.TRANSITION_COMPLETE),d.off(a.TRANSITION_OUT),c.status=m.SHUTDOWN,c.active=!1,c.visible=!1,d.emit(a.SHUTDOWN,this,o)},destroy:function(){var o=this.events,d=this.settings;d.status=m.DESTROYED,d.active=!1,d.visible=!1,o.emit(a.DESTROY,this),o.removeAllListeners();for(var c=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],p=0;p<c.length;p++)this[c[p]]=null}});v.exports=e},92980:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};v.exports=S},31803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},94817:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},28977:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="create"},91959:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},363:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},15643:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postupdate"},17058:v=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},77125:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},76018:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},28620:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},41538:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},34268:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},2342:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},96541:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleep"},74244:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},17046:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioncomplete"},13637:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioninit"},14733:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionout"},33899:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionstart"},52418:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionwake"},31735:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},8470:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wake"},7599:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(31803),BOOT:t(94817),CREATE:t(28977),DESTROY:t(91959),PAUSE:t(363),POST_UPDATE:t(15643),PRE_RENDER:t(17058),PRE_UPDATE:t(77125),READY:t(76018),REMOVED_FROM_SCENE:t(28620),RENDER:t(41538),RESUME:t(34268),SHUTDOWN:t(2342),SLEEP:t(96541),START:t(74244),TRANSITION_COMPLETE:t(17046),TRANSITION_INIT:t(13637),TRANSITION_OUT:t(14733),TRANSITION_START:t(33899),TRANSITION_WAKE:t(52418),UPDATE:t(31735),WAKE:t(8470)}},20436:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(92980),m=t(98611),l={Events:t(7599),GetPhysicsPlugins:t(47736),GetScenePlugins:t(91088),SceneManager:t(13553),ScenePlugin:t(64051),Settings:t(36765),Systems:t(63946)};l=m(!1,l,h),v.exports=l},25798:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(76038),a=t(98611),r=t(72283),i=new h({Extends:m,initialize:function(f,e,o){m.call(this),this.manager=f,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,o),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=a(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=a(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var f=this.markers[s];return f?(this.markers[s]=null,f):null},play:function(s,f){if(s===void 0&&(s=""),typeof s=="object"&&(f=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:r,calculateRate:function(){var s=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,e=Math.pow(s,f);this.totalRate=this.currentConfig.rate*this.manager.rate*e},destroy:function(){this.pendingRemove||(this.emit(l.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});v.exports=i},12486:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(32742),l=t(6659),a=t(76038),r=t(97081),i=t(71608),s=t(51463),f=t(72283),e=t(93736),o=new h({Extends:l,initialize:function(c){l.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new e,c.events.on(r.BLUR,this.onGameBlur,this),c.events.on(r.FOCUS,this.onGameFocus,this),c.events.on(r.PRE_STEP,this.update,this),c.events.once(r.DESTROY,this.destroy,this)},add:f,addAudioSprite:function(d,c){c===void 0&&(c={});var p=this.add(d,c);p.spritemap=this.jsonCache.get(d).spritemap;for(var x in p.spritemap)if(p.spritemap.hasOwnProperty(x)){var T=m(c),E=p.spritemap[x];T.loop=E.hasOwnProperty("loop")?E.loop:!1,p.addMarker({name:x,start:E.start,duration:E.end-E.start,config:T})}return p},get:function(d){return s(this.sounds,"key",d)},getAll:function(d){return d?i(this.sounds,"key",d):i(this.sounds)},getAllPlaying:function(){return i(this.sounds,"isPlaying",!0)},play:function(d,c){var p=this.add(d);return p.once(a.COMPLETE,p.destroy,p),c?c.name?(p.addMarker(c),p.play(c.name)):p.play(c):p.play()},playAudioSprite:function(d,c,p){var x=this.addAudioSprite(d);return x.once(a.COMPLETE,x.destroy,x),x.play(c,p)},remove:function(d){var c=this.sounds.indexOf(d);return c!==-1?(d.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(d){d.destroy()}),this.sounds.length=0},removeByKey:function(d){for(var c=0,p=this.sounds.length-1;p>=0;p--){var x=this.sounds[p];x.key===d&&(x.destroy(),this.sounds.splice(p,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(d){d.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(d){d.resume()}),this.emit(a.RESUME_ALL,this)},setListenerPosition:f,stopAll:function(){this.forEachActiveSound(function(d){d.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(d){var c=0;return this.getAll(d).forEach(function(p){p.stop()&&c++}),c},unlock:f,onBlur:f,onFocus:f,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(d,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var p=this.sounds.length-1;p>=0;p--)this.sounds[p].pendingRemove&&this.sounds.splice(p,1);this.sounds.forEach(function(x){x.update(d,c)})},destroy:function(){this.game.events.off(r.BLUR,this.onGameBlur,this),this.game.events.off(r.FOCUS,this.onGameFocus,this),this.game.events.off(r.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(d,c){var p=this;this.sounds.forEach(function(x,T){x&&!x.pendingRemove&&d.call(c||p,x,T,p.sounds)})},setRate:function(d){return this.rate=d,this},rate:{get:function(){return this._rate},set:function(d){this._rate=d,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_RATE,this,d)}},setDetune:function(d){return this.detune=d,this},detune:{get:function(){return this._detune},set:function(d){this._detune=d,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,d)}}});v.exports=o},84191:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(27622),m=t(17546),l=t(55491),a={create:function(r){var i=r.config.audio,s=r.device.audio;return i.noAudio||!s.webAudio&&!s.audioData?new m(r):s.webAudio&&!i.disableWebAudio?new l(r):new h(r)}};v.exports=a},77578:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},19679:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decodedall"},56951:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decoded"},16436:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},55154:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},57818:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},57890:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},83022:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},99170:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},64289:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="looped"},67214:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},53128:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},73078:v=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pan"},76763:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},88426:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},13765:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},80291:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},11124:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},55382:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},71157:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seek"},31776:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stopall"},39450:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},21939:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},33019:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},76038:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(77578),DECODED:t(56951),DECODED_ALL:t(19679),DESTROY:t(16436),DETUNE:t(55154),GLOBAL_DETUNE:t(57818),GLOBAL_MUTE:t(57890),GLOBAL_RATE:t(83022),GLOBAL_VOLUME:t(99170),LOOP:t(67214),LOOPED:t(64289),MUTE:t(53128),PAN:t(73078),PAUSE_ALL:t(76763),PAUSE:t(88426),PLAY:t(13765),RATE:t(80291),RESUME_ALL:t(11124),RESUME:t(55382),SEEK:t(71157),STOP_ALL:t(31776),STOP:t(39450),UNLOCKED:t(21939),VOLUME:t(33019)}},34350:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25798),m=t(56694),l=t(76038),a=t(82897),r=new m({Extends:h,initialize:function(s,f,e){if(e===void 0&&(e={}),this.tags=s.game.cache.audio.get(f),!this.tags)throw new Error('No cached audio asset with key "'+f);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,s,f,e)},play:function(i,s){return this.manager.isLocked(this,"play",[i,s])||!h.prototype.play.call(this,i,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(l.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(l.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,s=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var s=this.tags[i];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(o){o.key===this.key&&o.audio&&f.push(o)},this),f.sort(function(o,d){return o.loop===d.loop?d.seek/d.duration-o.seek/o.duration:o.loop?1:-1});var e=f[0];return this.audio=e.audio,e.reset(),e.audio=null,e.startTime=0,e.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,f=s+this.duration,e=this.audio.currentTime;if(this.currentConfig.loop)e>=f-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,e-f),e=this.audio.currentTime):e<s&&(this.audio.currentTime+=s,e=this.audio.currentTime),e<this.previousTime&&this.emit(l.LOOPED,this);else if(e>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(l.COMPLETE,this);return}this.previousTime=e}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(l.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(l.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,l.RATE,i)&&(this.calculateRate(),this.emit(l.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,l.DETUNE,i)&&(this.calculateRate(),this.emit(l.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(l.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(l.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(l.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});v.exports=r},27622:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12486),m=t(56694),l=t(76038),a=t(34350),r=new m({Extends:h,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,s)},add:function(i,s){var f=new a(this,i,s);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(o,d){for(var c=0;c<d.length;c++)if(d[c].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var s=!1,f=function(){s=!0},e=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",e);var o=[];if(i.game.cache.audio.entries.each(function(c,p){for(var x=0;x<p.length;x++){var T=p[x];T.dataset.locked==="true"&&o.push(T)}return!0}),o.length!==0){var d=o[o.length-1];d.oncanplaythrough=function(){d.oncanplaythrough=null,o.forEach(function(c){c.dataset.locked="false"}),i.unlocked=!0},o.forEach(function(c){c.load()})}};this.once(l.UNLOCKED,function(){for(this.forEachActiveSound(function(d){d.currentMarker===null&&d.duration===0&&(d.duration=d.tags[0].duration),d.totalDuration=d.tags[0].duration});this.lockedActionsQueue.length;){var o=this.lockedActionsQueue.shift();o.sound[o.prop].apply?o.sound[o.prop].apply(o.sound,o.value||[]):o.sound[o.prop]=o.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",e,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,s,f){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:s,value:f}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(l.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(l.GLOBAL_VOLUME,this,i)}}});v.exports=r},56751:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SoundManagerCreator:t(84191),Events:t(76038),BaseSound:t(25798),BaseSoundManager:t(12486),WebAudioSound:t(96008),WebAudioSoundManager:t(55491),HTML5AudioSound:t(34350),HTML5AudioSoundManager:t(27622),NoAudioSound:t(38662),NoAudioSoundManager:t(17546)}},38662:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25798),m=t(56694),l=t(6659),a=t(98611),r=t(72283),i=function(){return!1},s=function(){return null},f=function(){return this},e=new m({Extends:l,initialize:function(d,c,p){p===void 0&&(p={}),l.call(this),this.manager=d,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},p),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:i,updateMarker:i,removeMarker:s,play:i,pause:i,resume:i,stop:i,setMute:f,setVolume:f,setRate:f,setDetune:f,setSeek:f,setLoop:f,setPan:f,applyConfig:s,resetConfig:s,update:r,calculateRate:s,destroy:function(){h.prototype.destroy.call(this)}});v.exports=e},17546:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12486),m=t(56694),l=t(6659),a=t(38662),r=t(72283),i=new m({Extends:l,initialize:function(f){l.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,f){var e=new a(this,s,f);return this.sounds.push(e),e},addAudioSprite:function(s,f){var e=this.add(s,f);return e.spritemap={},e},get:function(s){return h.prototype.get.call(this,s)},getAll:function(s){return h.prototype.getAll.call(this,s)},play:function(s,f){return!1},playAudioSprite:function(s,f,e){return!1},remove:function(s){return h.prototype.remove.call(this,s)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(s){return h.prototype.removeByKey.call(this,s)},stopByKey:function(s){return h.prototype.stopByKey.call(this,s)},onBlur:r,onFocus:r,onGameBlur:r,onGameFocus:r,pauseAll:r,resumeAll:r,stopAll:r,update:r,setRate:r,setDetune:r,setMute:r,setVolume:r,unlock:r,forEachActiveSound:function(s,f){h.prototype.forEachActiveSound.call(this,s,f)},destroy:function(){h.prototype.destroy.call(this)}});v.exports=i},96008:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(25798),m=t(56694),l=t(76038),a=t(72632),r=new m({Extends:h,initialize:function(s,f,e){if(e===void 0&&(e={}),this.audioBuffer=s.game.cache.audio.get(f),!this.audioBuffer)throw new Error('Audio key "'+f+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,s,f,e)},play:function(i,s){return h.prototype.play.call(this,i,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(l.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(l.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(l.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(l.STOP,this),!0):!1},createAndStartBufferSource:function(){var i=this.currentConfig.seek,s=this.currentConfig.delay,f=this.manager.context.currentTime+s,e=(this.currentMarker?this.currentMarker.start:0)+i,o=this.duration-i;this.playTime=f-i,this.startTime=f,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,f),Math.max(0,e),Math.max(0,o)),this.resetConfig()},createAndStartLoopBufferSource:function(){var i=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,f=this.duration;this.loopTime=i,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,i),Math.max(0,s),Math.max(0,f))},createBufferSource:function(){var i=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(f){f.target===i.source&&(i.currentConfig.loop?i.hasLooped=!0:i.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var i=this.currentConfig.source;if(i&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=a(i,"panningModel","equalpower"),s.distanceModel=a(i,"distanceModel","inverse"),s.orientationX.value=a(i,"orientationX",0),s.orientationY.value=a(i,"orientationY",0),s.orientationZ.value=a(i,"orientationZ",-1),s.refDistance=a(i,"refDistance",1),s.maxDistance=a(i,"maxDistance",1e4),s.rolloffFactor=a(i,"rolloffFactor",1),s.coneInnerAngle=a(i,"coneInnerAngle",360),s.coneOuterAngle=a(i,"coneOuterAngle",0),s.coneOuterGain=a(i,"coneOuterGain",0),this.spatialSource=a(i,"follow",null),this.spatialSource||(s.positionX.value=a(i,"x",0),s.positionY.value=a(i,"y",0),s.positionZ.value=a(i,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(i){this.spatialNode&&(this.spatialNode.positionX.value=i)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(i){this.spatialNode&&(this.spatialNode.positionY.value=i)}},update:function(){if(this.isPlaying&&this.spatialSource){var i=a(this.spatialSource,"x",null),s=a(this.spatialSource,"y",null);i&&i!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=i),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(this.hasEnded=!1,h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(l.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(l.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var i=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,i),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,i)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var i=0,s=0;s<this.rateUpdates.length;s++){var f=0;s<this.rateUpdates.length-1?f=this.rateUpdates[s+1].time:f=this.manager.context.currentTime-this.playTime,i+=(f-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return i},getLoopTime:function(){for(var i=0,s=0;s<this.rateUpdates.length-1;s++)i+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var f=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+f.time+(this.duration-i)/f.rate},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,this.calculateRate(),this.emit(l.RATE,this,i)}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,this.calculateRate(),this.emit(l.DETUNE,this,i)}},setDetune:function(i){return this.detune=i,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(i){this.currentConfig.mute=i,this.muteNode.gain.setValueAtTime(i?0:1,0),this.emit(l.MUTE,this,i)}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(i){this.currentConfig.volume=i,this.volumeNode.gain.setValueAtTime(i,0),this.emit(l.VOLUME,this,i)}},setVolume:function(i){return this.volume=i,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.currentConfig.seek=i,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(l.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),i&&this.createAndStartLoopBufferSource()),this.emit(l.LOOP,this,i)}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(i){this.currentConfig.pan=i,this.pannerNode&&this.pannerNode.pan.setValueAtTime(i,this.manager.context.currentTime),this.emit(l.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});v.exports=r},55491:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82329),m=t(12486),l=t(56694),a=t(76038),r=t(97081),i=t(96008),s=t(72632),f=new l({Extends:m,initialize:function(o){this.context=this.createAudioContext(o),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),m.call(this,o),this.locked&&o.isBooted?this.unlock():o.events.once(r.BOOT,this.unlock,this)},createAudioContext:function(e){var o=e.config.audio;if(o.context)return o.context.resume(),o.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(e){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=e,this.masterMuteNode=e.createGain(),this.masterVolumeNode=e.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(e.destination),this.destination=this.masterMuteNode,this},add:function(e,o){var d=new i(this,e,o);return this.sounds.push(d),d},decodeAudio:function(e,o){var d;Array.isArray(e)?d=e:d=[{key:e,data:o}];for(var c=this.game.cache.audio,p=d.length,x=0;x<d.length;x++){var T=d[x],E=T.key,y=T.data;typeof y=="string"&&(y=h(y));var w=(function(P,M){c.add(P,M),this.emit(a.DECODED,P),p--,p===0&&this.emit(a.DECODED_ALL)}).bind(this,E),A=(function(P,M){console.error("Error decoding audio: "+P+" - ",M?M.message:""),p--,p===0&&this.emit(a.DECODED_ALL)}).bind(this,E);this.context.decodeAudioData(y,w,A)}},setListenerPosition:function(e,o){return e===void 0&&(e=this.game.scale.width/2),o===void 0&&(o=this.game.scale.height/2),this.listenerPosition.set(e,o),this},unlock:function(){var e=this,o=document.body,d=function c(){if(e.context&&o){var p=o.removeEventListener;e.context.resume().then(function(){p("touchstart",c),p("touchend",c),p("click",c),p("keydown",c),e.unlocked=!0},function(){p("touchstart",c),p("touchend",c),p("click",c),p("keydown",c)})}};o&&(o.addEventListener("touchstart",d,!1),o.addEventListener("touchend",d,!1),o.addEventListener("click",d,!1),o.addEventListener("keydown",d,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var e=this.context;e&&!this.locked&&(e.state==="suspended"||e.state==="interrupted")&&e.resume()},update:function(e,o){var d=this.context.listener;if(d&&d.positionX!==void 0){var c=s(this.listenerPosition,"x",null),p=s(this.listenerPosition,"y",null);c&&c!==this._spatialx&&(this._spatialx=d.positionX.value=c),p&&p!==this._spatialy&&(this._spatialy=d.positionY.value=p)}m.prototype.update.call(this,e,o),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var e=this;this.context.close().then(function(){e.context=null})}m.prototype.destroy.call(this)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(e){this.masterMuteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(e){this.masterVolumeNode.gain.setValueAtTime(e,0),this.emit(a.GLOBAL_VOLUME,this,e)}}});v.exports=f},71207:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(59959),m=t(56694),l=t(72283),a=t(17922),r=new m({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=l,this.removeCallback=l,this._sortKey=""},add:function(i,s){return s?h.Add(this.list,i):h.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,s,f){return f?h.AddAt(this.list,i,s):h.AddAt(this.list,i,s,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,s){return i?(s===void 0&&(s=function(f,e){return f[i]-e[i]}),a(this.list,s),this):this},getByName:function(i){return h.GetFirst(this.list,"name",i)},getRandom:function(i,s){return h.GetRandom(this.list,i,s)},getFirst:function(i,s,f,e){return h.GetFirst(this.list,i,s,f,e)},getAll:function(i,s,f,e){return h.GetAll(this.list,i,s,f,e)},count:function(i,s){return h.CountAllMatching(this.list,i,s)},swap:function(i,s){h.Swap(this.list,i,s)},moveTo:function(i,s){return h.MoveTo(this.list,i,s)},moveAbove:function(i,s){return h.MoveAbove(this.list,i,s)},moveBelow:function(i,s){return h.MoveBelow(this.list,i,s)},remove:function(i,s){return s?h.Remove(this.list,i):h.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,s){return s?h.RemoveAt(this.list,i):h.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,s,f){return f?h.RemoveBetween(this.list,i,s):h.RemoveBetween(this.list,i,s,this.removeCallback,this)},removeAll:function(i){for(var s=this.list.length;s--;)this.remove(this.list[s],i);return this},bringToTop:function(i){return h.BringToTop(this.list,i)},sendToBack:function(i){return h.SendToBack(this.list,i)},moveUp:function(i){return h.MoveUp(this.list,i),i},moveDown:function(i){return h.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(i,s){return h.Replace(this.list,i,s)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,s,f,e){return h.SetAll(this.list,i,s,f,e),this},each:function(i,s){for(var f=[null],e=2;e<arguments.length;e++)f.push(arguments[e]);for(e=0;e<this.list.length;e++)f[0]=this.list[e],i.apply(s,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});v.exports=r},33885:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a){if(this.entries={},this.size=0,Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1])},set:function(l,a){return this.has(l)||this.size++,this.entries[l]=a,this},get:function(l){if(this.has(l))return this.entries[l]},getArray:function(){var l=[],a=this.entries;for(var r in a)l.push(a[r]);return l},has:function(l){return this.entries.hasOwnProperty(l)},delete:function(l){return this.has(l)&&(delete this.entries[l],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(l){delete this.entries[l]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var l=[],a=this.entries;for(var r in a)l.push(a[r]);return l},dump:function(){var l=this.entries;console.group("Map");for(var a in l)console.log(a,l[a]);console.groupEnd()},each:function(l){var a=this.entries;for(var r in a)if(l(r,a[r])===!1)break;return this},contains:function(l){var a=this.entries;for(var r in a)if(a[r]===l)return!0;return!1},merge:function(l,a){a===void 0&&(a=!1);var r=this.entries,i=l.entries;for(var s in i)r.hasOwnProperty(s)&&a?r[s]=i[s]:this.set(s,i[s]);return this}});v.exports=m},74623:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(36716),a=new h({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(r){return this._active.indexOf(r)>-1},isPending:function(r){return this._toProcess>0&&this._pending.indexOf(r)>-1},isDestroying:function(r){return this._destroy.indexOf(r)>-1},add:function(r){return this.checkQueue&&this.isActive()&&!this.isDestroying()||this.isPending()||(this._pending.push(r),this._toProcess++),r},remove:function(r){if(this.isPending(r)){var i=this._pending,s=i.indexOf(r);s!==-1&&i.splice(s,1)}else this.isActive(r)&&(this._destroy.push(r),this._toProcess++);return r},removeAll:function(){for(var r=this._active,i=this._destroy,s=r.length;s--;)i.push(r[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var r=this._destroy,i=this._active,s,f;for(s=0;s<r.length;s++){f=r[s];var e=i.indexOf(f);e!==-1&&(i.splice(e,1),this.emit(l.PROCESS_QUEUE_REMOVE,f))}for(r.length=0,r=this._pending,s=0;s<r.length;s++)f=r[s],(!this.checkQueue||this.checkQueue&&i.indexOf(f)===-1)&&(i.push(f),this.emit(l.PROCESS_QUEUE_ADD,f));return r.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});v.exports=a},68687:(v,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53466);function m(y){if(!(this instanceof m))return new m(y);this._maxEntries=Math.max(4,y||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(y){var w=this.data,A=[],P=this.toBBox;if(!x(y,w))return A;for(var M=[],L,F,N,b;w;){for(L=0,F=w.children.length;L<F;L++)N=w.children[L],b=w.leaf?P(N):N,x(y,b)&&(w.leaf?A.push(N):p(y,b)?this._all(N,A):M.push(N));w=M.pop()}return A},collides:function(y){var w=this.data,A=this.toBBox;if(!x(y,w))return!1;for(var P=[],M,L,F,N;w;){for(M=0,L=w.children.length;M<L;M++)if(F=w.children[M],N=w.leaf?A(F):F,x(y,N)){if(w.leaf||p(y,N))return!0;P.push(F)}w=P.pop()}return!1},load:function(y){if(!(y&&y.length))return this;if(y.length<this._minEntries){for(var w=0,A=y.length;w<A;w++)this.insert(y[w]);return this}var P=this._build(y.slice(),0,y.length-1,0);if(!this.data.children.length)this.data=P;else if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var M=this.data;this.data=P,P=M}this._insert(P,this.data.height-P.height-1,!0)}return this},insert:function(y){return y&&this._insert(y,this.data.height-1),this},clear:function(){return this.data=T([]),this},remove:function(y,w){if(!y)return this;for(var A=this.data,P=this.toBBox(y),M=[],L=[],F,N,b,V;A||M.length;){if(A||(A=M.pop(),N=M[M.length-1],F=L.pop(),V=!0),A.leaf&&(b=l(y,A.children,w),b!==-1))return A.children.splice(b,1),M.push(A),this._condense(M),this;!V&&!A.leaf&&p(A,P)?(M.push(A),L.push(F),F=0,N=A,A=A.children[0]):N?(F++,A=N.children[F],V=!1):A=null}return this},toBBox:function(y){return y},compareMinX:s,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(y){return this.data=y,this},_all:function(y,w){for(var A=[];y;)y.leaf?w.push.apply(w,y.children):A.push.apply(A,y.children),y=A.pop();return w},_build:function(y,w,A,P){var M=A-w+1,L=this._maxEntries,F;if(M<=L)return F=T(y.slice(w,A+1)),a(F,this.toBBox),F;P||(P=Math.ceil(Math.log(M)/Math.log(L)),L=Math.ceil(M/Math.pow(L,P-1))),F=T([]),F.leaf=!1,F.height=P;var N=Math.ceil(M/L),b=N*Math.ceil(Math.sqrt(L)),V,X,W,k;for(E(y,w,A,b,this.compareMinX),V=w;V<=A;V+=b)for(W=Math.min(V+b-1,A),E(y,V,W,N,this.compareMinY),X=V;X<=W;X+=N)k=Math.min(X+N-1,W),F.children.push(this._build(y,X,k,P-1));return a(F,this.toBBox),F},_chooseSubtree:function(y,w,A,P){for(var M,L,F,N,b,V,X,W;P.push(w),!(w.leaf||P.length-1===A);){for(X=W=1/0,M=0,L=w.children.length;M<L;M++)F=w.children[M],b=e(F),V=d(y,F)-b,V<W?(W=V,X=b<X?b:X,N=F):V===W&&b<X&&(X=b,N=F);w=N||w.children[0]}return w},_insert:function(y,w,A){var P=this.toBBox,M=A?y:P(y),L=[],F=this._chooseSubtree(M,this.data,w,L);for(F.children.push(y),i(F,M);w>=0&&L[w].children.length>this._maxEntries;)this._split(L,w),w--;this._adjustParentBBoxes(M,L,w)},_split:function(y,w){var A=y[w],P=A.children.length,M=this._minEntries;this._chooseSplitAxis(A,M,P);var L=this._chooseSplitIndex(A,M,P),F=T(A.children.splice(L,A.children.length-L));F.height=A.height,F.leaf=A.leaf,a(A,this.toBBox),a(F,this.toBBox),w?y[w-1].children.push(F):this._splitRoot(A,F)},_splitRoot:function(y,w){this.data=T([y,w]),this.data.height=y.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(y,w,A){var P,M,L,F,N,b,V,X;for(b=V=1/0,P=w;P<=A-w;P++)M=r(y,0,P,this.toBBox),L=r(y,P,A,this.toBBox),F=c(M,L),N=e(M)+e(L),F<b?(b=F,X=P,V=N<V?N:V):F===b&&N<V&&(V=N,X=P);return X},_chooseSplitAxis:function(y,w,A){var P=y.leaf?this.compareMinX:s,M=y.leaf?this.compareMinY:f,L=this._allDistMargin(y,w,A,P),F=this._allDistMargin(y,w,A,M);L<F&&y.children.sort(P)},_allDistMargin:function(y,w,A,P){y.children.sort(P);var M=this.toBBox,L=r(y,0,w,M),F=r(y,A-w,A,M),N=o(L)+o(F),b,V;for(b=w;b<A-w;b++)V=y.children[b],i(L,y.leaf?M(V):V),N+=o(L);for(b=A-w-1;b>=w;b--)V=y.children[b],i(F,y.leaf?M(V):V),N+=o(F);return N},_adjustParentBBoxes:function(y,w,A){for(var P=A;P>=0;P--)i(w[P],y)},_condense:function(y){for(var w=y.length-1,A;w>=0;w--)y[w].children.length===0?w>0?(A=y[w-1].children,A.splice(A.indexOf(y[w]),1)):this.clear():a(y[w],this.toBBox)},compareMinX:function(y,w){return y.left-w.left},compareMinY:function(y,w){return y.top-w.top},toBBox:function(y){return{minX:y.left,minY:y.top,maxX:y.right,maxY:y.bottom}}};function l(y,w,A){if(!A)return w.indexOf(y);for(var P=0;P<w.length;P++)if(A(y,w[P]))return P;return-1}function a(y,w){r(y,0,y.children.length,w,y)}function r(y,w,A,P,M){M||(M=T(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var L=w,F;L<A;L++)F=y.children[L],i(M,y.leaf?P(F):F);return M}function i(y,w){return y.minX=Math.min(y.minX,w.minX),y.minY=Math.min(y.minY,w.minY),y.maxX=Math.max(y.maxX,w.maxX),y.maxY=Math.max(y.maxY,w.maxY),y}function s(y,w){return y.minX-w.minX}function f(y,w){return y.minY-w.minY}function e(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function o(y){return y.maxX-y.minX+(y.maxY-y.minY)}function d(y,w){return(Math.max(w.maxX,y.maxX)-Math.min(w.minX,y.minX))*(Math.max(w.maxY,y.maxY)-Math.min(w.minY,y.minY))}function c(y,w){var A=Math.max(y.minX,w.minX),P=Math.max(y.minY,w.minY),M=Math.min(y.maxX,w.maxX),L=Math.min(y.maxY,w.maxY);return Math.max(0,M-A)*Math.max(0,L-P)}function p(y,w){return y.minX<=w.minX&&y.minY<=w.minY&&w.maxX<=y.maxX&&w.maxY<=y.maxY}function x(y,w){return w.minX<=y.maxX&&w.minY<=y.maxY&&w.maxX>=y.minX&&w.maxY>=y.minY}function T(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(y,w,A,P,M){for(var L=[w,A],F;L.length;)A=L.pop(),w=L.pop(),!(A-w<=P)&&(F=w+Math.ceil((A-w)/P/2)*P,h(y,F,w,A,M),L.push(w,F,F,A))}v.exports=m},58403:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r])},set:function(l){return this.entries.indexOf(l)===-1&&this.entries.push(l),this},get:function(l,a){for(var r=0;r<this.entries.length;r++){var i=this.entries[r];if(i[l]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(l){var a=this.entries.indexOf(l);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var l=0;l<this.entries.length;l++){var a=this.entries[l];console.log(a)}console.groupEnd()},each:function(l,a){var r,i=this.entries.slice(),s=i.length;if(a)for(r=0;r<s&&l.call(a,i[r],r)!==!1;r++);else for(r=0;r<s&&l(i[r],r)!==!1;r++);return this},iterate:function(l,a){var r,i=this.entries.length;if(a)for(r=0;r<i&&l.call(a,this.entries[r],r)!==!1;r++);else for(r=0;r<i&&l(this.entries[r],r)!==!1;r++);return this},iterateLocal:function(l){var a,r=[];for(a=1;a<arguments.length;a++)r.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var s=this.entries[a];s[l].apply(s,r)}return this},clear:function(){return this.entries.length=0,this},contains:function(l){return this.entries.indexOf(l)>-1},union:function(l){var a=new m;return l.entries.forEach(function(r){a.set(r)}),this.entries.forEach(function(r){a.set(r)}),a},intersect:function(l){var a=new m;return this.entries.forEach(function(r){l.contains(r)&&a.set(r)}),a},difference:function(l){var a=new m;return this.entries.forEach(function(r){l.contains(r)||a.set(r)}),a},size:{get:function(){return this.entries.length},set:function(l){return l<this.entries.length?this.entries.length=l:this.entries.length}}});v.exports=m},90881:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82897),m=t(56694),l=t(84314),a=t(93736),r=new m({initialize:function(s,f,e,o){s===void 0&&(s=0),f===void 0&&(f=s),e===void 0&&(e=0),o===void 0&&(o=null),this._width=s,this._height=f,this._parent=o,this.aspectMode=e,this.aspectRatio=f===0?1:s/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,s){return i===void 0&&(i=0),s===void 0&&(s=i),this.snapTo.set(i,s),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,s){return i===void 0&&(i=0),s===void 0&&(s=i),this.minWidth=h(i,0,this.maxWidth),this.minHeight=h(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,s){return i===void 0&&(i=Number.MAX_VALUE),s===void 0&&(s=i),this.maxWidth=h(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,s){switch(i===void 0&&(i=0),s===void 0&&(s=i),this.aspectMode){case r.NONE:this._width=this.getNewWidth(l(i,this.snapTo.x)),this._height=this.getNewHeight(l(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case r.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(l(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case r.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(l(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case r.FIT:this.constrain(i,s,!0);break;case r.ENVELOP:this.constrain(i,s,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,s){return this._width=this.getNewWidth(l(i,this.snapTo.x)),this._height=this.getNewHeight(l(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,s){return s===void 0&&(s=!0),i=h(i,this.minWidth,this.maxWidth),s&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,s){return s===void 0&&(s=!0),i=h(i,this.minHeight,this.maxHeight),s&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,s,f){i===void 0&&(i=0),s===void 0&&(s=i),f===void 0&&(f=!0),i=this.getNewWidth(i),s=this.getNewHeight(s);var e=this.snapTo,o=s===0?1:i/s;return f&&this.aspectRatio>o||!f&&this.aspectRatio<o?(i=l(i,e.x),s=i/this.aspectRatio,e.y>0&&(s=l(s,e.y),i=s*this.aspectRatio)):(f&&this.aspectRatio<o||!f&&this.aspectRatio>o)&&(s=l(s,e.y),i=s*this.aspectRatio,e.x>0&&(i=l(i,e.x),s=i*(1/this.aspectRatio))),this._width=i,this._height=s,this},fitTo:function(i,s){return this.constrain(i,s,!0)},envelop:function(i,s){return this.constrain(i,s,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});r.NONE=0,r.WIDTH_CONTROLS_HEIGHT=1,r.HEIGHT_CONTROLS_WIDTH=2,r.FIT=3,r.ENVELOP=4,v.exports=r},94160:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},95393:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},36716:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={PROCESS_QUEUE_ADD:t(94160),PROCESS_QUEUE_REMOVE:t(95393)}},20010:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(36716),List:t(71207),Map:t(33885),ProcessQueue:t(74623),RTree:t(68687),Set:t(58403),Size:t(90881)}},17487:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(82897),l=t(27119),a=t(86459),r=t(28621),i=t(31673),s=new h({Extends:i,initialize:function(e,o,d,c,p){i.call(this,e,o,d,c,p),this.add("__BASE",0,0,0,c,p),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=c,this.height=p,this.imageData=this.context.getImageData(0,0,c,p),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(f,e,o,d){return d===void 0&&(d=!0),this.context.drawImage(o,f,e),d&&this.update(),this},drawFrame:function(f,e,o,d,c){o===void 0&&(o=0),d===void 0&&(d=0),c===void 0&&(c=!0);var p=this.manager.getFrame(f,e);if(p){var x=p.canvasData,T=p.cutWidth,E=p.cutHeight,y=p.source.resolution;this.context.drawImage(p.source.image,x.x,x.y,T,E,o,d,T/y,E/y),c&&this.update()}return this},setPixel:function(f,e,o,d,c,p){p===void 0&&(p=255),f=Math.abs(Math.floor(f)),e=Math.abs(Math.floor(e));var x=this.getIndex(f,e);if(x>-1){var T=this.context.getImageData(f,e,1,1);T.data[0]=o,T.data[1]=d,T.data[2]=c,T.data[3]=p,this.context.putImageData(T,f,e)}return this},putData:function(f,e,o,d,c,p,x){return d===void 0&&(d=0),c===void 0&&(c=0),p===void 0&&(p=f.width),x===void 0&&(x=f.height),this.context.putImageData(f,e,o,d,c,p,x),this},getData:function(f,e,o,d){f=m(Math.floor(f),0,this.width-1),e=m(Math.floor(e),0,this.height-1),o=m(o,1,this.width-f),d=m(d,1,this.height-e);var c=this.context.getImageData(f,e,o,d);return c},getPixel:function(f,e,o){o||(o=new l);var d=this.getIndex(f,e);if(d>-1){var c=this.data,p=c[d+0],x=c[d+1],T=c[d+2],E=c[d+3];o.setTo(p,x,T,E)}return o},getPixels:function(f,e,o,d){f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=this.width),d===void 0&&(d=o),f=Math.abs(Math.round(f)),e=Math.abs(Math.round(e));for(var c=m(f,0,this.width),p=m(f+o,0,this.width),x=m(e,0,this.height),T=m(e+d,0,this.height),E=new l,y=[],w=x;w<T;w++){for(var A=[],P=c;P<p;P++)E=this.getPixel(P,w,E),A.push({x:P,y:w,color:E.color,alpha:E.alphaGL});y.push(A)}return y},getIndex:function(f,e){return f=Math.abs(Math.round(f)),e=Math.abs(Math.round(e)),f<this.width&&e<this.height?(f+e*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,e,o,d,c){return f===void 0&&(f=0),e===void 0&&(e=0),o===void 0&&(o=this.width),d===void 0&&(d=this.height),c===void 0&&(c=!0),this.context.clearRect(f,e,o,d),c&&this.update(),this},setSize:function(f,e){return e===void 0&&(e=f),(f!==this.width||e!==this.height)&&(this.canvas.width=f,this.canvas.height=e,this._source.width=f,this._source.height=e,this._source.isPowerOf2=r(f,e),this.frames.__BASE.setSize(f,e,0,0),this.width=f,this.height=e,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});v.exports=s},845:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(95723),m=t(51052),l=t(61068),a=t(56694),r=t(86459),i=t(82047),s=t(72632),f=t(65641),e=t(37410),o=t(31673),d=t(75512),c=new a({Extends:o,initialize:function(x,T,E,y){E===void 0&&(E=256),y===void 0&&(y=256),this.type="DynamicTexture";var w=x.game.renderer,A=w&&w.type===r.CANVAS,P=A?l.create2D(this,E,y):[this];o.call(this,x,T,P,E,y),this.add("__BASE",0,0,0,E,y),this.renderer=w,this.isDrawing=!1,this.canvas=A?P:null,this.context=A?P.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,E,y).setScene(x.game.scene.systemScene,!1),this.renderTarget=A?null:new e(w,E,y,1,0,!1,!0,!0,!1),this.pipeline=A?null:w.pipelines.get(f.SINGLE_PIPELINE),this.setSize(E,y)},setSize:function(p,x){x===void 0&&(x=p);var T=this.get(),E=T.source;if(p!==this.width||x!==this.height){this.canvas&&(this.canvas.width=p,this.canvas.height=x);var y=this.renderTarget;y&&(y.resize(p,x),T.glTexture=y.texture,E.isRenderTexture=!0,E.isGLTexture=!0,E.glTexture=y.texture,E.glTexture.flipY=!0),this.camera.setSize(p,x),E.width=p,E.height=x,T.setSize(p,x),this.width=p,this.height=x}else{var w=this.getSourceImage();T.cutX+p>w.width&&(p=w.width-T.cutX),T.cutY+x>w.height&&(x=w.height-T.cutY),T.setSize(p,x,T.cutX,T.cutY)}return this},setIsSpriteTexture:function(p){return this.isSpriteTexture=p,this},fill:function(p,x,T,E,y,w){var A=this.camera,P=this.renderer;x===void 0&&(x=1),T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=this.width),w===void 0&&(w=this.height);var M=p>>16&255,L=p>>8&255,F=p&255,N=this.renderTarget;if(A.preRender(),N){N.bind(!0);var b=this.pipeline.manager.set(this.pipeline),V=P.width/N.width,X=P.height/N.height;b.drawFillRect(T*V,E*X,y*V,w*X,d.getTintFromFloats(F/255,L/255,M/255,1),x),N.unbind(!0)}else{var W=this.context;P.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+M+","+L+","+F+","+x+")",W.fillRect(T,E,y,w),P.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var p=this.context,x=this.renderTarget;x?x.clear():p&&(p.save(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,this.width,this.height),p.restore()),this.dirty=!1}return this},stamp:function(p,x,T,E,y){T===void 0&&(T=0),E===void 0&&(E=0);var w=s(y,"alpha",1),A=s(y,"tint",16777215),P=s(y,"angle",0),M=s(y,"rotation",0),L=s(y,"scale",1),F=s(y,"scaleX",L),N=s(y,"scaleY",L),b=s(y,"originX",.5),V=s(y,"originY",.5),X=s(y,"blendMode",0),W=s(y,"erase",!1),k=s(y,"skipBatch",!1),Q=this.manager.resetStamp(w,A);return Q.setAngle(0),P!==0?Q.setAngle(P):M!==0&&Q.setRotation(M),Q.setScale(F,N),Q.setTexture(p,x),Q.setOrigin(b,V),Q.setBlendMode(X),W&&(this._eraseMode=!0),k?this.batchGameObject(Q,T,E):this.draw(Q,T,E),W&&(this._eraseMode=!1),this},erase:function(p,x,T){return this._eraseMode=!0,this.draw(p,x,T),this._eraseMode=!1,this},draw:function(p,x,T,E,y){return this.beginDraw(),this.batchDraw(p,x,T,E,y),this.endDraw(),this},drawFrame:function(p,x,T,E,y,w){return this.beginDraw(),this.batchDrawFrame(p,x,T,E,y,w),this.endDraw(),this},repeat:function(p,x,T,E,y,w,A,P,M){if(T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=this.width),w===void 0&&(w=this.height),A===void 0&&(A=1),P===void 0&&(P=16777215),M===void 0&&(M=!1),p instanceof i?x=p:x=this.manager.getFrame(p,x),!x)return this;var L=this.manager.resetStamp(A,P);L.setFrame(x),L.setOrigin(0);var F=x.width,N=x.height;y=Math.floor(y),w=Math.floor(w);var b=Math.ceil(y/F),V=Math.ceil(w/N),X=b*F-y,W=V*N-w;X>0&&(X=F-X),W>0&&(W=N-W),T<0&&(b+=Math.ceil(Math.abs(T)/F)),E<0&&(V+=Math.ceil(Math.abs(E)/N));var k=T,Q=E,U=!1,Y=this.manager.stampCrop.setTo(0,0,F,N);M||this.beginDraw();for(var O=0;O<V;O++){if(Q+N<0){Q+=N;continue}for(var G=0;G<b;G++){if(U=!1,k+F<0){k+=F;continue}else k<0&&(U=!0,Y.width=F+k,Y.x=F-Y.width);Q<0&&(U=!0,Y.height=N+Q,Y.y=N-Y.height),X>0&&G===b-1&&(U=!0,Y.width=X),W>0&&O===V-1&&(U=!0,Y.height=W),U&&L.setCrop(Y),this.batchGameObject(L,k,Q),L.isCropped=!1,Y.setTo(0,0,F,N),k+=F}k=T,Q+=N}return M||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var p=this.camera,x=this.renderer,T=this.renderTarget;p.preRender(),T?x.beginCapture(T.width,T.height):x.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(p,x,T,E,y){return Array.isArray(p)||(p=[p]),this.batchList(p,x,T,E,y),this},batchDrawFrame:function(p,x,T,E,y,w){T===void 0&&(T=0),E===void 0&&(E=0),y===void 0&&(y=1),w===void 0&&(w=16777215);var A=this.manager.getFrame(p,x);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,T,E,w,y,this.camera.matrix,null):this.batchTextureFrame(A,T,E,y,w)),this},endDraw:function(p){if(p===void 0&&(p=this._eraseMode),this.isDrawing){var x=this.renderer,T=this.renderTarget;if(T){var E=x.endCapture(),y=x.pipelines.setUtility();y.blitFrame(E,T,1,!1,!1,p,this.isSpriteTexture),x.resetScissor(),x.resetViewport()}else x.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(p,x,T,E,y){var w=p.length;if(w!==0)for(var A=0;A<w;A++){var P=p[A];!P||P===this||(P.renderWebGL||P.renderCanvas?this.batchGameObject(P,x,T):P.isParent||P.list?this.batchGroup(P.getChildren(),x,T):typeof P=="string"?this.batchTextureFrameKey(P,null,x,T,E,y):P instanceof i?this.batchTextureFrame(P,x,T,E,y):Array.isArray(P)&&this.batchList(P,x,T,E,y))}},batchGroup:function(p,x,T){x===void 0&&(x=0),T===void 0&&(T=0);for(var E=0;E<p.length;E++){var y=p[E];y.willRender(this.camera)&&this.batchGameObject(y,y.x+x,y.y+T)}},batchGameObject:function(p,x,T){x===void 0&&(x=p.x),T===void 0&&(T=p.y);var E=p.x,y=p.y,w=this.camera,A=this.renderer,P=this._eraseMode,M=p.mask;if(p.setPosition(x,T),this.canvas){if(P){var L=p.blendMode;p.blendMode=h.ERASE}M&&M.preRenderCanvas(A,p,w),p.renderCanvas(A,p,w,null),M&&M.postRenderCanvas(A,p,w),P&&(p.blendMode=L)}else A&&(M&&M.preRenderWebGL(A,p,w),P||A.setBlendMode(p.blendMode),p.renderWebGL(A,p,w),M&&M.postRenderWebGL(A,w,this.renderTarget));p.setPosition(E,y)},batchTextureFrameKey:function(p,x,T,E,y,w){var A=this.manager.getFrame(p,x);A&&this.batchTextureFrame(A,T,E,y,w)},batchTextureFrame:function(p,x,T,E,y){x===void 0&&(x=0),T===void 0&&(T=0),E===void 0&&(E=1),y===void 0&&(y=16777215);var w=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(p,x,T,y,E,w,null);else{var P=this.context,M=p.canvasData,L=p.source.image;P.save(),P.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",P.globalAlpha=E,w.setToContext(P),M.width>0&&M.height>0&&P.drawImage(L,M.x,M.y,M.width,M.height,x,T,M.width,M.height),P.restore()}},snapshotArea:function(p,x,T,E,y,w,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!1,p,x,T,E,w,A):this.renderer.snapshotCanvas(this.canvas,y,!1,p,x,T,E,w,A),this},snapshot:function(p,x,T){return this.snapshotArea(0,0,this.width,this.height,p,x,T)},snapshotPixel:function(p,x,T){return this.snapshotArea(p,x,1,1,T,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(p,x,T,E){var y=this.manager.resetStamp();y.setTexture(this),y.setOrigin(0),y.renderWebGL(p,y,T,E)},renderCanvas:function(){},preDestroy:function(){l.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.stamp.destroy(),this.canvas=null,this.context=null,this.renderer=null,this.scene=null}});v.exports=c},82047:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(82897),l=t(98611),a=new h({initialize:function(i,s,f,e,o,d,c){this.texture=i,this.name=s,this.source=i.source[f],this.sourceIndex=f,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(d,c,e,o)},setSize:function(r,i,s,f){s===void 0&&(s=0),f===void 0&&(f=0),this.cutX=s,this.cutY=f,this.cutWidth=r,this.cutHeight=i,this.width=r,this.height=i,this.halfWidth=Math.floor(r*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(r/2),this.centerY=Math.floor(i/2);var e=this.data,o=e.cut;o.x=s,o.y=f,o.w=r,o.h=i,o.r=s+r,o.b=f+i,e.sourceSize.w=r,e.sourceSize.h=i,e.spriteSourceSize.w=r,e.spriteSourceSize.h=i,e.radius=.5*Math.sqrt(r*r+i*i);var d=e.drawImage;return d.x=s,d.y=f,d.width=r,d.height=i,this.updateUVs()},setTrim:function(r,i,s,f,e,o){var d=this.data,c=d.spriteSourceSize;return d.trim=!0,d.sourceSize.w=r,d.sourceSize.h=i,c.x=s,c.y=f,c.w=e,c.h=o,c.r=s+e,c.b=f+o,this.x=s,this.y=f,this.width=e,this.height=o,this.halfWidth=e*.5,this.halfHeight=o*.5,this.centerX=Math.floor(e/2),this.centerY=Math.floor(o/2),this.updateUVs()},setCropUVs:function(r,i,s,f,e,o,d){var c=this.cutX,p=this.cutY,x=this.cutWidth,T=this.cutHeight,E=this.realWidth,y=this.realHeight;i=m(i,0,E),s=m(s,0,y),f=m(f,0,E-i),e=m(e,0,y-s);var w=c+i,A=p+s,P=f,M=e,L=this.data;if(L.trim){var F=L.spriteSourceSize;f=m(f,0,x-i),e=m(e,0,T-s);var N=i+f,b=s+e,V=!(F.r<i||F.b<s||F.x>N||F.y>b);if(V){var X=Math.max(F.x,i),W=Math.max(F.y,s),k=Math.min(F.r,N)-X,Q=Math.min(F.b,b)-W;P=k,M=Q,o?w=c+(x-(X-F.x)-k):w=c+(X-F.x),d?A=p+(T-(W-F.y)-Q):A=p+(W-F.y),i=X,s=W,f=k,e=Q}else w=0,A=0,P=0,M=0}else o&&(w=c+(x-i-f)),d&&(A=p+(T-s-e));var U=this.source.width,Y=this.source.height;return r.u0=Math.max(0,w/U),r.v0=Math.max(0,A/Y),r.u1=Math.min(1,(w+P)/U),r.v1=Math.min(1,(A+M)/Y),r.x=i,r.y=s,r.cx=w,r.cy=A,r.cw=P,r.ch=M,r.width=f,r.height=e,r.flipX=o,r.flipY=d,r},updateCropUVs:function(r,i,s){return this.setCropUVs(r,r.x,r.y,r.width,r.height,i,s)},setUVs:function(r,i,s,f,e,o){var d=this.data.drawImage;return d.width=r,d.height=i,this.u0=s,this.v0=f,this.u1=e,this.v1=o,this},updateUVs:function(){var r=this.cutX,i=this.cutY,s=this.cutWidth,f=this.cutHeight,e=this.data.drawImage;e.width=s,e.height=f;var o=this.source.width,d=this.source.height;return this.u0=r/o,this.v0=i/d,this.u1=(r+s)/o,this.v1=(i+f)/d,this},updateUVsInverted:function(){var r=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/r,this.v0=this.cutY/i,this.u1=this.cutX/r,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var r=new a(this.texture,this.name,this.sourceIndex);return r.cutX=this.cutX,r.cutY=this.cutY,r.cutWidth=this.cutWidth,r.cutHeight=this.cutHeight,r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r.halfWidth=this.halfWidth,r.halfHeight=this.halfHeight,r.centerX=this.centerX,r.centerY=this.centerY,r.rotated=this.rotated,r.data=l(!0,r.data,this.data),r.updateUVs(),r},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});v.exports=a},31673:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(82047),l=t(32547),a='Texture "%s" has no frame "%s"',r=new h({initialize:function(s,f,e,o,d){Array.isArray(e)||(e=[e]),this.manager=s,this.key=f,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var c=0;c<e.length;c++)this.source.push(new l(this,e[c],o,d))},add:function(i,s,f,e,o,d){if(this.has(i))return null;var c=new m(this,i,s,f,e,o,d);return this.frames[i]=c,this.firstFrame==="__BASE"&&(this.firstFrame=i),this.frameTotal++,c},remove:function(i){if(this.has(i)){var s=this.get(i);return s.destroy(),delete this.frames[i],!0}return!1},has:function(i){return this.frames.hasOwnProperty(i)},get:function(i){i||(i=this.firstFrame);var s=this.frames[i];return s||(console.warn(a,this.key,i),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(i){for(var s=0;s<this.source.length;s++)if(this.source[s]===i)return s;return-1},getFramesFromTextureSource:function(i,s){s===void 0&&(s=!1);var f=[];for(var e in this.frames)if(!(e==="__BASE"&&!s)){var o=this.frames[e];o.sourceIndex===i&&f.push(o)}return f},getFrameNames:function(i){i===void 0&&(i=!1);var s=Object.keys(this.frames);if(!i){var f=s.indexOf("__BASE");f!==-1&&s.splice(f,1)}return s},getSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var s=this.frames[i];return s?s.source.image:(console.warn(a,this.key,i),this.frames.__BASE.source.image)},getDataSourceImage:function(i){(i==null||this.frameTotal===1)&&(i="__BASE");var s=this.frames[i],f;return s?f=s.sourceIndex:(console.warn(a,this.key,i),f=this.frames.__BASE.sourceIndex),this.dataSource[f].image},setDataSource:function(i){Array.isArray(i)||(i=[i]);for(var s=0;s<i.length;s++){var f=this.source[s];this.dataSource.push(new l(this,i[s],f.width,f.height))}},setFilter:function(i){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(i);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(i)},destroy:function(){var i,s=this.source,f=this.dataSource;for(i=0;i<s.length;i++)s[i]&&s[i].destroy();for(i=0;i<f.length;i++)f[i]&&f[i].destroy();for(var e in this.frames){var o=this.frames[e];o&&o.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});v.exports=r},6237:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),m=t(17487),l=t(56694),a=t(27119),r=t(86459),i=t(845),s=t(6659),f=t(38203),e=t(82047),o=t(97081),d=t(52780),c=t(10850),p=t(1539),x=t(42911),T=t(69150),E=t(74118),y=t(31673),w=new l({Extends:s,initialize:function(P){s.call(this),this.game=P,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,P.events.once(o.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(f.LOAD,this.updatePending,this),this.on(f.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.events.once(o.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(f.LOAD),this.off(f.ERROR),this.emit(f.READY),this.stamp=new p(this.game.scene.systemScene).setOrigin(0))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;return this.list.hasOwnProperty(A.key)&&(A.destroy(),this.emit(f.REMOVE,A.key),this.emit(f.REMOVE_KEY+A.key)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,P){if(this.checkKey(A)){var M=this,L=new Image;L.onerror=function(){M.emit(f.ERROR,A)},L.onload=function(){var F=M.create(A,L);T.Image(F,0),M.emit(f.ADD,A,F),M.emit(f.ADD_KEY+A,F),M.emit(f.LOAD,A,F)},L.src=P}return this},getBase64:function(A,P,M,L){M===void 0&&(M="image/png"),L===void 0&&(L=.92);var F="",N=this.getFrame(A,P);if(N&&(N.source.isRenderTexture||N.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(N){var b=N.canvasData,V=h.create2D(this,b.width,b.height),X=V.getContext("2d",{willReadFrequently:!0});b.width>0&&b.height>0&&X.drawImage(N.source.image,b.x,b.y,b.width,b.height,0,0,b.width,b.height),F=V.toDataURL(M,L),h.remove(V)}return F},addImage:function(A,P,M){var L=null;return this.checkKey(A)&&(L=this.create(A,P),T.Image(L,0),M&&L.setDataSource(M),this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)),L},addGLTexture:function(A,P,M,L){var F=null;return this.checkKey(A)&&(M===void 0&&(M=P.width),L===void 0&&(L=P.height),F=this.create(A,P,M,L),F.add("__BASE",0,0,0,M,L),this.emit(f.ADD,A,F),this.emit(f.ADD_KEY+A,F)),F},addCompressedTexture:function(A,P,M){var L=null;if(this.checkKey(A)){if(L=this.create(A,P),L.add("__BASE",0,0,0,P.width,P.height),M)if(Array.isArray(M))for(var F=0;F<M.length;F++)T.JSONHash(L,F,M[F]);else T.JSONHash(L,0,M);this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)}return L},addRenderTexture:function(A,P){var M=null;return this.checkKey(A)&&(M=this.create(A,P),M.add("__BASE",0,0,0,P.width,P.height),this.emit(f.ADD,A,M),this.emit(f.ADD_KEY+A,M)),M},generate:function(A,P){if(this.checkKey(A)){var M=h.create(this,1,1);return P.canvas=M,d(P),this.addCanvas(A,M)}else return null},createCanvas:function(A,P,M){if(P===void 0&&(P=256),M===void 0&&(M=256),this.checkKey(A)){var L=h.create(this,P,M,r.CANVAS,!0);return this.addCanvas(A,L)}return null},addCanvas:function(A,P,M){M===void 0&&(M=!1);var L=null;return M?L=new m(this,A,P,P.width,P.height):this.checkKey(A)&&(L=new m(this,A,P,P.width,P.height),this.list[A]=L,this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)),L},addDynamicTexture:function(A,P,M){var L=null;return typeof A=="string"&&!this.exists(A)?L=new i(this,A,P,M):(L=A,A=L.key),this.checkKey(A)?(this.list[A]=L,this.emit(f.ADD,A,L),this.emit(f.ADD_KEY+A,L)):L=null,L},addAtlas:function(A,P,M,L){return Array.isArray(M.textures)||Array.isArray(M.frames)?this.addAtlasJSONArray(A,P,M,L):this.addAtlasJSONHash(A,P,M,L)},addAtlasJSONArray:function(A,P,M,L){var F=null;if(P instanceof y?(A=F.key,F=P):this.checkKey(A)&&(F=this.create(A,P)),F){if(Array.isArray(M))for(var N=M.length===1,b=0;b<F.source.length;b++){var V=N?M[0]:M[b];T.JSONArray(F,b,V)}else T.JSONArray(F,0,M);L&&F.setDataSource(L),this.emit(f.ADD,A,F),this.emit(f.ADD_KEY+A,F)}return F},addAtlasJSONHash:function(A,P,M,L){var F=null;if(P instanceof y?(A=F.key,F=P):this.checkKey(A)&&(F=this.create(A,P)),F){if(Array.isArray(M))for(var N=0;N<M.length;N++)T.JSONHash(F,N,M[N]);else T.JSONHash(F,0,M);L&&F.setDataSource(L),this.emit(f.ADD,A,F),this.emit(f.ADD_KEY+A,F)}return F},addAtlasXML:function(A,P,M,L){var F=null;return P instanceof y?(A=F.key,F=P):this.checkKey(A)&&(F=this.create(A,P)),F&&(T.AtlasXML(F,0,M),L&&F.setDataSource(L),this.emit(f.ADD,A,F),this.emit(f.ADD_KEY+A,F)),F},addUnityAtlas:function(A,P,M,L){var F=null;return P instanceof y?(A=F.key,F=P):this.checkKey(A)&&(F=this.create(A,P)),F&&(T.UnityYAML(F,0,M),L&&F.setDataSource(L),this.emit(f.ADD,A,F),this.emit(f.ADD_KEY+A,F)),F},addSpriteSheet:function(A,P,M,L){var F=null;if(P instanceof y?(A=F.key,F=P):this.checkKey(A)&&(F=this.create(A,P)),F){var N=F.source[0].width,b=F.source[0].height;T.SpriteSheet(F,0,0,0,N,b,M),L&&F.setDataSource(L),this.emit(f.ADD,A,F),this.emit(f.ADD_KEY+A,F)}return F},addSpriteSheetFromAtlas:function(A,P){if(!this.checkKey(A))return null;var M=c(P,"atlas",null),L=c(P,"frame",null);if(!(!M||!L)){var F=this.get(M),N=F.get(L);if(N){var b=this.create(A,N.source.image);return N.trimmed?T.SpriteSheetFromAtlas(b,N,P):T.SpriteSheet(b,0,N.cutX,N.cutY,N.cutWidth,N.cutHeight,P),this.emit(f.ADD,A,b),this.emit(f.ADD_KEY+A,b),b}}},create:function(A,P,M,L){var F=null;return this.checkKey(A)&&(F=new y(this,A,P,M,L),this.list[A]=F),F},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof y?A:A instanceof e?A.texture:this.list.__MISSING},cloneFrame:function(A,P){if(this.list[A])return this.list[A].get(P).clone()},getFrame:function(A,P){if(this.list[A])return this.list[A].get(P)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(x(A))return this.getFrame(A.key,A.frame);if(A instanceof y)return A.get();if(A instanceof e)return A}else return},getTextureKeys:function(){var A=[];for(var P in this.list)P!=="__DEFAULT"&&P!=="__MISSING"&&P!=="__WHITE"&&A.push(P);return A},getPixel:function(A,P,M,L){var F=this.getFrame(M,L);if(F){A-=F.x,P-=F.y;var N=F.data.cut;if(A+=N.x,P+=N.y,A>=N.x&&A<N.r&&P>=N.y&&P<N.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(F.source.image,A,P,1,1,0,0,1,1);var V=b.getImageData(0,0,1,1);return new a(V.data[0],V.data[1],V.data[2],V.data[3])}}return null},getPixelAlpha:function(A,P,M,L){var F=this.getFrame(M,L);if(F){A-=F.x,P-=F.y;var N=F.data.cut;if(A+=N.x,P+=N.y,A>=N.x&&A<N.r&&P>=N.y&&P<N.b){var b=this._tempContext;b.clearRect(0,0,1,1),b.drawImage(F.source.image,A,P,1,1,0,0,1,1);var V=b.getImageData(0,0,1,1);return V.data[3]}}return null},setTexture:function(A,P,M){return this.list[P]&&(A.texture=this.list[P],A.frame=A.texture.get(M)),A},renameTexture:function(A,P){var M=this.get(A);return M&&A!==P?(M.key=P,this.list[P]=M,delete this.list[A],!0):!1},each:function(A,P){for(var M=[null],L=1;L<arguments.length;L++)M.push(arguments[L]);for(var F in this.list)M[0]=this.list[F],A.apply(P,M)},resetStamp:function(A,P){A===void 0&&(A=1),P===void 0&&(P=16777215);var M=this.stamp;return M.setCrop(),M.setPosition(0),M.setAngle(0),M.setScale(1),M.setAlpha(A),M.setTint(P),M},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});v.exports=w},32547:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61068),m=t(56694),l=t(28621),a=t(27394),r=new m({initialize:function(s,f,e,o,d){d===void 0&&(d=!1);var c=s.manager.game;this.renderer=c.renderer,this.texture=s,this.source=f,this.image=f.compressed?null:f,this.compressionAlgorithm=f.compressed?f.format:null,this.resolution=1,this.width=e||f.naturalWidth||f.videoWidth||f.width||0,this.height=o||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture"||f.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&f instanceof WebGLTexture,this.isPowerOf2=l(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(c)},init:function(i){var s=this.renderer;if(s){var f=this.source;if(s.gl){var e=this.image,o=this.flipY,d=this.width,c=this.height,p=this.scaleMode;this.isCanvas?this.glTexture=s.createCanvasTexture(e,!1,o):this.isVideo?this.glTexture=s.createVideoTexture(e,!1,o):this.isRenderTexture?this.glTexture=s.createTextureFromSource(null,d,c,p):this.isGLTexture?this.glTexture=f:this.compressionAlgorithm?this.glTexture=s.createTextureFromSource(f):this.glTexture=s.createTextureFromSource(e,d,c,p)}else this.isRenderTexture&&(this.image=f.canvas)}i.config.antialias||this.setFilter(1)},setFilter:function(i){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,i),this.scaleMode=i},setFlipY:function(i){return i===void 0&&(i=!0),this.flipY=i,this},update:function(){var i=this.renderer,s=this.image,f=this.flipY,e=i.gl;e&&this.isCanvas?this.glTexture=i.updateCanvasTexture(s,this.glTexture,f):e&&this.isVideo&&(this.glTexture=i.updateVideoTexture(s,this.glTexture,f))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});v.exports=r},65154:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};v.exports=S},49644:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture"},29569:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture-"},60079:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onerror"},72665:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onload"},93006:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},69018:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture"},85549:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture-"},38203:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(49644),ADD_KEY:t(29569),ERROR:t(60079),LOAD:t(72665),READY:t(93006),REMOVE:t(69018),REMOVE_KEY:t(85549)}},87499:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),m=t(65154),l={CanvasTexture:t(17487),DynamicTexture:t(845),Events:t(38203),FilterMode:m,Frame:t(82047),Parsers:t(69150),Texture:t(31673),TextureManager:t(6237),TextureSource:t(32547)};l=h(!1,l,m),v.exports=l},35082:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var l=t.source[h];t.add("__BASE",h,0,0,l.width,l.height);for(var a=m.getElementsByTagName("SubTexture"),r,i=0;i<a.length;i++){var s=a[i].attributes,f=s.name.value,e=parseInt(s.x.value,10),o=parseInt(s.y.value,10),d=parseInt(s.width.value,10),c=parseInt(s.height.value,10);if(r=t.add(f,h,e,o,d,c),s.frameX){var p=Math.abs(parseInt(s.frameX.value,10)),x=Math.abs(parseInt(s.frameY.value,10)),T=parseInt(s.frameWidth.value,10),E=parseInt(s.frameHeight.value,10);r.setTrim(d,c,p,x,T,E)}}return t};v.exports=S},83332:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.source[h];return t.add("__BASE",h,0,0,m.width,m.height),t};v.exports=S},21560:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.source[h];return t.add("__BASE",h,0,0,m.width,m.height),t};v.exports=S},64423:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),m=function(l,a,r){if(!r.frames&&!r.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=l.source[a];l.add("__BASE",a,0,0,i.width,i.height);for(var s=Array.isArray(r.textures)?r.textures[a].frames:r.frames,f,e=0;e<s.length;e++){var o=s[e];if(f=l.add(o.filename,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+o.filename);continue}o.trimmed&&f.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(f.rotated=!0,f.updateUVsInverted());var d=o.anchor||o.pivot;d&&(f.customPivot=!0,f.pivotX=d.x,f.pivotY=d.y),f.customData=h(o)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?l.customData[c]=r[c].slice(0):l.customData[c]=r[c]);return l};v.exports=m},17264:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),m=function(l,a,r){if(!r.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=l.source[a];l.add("__BASE",a,0,0,i.width,i.height);var s=r.frames,f;for(var e in s)if(s.hasOwnProperty(e)){var o=s[e];if(f=l.add(e,a,o.frame.x,o.frame.y,o.frame.w,o.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+e);continue}o.trimmed&&f.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(f.rotated=!0,f.updateUVsInverted());var d=o.anchor||o.pivot;d&&(f.customPivot=!0,f.pivotX=d.x,f.pivotY=d.y),f.customData=h(o)}for(var c in r)c!=="frames"&&(Array.isArray(r[c])?l.customData[c]=r[c].slice(0):l.customData[c]=r[c]);return l};v.exports=m},67409:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=[171,75,84,88,32,49,49,187,13,10,26,10],m,l=new Uint8Array(t,0,12);for(m=0;m<l.length;m++)if(l[m]!==h[m]){console.warn("KTXParser - Invalid file format");return}var a=Uint32Array.BYTES_PER_ELEMENT,r=new DataView(t,12,13*a),i=r.getUint32(0,!0)===67305985,s=r.getUint32(1*a,i);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var f=r.getUint32(4*a,i),e=r.getUint32(6*a,i),o=r.getUint32(7*a,i),d=Math.max(1,r.getUint32(11*a,i)),c=r.getUint32(12*a,i),p=new Array(d),x=12+13*4+c,T=e,E=o;for(m=0;m<d;m++){var y=new Int32Array(t,x,1)[0];x+=4,p[m]={data:new Uint8Array(t,x,y),width:T,height:E},T=Math.max(1,T>>1),E=Math.max(1,E>>1),x+=y}return{mipmaps:p,width:e,height:o,internalFormat:f,compressed:!0,generateMipmap:!1}};v.exports=S},24904:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(A,P,M,L,F,N,b){return b===void 0&&(b=16),Math.floor((A+M)/F)*Math.floor((P+L)/N)*b}function t(A,P){return A=Math.max(A,16),P=Math.max(P,8),A*P/4}function h(A,P){return A=Math.max(A,8),P=Math.max(P,8),A*P/2}function m(A,P){return S(A,P,3,3,4,4,8)}function l(A,P){return S(A,P,3,3,4,4)}function a(A,P){return S(A,P,4,3,5,4)}function r(A,P){return S(A,P,4,4,5,5)}function i(A,P){return S(A,P,5,4,6,5)}function s(A,P){return S(A,P,5,5,6,6)}function f(A,P){return S(A,P,7,4,8,5)}function e(A,P){return S(A,P,7,5,8,6)}function o(A,P){return S(A,P,7,7,8,8)}function d(A,P){return S(A,P,9,4,10,5)}function c(A,P){return S(A,P,9,5,10,6)}function p(A,P){return S(A,P,9,7,10,8)}function x(A,P){return S(A,P,9,9,10,10)}function T(A,P){return S(A,P,11,9,12,10)}function E(A,P){return S(A,P,11,11,12,12)}var y={0:{sizeFunc:t,glFormat:35841},1:{sizeFunc:t,glFormat:35843},2:{sizeFunc:h,glFormat:35840},3:{sizeFunc:h,glFormat:35842},6:{sizeFunc:m,glFormat:36196},7:{sizeFunc:m,glFormat:33776},8:{sizeFunc:l,glFormat:33777},9:{sizeFunc:l,glFormat:33778},11:{sizeFunc:l,glFormat:33779},22:{sizeFunc:m,glFormat:37492},23:{sizeFunc:l,glFormat:37496},24:{sizeFunc:m,glFormat:37494},25:{sizeFunc:m,glFormat:37488},26:{sizeFunc:l,glFormat:37490},27:{sizeFunc:l,glFormat:37808},28:{sizeFunc:a,glFormat:37809},29:{sizeFunc:r,glFormat:37810},30:{sizeFunc:i,glFormat:37811},31:{sizeFunc:s,glFormat:37812},32:{sizeFunc:f,glFormat:37813},33:{sizeFunc:e,glFormat:37814},34:{sizeFunc:o,glFormat:37815},35:{sizeFunc:d,glFormat:37816},36:{sizeFunc:c,glFormat:37817},37:{sizeFunc:p,glFormat:37818},38:{sizeFunc:x,glFormat:37819},39:{sizeFunc:T,glFormat:37820},40:{sizeFunc:E,glFormat:37821}},w=function(A){for(var P=new Uint32Array(A,0,13),M=P[2],L=y[M].glFormat,F=y[M].sizeFunc,N=P[11],b=P[7],V=P[6],X=52+P[12],W=new Uint8Array(A,X),k=new Array(N),Q=0,U=b,Y=V,O=0;O<N;O++){var G=F(U,Y);k[O]={data:new Uint8Array(W.buffer,W.byteOffset+Q,G),width:U,height:Y},U=Math.max(1,U>>1),Y=Math.max(1,Y>>1),Q+=G}return{mipmaps:k,width:b,height:V,internalFormat:L,compressed:!0,generateMipmap:!1}};v.exports=w},6143:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=function(l,a,r,i,s,f,e){var o=h(e,"frameWidth",null),d=h(e,"frameHeight",o);if(o===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=l.source[a];l.add("__BASE",a,0,0,c.width,c.height);var p=h(e,"startFrame",0),x=h(e,"endFrame",-1),T=h(e,"margin",0),E=h(e,"spacing",0),y=Math.floor((s-T+E)/(o+E)),w=Math.floor((f-T+E)/(d+E)),A=y*w;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",l.key),(p>A||p<-A)&&(p=0),p<0&&(p=A+p),(x===-1||x>A||x<p)&&(x=A);for(var P=T,M=T,L=0,F=0,N=0,b=0;b<A;b++){L=0,F=0;var V=P+o,X=M+d;V>s&&(L=V-s),X>f&&(F=X-f),b>=p&&b<=x&&(l.add(N,a,r+P,i+M,o-L,d-F),N++),P+=o+E,P+o>s&&(P=T,M+=d+E)}return l};v.exports=m},20030:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=function(l,a,r){var i=h(r,"frameWidth",null),s=h(r,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=l.source[0];l.add("__BASE",0,0,0,f.width,f.height),h(r,"startFrame",0),h(r,"endFrame",-1);for(var e=h(r,"margin",0),o=h(r,"spacing",0),d=a.cutX,c=a.cutY,p=a.cutWidth,x=a.cutHeight,T=a.realWidth,E=a.realHeight,y=Math.floor((T-e+o)/(i+o)),w=Math.floor((E-e+o)/(s+o)),A=a.x,P=i-A,M=i-(T-p-A),L=a.y,F=s-L,N=s-(E-x-L),b,V=e,X=e,W=0,k=0,Q=0;Q<w;Q++){for(var U=Q===0,Y=Q===w-1,O=0;O<y;O++){var G=O===0,z=O===y-1;if(b=l.add(W,k,d+V,c+X,i,s),G||U||z||Y){var H=G?A:0,K=U?L:0,J=0,Z=0;G&&(J+=i-P),z&&(J+=i-M),U&&(Z+=s-F),Y&&(Z+=s-N);var _=i-J,tt=s-Z;b.cutWidth=_,b.cutHeight=tt,b.setTrim(i,s,H,K,_,tt)}V+=o,G?V+=P:z?V+=M:V+=i,W++}V=e,X+=o,U?X+=F:Y?X+=N:X+=s}return l};v.exports=m},89187:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(m,l,a,r){var i=S-r.y-r.height;m.add(a,l,r.x,i,r.width,r.height)},h=function(m,l,a){var r=m.source[l];m.add("__BASE",l,0,0,r.width,r.height),S=r.height;for(var i=a.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,f="",e="",o={x:0,y:0,width:0,height:0},d=0;d<i.length;d++){var c=i[d].match(s);if(c){var p=c[1]==="- ",x=c[2],T=c[3];if(p&&(e!==f&&(t(m,l,e,o),f=e),o={x:0,y:0,width:0,height:0}),x==="name"){e=T;continue}switch(x){case"x":case"y":case"width":case"height":o[x]=parseInt(T,10);break}}}return e!==f&&t(m,l,e,o),m};v.exports=h},69150:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AtlasXML:t(35082),Canvas:t(83332),Image:t(21560),JSONArray:t(64423),JSONHash:t(17264),KTXParser:t(67409),PVRParser:t(24904),SpriteSheet:t(6143),SpriteSheetFromAtlas:t(20030),UnityYAML:t(89187)}},93560:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a,r,i,s,f,e,o){(i===void 0||i<=0)&&(i=32),(s===void 0||s<=0)&&(s=32),f===void 0&&(f=0),e===void 0&&(e=0),this.name=a,this.firstgid=r|0,this.imageWidth=i|0,this.imageHeight=s|0,this.imageMargin=f|0,this.imageSpacing=e|0,this.properties=o||{},this.images=[],this.total=0},containsImageIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},addImage:function(l,a){return this.images.push({gid:l,image:a}),this.total++,this}});v.exports=m},46422:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=new h({initialize:function(a){if(this.gids=[],a!==void 0)for(var r=0;r<a.length;++r)for(var i=a[r],s=0;s<i.total;++s)this.gids[i.firstgid+s]=i;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(l){this.gids=l?this._gids:void 0}},getTypeIncludingTile:function(l){if(l.type!==void 0&&l.type!=="")return l.type;if(!(!this.gids||l.gid===void 0)){var a=this.gids[l.gid];if(a){var r=a.getTileData(l.gid);if(r)return r.type}}},setTextureAndFrame:function(l,a,r,i){if(a===null&&this.gids&&i.gid!==void 0){var s=this.gids[i.gid];s&&(a===null&&s.image!==void 0&&(a=s.image.key),r===null&&(r=i.gid-s.firstgid),l.scene.textures.getFrame(a,r)||(a=null,r=null))}l.setTexture(a,r)},setPropertiesFromTiledObject:function(l,a){if(this.gids!==void 0&&a.gid!==void 0){var r=this.gids[a.gid];r!==void 0&&this.setFromJSON(l,r.getTileProperties(a.gid))}this.setFromJSON(l,a.properties)},setFromJSON:function(l,a){if(a){if(Array.isArray(a)){a.forEach(function(i){l.setData(i.name,i.value)});return}for(var r in a)l[r]!==void 0?l[r]=a[r]:l.setData(r,a[r])}}});v.exports=m},15043:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),m=t(16586),l=t(90715),a=t(89797),r=function(i,s,f,e,o,d,c,p){f===void 0&&(f=32),e===void 0&&(e=32),o===void 0&&(o=10),d===void 0&&(d=10),p===void 0&&(p=!1);var x=null;if(Array.isArray(c)){var T=s!==void 0?s:"map";x=l(T,h.ARRAY_2D,c,f,e,p)}else if(s!==void 0){var E=i.cache.tilemap.get(s);E?x=l(s,E.format,E.data,f,e,p):console.warn("No map data found for key "+s)}return x===null&&(x=new m({tileWidth:f,tileHeight:e,width:o,height:d})),new a(i,x)};v.exports=r},29633:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(12920),a=t(28699),r=t(66658),i=new h({Mixins:[m.Alpha,m.Flip,m.Visible],initialize:function(f,e,o,d,c,p,x,T){this.layer=f,this.index=e,this.x=o,this.y=d,this.width=c,this.height=p,this.right,this.bottom,this.baseWidth=x!==void 0?x:c,this.baseHeight=T!==void 0?T:p,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(s,f){return!(s<this.pixelX||f<this.pixelY||s>this.right||f>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=a(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var f=this.tilemapLayer;if(f){var e=f.tileToWorldXY(this.x,this.y,void 0,s);return e.x}return this.x*this.baseWidth},getRight:function(s){var f=this.tilemapLayer;return f?this.getLeft(s)+this.width*f.scaleX:this.getLeft(s)+this.width},getTop:function(s){var f=this.tilemapLayer;if(f){var e=f.tileToWorldXY(this.x,this.y,void 0,s);return e.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var f=this.tilemapLayer;return f?this.getTop(s)+this.height*f.scaleY:this.getTop(s)+this.height},getBounds:function(s,f){return f===void 0&&(f=new r),f.x=this.getLeft(s),f.y=this.getTop(s),f.width=this.getRight(s)-f.x,f.height=this.getBottom(s)-f.y,f},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,f,e,o){return!(e<=this.pixelX||o<=this.pixelY||s>=this.right||f>=this.bottom)},isInteresting:function(s,f){return s&&f?this.canCollide||this.hasInterestingFace:s?this.collides:f?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,f,e,o,d){if(f===void 0&&(f=s),e===void 0&&(e=s),o===void 0&&(o=s),d===void 0&&(d=!0),this.collideLeft=s,this.collideRight=f,this.collideUp=e,this.collideDown=o,this.faceLeft=s,this.faceRight=f,this.faceTop=e,this.faceBottom=o,d){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,f){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=f),this},setSize:function(s,f,e,o){return s!==void 0&&(this.width=s),f!==void 0&&(this.height=f),e!==void 0&&(this.baseWidth=e),o!==void 0&&(this.baseHeight=o),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===l.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===l.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===l.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===l.HEXAGONAL){var f=this.layer.staggerAxis,e=this.layer.staggerIndex,o=this.layer.hexSideLength,d,c;f==="y"?(c=(this.baseHeight-o)/2+o,e==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*c):f==="x"&&(d=(this.baseWidth-o)/2+o,this.pixelX=this.x*d,e==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var f=s.gidMap[this.index];if(f)return f}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});v.exports=i},89797:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(14556),m=t(56694),l=t(75606),a=t(93560),r=t(72632),i=t(94990),s=t(46422),f=t(12920),e=t(52257),o=t(72677),d=t(13747),c=t(29633),p=t(5047),x=t(87177),T=t(47975),E=new m({initialize:function(w,A){this.scene=w,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var P=this.orientation;this._convert={WorldToTileXY:p.GetWorldToTileXYFunction(P),WorldToTileX:p.GetWorldToTileXFunction(P),WorldToTileY:p.GetWorldToTileYFunction(P),TileToWorldXY:p.GetTileToWorldXYFunction(P),TileToWorldX:p.GetTileToWorldXFunction(P),TileToWorldY:p.GetTileToWorldYFunction(P),GetTileCorners:p.GetTileCornersFunction(P)}},setRenderOrder:function(y){var w=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=w[y]),w.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,w,A,P,M,L,F,N){if(y===void 0)return null;if(w==null&&(w=y),!this.scene.sys.textures.exists(w))return console.warn("Invalid Tileset Image: "+w),null;var b=this.scene.sys.textures.get(w),V=this.getTilesetIndex(y);if(V===null&&this.format===a.TILED_JSON)return console.warn("No data found for Tileset: "+y),null;var X=this.tilesets[V];return X?(X.setTileSize(A,P),X.setSpacing(M,L),X.setImage(b),X):(A===void 0&&(A=this.tileWidth),P===void 0&&(P=this.tileHeight),M===void 0&&(M=0),L===void 0&&(L=0),F===void 0&&(F=0),N===void 0&&(N={x:0,y:0}),X=new T(y,F,A,P,M,L,void 0,void 0,N),X.setImage(b),this.tilesets.push(X),this.tiles=h(this),X)},copy:function(y,w,A,P,M,L,F,N){return N=this.getLayer(N),N!==null?(p.Copy(y,w,A,P,M,L,F,N),this):null},createBlankLayer:function(y,w,A,P,M,L,F,N){A===void 0&&(A=0),P===void 0&&(P=0),M===void 0&&(M=this.width),L===void 0&&(L=this.height),F===void 0&&(F=this.tileWidth),N===void 0&&(N=this.tileHeight);var b=this.getLayerIndex(y);if(b!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var V=new i({name:y,tileWidth:F,tileHeight:N,width:M,height:L,orientation:this.orientation}),X,W=0;W<L;W++){X=[];for(var k=0;k<M;k++)X.push(new c(V,-1,k,W,F,N,this.tileWidth,this.tileHeight));V.data.push(X)}this.layers.push(V),this.currentLayerIndex=this.layers.length-1;var Q=new x(this.scene,this,this.currentLayerIndex,w,A,P);return Q.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Q),Q},createLayer:function(y,w,A,P){var M=this.getLayerIndex(y);if(M===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var L=this.layers[M];if(L.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=M,A===void 0&&(A=L.x),P===void 0&&(P=L.y);var F=new x(this.scene,this,M,w,A,P);return F.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(F),F},createFromObjects:function(y,w,A){A===void 0&&(A=!0);var P=[],M=this.getObjectLayer(y);if(!M)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),P;var L=new s(A?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var F=M.objects,N=0;N<w.length;N++){var b=w[N],V=r(b,"id",null),X=r(b,"gid",null),W=r(b,"name",null),k=r(b,"type",null);L.enabled=!r(b,"ignoreTileset",null);for(var Q,U=[],Y=0;Y<F.length;Y++)Q=F[Y],(V===null&&X===null&&W===null&&k===null||V!==null&&Q.id===V||X!==null&&Q.gid===X||W!==null&&Q.name===W||k!==null&&L.getTypeIncludingTile(Q)===k)&&U.push(Q);for(var O=r(b,"classType",d),G=r(b,"scene",this.scene),z=r(b,"container",null),H=r(b,"key",null),K=r(b,"frame",null),J=0;J<U.length;J++){Q=U[J];var Z=new O(G);if(Z.setName(Q.name),Z.setPosition(Q.x,Q.y),L.setTextureAndFrame(Z,H,K,Q),Q.width&&(Z.displayWidth=Q.width),Q.height&&(Z.displayHeight=Q.height),this.orientation===f.ISOMETRIC){var _=this.tileWidth/this.tileHeight,tt={x:Z.x-Z.y,y:(Z.x+Z.y)/_};Z.x=tt.x,Z.y=tt.y}var et={x:Z.originX*Q.width,y:(Z.originY-(Q.gid?1:0))*Q.height};if(Q.rotation){var nt=l(Q.rotation);e(et,nt),Z.rotation=nt}Z.x+=et.x,Z.y+=et.y,(Q.flippedHorizontal!==void 0||Q.flippedVertical!==void 0)&&Z.setFlip(Q.flippedHorizontal,Q.flippedVertical),Q.visible||(Z.visible=!1),L.setPropertiesFromTiledObject(Z,Q),z?z.add(Z):G.add.existing(Z),P.push(Z)}}return P},createFromTiles:function(y,w,A,P,M,L){return L=this.getLayer(L),L===null?null:p.CreateFromTiles(y,w,A,P,M,L)},fill:function(y,w,A,P,M,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(p.Fill(y,w,A,P,M,L,F),this)},filterObjects:function(y,w,A){if(typeof y=="string"){var P=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+P),null}return y.objects.filter(w,A)},filterTiles:function(y,w,A,P,M,L,F,N){return N=this.getLayer(N),N===null?null:p.FilterTiles(y,w,A,P,M,L,F,N)},findByIndex:function(y,w,A,P){return P=this.getLayer(P),P===null?null:p.FindByIndex(y,w,A,P)},findObject:function(y,w,A){if(typeof y=="string"){var P=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+P),null}return y.objects.find(w,A)||null},findTile:function(y,w,A,P,M,L,F,N){return N=this.getLayer(N),N===null?null:p.FindTile(y,w,A,P,M,L,F,N)},forEachTile:function(y,w,A,P,M,L,F,N){return N=this.getLayer(N),N===null?null:(p.ForEachTile(y,w,A,P,M,L,F,N),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,w){for(var A=0;A<y.length;A++)if(y[A].name===w)return A;return null},getLayer:function(y){var w=this.getLayerIndex(y);return w!==null?this.layers[w]:null},getObjectLayer:function(y){var w=this.getIndex(this.objects,y);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof x&&y.tilemap===this?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,w,A,P){return P=this.getLayer(P),P===null?null:p.GetTileAt(y,w,A,P)},getTileAtWorldXY:function(y,w,A,P,M){return M=this.getLayer(M),M===null?null:p.GetTileAtWorldXY(y,w,A,P,M)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,w,A,P,M,L){return L=this.getLayer(L),L===null?null:p.GetTilesWithin(y,w,A,P,M,L)},getTilesWithinShape:function(y,w,A,P){return P=this.getLayer(P),P===null?null:p.GetTilesWithinShape(y,w,A,P)},getTilesWithinWorldXY:function(y,w,A,P,M,L,F){return F=this.getLayer(F),F===null?null:p.GetTilesWithinWorldXY(y,w,A,P,M,L,F)},getTileset:function(y){var w=this.getIndex(this.tilesets,y);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,w,A){return A=this.getLayer(A),A===null?null:p.HasTileAt(y,w,A)},hasTileAtWorldXY:function(y,w,A,P){return P=this.getLayer(P),P===null?null:p.HasTileAtWorldXY(y,w,A,P)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,w,A,P,M){return P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:p.PutTileAt(y,w,A,P,M)},putTileAtWorldXY:function(y,w,A,P,M,L){return P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:p.PutTileAtWorldXY(y,w,A,P,M,L)},putTilesAt:function(y,w,A,P,M){return P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:(p.PutTilesAt(y,w,A,P,M),this)},randomize:function(y,w,A,P,M,L){return L=this.getLayer(L),L===null?null:(p.Randomize(y,w,A,P,M,L),this)},calculateFacesAt:function(y,w,A){return A=this.getLayer(A),A===null?null:(p.CalculateFacesAt(y,w,A),this)},calculateFacesWithin:function(y,w,A,P,M){return M=this.getLayer(M),M===null?null:(p.CalculateFacesWithin(y,w,A,P,M),this)},removeLayer:function(y){var w=this.getLayerIndex(y);if(w!==null){o(this.layers,w);for(var A=w;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var w=this.getLayerIndex(y);return w!==null?(y=this.layers[w],y.tilemapLayer.destroy(),o(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,w=0;w<y.length;w++)y[w].tilemapLayer&&y[w].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,w,A){w===void 0&&(w=-1),A===void 0&&(A=!0);var P=[];Array.isArray(y)||(y=[y]);for(var M=0;M<y.length;M++){var L=y[M];P.push(this.removeTileAt(L.x,L.y,!0,A,L.tilemapLayer)),w>-1&&this.putTileAt(w,L.x,L.y,A,L.tilemapLayer)}return P},removeTileAt:function(y,w,A,P,M){return A===void 0&&(A=!0),P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:p.RemoveTileAt(y,w,A,P,M)},removeTileAtWorldXY:function(y,w,A,P,M,L){return A===void 0&&(A=!0),P===void 0&&(P=!0),L=this.getLayer(L),L===null?null:p.RemoveTileAtWorldXY(y,w,A,P,M,L)},renderDebug:function(y,w,A){return A=this.getLayer(A),A===null?null:(this.orientation===f.ORTHOGONAL&&p.RenderDebug(y,w,A),this)},renderDebugFull:function(y,w){for(var A=this.layers,P=0;P<A.length;P++)p.RenderDebug(y,w,A[P]);return this},replaceByIndex:function(y,w,A,P,M,L,F){return F=this.getLayer(F),F===null?null:(p.ReplaceByIndex(y,w,A,P,M,L,F),this)},setCollision:function(y,w,A,P,M){return w===void 0&&(w=!0),A===void 0&&(A=!0),M===void 0&&(M=!0),P=this.getLayer(P),P===null?null:(p.SetCollision(y,w,A,P,M),this)},setCollisionBetween:function(y,w,A,P,M){return A===void 0&&(A=!0),P===void 0&&(P=!0),M=this.getLayer(M),M===null?null:(p.SetCollisionBetween(y,w,A,P,M),this)},setCollisionByProperty:function(y,w,A,P){return w===void 0&&(w=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(p.SetCollisionByProperty(y,w,A,P),this)},setCollisionByExclusion:function(y,w,A,P){return w===void 0&&(w=!0),A===void 0&&(A=!0),P=this.getLayer(P),P===null?null:(p.SetCollisionByExclusion(y,w,A,P),this)},setCollisionFromCollisionGroup:function(y,w,A){return y===void 0&&(y=!0),w===void 0&&(w=!0),A=this.getLayer(A),A===null?null:(p.SetCollisionFromCollisionGroup(y,w,A),this)},setTileIndexCallback:function(y,w,A,P){return P=this.getLayer(P),P===null?null:(p.SetTileIndexCallback(y,w,A,P),this)},setTileLocationCallback:function(y,w,A,P,M,L,F){return F=this.getLayer(F),F===null?null:(p.SetTileLocationCallback(y,w,A,P,M,L,F),this)},setLayer:function(y){var w=this.getLayerIndex(y);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(y,w){this.tileWidth=y,this.tileHeight=w,this.widthInPixels=this.width*y,this.heightInPixels=this.height*w;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=y,this.layers[A].baseTileHeight=w;for(var P=this.layers[A].data,M=this.layers[A].width,L=this.layers[A].height,F=0;F<L;F++)for(var N=0;N<M;N++){var b=P[F][N];b!==null&&b.setSize(void 0,void 0,y,w)}}return this},setLayerTileSize:function(y,w,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=y,A.tileHeight=w;for(var P=A.data,M=A.width,L=A.height,F=0;F<L;F++)for(var N=0;N<M;N++){var b=P[F][N];b!==null&&b.setSize(y,w)}return this},shuffle:function(y,w,A,P,M){return M=this.getLayer(M),M===null?null:(p.Shuffle(y,w,A,P,M),this)},swapByIndex:function(y,w,A,P,M,L,F){return F=this.getLayer(F),F===null?null:(p.SwapByIndex(y,w,A,P,M,L,F),this)},tileToWorldX:function(y,w,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(y,w,A)},tileToWorldY:function(y,w,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(y,w,A)},tileToWorldXY:function(y,w,A,P,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldXY(y,w,A,P,M)},getTileCorners:function(y,w,A,P){return P=this.getLayer(P),P===null?null:this._convert.GetTileCorners(y,w,A,P)},weightedRandomize:function(y,w,A,P,M,L){return L=this.getLayer(L),L===null?null:(p.WeightedRandomize(w,A,P,M,y,L),this)},worldToTileX:function(y,w,A,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileX(y,w,A,P)},worldToTileY:function(y,w,A,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileY(y,w,A,P)},worldToTileXY:function(y,w,A,P,M,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileXY(y,w,A,P,M,L)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});v.exports=E},4843:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(99325),m=t(15043);h.register("tilemap",function(l){var a=l!==void 0?l:{};return m(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},37940:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(61286),m=t(15043);h.register("tilemap",function(l,a,r,i,s,f,e){return l===null&&(l=void 0),a===null&&(a=void 0),r===null&&(r=void 0),i===null&&(i=void 0),s===null&&(s=void 0),m(this.scene,l,a,r,i,s,f,e)})},87177:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(64937),l=t(89980),a=t(5047),r=t(96193),i=t(93736),s=new h({Extends:l,Mixins:[m.Alpha,m.BlendMode,m.ComputedSize,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.Transform,m.Visible,m.ScrollFactor,r],initialize:function(e,o,d,c,p,x){l.call(this,e,"TilemapLayer"),this.isTilemap=!0,this.tilemap=o,this.layerIndex=d,this.layer=o.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new i,this.setTilesets(c),this.setAlpha(this.layer.alpha),this.setPosition(p,x),this.setOrigin(0,0),this.setSize(o.tileWidth*this.layer.width,o.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(f){var e=[],o=[],d=this.tilemap;Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var p=f[c];if(typeof p=="string"&&(p=d.getTileset(p)),p){o.push(p);for(var x=p.firstgid,T=0;T<p.total;T++)e[x+T]=p}}this.gidMap=e,this.tileset=o},setRenderOrder:function(f){var e=["right-down","left-down","right-up","left-up"];return typeof f=="string"&&(f=e.indexOf(f)),f>=0&&f<4&&(this._renderOrder=f),this},calculateFacesAt:function(f,e){return a.CalculateFacesAt(f,e,this.layer),this},calculateFacesWithin:function(f,e,o,d){return a.CalculateFacesWithin(f,e,o,d,this.layer),this},createFromTiles:function(f,e,o,d,c){return a.CreateFromTiles(f,e,o,d,c,this.layer)},cull:function(f){return this.cullCallback(this.layer,f,this.culledTiles,this._renderOrder)},copy:function(f,e,o,d,c,p,x){return a.Copy(f,e,o,d,c,p,x,this.layer),this},fill:function(f,e,o,d,c,p){return a.Fill(f,e,o,d,c,p,this.layer),this},filterTiles:function(f,e,o,d,c,p,x){return a.FilterTiles(f,e,o,d,c,p,x,this.layer)},findByIndex:function(f,e,o){return a.FindByIndex(f,e,o,this.layer)},findTile:function(f,e,o,d,c,p,x){return a.FindTile(f,e,o,d,c,p,x,this.layer)},forEachTile:function(f,e,o,d,c,p,x){return a.ForEachTile(f,e,o,d,c,p,x,this.layer),this},setTint:function(f,e,o,d,c,p){f===void 0&&(f=16777215);var x=function(T){T.tint=f};return this.forEachTile(x,this,e,o,d,c,p)},getTileAt:function(f,e,o){return a.GetTileAt(f,e,o,this.layer)},getTileAtWorldXY:function(f,e,o,d){return a.GetTileAtWorldXY(f,e,o,d,this.layer)},getIsoTileAtWorldXY:function(f,e,o,d,c){o===void 0&&(o=!0);var p=this.tempVec;return a.IsometricWorldToTileXY(f,e,!0,p,c,this.layer,o),this.getTileAt(p.x,p.y,d)},getTilesWithin:function(f,e,o,d,c){return a.GetTilesWithin(f,e,o,d,c,this.layer)},getTilesWithinShape:function(f,e,o){return a.GetTilesWithinShape(f,e,o,this.layer)},getTilesWithinWorldXY:function(f,e,o,d,c,p){return a.GetTilesWithinWorldXY(f,e,o,d,c,p,this.layer)},hasTileAt:function(f,e){return a.HasTileAt(f,e,this.layer)},hasTileAtWorldXY:function(f,e,o){return a.HasTileAtWorldXY(f,e,o,this.layer)},putTileAt:function(f,e,o,d){return a.PutTileAt(f,e,o,d,this.layer)},putTileAtWorldXY:function(f,e,o,d,c){return a.PutTileAtWorldXY(f,e,o,d,c,this.layer)},putTilesAt:function(f,e,o,d){return a.PutTilesAt(f,e,o,d,this.layer),this},randomize:function(f,e,o,d,c){return a.Randomize(f,e,o,d,c,this.layer),this},removeTileAt:function(f,e,o,d){return a.RemoveTileAt(f,e,o,d,this.layer)},removeTileAtWorldXY:function(f,e,o,d,c){return a.RemoveTileAtWorldXY(f,e,o,d,c,this.layer)},renderDebug:function(f,e){return a.RenderDebug(f,e,this.layer),this},replaceByIndex:function(f,e,o,d,c,p){return a.ReplaceByIndex(f,e,o,d,c,p,this.layer),this},setSkipCull:function(f){return f===void 0&&(f=!0),this.skipCull=f,this},setCullPadding:function(f,e){return f===void 0&&(f=1),e===void 0&&(e=1),this.cullPaddingX=f,this.cullPaddingY=e,this},setCollision:function(f,e,o,d){return a.SetCollision(f,e,o,this.layer,d),this},setCollisionBetween:function(f,e,o,d){return a.SetCollisionBetween(f,e,o,d,this.layer),this},setCollisionByProperty:function(f,e,o){return a.SetCollisionByProperty(f,e,o,this.layer),this},setCollisionByExclusion:function(f,e,o){return a.SetCollisionByExclusion(f,e,o,this.layer),this},setCollisionFromCollisionGroup:function(f,e){return a.SetCollisionFromCollisionGroup(f,e,this.layer),this},setTileIndexCallback:function(f,e,o){return a.SetTileIndexCallback(f,e,o,this.layer),this},setTileLocationCallback:function(f,e,o,d,c,p){return a.SetTileLocationCallback(f,e,o,d,c,p,this.layer),this},shuffle:function(f,e,o,d){return a.Shuffle(f,e,o,d,this.layer),this},swapByIndex:function(f,e,o,d,c,p){return a.SwapByIndex(f,e,o,d,c,p,this.layer),this},tileToWorldX:function(f,e){return this.tilemap.tileToWorldX(f,e,this)},tileToWorldY:function(f,e){return this.tilemap.tileToWorldY(f,e,this)},tileToWorldXY:function(f,e,o,d){return this.tilemap.tileToWorldXY(f,e,o,d,this)},getTileCorners:function(f,e,o){return this.tilemap.getTileCorners(f,e,o,this)},weightedRandomize:function(f,e,o,d,c){return a.WeightedRandomize(e,o,d,c,f,this.layer),this},worldToTileX:function(f,e,o){return this.tilemap.worldToTileX(f,e,o,this)},worldToTileY:function(f,e,o){return this.tilemap.worldToTileY(f,e,o,this)},worldToTileXY:function(f,e,o,d,c){return this.tilemap.worldToTileXY(f,e,o,d,c,this)},destroy:function(f){f===void 0&&(f=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),f&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});v.exports=s},17394:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(69360),m=new h,l=new h,a=new h,r=function(i,s,f,e){var o=s.cull(f),d=o.length,c=f.alpha*s.alpha;if(!(d===0||c<=0)){var p=m,x=l,T=a;x.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),p.copyFrom(f.matrix);var E=i.currentContext,y=s.gidMap;E.save(),e?(p.multiplyWithOffset(e,-f.scrollX*s.scrollFactorX,-f.scrollY*s.scrollFactorY),x.e=s.x,x.f=s.y,p.multiply(x,T),T.copyToContext(E)):(x.e-=f.scrollX*s.scrollFactorX,x.f-=f.scrollY*s.scrollFactorY,x.copyToContext(E)),(!i.antialias||s.scaleX>1||s.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var w=0;w<d;w++){var A=o[w],P=y[A.index];if(P){var M=P.image.getSourceImage(),L=P.getTileTextureCoordinates(A.index),F=P.tileWidth,N=P.tileHeight;if(!(L===null||F===0||N===0)){var b=F*.5,V=N*.5;L.x+=P.tileOffset.x,L.y+=P.tileOffset.y,E.save(),E.translate(A.pixelX+b,A.pixelY+V),A.rotation!==0&&E.rotate(A.rotation),(A.flipX||A.flipY)&&E.scale(A.flipX?-1:1,A.flipY?-1:1),E.globalAlpha=c*A.alpha,E.drawImage(M,L.x,L.y,F,N,-b,-V,F,N),E.restore()}}}E.restore()}};v.exports=r},96193:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72283),m=h,l=h;m=t(51395),l=t(17394),v.exports={renderWebGL:m,renderCanvas:l}},51395:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(75512),m=function(l,a,r){var i=a.cull(r),s=i.length,f=r.alpha*a.alpha;if(!(s===0||f<=0)){var e=a.gidMap,o=l.pipelines.set(a.pipeline,a),d=h.getTintAppendFloatAlpha,c=a.scrollFactorX,p=a.scrollFactorY,x=a.x,T=a.y,E=a.scaleX,y=a.scaleY;l.pipelines.preBatch(a);for(var w=0;w<s;w++){var A=i[w],P=e[A.index];if(P){var M=P.getTileTextureCoordinates(A.index);if(M!==null){var L=P.glTexture,F=o.setTexture2D(L,a),N=P.tileWidth,b=P.tileHeight,V=M.x,X=M.y,W=P.tileWidth*.5,k=P.tileHeight*.5,Q=P.tileOffset.x,U=P.tileOffset.y,Y=d(A.tint,f*A.alpha);o.batchTexture(a,L,L.width,L.height,x+A.pixelX*E+(W*E-Q),T+A.pixelY*y+(k*y-U),A.width,A.height,E,y,A.rotation,A.flipX,A.flipY,c,p,W,k,V,X,N,b,Y,Y,Y,Y,!1,0,0,r,null,!0,F)}}}l.pipelines.postBatch(a)}};v.exports=m},47975:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(93736),l=new h({initialize:function(r,i,s,f,e,o,d,c,p){(s===void 0||s<=0)&&(s=32),(f===void 0||f<=0)&&(f=32),e===void 0&&(e=0),o===void 0&&(o=0),d===void 0&&(d={}),c===void 0&&(c={}),this.name=r,this.firstgid=i,this.tileWidth=s,this.tileHeight=f,this.tileMargin=e,this.tileSpacing=o,this.tileProperties=d,this.tileData=c,this.tileOffset=new m,p!==void 0&&this.tileOffset.set(p.x,p.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(a){return this.containsTileIndex(a)?this.tileProperties[a-this.firstgid]:null},getTileData:function(a){return this.containsTileIndex(a)?this.tileData[a-this.firstgid]:null},getTileCollisionGroup:function(a){var r=this.getTileData(a);return r&&r.objectgroup?r.objectgroup:null},containsTileIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},getTileTextureCoordinates:function(a){return this.containsTileIndex(a)?this.texCoordinates[a-this.firstgid]:null},setImage:function(a){return this.image=a,this.glTexture=a.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(a,r){return a!==void 0&&(this.tileWidth=a),r!==void 0&&(this.tileHeight=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(a,r){return a!==void 0&&(this.tileMargin=a),r!==void 0&&(this.tileSpacing=r),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(a,r){var i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(i%1!==0||s%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),s=Math.floor(s),this.rows=i,this.columns=s,this.total=i*s,this.texCoordinates.length=0;for(var f=this.tileMargin,e=this.tileMargin,o=0;o<this.rows;o++){for(var d=0;d<this.columns;d++)this.texCoordinates.push({x:f,y:e}),f+=this.tileWidth+this.tileSpacing;f=this.tileMargin,e+=this.tileHeight+this.tileSpacing}return this}});v.exports=l},92839:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15494),m=function(l,a,r){var i=h(l,a,!0,r),s=h(l,a-1,!0,r),f=h(l,a+1,!0,r),e=h(l-1,a,!0,r),o=h(l+1,a,!0,r),d=i&&i.collides;return d&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),s&&s.collides&&(d&&(i.faceTop=!1),s.faceBottom=!d),f&&f.collides&&(d&&(i.faceBottom=!1),f.faceTop=!d),e&&e.collides&&(d&&(i.faceLeft=!1),e.faceRight=!d),o&&o.collides&&(d&&(i.faceRight=!1),o.faceLeft=!d),i&&!i.collides&&i.resetFaces(),i};v.exports=m},60386:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15494),m=t(50811),l=function(a,r,i,s,f){for(var e=null,o=null,d=null,c=null,p=m(a,r,i,s,null,f),x=0;x<p.length;x++){var T=p[x];T&&(T.collides?(e=h(T.x,T.y-1,!0,f),o=h(T.x,T.y+1,!0,f),d=h(T.x-1,T.y,!0,f),c=h(T.x+1,T.y,!0,f),T.faceTop=!(e&&e.collides),T.faceBottom=!(o&&o.collides),T.faceLeft=!(d&&d.collides),T.faceRight=!(c&&c.collides)):T.resetFaces())}};v.exports=l},13125:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=new h,l=function(a,r,i,s){var f=i.tilemapLayer,e=f.cullPaddingX,o=f.cullPaddingY,d=f.tilemap.tileToWorldXY(a,r,m,s,f);return d.x>s.worldView.x+f.scaleX*i.tileWidth*(-e-.5)&&d.x<s.worldView.right+f.scaleX*i.tileWidth*(e-.5)&&d.y>s.worldView.y+f.scaleY*i.tileHeight*(-o-1)&&d.y<s.worldView.bottom+f.scaleY*i.tileHeight*(o-.5)};v.exports=l},17347:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60386),m=t(50811),l=t(62839),a=t(29633),r=function(i,s,f,e,o,d,c,p){c===void 0&&(c=!0);var x=m(i,s,f,e,null,p),T=[];x.forEach(function(L){var F=new a(L.layer,L.index,L.x,L.y,L.width,L.height,L.baseWidth,L.baseHeight);F.copy(L),T.push(F)});for(var E=o-i,y=d-s,w=0;w<T.length;w++){var A=T[w],P=A.x+E,M=A.y+y;l(P,M,p)&&p.data[M][P]&&(A.x=P,A.y=M,A.updatePixelXY(),p.data[M][P]=A)}c&&h(o-1,d-1,f+2,e+2,p),x.length=0,T.length=0};v.exports=r},93604:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=t(51202),l=function(a,r,i,s,f,e){i||(i={}),Array.isArray(a)||(a=[a]);var o=e.tilemapLayer;s||(s=o.scene),f||(f=s.cameras.main);var d=h(0,0,e.width,e.height,null,e),c=[],p;for(p=0;p<d.length;p++){var x=d[p];if(a.indexOf(x.index)!==-1){var T=o.tileToWorldXY(x.x,x.y,void 0,f,e);i.x=T.x,i.y=T.y,c.push(s.make.sprite(i))}}if(typeof r=="number")for(p=0;p<a.length;p++)m(a[p],r,0,0,e.width,e.height,e);else if(Array.isArray(r))for(p=0;p<a.length;p++)m(a[p],r[p],0,0,e.width,e.height,e);return c};v.exports=l},71586:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(74118),m=t(82127),l=t(84314),a=new h,r=function(i,s){var f=i.tilemapLayer.tilemap,e=i.tilemapLayer,o=Math.floor(f.tileWidth*e.scaleX),d=Math.floor(f.tileHeight*e.scaleY),c=l(s.worldView.x-e.x,o,0,!0)-e.cullPaddingX,p=m(s.worldView.right-e.x,o,0,!0)+e.cullPaddingX,x=l(s.worldView.y-e.y,d,0,!0)-e.cullPaddingY,T=m(s.worldView.bottom-e.y,d,0,!0)+e.cullPaddingY;return a.setTo(c,x,p-c,T-x)};v.exports=r},381:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(71586),m=t(6987),l=function(a,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=0),i.length=0;var f=a.tilemapLayer,e=h(a,r);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(e.left=0,e.right=a.width,e.top=0,e.bottom=a.height),m(a,e,s,i),i};v.exports=l},97734:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=t(60386),l=t(68234),a=function(r,i,s,f,e,o,d){for(var c=d.collideIndexes.indexOf(r)!==-1,p=h(i,s,f,e,null,d),x=0;x<p.length;x++)p[x].index=r,l(p[x],c);o&&m(i-1,s-1,f+2,e+2,d)};v.exports=a},63555:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=function(l,a,r,i,s,f,e,o){var d=h(r,i,s,f,e,o);return d.filter(l,a)};v.exports=m},37982:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){h===void 0&&(h=0),m===void 0&&(m=!1);var a=0,r,i,s;if(m){for(i=l.height-1;i>=0;i--)for(r=l.width-1;r>=0;r--)if(s=l.data[i][r],s&&s.index===t){if(a===h)return s;a+=1}}else for(i=0;i<l.height;i++)for(r=0;r<l.width;r++)if(s=l.data[i][r],s&&s.index===t){if(a===h)return s;a+=1}return null};v.exports=S},48297:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=function(l,a,r,i,s,f,e,o){var d=h(r,i,s,f,e,o);return d.find(l,a)||null};v.exports=m},80916:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=function(l,a,r,i,s,f,e,o){var d=h(r,i,s,f,e,o);d.forEach(l,a)};v.exports=m},31493:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(381),l=t(37524),a=t(20887),r=t(72283),i=t(19242),s=function(f){return f===h.ORTHOGONAL?m:f===h.HEXAGONAL?l:f===h.STAGGERED?i:f===h.ISOMETRIC?a:r};v.exports=s},15494:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62839),m=function(l,a,r,i){if(r===void 0&&(r=!1),h(l,a,i)){var s=i.data[a][l]||null;return s?s.index===-1?r?s:null:s:null}else return null};v.exports=m},24640:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(15494),m=t(93736),l=new m,a=function(r,i,s,f,e){return e.tilemapLayer.worldToTileXY(r,i,!0,l,f),h(l.x,l.y,s,e)};v.exports=a},48495:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i){var s=i.baseTileWidth,f=i.baseTileHeight,e=i.tilemapLayer,o=0,d=0;e&&(r||(r=e.scene.cameras.main),o=e.x+r.scrollX*(1-e.scrollFactorX),d=e.y+r.scrollY*(1-e.scrollFactorY),s*=e.scaleX,f*=e.scaleY);var c=o+l*s,p=d+a*f;return[new h(c,p),new h(c+s,p),new h(c+s,p+f),new h(c,p+f)]};v.exports=m},7160:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(63634),l=t(72283),a=t(48495),r=function(i){return i===h.ORTHOGONAL?a:i===h.ISOMETRIC?l:i===h.HEXAGONAL?m:(i===h.STAGGERED,l)};v.exports=r},16884:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(72283),l=t(44150),a=function(r){return r===h.ORTHOGONAL?l:m};v.exports=a},68182:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(21715),l=t(21808),a=t(72283),r=t(33388),i=t(46836),s=function(f){return f===h.ORTHOGONAL?i:f===h.ISOMETRIC?l:f===h.HEXAGONAL?m:f===h.STAGGERED?r:a};v.exports=s},3752:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(72283),l=t(84132),a=t(42477),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?l:m};v.exports=r},50811:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=function(l,a,r,i,s,f){l===void 0&&(l=0),a===void 0&&(a=0),r===void 0&&(r=f.width),i===void 0&&(i=f.height),s||(s={});var e=h(s,"isNotEmpty",!1),o=h(s,"isColliding",!1),d=h(s,"hasInterestingFace",!1);l<0&&(r+=l,l=0),a<0&&(i+=a,a=0),l+r>f.width&&(r=Math.max(f.width-l,0)),a+i>f.height&&(i=Math.max(f.height-a,0));for(var c=[],p=a;p<a+i;p++)for(var x=l;x<l+r;x++){var T=f.data[p][x];if(T!==null){if(e&&T.index===-1||o&&!T.collides||d&&!T.hasInterestingFace)continue;c.push(T)}}return c};v.exports=m},31674:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(84068),m=t(50811),l=t(7563),a=t(72283),r=t(93736),i=function(d,c){return l.RectangleToTriangle(c,d)},s=new r,f=new r,e=new r,o=function(d,c,p,x){if(d===void 0)return[];var T=a;d instanceof h.Circle?T=l.CircleToRectangle:d instanceof h.Rectangle?T=l.RectangleToRectangle:d instanceof h.Triangle?T=i:d instanceof h.Line&&(T=l.LineToRectangle),x.tilemapLayer.worldToTileXY(d.left,d.top,!0,f,p);var E=f.x,y=f.y;x.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,e,p);var w=Math.ceil(e.x),A=Math.ceil(e.y),P=Math.max(w-E,1),M=Math.max(A-y,1),L=m(E,y,P,M,c,x),F=x.tileWidth,N=x.tileHeight;x.tilemapLayer&&(F*=x.tilemapLayer.scaleX,N*=x.tilemapLayer.scaleY);for(var b=[],V=new h.Rectangle(0,0,F,N),X=0;X<L.length;X++){var W=L[X];x.tilemapLayer.tileToWorldXY(W.x,W.y,s,p),V.x=s.x,V.y=s.y,T(d,V)&&b.push(W)}return b};v.exports=o},44662:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=t(93736),l=new m,a=new m,r=function(i,s,f,e,o,d,c){var p=c.tilemapLayer.tilemap._convert.WorldToTileXY;p(i,s,!0,l,d,c);var x=l.x,T=l.y;p(i+f,s+e,!1,a,d,c);var E=Math.ceil(a.x),y=Math.ceil(a.y);return h(x,T,E-x,y-T,o,c)};v.exports=r},29296:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(10618),l=t(806),a=function(r){return r===h.ORTHOGONAL?l:m};v.exports=a},32688:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(11516),l=t(18750),a=t(72283),r=t(90562),i=t(45676),s=function(f){return f===h.ORTHOGONAL?i:f===h.ISOMETRIC?l:f===h.HEXAGONAL?m:f===h.STAGGERED?r:a};v.exports=s},74326:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=t(10618),l=t(3689),a=t(70520),r=function(i){return i===h.ORTHOGONAL?a:i===h.STAGGERED?l:m};v.exports=r},46598:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(62839),m=function(l,a,r){if(h(l,a,r)){var i=r.data[a][l];return i!==null&&i.index>-1}else return!1};v.exports=m},28654:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(46598),m=t(93736),l=new m,a=function(r,i,s,f){f.tilemapLayer.worldToTileXY(r,i,!0,l,s);var e=l.x,o=l.y;return h(e,o,f)};v.exports=a},6358:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82127),m=t(84314),l=function(a,r){var i=a.tilemapLayer.tilemap,s=a.tilemapLayer,f=Math.floor(i.tileWidth*s.scaleX),e=Math.floor(i.tileHeight*s.scaleY),o=a.hexSideLength,d,c,p,x;if(this.staggerAxis==="y"){var T=(e-o)/2+o;d=m(r.worldView.x-s.x,f,0,!0)-s.cullPaddingX,c=h(r.worldView.right-s.x,f,0,!0)+s.cullPaddingX,p=m(r.worldView.y-s.y,T,0,!0)-s.cullPaddingY,x=h(r.worldView.bottom-s.y,T,0,!0)+s.cullPaddingY}else{var E=(f-o)/2+o;d=m(r.worldView.x-s.x,E,0,!0)-s.cullPaddingX,c=h(r.worldView.right-s.x,E,0,!0)+s.cullPaddingX,p=m(r.worldView.y-s.y,e,0,!0)-s.cullPaddingY,x=h(r.worldView.bottom-s.y,e,0,!0)+s.cullPaddingY}return{left:d,right:c,top:p,bottom:x}};v.exports=l},37524:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(6358),m=t(6987),l=function(a,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=0),i.length=0;var f=a.tilemapLayer,e=h(a,r);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(e.left=0,e.right=a.width,e.top=0,e.bottom=a.height),m(a,e,s,i),i};v.exports=l},63634:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21715),m=t(93736),l=new m,a=function(r,i,s,f){var e=f.baseTileWidth,o=f.baseTileHeight,d=f.tilemapLayer;d&&(e*=d.scaleX,o*=d.scaleY);var c=h(r,i,l,s,f),p=[],x=.5773502691896257,T,E;this.staggerAxis==="y"?(T=x*e,E=o/2):(T=e/2,E=x*o);for(var y=0;y<6;y++){var w=2*Math.PI*(.5-y)/6;p.push(new m(c.x+T*Math.cos(w),c.y+E*Math.sin(w)))}return p};v.exports=a},21715:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s){r||(r=new h);var f=s.baseTileWidth,e=s.baseTileHeight,o=s.tilemapLayer,d=0,c=0;o&&(i||(i=o.scene.cameras.main),d=o.x+i.scrollX*(1-o.scrollFactorX),c=o.y+i.scrollY*(1-o.scrollFactorY),f*=o.scaleX,e*=o.scaleY);var p=f/2,x=e/2,T,E;return this.staggerAxis==="y"?(T=d+f*l+f,E=c+1.5*a*x+x,a%2===0&&(this.staggerIndex==="odd"?T-=p:T+=p)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(T=d+1.5*l*p+p,E=c+e*l+e,l%2===0&&(this.staggerIndex==="odd"?E-=x:E+=x)),r.set(T,E)};v.exports=m},11516:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s,f){i||(i=new h);var e=f.baseTileWidth,o=f.baseTileHeight,d=f.tilemapLayer;d&&(s||(s=d.scene.cameras.main),l=l-(d.x+s.scrollX*(1-d.scrollFactorX)),a=a-(d.y+s.scrollY*(1-d.scrollFactorY)),e*=d.scaleX,o*=d.scaleY);var c=.5773502691896257,p=-.3333333333333333,x=0,T=.6666666666666666,E=e/2,y=o/2,w,A,P,M,L;f.staggerAxis==="y"?(w=(l-E)/(c*e),A=(a-y)/y,P=c*w+p*A,M=x*w+T*A):(w=(l-E)/E,A=(a-y)/(c*o),P=p*w+c*A,M=T*w+x*A),L=-P-M;var F=Math.round(P),N=Math.round(M),b=Math.round(L),V=Math.abs(F-P),X=Math.abs(N-M),W=Math.abs(b-L);V>X&&V>W?F=-N-b:X>W&&(N=-F-b);var k,Q=N;return f.staggerIndex==="odd"?k=Q%2===0?N/2+F:N/2+F-.5:k=Q%2===0?N/2+F:N/2+F+.5,i.set(k,Q)};v.exports=m},62839:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t>=0&&t<m.width&&h>=0&&h<m.height};v.exports=S},20887:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(13125),m=function(l,a,r,i){r===void 0&&(r=[]),i===void 0&&(i=0),r.length=0;var s=l.tilemapLayer,f=l.data,e=l.width,o=l.height,d=s.skipCull,c=0,p=e,x=0,T=o,E,y,w;if(i===0){for(y=x;y<T;y++)for(E=c;E<p;E++)if(d||h(E,y,l,a)){if(w=f[y][E],!w||w.index===-1||!w.visible||w.alpha===0)continue;r.push(w)}}else if(i===1){for(y=x;y<T;y++)for(E=p;E>=c;E--)if(d||h(E,y,l,a)){if(w=f[y][E],!w||w.index===-1||!w.visible||w.alpha===0)continue;r.push(w)}}else if(i===2){for(y=T;y>=x;y--)for(E=c;E<p;E++)if(d||h(E,y,l,a)){if(w=f[y][E],!w||w.index===-1||!w.visible||w.alpha===0)continue;r.push(w)}}else if(i===3){for(y=T;y>=x;y--)for(E=p;E>=c;E--)if(d||h(E,y,l,a)){if(w=f[y][E],!w||w.index===-1||!w.visible||w.alpha===0)continue;r.push(w)}}return s.tilesDrawn=r.length,s.tilesTotal=e*o,r};v.exports=m},21808:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s){r||(r=new h);var f=s.baseTileWidth,e=s.baseTileHeight,o=s.tilemapLayer,d=0,c=0;o&&(i||(i=o.scene.cameras.main),d=o.x+i.scrollX*(1-o.scrollFactorX),f*=o.scaleX,c=o.y+i.scrollY*(1-o.scrollFactorY),e*=o.scaleY);var p=d+(l-a)*(f/2),x=c+(l+a)*(e/2);return r.set(p,x)};v.exports=m},18750:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s,f,e){i||(i=new h);var o=f.baseTileWidth,d=f.baseTileHeight,c=f.tilemapLayer;c&&(s||(s=c.scene.cameras.main),a=a-(c.y+s.scrollY*(1-c.scrollFactorY)),d*=c.scaleY,l=l-(c.x+s.scrollX*(1-c.scrollFactorX)),o*=c.scaleX);var p=o/2,x=d/2;l=l-p,e||(a=a-d);var T=.5*(l/p+a/x),E=.5*(-l/p+a/x);return r&&(T=Math.floor(T),E=Math.floor(E)),i.set(T,E)};v.exports=m},29003:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29633),m=t(62839),l=t(92839),a=t(68234),r=function(i,s,f,e,o){if(e===void 0&&(e=!0),!m(s,f,o))return null;var d,c=o.data[f][s],p=c&&c.collides;i instanceof h?(o.data[f][s]===null&&(o.data[f][s]=new h(o,i.index,s,f,o.tileWidth,o.tileHeight)),o.data[f][s].copy(i)):(d=i,o.data[f][s]===null?o.data[f][s]=new h(o,d,s,f,o.tileWidth,o.tileHeight):o.data[f][s].index=d);var x=o.data[f][s],T=o.collideIndexes.indexOf(x.index)!==-1;if(d=i instanceof h?i.index:i,d===-1)x.width=o.tileWidth,x.height=o.tileHeight;else{var E=o.tilemapLayer.tilemap.tiles,y=E[d][2],w=o.tilemapLayer.tileset[y];x.width=w.tileWidth,x.height=w.tileHeight}return a(x,T),e&&p!==x.collides&&l(s,f,o),x};v.exports=r},48565:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29003),m=t(93736),l=new m,a=function(r,i,s,f,e,o){return o.tilemapLayer.worldToTileXY(i,s,!0,l,e,o),h(r,l.x,l.y,f,o)};v.exports=a},56547:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(60386),m=t(29003),l=function(a,r,i,s,f){if(s===void 0&&(s=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var e=a.length,o=a[0].length,d=0;d<e;d++)for(var c=0;c<o;c++){var p=a[d][c];m(p,r+c,i+d,!1,f)}s&&h(r-1,i-1,o+2,e+2,f)};v.exports=l},91180:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=t(72861),l=function(a,r,i,s,f,e){var o,d=h(a,r,i,s,{},e);if(!f)for(f=[],o=0;o<d.length;o++)f.indexOf(d[o].index)===-1&&f.push(d[o].index);for(o=0;o<d.length;o++)d[o].index=m(f)};v.exports=l},929:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(29633),m=t(62839),l=t(92839),a=function(r,i,s,f,e){if(s===void 0&&(s=!0),f===void 0&&(f=!0),!m(r,i,e))return null;var o=e.data[i][r];if(o)e.data[i][r]=s?null:new h(e,-1,r,i,e.tileWidth,e.tileHeight);else return null;return f&&o&&o.collides&&l(r,i,e),o};v.exports=a},17384:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(929),m=t(93736),l=new m,a=function(r,i,s,f,e,o){return o.tilemapLayer.worldToTileXY(r,i,!0,l,e,o),h(l.x,l.y,s,f,o)};v.exports=a},93763:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=t(95509),l=new m(105,210,231,150),a=new m(243,134,48,200),r=new m(40,39,37,150),i=function(s,f,e){f===void 0&&(f={});var o=f.tileColor!==void 0?f.tileColor:l,d=f.collidingTileColor!==void 0?f.collidingTileColor:a,c=f.faceColor!==void 0?f.faceColor:r,p=h(0,0,e.width,e.height,null,e);s.translateCanvas(e.tilemapLayer.x,e.tilemapLayer.y),s.scaleCanvas(e.tilemapLayer.scaleX,e.tilemapLayer.scaleY);for(var x=0;x<p.length;x++){var T=p[x],E=T.width,y=T.height,w=T.pixelX,A=T.pixelY,P=T.collides?d:o;P!==null&&(s.fillStyle(P.color,P.alpha/255),s.fillRect(w,A,E,y)),w+=1,A+=1,E-=2,y-=2,c!==null&&(s.lineStyle(1,c.color,c.alpha/255),T.faceTop&&s.lineBetween(w,A,w+E,A),T.faceRight&&s.lineBetween(w+E,A,w+E,A+y),T.faceBottom&&s.lineBetween(w,A+y,w+E,A+y),T.faceLeft&&s.lineBetween(w,A,w,A+y))}};v.exports=i},51202:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=function(l,a,r,i,s,f,e){for(var o=h(r,i,s,f,null,e),d=0;d<o.length;d++)o[d]&&o[d].index===l&&(o[d].index=a)};v.exports=m},6987:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=t.data,r=t.width,i=t.height,s=t.tilemapLayer,f=Math.max(0,h.left),e=Math.min(r,h.right),o=Math.max(0,h.top),d=Math.min(i,h.bottom),c,p,x;if(m===0)for(p=o;p<d;p++)for(c=f;a[p]&&c<e;c++)x=a[p][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&l.push(x);else if(m===1)for(p=o;p<d;p++)for(c=e;a[p]&&c>=f;c--)x=a[p][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&l.push(x);else if(m===2)for(p=d;p>=o;p--)for(c=f;a[p]&&c<e;c++)x=a[p][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&l.push(x);else if(m===3)for(p=d;p>=o;p--)for(c=e;a[p]&&c>=f;c--)x=a[p][c],!(!x||x.index===-1||!x.visible||x.alpha===0)&&l.push(x);return s.tilesDrawn=l.length,s.tilesTotal=r*i,l};v.exports=S},51710:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),m=t(60386),l=t(91181),a=function(r,i,s,f,e){i===void 0&&(i=!0),s===void 0&&(s=!0),e===void 0&&(e=!0),Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++)l(r[o],i,f);if(e)for(var d=0;d<f.height;d++)for(var c=0;c<f.width;c++){var p=f.data[d][c];p&&r.indexOf(p.index)!==-1&&h(p,i)}s&&m(0,0,f.width,f.height,f)};v.exports=a},15216:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),m=t(60386),l=t(91181),a=function(r,i,s,f,e,o){if(s===void 0&&(s=!0),f===void 0&&(f=!0),o===void 0&&(o=!0),!(r>i)){for(var d=r;d<=i;d++)l(d,s,e);if(o)for(var c=0;c<e.height;c++)for(var p=0;p<e.width;p++){var x=e.data[c][p];x&&x.index>=r&&x.index<=i&&h(x,s)}f&&m(0,0,e.width,e.height,e)}};v.exports=a},33158:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),m=t(60386),l=t(91181),a=function(r,i,s,f){i===void 0&&(i=!0),s===void 0&&(s=!0),Array.isArray(r)||(r=[r]);for(var e=0;e<f.height;e++)for(var o=0;o<f.width;o++){var d=f.data[e][o];d&&r.indexOf(d.index)===-1&&(h(d,i),l(d.index,i,f))}s&&m(0,0,f.width,f.height,f)};v.exports=a},4180:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),m=t(60386),l=t(19256),a=function(r,i,s,f){i===void 0&&(i=!0),s===void 0&&(s=!0);for(var e=0;e<f.height;e++)for(var o=0;o<f.width;o++){var d=f.data[e][o];if(d){for(var c in r)if(l(d.properties,c)){var p=r[c];Array.isArray(p)||(p=[p]);for(var x=0;x<p.length;x++)d.properties[c]===p[x]&&h(d,i)}}}s&&m(0,0,f.width,f.height,f)};v.exports=a},18625:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(68234),m=t(60386),l=function(a,r,i){a===void 0&&(a=!0),r===void 0&&(r=!0);for(var s=0;s<i.height;s++)for(var f=0;f<i.width;f++){var e=i.data[s][f];if(e){var o=e.getCollisionGroup();o&&o.objects&&o.objects.length>0&&h(e,a)}}r&&m(0,0,i.width,i.height,i)};v.exports=l},91181:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=m.collideIndexes.indexOf(t);h&&l===-1?m.collideIndexes.push(t):!h&&l!==-1&&m.collideIndexes.splice(l,1)};v.exports=S},68234:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};v.exports=S},11628:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){if(typeof t=="number")l.callbacks[t]=h!==null?{callback:h,callbackContext:m}:void 0;else for(var a=0,r=t.length;a<r;a++)l.callbacks[t[a]]=h!==null?{callback:h,callbackContext:m}:void 0};v.exports=S},72732:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=function(l,a,r,i,s,f,e){for(var o=h(l,a,r,i,null,e),d=0;d<o.length;d++)o[d].setCollisionCallback(s,f)};v.exports=m},34397:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=t(18592),l=function(a,r,i,s,f){var e=h(a,r,i,s,null,f),o=e.map(function(c){return c.index});m(o);for(var d=0;d<e.length;d++)e[d].index=o[d]};v.exports=l},53945:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(82127),m=t(84314),l=function(a,r){var i=a.tilemapLayer.tilemap,s=a.tilemapLayer,f=Math.floor(i.tileWidth*s.scaleX),e=Math.floor(i.tileHeight*s.scaleY),o=m(r.worldView.x-s.x,f,0,!0)-s.cullPaddingX,d=h(r.worldView.right-s.x,f,0,!0)+s.cullPaddingX,c=m(r.worldView.y-s.y,e/2,0,!0)-s.cullPaddingY,p=h(r.worldView.bottom-s.y,e/2,0,!0)+s.cullPaddingY;return{left:o,right:d,top:c,bottom:p}};v.exports=l},19242:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53945),m=t(6987),l=function(a,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=0),i.length=0;var f=a.tilemapLayer,e=h(a,r);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(e.left=0,e.right=a.width,e.top=0,e.bottom=a.height),m(a,e,s,i),i};v.exports=l},33388:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s){r||(r=new h);var f=s.baseTileWidth,e=s.baseTileHeight,o=s.tilemapLayer,d=0,c=0;o&&(i||(i=o.scene.cameras.main),d=o.x+i.scrollX*(1-o.scrollFactorX),f*=o.scaleX,c=o.y+i.scrollY*(1-o.scrollFactorY),e*=o.scaleY);var p=d+l*f+a%2*(f/2),x=c+a*(e/2);return r.set(p,x)};v.exports=m},84132:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=m.baseTileHeight,a=m.tilemapLayer,r=0;return a&&(h===void 0&&(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),l*=a.scaleY),r+t*(l/2)+l};v.exports=S},90562:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s,f){i||(i=new h);var e=f.baseTileWidth,o=f.baseTileHeight,d=f.tilemapLayer;d&&(s||(s=d.scene.cameras.main),a=a-(d.y+s.scrollY*(1-d.scrollFactorY)),o*=d.scaleY,l=l-(d.x+s.scrollX*(1-d.scrollFactorX)),e*=d.scaleX);var c=r?Math.floor(a/(o/2)):a/(o/2),p=r?Math.floor((l+c%2*.5*e)/e):(l+c%2*.5*e)/e;return i.set(p,c)};v.exports=m},3689:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=l.baseTileHeight,r=l.tilemapLayer;return r&&(m||(m=r.scene.cameras.main),t=t-(r.y+m.scrollY*(1-r.scrollFactorY)),a*=r.scaleY),h?Math.floor(t/(a/2)):t/(a/2)};v.exports=S},55217:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=function(l,a,r,i,s,f,e){for(var o=h(r,i,s,f,null,e),d=0;d<o.length;d++)o[d]&&(o[d].index===l?o[d].index=a:o[d].index===a&&(o[d].index=l))};v.exports=m},44150:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=m.baseTileWidth,a=m.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.x+h.scrollX*(1-a.scrollFactorX),l*=a.scaleX),r+t*l};v.exports=S},46836:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(44150),m=t(42477),l=t(93736),a=function(r,i,s,f,e){return s||(s=new l(0,0)),s.x=h(r,f,e),s.y=m(i,f,e),s};v.exports=a},42477:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=m.baseTileHeight,a=m.tilemapLayer,r=0;return a&&(h||(h=a.scene.cameras.main),r=a.y+h.scrollY*(1-a.scrollFactorY),l*=a.scaleY),r+t*l};v.exports=S},39677:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(50811),m=function(l,a,r,i,s,f){if(s){var e,o=h(l,a,r,i,null,f),d=0;for(e=0;e<s.length;e++)d+=s[e].weight;if(!(d<=0))for(e=0;e<o.length;e++){for(var c=Math.random()*d,p=0,x=-1,T=0;T<s.length;T++)if(p+=s[T].weight,c<=p){var E=s[T].index;x=Array.isArray(E)?E[Math.floor(Math.random()*E.length)]:E;break}o[e].index=x}}};v.exports=m},806:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45676),m=t(93736),l=new m,a=function(r,i,s,f){return h(r,0,i,l,s,f),l.x};v.exports=a},45676:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93736),m=function(l,a,r,i,s,f){r===void 0&&(r=!0),i||(i=new h);var e=f.baseTileWidth,o=f.baseTileHeight,d=f.tilemapLayer;d&&(s||(s=d.scene.cameras.main),l=l-(d.x+s.scrollX*(1-d.scrollFactorX)),a=a-(d.y+s.scrollY*(1-d.scrollFactorY)),e*=d.scaleX,o*=d.scaleY);var c=l/e,p=a/o;return r&&(c=Math.floor(c),p=Math.floor(p)),i.set(c,p)};v.exports=m},70520:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45676),m=t(93736),l=new m,a=function(r,i,s,f){return h(0,r,i,l,s,f),l.y};v.exports=a},5047:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CalculateFacesAt:t(92839),CalculateFacesWithin:t(60386),CheckIsoBounds:t(13125),Copy:t(17347),CreateFromTiles:t(93604),CullBounds:t(71586),CullTiles:t(381),Fill:t(97734),FilterTiles:t(63555),FindByIndex:t(37982),FindTile:t(48297),ForEachTile:t(80916),GetCullTilesFunction:t(31493),GetTileAt:t(15494),GetTileAtWorldXY:t(24640),GetTileCorners:t(48495),GetTileCornersFunction:t(7160),GetTilesWithin:t(50811),GetTilesWithinShape:t(31674),GetTilesWithinWorldXY:t(44662),GetTileToWorldXFunction:t(16884),GetTileToWorldXYFunction:t(68182),GetTileToWorldYFunction:t(3752),GetWorldToTileXFunction:t(29296),GetWorldToTileXYFunction:t(32688),GetWorldToTileYFunction:t(74326),HasTileAt:t(46598),HasTileAtWorldXY:t(28654),HexagonalCullBounds:t(6358),HexagonalCullTiles:t(37524),HexagonalGetTileCorners:t(63634),HexagonalTileToWorldXY:t(21715),HexagonalWorldToTileXY:t(11516),IsInLayerBounds:t(62839),IsometricCullTiles:t(20887),IsometricTileToWorldXY:t(21808),IsometricWorldToTileXY:t(18750),PutTileAt:t(29003),PutTileAtWorldXY:t(48565),PutTilesAt:t(56547),Randomize:t(91180),RemoveTileAt:t(929),RemoveTileAtWorldXY:t(17384),RenderDebug:t(93763),ReplaceByIndex:t(51202),RunCull:t(6987),SetCollision:t(51710),SetCollisionBetween:t(15216),SetCollisionByExclusion:t(33158),SetCollisionByProperty:t(4180),SetCollisionFromCollisionGroup:t(18625),SetLayerCollisionIndex:t(91181),SetTileCollision:t(68234),SetTileIndexCallback:t(11628),SetTileLocationCallback:t(72732),Shuffle:t(34397),StaggeredCullBounds:t(53945),StaggeredCullTiles:t(19242),StaggeredTileToWorldXY:t(33388),StaggeredTileToWorldY:t(84132),StaggeredWorldToTileXY:t(90562),StaggeredWorldToTileY:t(3689),SwapByIndex:t(55217),TileToWorldX:t(44150),TileToWorldXY:t(46836),TileToWorldY:t(42477),WeightedRandomize:t(39677),WorldToTileX:t(806),WorldToTileXY:t(45676),WorldToTileY:t(70520)}},12920:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:t(12920)};v.exports=h},52678:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),m=t(84758),l={Components:t(5047),Parsers:t(34124),Formats:t(93560),ImageCollection:t(97042),ParseToTilemap:t(15043),Tile:t(29633),Tilemap:t(89797),TilemapCreator:t(4843),TilemapFactory:t(37940),Tileset:t(47975),TilemapLayer:t(87177),Orientation:t(12920),LayerData:t(94990),MapData:t(16586),ObjectLayer:t(15256)};l=h(!1,l,m.ORIENTATION),v.exports=l},94990:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12920),l=t(72632),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=l(i,"name","layer"),this.x=l(i,"x",0),this.y=l(i,"y",0),this.width=l(i,"width",0),this.height=l(i,"height",0),this.tileWidth=l(i,"tileWidth",0),this.tileHeight=l(i,"tileHeight",0),this.baseTileWidth=l(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=l(i,"baseTileHeight",this.tileHeight),this.orientation=l(i,"orientation",m.ORTHOGONAL),this.widthInPixels=l(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=l(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=l(i,"alpha",1),this.visible=l(i,"visible",!0),this.properties=l(i,"properties",[]),this.indexes=l(i,"indexes",[]),this.collideIndexes=l(i,"collideIndexes",[]),this.callbacks=l(i,"callbacks",[]),this.bodies=l(i,"bodies",[]),this.data=l(i,"data",[]),this.tilemapLayer=l(i,"tilemapLayer",null),this.hexSideLength=l(i,"hexSideLength",0),this.staggerAxis=l(i,"staggerAxis","y"),this.staggerIndex=l(i,"staggerIndex","odd")}});v.exports=a},16586:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(12920),l=t(72632),a=new h({initialize:function(i){i===void 0&&(i={}),this.name=l(i,"name","map"),this.width=l(i,"width",0),this.height=l(i,"height",0),this.infinite=l(i,"infinite",!1),this.tileWidth=l(i,"tileWidth",0),this.tileHeight=l(i,"tileHeight",0),this.widthInPixels=l(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=l(i,"heightInPixels",this.height*this.tileHeight),this.format=l(i,"format",null),this.orientation=l(i,"orientation",m.ORTHOGONAL),this.renderOrder=l(i,"renderOrder","right-down"),this.version=l(i,"version","1"),this.properties=l(i,"properties",{}),this.layers=l(i,"layers",[]),this.images=l(i,"images",[]),this.objects=l(i,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=l(i,"collision",{}),this.tilesets=l(i,"tilesets",[]),this.imageCollections=l(i,"imageCollections",[]),this.tiles=l(i,"tiles",[]),this.hexSideLength=l(i,"hexSideLength",0),this.staggerAxis=l(i,"staggerAxis","y"),this.staggerIndex=l(i,"staggerIndex","odd")}});v.exports=a},15256:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=new h({initialize:function(r){r===void 0&&(r={}),this.name=m(r,"name","object layer"),this.opacity=m(r,"opacity",1),this.properties=m(r,"properties",{}),this.propertyTypes=m(r,"propertytypes",{}),this.type=m(r,"type","objectgroup"),this.visible=m(r,"visible",!0),this.objects=m(r,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});v.exports=l},21394:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(12920),m=function(l){return l=l.toLowerCase(),l==="isometric"?h.ISOMETRIC:l==="staggered"?h.STAGGERED:l==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};v.exports=m},90715:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),m=t(84346),l=t(96097),a=t(2378),r=t(44909),i=function(s,f,e,o,d,c){var p;switch(f){case h.ARRAY_2D:p=m(s,e,o,d,c);break;case h.CSV:p=l(s,e,o,d,c);break;case h.TILED_JSON:p=a(s,e,c);break;case h.WELTMEISTER:p=r(s,e,c);break;default:console.warn("Unrecognized tilemap data format: "+f),p=null}return p};v.exports=i},84346:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),m=t(94990),l=t(16586),a=t(29633),r=function(i,s,f,e,o){for(var d=new m({tileWidth:f,tileHeight:e}),c=new l({name:i,tileWidth:f,tileHeight:e,format:h.ARRAY_2D,layers:[d]}),p=[],x=s.length,T=0,E=0;E<s.length;E++){p[E]=[];for(var y=s[E],w=0;w<y.length;w++){var A=parseInt(y[w],10);isNaN(A)||A===-1?p[E][w]=o?null:new a(d,-1,w,E,f,e):p[E][w]=new a(d,A,w,E,f,e)}T===0&&(T=y.length)}return c.width=d.width=T,c.height=d.height=x,c.widthInPixels=d.widthInPixels=T*f,c.heightInPixels=d.heightInPixels=x*e,d.data=p,c};v.exports=r},96097:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),m=t(84346),l=function(a,r,i,s,f){var e=r.trim().split(`
`).map(function(d){return d.split(",")}),o=m(a,e,i,s,f);return o.format=h.CSV,o};v.exports=l},30951:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(94990),m=t(29633),l=function(a,r){for(var i=[],s=0;s<a.layer.length;s++){for(var f=a.layer[s],e=new h({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),o=[],d=[],c=0;c<f.data.length;c++){for(var p=0;p<f.data[c].length;p++){var x=f.data[c][p]-1,T;x>-1?T=new m(e,x,p,c,f.tilesize,f.tilesize):T=r?null:new m(e,-1,p,c,f.tilesize,f.tilesize),o.push(T)}d.push(o),o=[]}e.data=d,i.push(e)}return i};v.exports=l},47488:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47975),m=function(l){for(var a=[],r=[],i=0;i<l.layer.length;i++){var s=l.layer[i],f=s.tilesetName;f!==""&&r.indexOf(f)===-1&&(r.push(f),a.push(new h(f,0,s.tilesize,s.tilesize,0,0)))}return a};v.exports=m},44909:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(93560),m=t(16586),l=t(30951),a=t(47488),r=function(i,s,f){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var e=0,o=0,d=0;d<s.layer.length;d++)s.layer[d].width>e&&(e=s.layer[d].width),s.layer[d].height>o&&(o=s.layer[d].height);var c=new m({width:e,height:o,name:i,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:h.WELTMEISTER});return c.layers=l(s,f),c.tilesets=a(s),c};v.exports=r},24507:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ParseTileLayers:t(30951),ParseTilesets:t(47488),ParseWeltmeister:t(44909)}},34124:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FromOrientationString:t(21394),Parse:t(90715),Parse2DArray:t(84346),ParseCSV:t(96097),Impact:t(24507),Tiled:t(50044)}},48646:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(98611),m=function(l){for(var a,r,i,s,f,e=0;e<l.layers.length;e++){a=l.layers[e],s=null;for(var o=0;o<a.data.length;o++){f=a.data[o];for(var d=0;d<f.length;d++)r=f[d],!(r===null||r.index<0)&&(i=l.tiles[r.index][2],s=l.tilesets[i],r.width=s.tileWidth,r.height=s.tileHeight,s.tileProperties&&s.tileProperties[r.index-s.firstgid]&&(r.properties=h(r.properties,s.tileProperties[r.index-s.firstgid])))}}};v.exports=m},43908:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=window.atob(t),m=h.length,l=new Array(m/4),a=0;a<m;a+=4)l[a/4]=(h.charCodeAt(a)|h.charCodeAt(a+1)<<8|h.charCodeAt(a+2)<<16|h.charCodeAt(a+3)<<24)>>>0;return l};v.exports=S},14556:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47975),m=function(l){var a,r,i=[];for(a=0;a<l.imageCollections.length;a++)for(var s=l.imageCollections[a],f=s.images,e=0;e<f.length;e++){var o=f[e];r=new h(o.image,o.gid,s.imageWidth,s.imageHeight,0,0),r.updateTileData(s.imageWidth,s.imageHeight),l.tilesets.push(r)}for(a=0;a<l.tilesets.length;a++){r=l.tilesets[a];for(var d=r.tileMargin,c=r.tileMargin,p=0,x=0,T=0,E=r.firstgid;E<r.firstgid+r.total&&(i[E]=[d,c,a],d+=r.tileWidth+r.tileSpacing,p++,!(p===r.total||(x++,x===r.columns&&(d=r.tileMargin,c+=r.tileHeight+r.tileSpacing,x=0,T++,T===r.rows))));E++);}return i};v.exports=m},92044:(v,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=function(l,a,r){if(!a)return{i:0,layers:l.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+h(a,"startx",0)*l.tilewidth+h(a,"offsetx",0),s=a.y+h(a,"starty",0)*l.tileheight+h(a,"offsety",0);return{i:0,layers:a.layers,name:r.name+a.name+"/",opacity:r.opacity*a.opacity,visible:r.visible&&a.visible,x:r.x+i,y:r.y+s}};v.exports=m},8847:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,h=536870912,m=function(l){var a=!!(l&S),r=!!(l&t),i=!!(l&h);l=l&~(S|t|h);var s=0,f=!1;return a&&r&&i?(s=Math.PI/2,f=!0):a&&r&&!i?(s=Math.PI,f=!1):a&&!r&&i?(s=Math.PI/2,f=!1):a&&!r&&!i?(s=0,f=!0):!a&&r&&i?(s=3*Math.PI/2,f=!1):!a&&r&&!i?(s=Math.PI,f=!0):!a&&!r&&i?(s=3*Math.PI/2,f=!0):!a&&!r&&!i&&(s=0,f=!1),{gid:l,flippedHorizontal:a,flippedVertical:r,flippedAntiDiagonal:i,rotation:s,flipped:f}};v.exports=m},78339:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=t(92044),l=function(a){for(var r=[],i=[],s=m(a);s.i<s.layers.length||i.length>0;){if(s.i>=s.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=i.pop();continue}var f=s.layers[s.i];if(s.i++,f.type!=="imagelayer"){if(f.type==="group"){var e=m(a,f,s);i.push(s),s=e}continue}var o=h(f,"offsetx",0)+h(f,"startx",0),d=h(f,"offsety",0)+h(f,"starty",0);r.push({name:s.name+f.name,image:f.image,x:s.x+o+f.x,y:s.y+d+f.y,alpha:s.opacity*f.opacity,visible:s.visible&&f.visible,properties:h(f,"properties",{})})}return r};v.exports=l},2378:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(48646),m=t(14556),l=t(12920),a=t(28699),r=t(93560),i=t(21394),s=t(16586),f=t(78339),e=t(61136),o=t(95925),d=t(93392),c=function(p,x,T){var E=a(x),y=new s({width:E.width,height:E.height,name:p,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:i(E.orientation),format:r.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});y.orientation===l.HEXAGONAL&&(y.hexSideLength=E.hexsidelength,y.staggerAxis=E.staggeraxis,y.staggerIndex=E.staggerindex),y.layers=o(E,T),y.images=f(E);var w=d(E);return y.tilesets=w.tilesets,y.imageCollections=w.imageCollections,y.objects=e(E),y.tiles=m(y),h(y),y};v.exports=c},4281:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(28820),m=t(8847),l=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],r=function(i,s,f){s===void 0&&(s=0),f===void 0&&(f=0);var e=h(i,a);if(e.x+=s,e.y+=f,i.gid){var o=m(i.gid);e.gid=o.gid,e.flippedHorizontal=o.flippedHorizontal,e.flippedVertical=o.flippedVertical,e.flippedAntiDiagonal=o.flippedAntiDiagonal}else i.polyline?e.polyline=i.polyline.map(l):i.polygon?e.polygon=i.polygon.map(l):i.ellipse?e.ellipse=i.ellipse:i.text?e.text=i.text:i.point?e.point=!0:e.rectangle=!0;return e};v.exports=r},61136:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72632),m=t(4281),l=t(15256),a=t(92044),r=function(i){for(var s=[],f=[],e=a(i);e.i<e.layers.length||f.length>0;){if(e.i>=e.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}e=f.pop();continue}var o=e.layers[e.i];if(e.i++,o.opacity*=e.opacity,o.visible=e.visible&&o.visible,o.type!=="objectgroup"){if(o.type==="group"){var d=a(i,o,e);f.push(e),e=d}continue}o.name=e.name+o.name;for(var c=e.x+h(o,"startx",0)+h(o,"offsetx",0),p=e.y+h(o,"starty",0)+h(o,"offsety",0),x=[],T=0;T<o.objects.length;T++){var E=m(o.objects[T],c,p);x.push(E)}var y=new l(o);y.objects=x,s.push(y)}return s};v.exports=r},95925:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(43908),m=t(12920),l=t(92044),a=t(21394),r=t(72632),i=t(94990),s=t(8847),f=t(29633),e=function(o,d){for(var c=r(o,"infinite",!1),p=[],x=[],T=l(o);T.i<T.layers.length||x.length>0;){if(T.i>=T.layers.length){if(x.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}T=x.pop();continue}var E=T.layers[T.i];if(T.i++,E.type!=="tilelayer"){if(E.type==="group"){var y=l(o,E,T);x.push(T),T=y}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var w=0;w<E.chunks.length;w++)E.chunks[w].data=h(E.chunks[w].data);E.data&&(E.data=h(E.data)),delete E.encoding}var A,P,M,L,F=[],N=0;if(c){var b=r(E,"startx",0)+E.x,V=r(E,"starty",0)+E.y;A=new i({name:T.name+E.name,x:T.x+r(E,"offsetx",0)+b*o.tilewidth,y:T.y+r(E,"offsety",0)+V*o.tileheight,width:E.width,height:E.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:r(E,"properties",[]),orientation:a(o.orientation)}),A.orientation===m.HEXAGONAL&&(A.hexSideLength=o.hexsidelength,A.staggerAxis=o.staggeraxis,A.staggerIndex=o.staggerindex);for(var X=0;X<E.height;X++){F[X]=[null];for(var W=0;W<E.width;W++)F[X][W]=null}for(X=0,Z=E.chunks.length;X<Z;X++)for(var k=E.chunks[X],Q=k.x-b,U=k.y-V,Y=0,O=0,G=k.data.length;O<G;O++){var z=N+Q,H=Y+U;P=s(k.data[O]),P.gid>0?(M=new f(A,P.gid,z,H,o.tilewidth,o.tileheight),M.rotation=P.rotation,M.flipX=P.flipped,F[H][z]=M):(L=d?null:new f(A,-1,z,H,o.tilewidth,o.tileheight),F[H][z]=L),N++,N===k.width&&(Y++,N=0)}}else{A=new i({name:T.name+E.name,x:T.x+r(E,"offsetx",0)+E.x,y:T.y+r(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:o.tilewidth,tileHeight:o.tileheight,alpha:T.opacity*E.opacity,visible:T.visible&&E.visible,properties:r(E,"properties",[]),orientation:a(o.orientation)}),A.orientation===m.HEXAGONAL&&(A.hexSideLength=o.hexsidelength,A.staggerAxis=o.staggeraxis,A.staggerIndex=o.staggerindex);for(var K=[],J=0,Z=E.data.length;J<Z;J++)P=s(E.data[J]),P.gid>0?(M=new f(A,P.gid,N,F.length,o.tilewidth,o.tileheight),M.rotation=P.rotation,M.flipX=P.flipped,K.push(M)):(L=d?null:new f(A,-1,N,F.length,o.tilewidth,o.tileheight),K.push(L)),N++,N===E.width&&(F.push(K),N=0,K=[])}A.data=F,p.push(A)}return p};v.exports=e},93392:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(47975),m=t(97042),l=t(4281),a=t(39642),r=function(i){for(var s=[],f=[],e=null,o,d=0;d<i.tilesets.length;d++){var c=i.tilesets[d];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var p=new h(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,void 0,void 0,c.tileoffset);if(i.version>1){var x=void 0,T=void 0;if(Array.isArray(c.tiles)){x=x||{},T=T||{};for(var E=0;E<c.tiles.length;E++){var y=c.tiles[E];if(y.properties){var w={};y.properties.forEach(function(X){w[X.name]=X.value}),T[y.id]=w}if(y.objectgroup&&((x[y.id]||(x[y.id]={})).objectgroup=y.objectgroup,y.objectgroup.objects)){var A=y.objectgroup.objects.map(function(X){return l(X)});x[y.id].objectgroup.objects=A}y.animation&&((x[y.id]||(x[y.id]={})).animation=y.animation),y.type&&((x[y.id]||(x[y.id]={})).type=y.type)}}Array.isArray(c.wangsets)&&(x=x||{},T=T||{},a(c.wangsets,x)),x&&(p.tileData=x,p.tileProperties=T)}else if(c.tileproperties&&(p.tileProperties=c.tileproperties),c.tiles){p.tileData=c.tiles;for(o in p.tileData){var P=p.tileData[o].objectgroup;if(P&&P.objects){var M=P.objects.map(function(X){return l(X)});p.tileData[o].objectgroup.objects=M}}}p.updateTileData(c.imagewidth,c.imageheight),s.push(p)}else{var L=new m(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),F=0;for(E=0;E<c.tiles.length;E++){y=c.tiles[E];var N=y.image,b=parseInt(y.id,10),V=c.firstgid+b;L.addImage(V,N),F=Math.max(b,F)}L.maxId=F,f.push(L)}e&&(e.lastgid=c.firstgid-1),e=c}return{tilesets:s,imageCollections:f}};v.exports=r},39642:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=0;m<t.length;m++){var l=t[m],a=m;if(l.name&&l.name!==""&&(a=l.name),Array.isArray(l.wangtiles)&&l.wangtiles.length>0){var r={},i={},s,f,e;if(Array.isArray(l.edgecolors))for(s=0;s<l.edgecolors.length;s++)e=1+s,f=l.edgecolors[s],f.name!==""&&(r[e]=f.name);if(Array.isArray(l.cornercolors))for(s=0;s<l.cornercolors.length;s++)e=1+s,f=l.cornercolors[s],f.name!==""&&(i[e]=f.name);if(Array.isArray(l.colors))for(s=0;s<l.colors.length;s++)f=l.colors[s],e=1+s,f.name!==""&&(r[e]=i[e]=f.name);for(var o=[r,i,r,i,r,i,r,i],d=0;d<l.wangtiles.length;d++){var c=l.wangtiles[d],p=h[c.tileid]||(h[c.tileid]={});p=p.wangid||(p.wangid={});for(var x=[],T=0;T<Math.min(o.length,c.wangid.length);T++){if(f=c.wangid[T],f===0){x.push(void 0);continue}var E=o[T][f];if(E!==void 0){x.push(E);continue}x.push(f)}p[a]=x}}}};v.exports=S},50044:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AssignTileProperties:t(48646),Base64Decode:t(43908),BuildTilesetIndex:t(14556),CreateGroupLayer:t(92044),ParseGID:t(8847),ParseImageLayers:t(78339),ParseJSONTiled:t(2378),ParseObject:t(4281),ParseObjectLayers:t(61136),ParseTileLayers:t(95925),ParseTilesets:t(93392)}},73779:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(91963),l=t(7599),a=t(57911),r=t(66458),i=new h({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(l.PRE_UPDATE,this.preUpdate,this),s.on(l.UPDATE,this.update,this),s.once(l.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var f;return s instanceof a?(f=s,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat):f=new a(s),this._pendingInsertion.push(f),f},delayedCall:function(s,f,e,o){return this.addEvent({delay:s,callback:f,args:e,callbackScope:o})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++){var e=s[f];r(this._pendingRemoval,e),r(this._pendingInsertion,e),r(this._active,e)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(s===0&&f===0)){var e,o;for(e=0;e<s;e++){o=this._pendingRemoval[e];var d=this._active.indexOf(o);d>-1&&this._active.splice(d,1),o.destroy()}for(e=0;e<f;e++)o=this._pendingInsertion[e],this._active.push(o);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,f){if(this.now=s,!this.paused){f*=this.timeScale;for(var e=0;e<this._active.length;e++){var o=this._active[e];if(!o.paused&&(o.elapsed+=f*o.timeScale,o.elapsed>=o.delay)){var d=o.elapsed-o.delay;if(o.elapsed=o.delay,!o.hasDispatched&&o.callback&&(o.hasDispatched=!0,o.callback.apply(o.callbackScope,o.args)),o.repeatCount>0){if(o.repeatCount--,d>=o.delay)for(;d>=o.delay&&o.repeatCount>0;)o.callback&&o.callback.apply(o.callbackScope,o.args),d-=o.delay,o.repeatCount--;o.elapsed=d,o.hasDispatched=!1}else o.hasDispatched&&this._pendingRemoval.push(o)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(l.PRE_UPDATE,this.preUpdate,this),f.off(l.UPDATE,this.update,this),f.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",i,"time"),v.exports=i},20517:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(61286),a=t(72632),r=t(7599),i=new h({Extends:m,initialize:function(f,e){m.call(this),this.scene=f,this.systems=f.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var o=this.systems.events;o.on(r.PRE_UPDATE,this.preUpdate,this),o.on(r.UPDATE,this.update,this),o.once(r.SHUTDOWN,this.destroy,this),e&&this.add(e)},preUpdate:function(s,f){this.paused||(this.elapsed+=f)},update:function(){if(!this.paused){var s,f=this.events,e=!1,o=this.systems,d;for(s=0;s<f.length;s++){var c=f[s];if(!c.complete&&c.time<=this.elapsed){if(c.complete=!0,this.totalComplete++,c.once&&(e=!0),c.set&&c.target)for(var p in c.set)c.target[p]=c.set[p];c.tween&&o.tweens.add(c.tween),c.sound&&(typeof c.sound=="string"?o.sound.play(c.sound):o.sound.play(c.sound.key,c.sound.config)),d=c.target?c.target:this,c.event&&this.emit(c.event,d),c.run&&c.run.call(d),c.stop&&this.stop()}}if(e)for(s=0;s<f.length;s++)f[s].complete&&f[s].once&&(f.splice(s,1),s--);this.totalComplete>=f.length&&(this.complete=!0)}},play:function(s){return s===void 0&&(s=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,s&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var s=0;s<this.events.length;s++)this.events[s].complete=!1;return this.play(!1)},add:function(s){Array.isArray(s)||(s=[s]);var f=this.events,e=0;f.length>0&&(e=f[f.length-1].time);for(var o=0;o<s.length;o++){var d=s[o],c=a(d,"at",0),p=a(d,"in",null);p!==null&&(c=this.elapsed+p);var x=a(d,"from",null);x!==null&&(c=e+x),f.push({complete:!1,time:c,run:a(d,"run",null),event:a(d,"event",null),target:a(d,"target",null),set:a(d,"set",null),tween:a(d,"tween",null),sound:a(d,"sound",null),once:a(d,"once",!1),stop:a(d,"stop",!1)}),e=c}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var s=Math.min(this.totalComplete,this.events.length);return s/this.events.length},destroy:function(){var s=this.systems.events;s.off(r.PRE_UPDATE,this.preUpdate,this),s.off(r.UPDATE,this.update,this),s.off(r.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});l.register("timeline",function(s){return new i(this.scene,s)}),v.exports=i},57911:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(72632),l=new h({initialize:function(r){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(r)},reset:function(a){if(this.delay=m(a,"delay",0),this.repeat=m(a,"repeat",0),this.loop=m(a,"loop",!1),this.callback=m(a,"callback",void 0),this.callbackScope=m(a,"callbackScope",this),this.args=m(a,"args",[]),this.timeScale=m(a,"timeScale",1),this.startAt=m(a,"startAt",0),this.paused=m(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,r=this.elapsed+this.delay*(this.repeat-this.repeatCount);return r/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});v.exports=l},97121:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clock:t(73779),Timeline:t(20517),TimerEvent:t(57911)}},64532:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),m=t(56694),l=t(5454),a=t(68710),r=t(91963),i=t(7599),s=t(91944),f=t(39366),e=t(68061),o=t(45641),d=t(56034),c=new m({initialize:function(x){this.scene=x,this.events=x.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(i.BOOT,this.boot,this),this.events.on(i.START,this.start,this)},boot:function(){this.events.once(i.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(i.UPDATE,this.update,this),this.events.once(i.SHUTDOWN,this.shutdown,this)},create:function(p){Array.isArray(p)||(p=[p]);for(var x=[],T=0;T<p.length;T++){var E=p[T];E instanceof f||E instanceof o?x.push(E):Array.isArray(E.tweens)?x.push(d(this,E)):x.push(e(this,E))}return x.length===1?x[0]:x},add:function(p){var x=p,T=this.tweens;return x instanceof f||x instanceof o||(Array.isArray(x.tweens)?x=d(this,x):x=e(this,x)),T.push(x.reset()),x},addMultiple:function(p){for(var x,T=[],E=this.tweens,y=0;y<p.length;y++)x=p[y],x instanceof f||x instanceof o||(Array.isArray(x.tweens)?x=d(this,x):x=e(this,x)),E.push(x.reset()),T.push(x);return T},chain:function(p){var x=d(this,p);return this.tweens.push(x.init()),x},getChainedTweens:function(p){return p.getChainedTweens()},has:function(p){return this.tweens.indexOf(p)>-1},existing:function(p){return this.has(p)||this.tweens.push(p.reset()),this},addCounter:function(p){var x=a(this,p);return this.tweens.push(x.reset()),x},stagger:function(p,x){return s(p,x)},setLagSmooth:function(p,x){return p===void 0&&(p=1/1e-8),x===void 0&&(x=0),this.maxLag=p,this.lagSkip=Math.min(x,this.maxLag),this},setFps:function(p){return p===void 0&&(p=240),this.gap=1e3/p,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(p){var x=Date.now()-this.prevTime;x>this.maxLag&&(this.startTime+=x-this.lagSkip),this.prevTime+=x;var T=this.prevTime-this.startTime,E=T-this.nextTime,y=T-this.time*1e3;return E>0||p?(T/=1e3,this.time=T,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):y=0,y},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(p){p===void 0&&(p=!1);var x=this.getDelta(p);if(!(x<=0)){this.processing=!0;var T,E,y=[],w=this.tweens;for(T=0;T<w.length;T++)E=w[T],E.update(x)&&y.push(E);var A=y.length;if(A&&w.length>0){for(T=0;T<A;T++){E=y[T];var P=w.indexOf(E);P>-1&&(E.isPendingRemove()||E.isDestroyed())&&(w.splice(P,1),E.destroy())}y.length=0}this.processing=!1}},remove:function(p){return this.processing?p.setPendingRemoveState():(h(this.tweens,p),p.setRemovedState()),this},reset:function(p){return this.existing(p),p.seek(),p.setActiveState(),this},makeActive:function(p){return this.existing(p),p.setActiveState(),this},each:function(p,x){var T,E=[null];for(T=1;T<arguments.length;T++)E.push(arguments[T]);return this.tweens.forEach(function(y){E[0]=y,p.apply(x,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(p){var x=[],T=this.tweens;Array.isArray(p)?p=l(p):p=[p];for(var E=p.length,y=0;y<T.length;y++)for(var w=T[y],A=0;A<E;A++)!w.isDestroyed()&&w.hasTarget(p[A])&&x.push(w);return x},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(p){return this.timeScale=p,this},isTweening:function(p){for(var x=this.tweens,T,E=0;E<x.length;E++)if(T=x[E],T.isPlaying()&&T.hasTarget(p))return!0;return!1},killAll:function(){for(var p=this.processing?this.getTweens():this.tweens,x=0;x<p.length;x++)p[x].destroy();return this.processing||(p.length=0),this},killTweensOf:function(p){for(var x=this.getTweensOf(p),T=0;T<x.length;T++)x[T].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(i.UPDATE,this.update,this),this.events.off(i.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(i.START,this.start,this),this.scene=null,this.events=null}});r.register("TweenManager",c,"tweens"),v.exports=c},63130:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){return t&&t.hasOwnProperty(h)?t[h]:m};v.exports=S},21902:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(35060),m=t(40587),l=function(a,r){var i=h.Power0;if(typeof a=="string")if(h.hasOwnProperty(a))i=h[a];else{var s="";if(a.indexOf(".")){s=a.substring(a.indexOf(".")+1);var f=s.toLowerCase();f==="in"?s="easeIn":f==="out"?s="easeOut":f==="inout"&&(s="easeInOut")}a=m(a.substring(0,a.indexOf(".")+1)+s),h.hasOwnProperty(a)&&(i=h[a])}else typeof a=="function"&&(i=a);if(!r)return i;var e=r.slice(0);return e.unshift(0),function(o){return e[0]=o,i.apply(this,e)}};v.exports=l},4840:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63210),m=t(88332),l=t(47614),a={bezier:h,catmull:m,catmullrom:m,linear:l},r=function(i){if(i===null)return null;var s=a.linear;return typeof i=="string"?a.hasOwnProperty(i)&&(s=a[i]):typeof i=="function"&&(s=i),s};v.exports=r},28348:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l;if(t.hasOwnProperty(h)){var a=typeof t[h];a==="function"?l=function(r,i,s,f,e,o){return t[h](r,i,s,f,e,o)}:l=function(){return t[h]}}else typeof m=="function"?l=m:l=function(){return m};return l};v.exports=S},92407:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(53709),m=function(l){var a,r=[];if(l.hasOwnProperty("props"))for(a in l.props)a.substring(0,1)!=="_"&&r.push({key:a,value:l.props[a]});else for(a in l)h.indexOf(a)===-1&&a.substring(0,1)!=="_"&&r.push({key:a,value:l[a]});return r};v.exports=m},65868:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),m=function(l){var a=h(l,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};v.exports=m},9744:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(17489),m=t(61616);function l(f){return!!f.getActive&&typeof f.getActive=="function"}function a(f){return!!f.getStart&&typeof f.getStart=="function"}function r(f){return!!f.getEnd&&typeof f.getEnd=="function"}function i(f){return a(f)||r(f)||l(f)}var s=function(f,e){var o,d=function(k,Q,U){return U},c=function(k,Q,U){return U},p=null,x=typeof e;if(x==="number")d=function(){return e};else if(Array.isArray(e))c=function(){return e[0]},d=function(){return e[e.length-1]};else if(x==="string"){var T=e.toLowerCase(),E=T.substring(0,6)==="random",y=T.substring(0,3)==="int";if(E||y){var w=T.indexOf("("),A=T.indexOf(")"),P=T.indexOf(",");if(w&&A&&P){var M=parseFloat(T.substring(w+1,P)),L=parseFloat(T.substring(P+1,A));E?d=function(){return m(M,L)}:d=function(){return h(M,L)}}else throw new Error("invalid random() format")}else{T=T[0];var F=parseFloat(e.substr(2));switch(T){case"+":d=function(k,Q,U){return U+F};break;case"-":d=function(k,Q,U){return U-F};break;case"*":d=function(k,Q,U){return U*F};break;case"/":d=function(k,Q,U){return U/F};break;default:d=function(){return parseFloat(e)}}}}else if(x==="function")d=e;else if(x==="object")if(i(e))l(e)&&(p=e.getActive),r(e)&&(d=e.getEnd),a(e)&&(c=e.getStart);else if(e.hasOwnProperty("value"))o=s(f,e.value);else{var N=e.hasOwnProperty("to"),b=e.hasOwnProperty("from"),V=e.hasOwnProperty("start");if(N&&(b||V)){if(o=s(f,e.to),V){var X=s(f,e.start);o.getActive=X.getEnd}if(b){var W=s(f,e.from);o.getStart=W.getEnd}}}return o||(o={getActive:p,getEnd:d,getStart:c}),o};v.exports=s},68710:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),m=t(99730),l=t(20494),a=t(63130),r=t(21902),i=t(28348),s=t(10850),f=t(9744),e=t(72066),o=t(39366),d=function(c,p,x){if(p instanceof o)return p.parent=c,p;x===void 0?x=m:x=e(m,x);var T=s(p,"from",0),E=s(p,"to",1),y=[{value:T}],w=s(p,"delay",x.delay),A=s(p,"easeParams",x.easeParams),P=s(p,"ease",x.ease),M=f("value",E),L=new o(c,y),F=L.add(0,"value",M.getEnd,M.getStart,M.getActive,r(s(p,"ease",P),s(p,"easeParams",A)),i(p,"delay",w),s(p,"duration",x.duration),a(p,"yoyo",x.yoyo),s(p,"hold",x.hold),s(p,"repeat",x.repeat),s(p,"repeatDelay",x.repeatDelay),!1,!1);F.start=T,F.current=T,L.completeDelay=l(p,"completeDelay",0),L.loop=Math.round(l(p,"loop",0)),L.loopDelay=Math.round(l(p,"loopDelay",0)),L.paused=a(p,"paused",!1),L.persist=a(p,"persist",!1),L.callbackScope=s(p,"callbackScope",L);for(var N=h.TYPES,b=0;b<N.length;b++){var V=N[b],X=s(p,V,!1);if(X){var W=s(p,V+"Params",[]);L.setCallback(V,X,W)}}return L};v.exports=d},91944:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(21902),m=t(10850),l=t(83392),a=function(r,i){i===void 0&&(i={});var s,f=m(i,"start",0),e=m(i,"ease",null),o=m(i,"grid",null),d=m(i,"from",0),c=d==="first",p=d==="center",x=d==="last",T=typeof d=="number",E=Array.isArray(r),y=parseFloat(E?r[0]:r),w=E?parseFloat(r[1]):0,A=Math.max(y,w);if(E&&(f+=y),o){var P=o[0],M=o[1],L=0,F=0,N=0,b=0,V=[];x?(L=P-1,F=M-1):T?(L=d%P,F=Math.floor(d/P)):p&&(L=(P-1)/2,F=(M-1)/2);for(var X=l.MIN_SAFE_INTEGER,W=0;W<M;W++){V[W]=[];for(var k=0;k<P;k++){N=L-k,b=F-W;var Q=Math.sqrt(N*N+b*b);Q>X&&(X=Q),V[W][k]=Q}}}var U=e?h(e):null;return o?s=function(Y,O,G,z){var H=0,K=z%P,J=Math.floor(z/P);K>=0&&K<P&&J>=0&&J<M&&(H=V[J][K]);var Z;if(E){var _=w-y;U?Z=H/X*_*U(H/X):Z=H/X*_}else U?Z=H*y*U(H/X):Z=H*y;return Z+f}:s=function(Y,O,G,z,H){H--;var K;c?K=z:p?K=Math.abs(H/2-z):x?K=H-z:T&&(K=Math.abs(d-z));var J;if(E){var Z;p?Z=(w-y)/H*(K*2):Z=(w-y)/H*K,U?J=Z*U(K/H):J=Z}else U?J=H*A*U(K/H):J=K*y;return J+f},s};v.exports=a},68061:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),m=t(99730),l=t(20494),a=t(63130),r=t(21902),i=t(4840),s=t(28348),f=t(92407),e=t(65868),o=t(10850),d=t(9744),c=t(72066),p=t(39366),x=function(T,E,y){if(E instanceof p)return E.parent=T,E;y===void 0?y=m:y=c(m,y);var w=e(E);!w&&y.targets&&(w=y.targets);for(var A=f(E),P=o(E,"delay",y.delay),M=o(E,"duration",y.duration),L=o(E,"easeParams",y.easeParams),F=o(E,"ease",y.ease),N=o(E,"hold",y.hold),b=o(E,"repeat",y.repeat),V=o(E,"repeatDelay",y.repeatDelay),X=a(E,"yoyo",y.yoyo),W=a(E,"flipX",y.flipX),k=a(E,"flipY",y.flipY),Q=o(E,"interpolation",y.interpolation),U=function(et,nt,rt,st){if(rt==="texture"){var lt=st,mt=void 0;Array.isArray(st)?(lt=st[0],mt=st[1]):st.hasOwnProperty("value")?(lt=st.value,Array.isArray(st.value)?(lt=st.value[0],mt=st.value[1]):typeof st.value=="string"&&(lt=st.value)):typeof st=="string"&&(lt=st),et.addFrame(nt,lt,mt,s(st,"delay",P),o(st,"duration",M),o(st,"hold",N),o(st,"repeat",b),o(st,"repeatDelay",V),a(st,"flipX",W),a(st,"flipY",k))}else{var gt=d(rt,st),xt=i(o(st,"interpolation",Q));et.add(nt,rt,gt.getEnd,gt.getStart,gt.getActive,r(o(st,"ease",F),o(st,"easeParams",L)),s(st,"delay",P),o(st,"duration",M),a(st,"yoyo",X),o(st,"hold",N),o(st,"repeat",b),o(st,"repeatDelay",V),a(st,"flipX",W),a(st,"flipY",k),xt,xt?st:null)}},Y=new p(T,w),O=0;O<A.length;O++)for(var G=A[O].key,z=A[O].value,H=0;H<w.length;H++)G==="scale"&&!w[H].hasOwnProperty("scale")?(U(Y,H,"scaleX",z),U(Y,H,"scaleY",z)):U(Y,H,G,z);Y.completeDelay=l(E,"completeDelay",0),Y.loop=Math.round(l(E,"loop",0)),Y.loopDelay=Math.round(l(E,"loopDelay",0)),Y.paused=a(E,"paused",!1),Y.persist=a(E,"persist",!1),Y.callbackScope=o(E,"callbackScope",Y);for(var K=h.TYPES,J=0;J<K.length;J++){var Z=K[J],_=o(E,Z,!1);if(_){var tt=o(E,Z+"Params",[]);Y.setCallback(Z,_,tt)}}return Y};v.exports=x},56034:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),m=t(20494),l=t(63130),a=t(65868),r=t(10850),i=t(68061),s=t(45641),f=function(e,o){if(o instanceof s)return o.parent=e,o;var d=new s(e);d.startDelay=r(o,"delay",0),d.completeDelay=m(o,"completeDelay",0),d.loop=Math.round(m(o,"loop",r(o,"repeat",0))),d.loopDelay=Math.round(m(o,"loopDelay",r(o,"repeatDelay",0))),d.paused=l(o,"paused",!1),d.persist=l(o,"persist",!0),d.callbackScope=r(o,"callbackScope",d);var c,p=h.TYPES;for(c=0;c<p.length;c++){var x=p[c],T=r(o,x,!1);if(T){var E=r(o,x+"Params",[]);d.setCallback(x,T,E)}}var y=r(o,"tweens",null);if(Array.isArray(y)){var w=[],A=a(o),P=void 0;for(A&&(P={targets:A}),c=0;c<y.length;c++)w.push(i(d,y[c],P));d.add(w)}return d};v.exports=f},79619:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetBoolean:t(63130),GetEaseFunction:t(21902),GetInterpolationFunction:t(4840),GetNewValue:t(28348),GetProps:t(92407),GetTargets:t(65868),GetValueOp:t(9744),NumberTweenBuilder:t(68710),StaggerBuilder:t(91944),TweenBuilder:t(68061)}},5570:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="active"},6383:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},72582:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},90281:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},80803:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="repeat"},13640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},10472:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},5379:v=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},43449:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},61541:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="yoyo"},54272:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TWEEN_ACTIVE:t(5570),TWEEN_COMPLETE:t(6383),TWEEN_LOOP:t(72582),TWEEN_PAUSE:t(90281),TWEEN_RESUME:t(13640),TWEEN_REPEAT:t(80803),TWEEN_START:t(10472),TWEEN_STOP:t(5379),TWEEN_UPDATE:t(43449),TWEEN_YOYO:t(61541)}},75193:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:t(55303),Builders:t(79619),Events:t(54272),TweenManager:t(64532),Tween:t(39366),TweenData:t(15718),TweenFrameData:t(96490),BaseTween:t(502),TweenChain:t(45641)};v.exports=h},502:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(6659),l=t(54272),a=t(55303),r=new h({Extends:m,initialize:function(s){m.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=a.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(i){return this.timeScale=i,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(l.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(l.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(l.TWEEN_COMPLETE,"onComplete")},complete:function(i){return i===void 0&&(i=0),i?(this.setCompleteDelayState(),this.countdown=i):this.onCompleteHandler(),this},completeAfterLoop:function(i){return i===void 0&&(i=0),this.loopCounter>i&&(this.loopCounter=i),this},remove:function(){return this.parent.remove(this),this},stop:function(){return!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(l.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(i){this.countdown-=i,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(i){return this.countdown-=i,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(l.TWEEN_START,"onStart"),i=0),i},updateCompleteDelay:function(i){this.countdown-=i,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(i,s,f){return f===void 0&&(f=[]),this.callbacks.hasOwnProperty(i)&&(this.callbacks[i]={func:s,params:f}),this},setPendingState:function(){this.state=a.PENDING},setActiveState:function(){this.state=a.ACTIVE},setLoopDelayState:function(){this.state=a.LOOP_DELAY},setCompleteDelayState:function(){this.state=a.COMPLETE_DELAY},setStartDelayState:function(){this.state=a.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=a.PENDING_REMOVE},setRemovedState:function(){this.state=a.REMOVED},setFinishedState:function(){this.state=a.FINISHED},setDestroyedState:function(){this.state=a.DESTROYED},isPending:function(){return this.state===a.PENDING},isActive:function(){return this.state===a.ACTIVE},isLoopDelayed:function(){return this.state===a.LOOP_DELAY},isCompleteDelayed:function(){return this.state===a.COMPLETE_DELAY},isStartDelayed:function(){return this.state===a.START_DELAY},isPendingRemove:function(){return this.state===a.PENDING_REMOVE},isRemoved:function(){return this.state===a.REMOVED},isFinished:function(){return this.state===a.FINISHED},isDestroyed:function(){return this.state===a.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(i){i.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});r.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],v.exports=r},65521:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(56694),m=t(54272),l=t(55303),a=new h({initialize:function(i,s,f,e,o,d,c,p,x,T){this.tween=i,this.targetIndex=s,this.duration=e,this.totalDuration=0,this.delay=0,this.getDelay=f,this.yoyo=o,this.hold=d,this.repeat=c,this.repeatDelay=p,this.repeatCounter=0,this.flipX=x,this.flipY=T,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(r){r===void 0&&(r=this.current),this.tween.targets[this.targetIndex][this.key]=r},setCreatedState:function(){this.state=l.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=l.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=l.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=l.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=l.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=l.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=l.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=l.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===l.CREATED},isDelayed:function(){return this.state===l.DELAY},isPendingRender:function(){return this.state===l.PENDING_RENDER},isPlayingForward:function(){return this.state===l.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===l.PLAYING_BACKWARD},isHolding:function(){return this.state===l.HOLD_DELAY},isRepeating:function(){return this.state===l.REPEAT_DELAY},isComplete:function(){return this.state===l.COMPLETE},setStateFromEnd:function(r){this.yoyo?this.onRepeat(r,!0,!0):this.repeatCounter>0?this.onRepeat(r,!0,!1):this.setCompleteState()},setStateFromStart:function(r){this.repeatCounter>0?this.onRepeat(r,!1):this.setCompleteState()},reset:function(){var r=this.tween,i=r.totalTargets,s=this.targetIndex,f=r.targets[s],e=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(f,e,0,s,i,r),this.repeatCounter=this.repeat===-1?l.MAX:this.repeat,this.setPendingRenderState();var o=this.duration+this.hold;this.yoyo&&(o+=this.duration);var d=o+this.repeatDelay;this.totalDuration=this.delay+o,this.repeat===-1?(this.totalDuration+=d*l.MAX,r.isInfinite=!0):this.repeat>0&&(this.totalDuration+=d*this.repeat),this.totalDuration>r.duration&&(r.duration=this.totalDuration),this.delay<r.startDelay&&(r.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(r,i,s){var f=this.tween,e=f.totalTargets,o=this.targetIndex,d=f.targets[o],c=this.key,p=c!=="texture";if(this.elapsed=r,this.progress=r/this.duration,this.flipX&&d.toggleFlipX(),this.flipY&&d.toggleFlipY(),p&&(i||s)&&(this.start=this.getStartValue(d,c,this.start,o,e,f)),s){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,p&&(this.end=this.getEndValue(d,c,this.start,o,e,f)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-r,p&&(this.current=this.start,d[c]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});v.exports=a},99730:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};v.exports=S},53709:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(502),m=t(56694),l=t(54272),a=t(99325),r=t(61286),i=t(83392),s=t(55303),f=t(15718),e=t(96490),o=new m({Extends:h,initialize:function(c,p){h.call(this,c),this.targets=p,this.totalTargets=p.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(d,c,p,x,T,E,y,w,A,P,M,L,F,N,b,V){var X=new f(this,d,c,p,x,T,E,y,w,A,P,M,L,F,N,b,V);return this.totalData=this.data.push(X),X},addFrame:function(d,c,p,x,T,E,y,w,A,P){var M=new e(this,d,c,p,x,T,E,y,w,A,P);return this.totalData=this.data.push(M),M},getValue:function(d){d===void 0&&(d=0);var c=null;return this.data&&(c=this.data[d].current),c},hasTarget:function(d){return this.targets&&this.targets.indexOf(d)!==-1},updateTo:function(d,c,p){if(p===void 0&&(p=!1),d!=="texture")for(var x=0;x<this.totalData;x++){var T=this.data[x];T.key===d&&(T.isPlayingForward()||T.isPlayingBackward())&&(T.end=c,p&&(T.start=T.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(d,c,p){if(d===void 0&&(d=0),c===void 0&&(c=16.6),p===void 0&&(p=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;p||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive");var x=this.paused;if(this.paused=!1,d>0){for(var T=Math.floor(d/c),E=d-T*c,y=0;y<T;y++)this.update(c);E>0&&this.update(E)}return this.paused=x,this.isSeeking=!1,this},initTweenData:function(d){d===void 0&&(d=!1),this.duration=0,this.startDelay=i.MAX_SAFE_INTEGER;for(var c=this.data,p=0;p<this.totalData;p++)c[p].reset(d);this.duration=Math.max(this.duration,.01);var x=this.duration,T=this.completeDelay,E=this.loopCounter,y=this.loopDelay;E>0?this.totalDuration=x+T+(x+y)*E:this.totalDuration=x+T},reset:function(d){return d===void 0&&(d=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),d||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive")),this},update:function(d){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(d*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(d),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(d),!1;this.hasStarted||(this.startDelay-=d,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),d=0));var c=!1;if(this.isActive())for(var p=this.data,x=0;x<this.totalData;x++)p[x].update(d)&&(c=!0);this.elapsed+=d,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=d,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),c||this.nextState();var T=this.isPendingRemove();return T&&this.persist&&(this.setFinishedState(),T=!1),T},forward:function(d){return this.update(d),this},rewind:function(d){return this.update(-d),this},dispatchEvent:function(d,c){if(!this.isSeeking){this.emit(d,this,this.targets);var p=this.callbacks[c];p&&p.func.apply(this.callbackScope,[this,this.targets].concat(p.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});r.register("tween",function(d){return this.scene.sys.tweens.add(d)}),a.register("tween",function(d){return this.scene.sys.tweens.create(d)}),v.exports=o},45641:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(66458),m=t(502),l=t(56694),a=t(54272),r=t(99325),i=t(61286),s=t(55303),f=new l({Extends:m,initialize:function(o){m.call(this,o),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive"),this},add:function(e){var o=this.parent.create(e);Array.isArray(o)||(o=[o]);for(var d=this.data,c=0;c<o.length;c++){var p=o[c];p.parent=this,d.push(p.reset())}return this.totalData=d.length,this},remove:function(e){return h(this.data,e),e.setRemovedState(),e===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(e){for(var o=this.data,d=0;d<this.totalData;d++)if(o[d].hasTarget(e))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(e){return e.seek(),e.setActiveState(),this},makeActive:function(e){return e.reset(),e.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var e=this.data,o=this.totalData,d=0;d<o;d++)e[d].reset(!1);this.currentIndex=0,this.currentTween=e[0]},update:function(e){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;e*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(e):this.isCompleteDelayed()?this.updateCompleteDelay(e):this.isStartDelayed()&&(e=this.updateStartCountdown(e));var o=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(e)&&this.nextTween()&&this.nextState(),o=this.isPendingRemove(),o&&this.persist&&(this.setFinishedState(),o=!1)),o},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(e){this.currentIndex=e,this.currentTween=this.data[e],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(e,o){this.emit(e,this);var d=this.callbacks[o];d&&d.func.apply(this.callbackScope,[this].concat(d.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});i.register("tweenchain",function(e){return this.scene.sys.tweens.chain(e)}),r.register("tweenchain",function(e){return this.scene.sys.tweens.create(e)}),v.exports=f},15718:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65521),m=t(82897),l=t(56694),a=t(54272),r=new l({Extends:h,initialize:function(s,f,e,o,d,c,p,x,T,E,y,w,A,P,M,L,F){h.call(this,s,f,x,T,E,y,w,A,P,M),this.key=e,this.getActiveValue=c,this.getEndValue=o,this.getStartValue=d,this.ease=p,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=L,this.interpolationData=F},reset:function(i){h.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],f=this.key;i&&(s[f]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[f]=this.getActiveValue(s,f,0))},update:function(i){var s=this.tween,f=s.totalTargets,e=this.targetIndex,o=s.targets[e],d=this.key;if(!o)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(o,d,o[d],e,f,s),this.end=this.getEndValue(o,d,this.start,e,f,s),this.current=this.start,o[d]=this.start,this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),p=this.isPlayingBackward();if(c||p){var x=this.elapsed,T=this.duration,E=0,y=!1;x+=i,x>=T?(E=x-T,x=T,y=!0):x<0&&(x=0);var w=m(x/T,0,1);if(this.elapsed=x,this.progress=w,this.previous=this.current,y)c?(this.current=this.end,o[d]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(this.current=this.start,o[d]=this.start,this.setStateFromStart(E));else{c||(w=1-w);var A=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,o[d]=this.current}this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,s){var f=this.tween;if(!f.isSeeking){var e=f.targets[this.targetIndex],o=this.key,d=this.current,c=this.previous;f.emit(i,f,o,e,d,c);var p=f.callbacks[s];p&&p.func.apply(f.callbackScope,[f,e,o,d,c].concat(p.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});v.exports=r},96490:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(65521),m=t(82897),l=t(56694),a=t(54272),r=new l({Extends:h,initialize:function(s,f,e,o,d,c,p,x,T,E,y){h.call(this,s,f,d,c,!1,p,x,T,E,y),this.key="texture",this.startTexture=null,this.endTexture=e,this.startFrame=null,this.endFrame=o,this.yoyo=x!==0},reset:function(i){h.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),i&&s.setTexture(this.startTexture,this.startFrame)},update:function(i){var s=this.tween,f=this.targetIndex,e=s.targets[f];if(!e)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=i,this.elapsed<=0&&(this.elapsed=0,i=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(a.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&e.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var o=this.isPlayingForward(),d=this.isPlayingBackward();if(o||d){var c=this.elapsed,p=this.duration,x=0,T=!1;c+=i,c>=p?(x=c-p,c=p,T=!0):c<0&&(c=0);var E=m(c/p,0,1);this.elapsed=c,this.progress=E,T&&(o?(e.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(e.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(x))),this.dispatchEvent(a.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(i,s){var f=this.tween;if(!f.isSeeking){var e=f.targets[this.targetIndex],o=this.key;f.emit(i,f,o,e);var d=f.callbacks[s];d&&d.func.apply(f.callbackScope,[f,e,o].concat(d.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});v.exports=r},55303:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};v.exports=S},56694:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r){return!!r.get&&typeof r.get=="function"||!!r.set&&typeof r.set=="function"}function t(r,i,s){var f=s?r[i]:Object.getOwnPropertyDescriptor(r,i);return!s&&f.value&&typeof f.value=="object"&&(f=f.value),f&&S(f)?(typeof f.enumerable>"u"&&(f.enumerable=!0),typeof f.configurable>"u"&&(f.configurable=!0),f):!1}function h(r,i){var s=Object.getOwnPropertyDescriptor(r,i);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function m(r,i,s,f){for(var e in i)if(i.hasOwnProperty(e)){var o=t(i,e,s);if(o!==!1){var d=f||r;if(h(d.prototype,e)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+e+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(r.prototype,e,o)}else r.prototype[e]=i[e]}}function l(r,i){if(i){Array.isArray(i)||(i=[i]);for(var s=0;s<i.length;s++)m(r,i[s].prototype||i[s])}}function a(r){r||(r={});var i,s;if(r.initialize){if(typeof r.initialize!="function")throw new Error("initialize must be a function");i=r.initialize,delete r.initialize}else if(r.Extends){var f=r.Extends;i=function(){f.apply(this,arguments)}}else i=function(){};r.Extends?(i.prototype=Object.create(r.Extends.prototype),i.prototype.constructor=i,s=r.Extends,delete r.Extends):i.prototype.constructor=i;var e=null;return r.Mixins&&(e=r.Mixins,delete r.Mixins),l(i,e),m(i,r,!0,s),i}a.extend=m,a.mixin=l,a.ignoreFinals=!1,v.exports=a},72283:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},10618:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};v.exports=S},78991:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a){if(a===void 0&&(a=t),m>0){var r=m-t.length;if(r<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.push(h),l&&l.call(a,h),h):null;for(var i=h.length-1;i>=0;)t.indexOf(h[i])!==-1&&h.splice(i,1),i--;if(i=h.length,i===0)return null;m>0&&i>r&&(h.splice(r),i=r);for(var s=0;s<i;s++){var f=h[s];t.push(f),l&&l.call(a,f)}return h};v.exports=S},48522:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l,a,r){if(m===void 0&&(m=0),r===void 0&&(r=t),l>0){var i=l-t.length;if(i<=0)return null}if(!Array.isArray(h))return t.indexOf(h)===-1?(t.splice(m,0,h),a&&a.call(r,h),h):null;for(var s=h.length-1;s>=0;)t.indexOf(h[s])!==-1&&h.pop(),s--;if(s=h.length,s===0)return null;l>0&&s>i&&(h.splice(i),s=i);for(var f=s-1;f>=0;f--){var e=h[f];t.splice(m,0,e),a&&a.call(r,e)}return h};v.exports=S},58742:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);return m!==-1&&m<t.length&&(t.splice(m,1),t.push(h)),h};v.exports=S},30164:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),m=function(l,a,r,i,s){i===void 0&&(i=0),s===void 0&&(s=l.length);var f=0;if(h(l,i,s))for(var e=i;e<s;e++){var o=l[e];o[a]===r&&f++}return f};v.exports=m},36337:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l,a=[null];for(l=3;l<arguments.length;l++)a.push(arguments[l]);for(l=0;l<t.length;l++)a[0]=t[l],h.apply(m,a);return t};v.exports=S},46208:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),m=function(l,a,r,i,s){if(i===void 0&&(i=0),s===void 0&&(s=l.length),h(l,i,s)){var f,e=[null];for(f=5;f<arguments.length;f++)e.push(arguments[f]);for(f=i;f<s;f++)e[0]=l[f],a.apply(r,e)}return l};v.exports=m},2406:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h.length){if(h.length===1)return h[0]}else return NaN;var l=1,a,r;if(m){if(t<h[0][m])return h[0];for(;h[l][m]<t;)l++}else for(;h[l]<t;)l++;return l>h.length&&(l=h.length),m?(a=h[l-1][m],r=h[l][m],r-t<=t-a?h[l]:h[l-1]):(a=h[l-1],r=h[l],r-t<=t-a?r:a)};v.exports=S},5454:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=[]);for(var m=0;m<t.length;m++)Array.isArray(t[m])?S(t[m],h):h.push(t[m]);return h};v.exports=S},71608:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),m=function(l,a,r,i,s){i===void 0&&(i=0),s===void 0&&(s=l.length);var f=[];if(h(l,i,s))for(var e=i;e<s;e++){var o=l[e];(!a||a&&r===void 0&&o.hasOwnProperty(a)||a&&r!==void 0&&o[a]===r)&&f.push(o)}return f};v.exports=m},51463:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),m=function(l,a,r,i,s){if(i===void 0&&(i=0),s===void 0&&(s=l.length),h(l,i,s))for(var f=i;f<s;f++){var e=l[f];if(!a||a&&r===void 0&&e.hasOwnProperty(a)||a&&r!==void 0&&e[a]===r)return e}return null};v.exports=m},72861:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){h===void 0&&(h=0),m===void 0&&(m=t.length);var l=h+Math.floor(Math.random()*m);return t[l]===void 0?null:t[l]};v.exports=S},24218:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===m)return t;var l=t.indexOf(h),a=t.indexOf(m);if(l<0||a<0)throw new Error("Supplied items must be elements of the same array");return l>a||(t.splice(l,1),a===t.length-1?t.push(h):t.splice(a,0,h)),t};v.exports=S},58258:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===m)return t;var l=t.indexOf(h),a=t.indexOf(m);if(l<0||a<0)throw new Error("Supplied items must be elements of the same array");return l<a||(t.splice(l,1),a===0?t.unshift(h):t.splice(a,0,h)),t};v.exports=S},51172:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);if(m>0){var l=t[m-1],a=t.indexOf(l);t[m]=l,t[a]=h}return t};v.exports=S},68396:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=t.indexOf(h);if(l===-1||m<0||m>=t.length)throw new Error("Supplied index out of bounds");return l!==m&&(t.splice(l,1),t.splice(m,0,h)),h};v.exports=S},27555:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);if(m!==-1&&m<t.length-1){var l=t[m+1],a=t.indexOf(l);t[m]=l,t[a]=h}return t};v.exports=S},13401:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=[],r,i=!1;if((m||l)&&(i=!0,m||(m=""),l||(l="")),h<t)for(r=t;r>=h;r--)i?a.push(m+r.toString()+l):a.push(r);else for(r=t;r<=h;r++)i?a.push(m+r.toString()+l):a.push(r);return a};v.exports=S},89955:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(67233),m=function(l,a,r){l===void 0&&(l=0),a===void 0&&(a=null),r===void 0&&(r=1),a===null&&(a=l,l=0);for(var i=[],s=Math.max(h((a-l)/(r||1)),0),f=0;f<s;f++)i.push(l),l+=r;return i};v.exports=m},53466:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(m,l,a){var r=m[l];m[l]=m[a],m[a]=r}function t(m,l){return m<l?-1:m>l?1:0}var h=function(m,l,a,r,i){for(a===void 0&&(a=0),r===void 0&&(r=m.length-1),i===void 0&&(i=t);r>a;){if(r-a>600){var s=r-a+1,f=l-a+1,e=Math.log(s),o=.5*Math.exp(2*e/3),d=.5*Math.sqrt(e*o*(s-o)/s)*(f-s/2<0?-1:1),c=Math.max(a,Math.floor(l-f*o/s+d)),p=Math.min(r,Math.floor(l+(s-f)*o/s+d));h(m,l,c,p,i)}var x=m[l],T=a,E=r;for(S(m,a,l),i(m[r],x)>0&&S(m,a,r);T<E;){for(S(m,T,E),T++,E--;i(m[T],x)<0;)T++;for(;i(m[E],x)>0;)E--}i(m[a],x)===0?S(m,a,E):(E++,S(m,E,r)),E<=l&&(a=E+1),l<=E&&(r=E-1)}};v.exports=h},75757:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),m=t(18592),l=function(r,i,s){for(var f=[],e=0;e<r.length;e++)for(var o=0;o<i.length;o++)for(var d=0;d<s;d++)f.push({a:r[e],b:i[o]});return f},a=function(r,i,s){var f=h(s,"max",0),e=h(s,"qty",1),o=h(s,"random",!1),d=h(s,"randomB",!1),c=h(s,"repeat",0),p=h(s,"yoyo",!1),x=[];if(d&&m(i),c===-1)if(f===0)c=0;else{var T=r.length*i.length*e;p&&(T*=2),c=Math.ceil(f/T)}for(var E=0;E<=c;E++){var y=l(r,i,e);o&&m(y),x=x.concat(y),p&&(y.reverse(),x=x.concat(y))}return f&&x.splice(f),x};v.exports=a},66458:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72677),m=function(l,a,r,i){i===void 0&&(i=l);var s;if(!Array.isArray(a))return s=l.indexOf(a),s!==-1?(h(l,s),r&&r.call(i,a),a):null;for(var f=a.length-1,e=[];f>=0;){var o=a[f];s=l.indexOf(o),s!==-1&&(h(l,s),e.push(o),r&&r.call(i,o)),f--}return e};v.exports=m},8324:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72677),m=function(l,a,r,i){if(i===void 0&&(i=l),a<0||a>l.length-1)throw new Error("Index out of bounds");var s=h(l,a);return r&&r.call(i,s),s};v.exports=m},47427:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),m=function(l,a,r,i,s){if(a===void 0&&(a=0),r===void 0&&(r=l.length),s===void 0&&(s=l),h(l,a,r)){var f=r-a,e=l.splice(a,f);if(i)for(var o=0;o<e.length;o++){var d=e[o];i.call(s,d)}return e}else return[]};v.exports=m},50147:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(72677),m=function(l,a,r){a===void 0&&(a=0),r===void 0&&(r=l.length);var i=a+Math.floor(Math.random()*r);return h(l,i)};v.exports=m},80402:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=t.indexOf(h),a=t.indexOf(m);return l!==-1&&a===-1?(t[l]=m,!0):!1};v.exports=S},77640:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var m=null,l=0;l<h;l++)m=t.shift(),t.push(m);return m};v.exports=S},38487:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){h===void 0&&(h=1);for(var m=null,l=0;l<h;l++)m=t.pop(),t.unshift(m);return m};v.exports=S},45838:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){var a=t.length;if(h<0||h>a||h>=m||m>a){if(l)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};v.exports=S},27847:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){var m=t.indexOf(h);return m!==-1&&m>0&&(t.splice(m,1),t.unshift(h)),h};v.exports=S},6034:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(45838),m=function(l,a,r,i,s){if(i===void 0&&(i=0),s===void 0&&(s=l.length),h(l,i,s))for(var f=i;f<s;f++){var e=l[f];e.hasOwnProperty(a)&&(e[a]=r)}return l};v.exports=m},18592:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length-1;h>0;h--){var m=Math.floor(Math.random()*(h+1)),l=t[h];t[h]=t[m],t[m]=l}return t};v.exports=S},28834:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h=/\D/g;return t.sort(function(m,l){return parseInt(m.replace(h,""),10)-parseInt(l.replace(h,""),10)}),t};v.exports=S},72677:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){if(!(h>=t.length)){for(var m=t.length-1,l=t[h],a=h;a<m;a++)t[a]=t[a+1];return t.length=m,l}};v.exports=S},17922:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77290);function m(i,s){return String(i).localeCompare(s)}function l(i,s){var f=i.length;if(f<=1)return i;for(var e=new Array(f),o=1;o<f;o*=2){a(i,s,o,e);var d=i;i=e,e=d}return i}function a(i,s,f,e){var o=i.length,d=0,c=f*2,p,x,T,E,y;for(p=0;p<o;p+=c)for(x=p+f,T=x+f,x>o&&(x=o),T>o&&(T=o),E=p,y=x;;)if(E<x&&y<T)s(i[E],i[y])<=0?e[d++]=i[E++]:e[d++]=i[y++];else if(E<x)e[d++]=i[E++];else if(y<T)e[d++]=i[y++];else break}var r=function(i,s){if(s===void 0&&(s=m),!i||i.length<2)return i;if(h.features.stableSort)return i.sort(s);var f=l(i,s);return f!==i&&a(f,null,i.length,i),i};v.exports=r},96928:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(h===m)return t;var l=t.indexOf(h),a=t.indexOf(m);if(l<0||a<0)throw new Error("Supplied items must be elements of the same array");return t[l]=m,t[a]=h,t};v.exports=S},59959:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Matrix:t(13515),Add:t(78991),AddAt:t(48522),BringToTop:t(58742),CountAllMatching:t(30164),Each:t(36337),EachInRange:t(46208),FindClosestInSorted:t(2406),Flatten:t(5454),GetAll:t(71608),GetFirst:t(51463),GetRandom:t(72861),MoveDown:t(51172),MoveTo:t(68396),MoveUp:t(27555),MoveAbove:t(24218),MoveBelow:t(58258),NumberArray:t(13401),NumberArrayStep:t(89955),QuickSelect:t(53466),Range:t(75757),Remove:t(66458),RemoveAt:t(8324),RemoveBetween:t(47427),RemoveRandomElement:t(50147),Replace:t(80402),RotateLeft:t(77640),RotateRight:t(38487),SafeRange:t(45838),SendToBack:t(27847),SetAll:t(6034),Shuffle:t(18592),SortByDigits:t(28834),SpliceOne:t(72677),StableSort:t(17922),Swap:t(96928)}},97494:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var h=t[0].length,m=1;m<t.length;m++)if(t[m].length!==h)return!1;return!0};v.exports=S},68428:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(76400),m=t(97494),l=function(a){var r="";if(!m(a))return r;for(var i=0;i<a.length;i++){for(var s=0;s<a[i].length;s++){var f=a[i][s].toString();f!=="undefined"?r+=h(f,2):r+="?",s<a[i].length-1&&(r+=" |")}if(i<a.length-1){r+=`
`;for(var e=0;e<a[i].length;e++)r+="---",e<a[i].length-1&&(r+="+");r+=`
`}}return r};v.exports=l},59521:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};v.exports=S},51995:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=0;h<t.length;h++)t[h].reverse();return t};v.exports=S},89011:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63515),m=function(l){return h(l,180)};v.exports=m},42549:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63515),m=function(l){return h(l,90)};v.exports=m},63515:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(97494),m=t(78581),l=function(a,r){if(r===void 0&&(r=90),!h(a))return null;if(typeof r!="string"&&(r=(r%360+360)%360),r===90||r===-270||r==="rotateLeft")a=m(a),a.reverse();else if(r===-90||r===270||r==="rotateRight")a.reverse(),a=m(a);else if(Math.abs(r)===180||r==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};v.exports=l},14305:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(63515),m=function(l){return h(l,-90)};v.exports=m},27365:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(77640),m=t(38487),l=function(a,r,i){if(r===void 0&&(r=0),i===void 0&&(i=0),i!==0&&(i<0?h(a,Math.abs(i)):m(a,i)),r!==0)for(var s=0;s<a.length;s++){var f=a[s];r<0?h(f,Math.abs(r)):m(f,r)}return a};v.exports=l},78581:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var h=t.length,m=t[0].length,l=new Array(m),a=0;a<m;a++){l[a]=new Array(h);for(var r=h-1;r>-1;r--)l[a][r]=t[r][a]}return l};v.exports=S},13515:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CheckMatrix:t(97494),MatrixToString:t(68428),ReverseColumns:t(59521),ReverseRows:t(51995),Rotate180:t(89011),RotateLeft:t(42549),RotateMatrix:t(63515),RotateRight:t(14305),Translate:t(27365),TransposeMatrix:t(78581)}},40581:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(h,m){for(var l=new Uint8Array(h),a=l.length,r=m?"data:"+m+";base64,":"",i=0;i<a;i+=3)r+=S[l[i]>>2],r+=S[(l[i]&3)<<4|l[i+1]>>4],r+=S[(l[i+1]&15)<<2|l[i+2]>>6],r+=S[l[i+2]&63];return a%3===2?r=r.substring(0,r.length-1)+"=":a%3===1&&(r=r.substring(0,r.length-2)+"=="),r};v.exports=t},82329:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),h=0;h<S.length;h++)t[S.charCodeAt(h)]=h;var m=function(l){l=l.substr(l.indexOf(",")+1);var a=l.length,r=a*.75,i=0,s,f,e,o;l[a-1]==="="&&(r--,l[a-2]==="="&&r--);for(var d=new ArrayBuffer(r),c=new Uint8Array(d),p=0;p<a;p+=4)s=t[l.charCodeAt(p)],f=t[l.charCodeAt(p+1)],e=t[l.charCodeAt(p+2)],o=t[l.charCodeAt(p+3)],c[i++]=s<<2|f>>4,c[i++]=(f&15)<<4|e>>2,c[i++]=(e&3)<<6|o&63;return d};v.exports=m},78417:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ArrayBufferToBase64:t(40581),Base64ToArrayBuffer:t(82329)}},22178:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Array:t(59959),Base64:t(78417),Objects:t(64615),String:t(50379),NOOP:t(72283),NULL:t(10618)}},32742:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h={};for(var m in t)Array.isArray(t[m])?h[m]=t[m].slice(0):h[m]=t[m];return h};v.exports=S},28699:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var h,m,l;if(typeof t!="object"||t===null)return t;h=Array.isArray(t)?[]:{};for(l in t)m=t[l],h[l]=S(m);return h};v.exports=S},98611:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(42911),m=function(){var l,a,r,i,s,f,e=arguments[0]||{},o=1,d=arguments.length,c=!1;for(typeof e=="boolean"&&(c=e,e=arguments[1]||{},o=2),d===o&&(e=this,--o);o<d;o++)if((l=arguments[o])!=null)for(a in l)r=e[a],i=l[a],e!==i&&(c&&i&&(h(i)||(s=Array.isArray(i)))?(s?(s=!1,f=r&&Array.isArray(r)?r:[]):f=r&&h(r)?r:{},e[a]=m(c,f,i)):i!==void 0&&(e[a]=i));return e};v.exports=m},20494:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(5923),m=t(10850),l=function(a,r,i){var s=m(a,r,null);if(s===null)return i;if(Array.isArray(s))return h.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return h.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return h.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(r);return s};v.exports=l},72632:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){var l=typeof t;return!t||l==="number"||l==="string"?m:t.hasOwnProperty(h)&&t[h]!==void 0?t[h]:m};v.exports=S},94324:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(10850),m=t(82897),l=function(a,r,i,s,f){f===void 0&&(f=i);var e=h(a,r,f);return m(e,i,s)};v.exports=l},10850:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){if(!t&&!l||typeof t=="number")return m;if(t&&t.hasOwnProperty(h))return t[h];if(l&&l.hasOwnProperty(h))return l[h];if(h.indexOf(".")!==-1){for(var a=h.split("."),r=t,i=l,s=m,f=m,e=!0,o=!0,d=0;d<a.length;d++)r&&r.hasOwnProperty(a[d])?(s=r[a[d]],r=r[a[d]]):e=!1,i&&i.hasOwnProperty(a[d])?(f=i[a[d]],i=i[a[d]]):o=!1;return e?s:o?f:m}else return m};v.exports=S},87701:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=0;m<h.length;m++)if(!t.hasOwnProperty(h[m]))return!1;return!0};v.exports=S},53523:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){for(var m=0;m<h.length;m++)if(t.hasOwnProperty(h[m]))return!0;return!1};v.exports=S},19256:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.hasOwnProperty(h)};v.exports=S},42911:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};v.exports=S},30657:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),m=function(l,a){var r=h(l);for(var i in a)r.hasOwnProperty(i)||(r[i]=a[i]);return r};v.exports=m},72066:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(32742),m=function(l,a){var r=h(l);for(var i in a)r.hasOwnProperty(i)&&(r[i]=a[i]);return r};v.exports=m},28820:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=t(19256),m=function(l,a){for(var r={},i=0;i<a.length;i++){var s=a[i];h(l,s)&&(r[s]=l[s])}return r};v.exports=m},22440:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(h))return t[h]=m,!0;if(h.indexOf(".")!==-1){for(var l=h.split("."),a=t,r=t,i=0;i<l.length;i++)if(a.hasOwnProperty(l[i]))r=a,a=a[l[i]];else return!1;return r[l[l.length-1]]=m,!0}return!1};v.exports=S},64615:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clone:t(32742),DeepCopy:t(28699),Extend:t(98611),GetAdvancedValue:t(20494),GetFastValue:t(72632),GetMinMaxValue:t(94324),GetValue:t(10850),HasAll:t(87701),HasAny:t(53523),HasValue:t(19256),IsPlainObject:t(42911),Merge:t(30657),MergeRight:t(72066),Pick:t(28820),SetValue:t(22440)}},69429:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return t.replace(/%([0-9]+)/g,function(m,l){return h[Number(l)-1]})};v.exports=S},76400:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h,m,l){h===void 0&&(h=0),m===void 0&&(m=" "),l===void 0&&(l=3),t=t.toString();var a=0;if(h+1>=t.length)switch(l){case 1:t=new Array(h+1-t.length).join(m)+t;break;case 3:var r=Math.ceil((a=h-t.length)/2),i=a-r;t=new Array(i+1).join(m)+t+new Array(r+1).join(m);break;default:t=t+new Array(h+1-t.length).join(m);break}return t};v.exports=S},76872:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,h){return h===0?t.slice(1):t.slice(0,h-1)+t.slice(h)};v.exports=S},8051:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};v.exports=S},76583:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var h=Math.random()*16|0,m=t==="x"?h:h&3|8;return m.toString(16)})};v.exports=S},40587:v=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};v.exports=S},50379:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Format:t(69429),Pad:t(76400),RemoveAt:t(76872),Reverse:t(8051),UppercaseFirst:t(40587),UUID:t(76583)}}},C={};function R(v){var S=C[v];if(S!==void 0)return S.exports;var t=C[v]={exports:{}};return g[v](t,t.exports,R),t.exports}R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var I=R(92491);return I})())})(bx);var JA=bx.exports;const ae=Jp(JA),co=Phaser.Input.Keyboard.Key,vo=Phaser.Input.Keyboard.KeyCodes;class ZA{constructor(n){this.cursorKeys={up:new co(n,vo.UP),down:new co(n,vo.DOWN),left:new co(n,vo.LEFT),right:new co(n,vo.RIGHT)},this.noKeyDown=!0}shutdown(n){for(var g in this.cursorKeys)this.cursorKeys[g].destroy();this.cursorKeys=void 0}destroy(n){shutdown(n)}createCursorKeys(){return this.cursorKeys}setKeyState(n,g){var C=this.cursorKeys[n];return C.enabled?(g&&(this.noKeyDown=!1),C.isDown!==g&&(po.timeStamp=Date.now(),po.keyCode=C.keyCode,g?C.onDown(po):C.onUp(po)),this):this}clearAllKeysState(){this.noKeyDown=!0;for(var n in this.cursorKeys)this.setKeyState(n,!1);return this}getKeyState(n){return this.cursorKeys[n]}get upKeyDown(){return this.cursorKeys.up.isDown}get downKeyDown(){return this.cursorKeys.down.isDown}get leftKeyDown(){return this.cursorKeys.left.isDown}get rightKeyDown(){return this.cursorKeys.right.isDown}get anyKeyDown(){return!this.noKeyDown}}var po={timeStamp:0,keyCode:0,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,location:0};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var qA=180/Math.PI,_A=function(u){return u*qA};const tP={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var eP=function(u,n,g){switch(g===void 0?g={}:g===!0&&(g=iP),g.left=!1,g.right=!1,g.up=!1,g.down=!1,u=(u+360)%360,n){case 0:u<180?g.down=!0:g.up=!0;break;case 1:u>90&&u<=270?g.left=!0:g.right=!0;break;case 2:u>45&&u<=135?g.down=!0:u>135&&u<=225?g.left=!0:u>225&&u<=315?g.up=!0:g.right=!0;break;case 3:u>22.5&&u<=67.5?(g.down=!0,g.right=!0):u>67.5&&u<=112.5?g.down=!0:u>112.5&&u<=157.5?(g.down=!0,g.left=!0):u>157.5&&u<=202.5?g.left=!0:u>202.5&&u<=247.5?(g.left=!0,g.up=!0):u>247.5&&u<=292.5?g.up=!0:(u>292.5&&u<=337.5&&(g.up=!0),g.right=!0);break}return g},iP={};const Dn=Phaser.Utils.Objects.GetValue,nP=Phaser.Math.Distance.Between,sP=Phaser.Math.Angle.Between;class rP extends ZA{constructor(n,g){super(n),this.resetFromJSON(g)}resetFromJSON(n){this.start==null&&(this.start={x:0,y:0}),this.end==null&&(this.end={x:0,y:0}),this._enable=void 0,this.setEnable(Dn(n,"enable",!0)),this.setMode(Dn(n,"dir","8dir")),this.setDistanceThreshold(Dn(n,"forceMin",16));var g=Dn(n,"start.x",null),C=Dn(n,"start.y",null),R=Dn(n,"end.x",null),I=Dn(n,"end.y",null);return this.setVector(g,C,R,I),this}toJSON(){return{enable:this.enable,dir:this.dirMode,forceMin:this.forceMin,start:{x:this.start.x,y:this.start.y},end:{x:this.end.x,y:this.end.y}}}setMode(n){return typeof n=="string"&&(n=tP[n]),this.dirMode=n,this}get enable(){return this._enable}set enable(n){if(this._enable!==n)return n||this.clearVector(),this._enable=n,this}setEnable(n){return n===void 0&&(n=!0),this.enable=n,this}toggleEnable(){return this.setEnable(!this.enable),this}setDistanceThreshold(n){return n<0&&(n=0),this.forceMin=n,this}clearVector(){return this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.clearAllKeysState(),this}setVector(n,g,C,R){if(!this.enable)return this;if(n===null)return this.clearVector(),this;if(C===void 0&&(C=n,n=0,R=g,g=0),this.start.x=n,this.start.y=g,this.end.x=C,this.end.y=R,this.forceMin>0&&this.force<this.forceMin)return this.clearVector(),this;this.noKeyDown=!0;var I=eP(this.angle,this.dirMode,!0);for(var v in I)this.setKeyState(v,I[v]);return this}get forceX(){return this.end.x-this.start.x}get forceY(){return this.end.y-this.start.y}get force(){return nP(this.start.x,this.start.y,this.end.x,this.end.y)}get rotation(){return sP(this.start.x,this.start.y,this.end.x,this.end.y)}get angle(){return _A(this.rotation)}get octant(){var n=0;return this.rightKeyDown?n=this.downKeyDown?45:0:this.downKeyDown?n=this.leftKeyDown?135:90:this.leftKeyDown?n=this.upKeyDown?225:180:this.upKeyDown&&(n=this.rightKeyDown?315:270),n}}const Bd={setEventEmitter(u,n){return n===void 0&&(n=Phaser.Events.EventEmitter),this._privateEE=u===!0||u===void 0,this._eventEmitter=this._privateEE?new n:u,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(u){return this._eventEmitter&&u&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var aP=function(u,n,g,C){return C===void 0?C={}:C===!0&&(C=oP),g.getWorldPoint(u,n,C),C},oP={};const jh=Phaser.Utils.Objects.GetValue,lP=Phaser.Geom.Circle,hP=Phaser.Geom.Circle.Contains;class Vx extends rP{constructor(n,g){var C=n.scene;super(C,g);var R=jh(g,"eventEmitter",void 0),I=jh(g,"EventEmitterClass",void 0);this.setEventEmitter(R,I),this.scene=C,this.mainCamera=C.sys.cameras.main,this.pointer=void 0,this.gameObject=n,this.radius=jh(g,"radius",100),n.setInteractive(new lP(n.displayOriginX,n.displayOriginY,this.radius),hP),this.boot()}resetFromJSON(n){return super.resetFromJSON(n),this.pointer=void 0,this}toJSON(){var n=super.toJSON();return n.radius=this.radius,n}boot(){this.gameObject.on("pointerdown",this.onKeyDownStart,this),this.gameObject.on("pointerover",this.onKeyDownStart,this),this.scene.input.on("pointermove",this.onKeyDown,this),this.scene.input.on("pointerup",this.onKeyUp,this),this.gameObject.once("destroy",this.onParentDestroy,this)}shutdown(n){this.scene&&(this.scene.input.off("pointermove",this.onKeyDown,this),this.scene.input.off("pointerup",this.onKeyUp,this),this.destroyEventEmitter(),this.scene=void 0,this.mainCamera=void 0,this.pointer=void 0,this.gameObject=void 0,super.shutdown())}destroy(n){this.shutdown(n)}onParentDestroy(n,g){this.destroy(g)}onKeyDownStart(n){!n.isDown||this.pointer!==void 0||(this.pointer=n,this.onKeyDown(n),this.emit("pointerdown",n))}onKeyDown(n){if(this.pointer===n){var g=n.camera;if(g){var C=this.gameObject,R=this.end;g!==this.mainCamera?R=aP(n.x,n.y,g,R):(R.x=n.worldX,R.y=n.worldY);var I=C.x,v=C.y;C.scrollFactorX===0&&(I+=g.scrollX),C.scrollFactorY===0&&(v+=g.scrollY),this.setVector(I,v,R.x,R.y),this.emit("update")}}}onKeyUp(n){this.pointer===n&&(this.pointer=void 0,this.clearVector(),this.emit("update"),this.emit("pointerup",n))}forceUpdate(){var n=this.pointer;return!n||!n.isDown?this:(this.onKeyDown(n),this)}}Object.assign(Vx.prototype,Bd);const Zi=Phaser.Utils.Objects.GetValue;class Gx{constructor(n,g){g===void 0&&(g={});var C=Zi(g,"eventEmitter",void 0),R=Zi(g,"EventEmitterClass",void 0);this.setEventEmitter(C,R),g.eventEmitter=this.getEventEmitter(),this.scene=n,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0,this.setRadius(Zi(g,"radius",100)),this.addBase(Zi(g,"base",void 0),g),this.addThumb(Zi(g,"thumb",void 0));var I=Zi(g,"x",0),v=Zi(g,"y",0);this.base.setPosition(I,v),this.thumb.setPosition(I,v),Zi(g,"fixed",!0)&&this.setScrollFactor(0),this.boot()}destroy(){this.destroyEventEmitter(),this.base.destroy(),this.thumb.destroy(),this.scene=void 0,this.base=void 0,this.thumb=void 0,this.touchCursor=void 0}createCursorKeys(){return this.touchCursor.createCursorKeys()}get forceX(){return this.touchCursor.forceX}get forceY(){return this.touchCursor.forceY}get force(){return this.touchCursor.force}get rotation(){return this.touchCursor.rotation}get angle(){return this.touchCursor.angle}get up(){return this.touchCursor.upKeyDown}get down(){return this.touchCursor.downKeyDown}get left(){return this.touchCursor.leftKeyDown}get right(){return this.touchCursor.rightKeyDown}get noKey(){return this.touchCursor.noKeyDown}get pointerX(){return this.touchCursor.end.x}get pointerY(){return this.touchCursor.end.y}get pointer(){return this.touchCursor.pointer}setPosition(n,g){return this.x===n&&this.y===g?this:(this.x=n,this.y=g,this.forceUpdateThumb(),this)}set x(n){this.x!==n&&(this.base.x=n,this.thumb.x=n)}set y(n){this.y!==n&&(this.base.y=n,this.thumb.y=n)}get x(){return this.base.x}get y(){return this.base.y}setVisible(n){return this.visible=n,this}toggleVisible(){return this.visible=!this.visible,this}get visible(){return this.base.visible}set visible(n){this.base.visible=n,this.thumb.visible=n}get enable(){return this.touchCursor.enable}set enable(n){this.touchCursor.setEnable(n)}setEnable(n){return n===void 0&&(n=!0),this.enable=n,this}toggleEnable(){return this.setEnable(!this.enable),this}setRadius(n){return this.radius=n,this}addBase(n,g){return this.base&&this.base.destroy(),n===void 0&&(n=this.scene.add.circle(0,0,this.radius).setStrokeStyle(3,255)),g===void 0&&(g={}),g.eventEmitter=this.getEventEmitter(),this.touchCursor=new Vx(n,g),this.base=n,this}addThumb(n){return this.thumb&&this.thumb.destroy(),n===void 0&&(n=this.scene.add.circle(0,0,40).setStrokeStyle(3,65280)),this.thumb=n,this}setScrollFactor(n){return this.base.setScrollFactor(n),this.thumb.setScrollFactor(n),this}boot(){this.on("update",this.update,this)}update(){var n=this.touchCursor,g,C,R=n.dirMode;if(n.anyKeyDown)if(n.force>this.radius){var I=n.rotation;g=R!==0?Math.cos(I)*this.radius:0,C=R!==1?Math.sin(I)*this.radius:0}else g=R!==0?n.forceX:0,C=R!==1?n.forceY:0;else g=0,C=0;return this.thumb.x=this.base.x+g,this.thumb.y=this.base.y+C,this}forceUpdateThumb(){return this.touchCursor.forceUpdate(),this}}Object.assign(Gx.prototype,Bd);const uP=Phaser.Scene;var kr=function(u){return u instanceof uP},fP=function(u){return u==null||typeof u!="object"?null:kr(u)?u:u.scene&&kr(u.scene)?u.scene:u.parent&&u.parent.scene&&kr(u.parent.scene)?u.parent.scene:null};const dP=Phaser.Game;var Xp=function(u){return u instanceof dP},cP=function(u){if(u==null||typeof u!="object")return null;if(Xp(u))return u;if(Xp(u.game))return u.game;if(kr(u))return u.sys.game;if(kr(u.scene))return u.scene.sys.game};const vP=Phaser.Utils.Objects.GetValue;class Ux{constructor(n,g){this.setParent(n),this.isShutdown=!1,this.setEventEmitter(vP(g,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(n){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(n){this.shutdown(n)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(n,g){this.destroy(g)}setParent(n){return this.parent=n,this.scene=fP(n),this.game=cP(n),this}}Object.assign(Ux.prototype,Bd);const Ar=Phaser.Utils.Objects.GetValue;class pP extends Ux{constructor(n,g){super(n,g),this._enable=void 0,n.setInteractive(Ar(g,"inputConfig",void 0)),this.resetFromJSON(g),this.boot()}resetFromJSON(n){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Ar(n,"enable",!0)),this.setMode(Ar(n,"mode",1)),this.setClickInterval(Ar(n,"clickInterval",100)),this.setDragThreshold(Ar(n,"threshold",void 0)),this}boot(){var n=this.parent;n.on("pointerdown",this.onPress,this),n.on("pointerup",this.onRelease,this),n.on("pointerout",this.onPointOut,this),n.on("pointermove",this.onMove,this),n.on("pointerover",this.onOver,this),n.on("pointerout",this.onOut,this)}shutdown(n){this.isShutdown||(this.pointer=null,super.shutdown(n))}get enable(){return this._enable}set enable(n){if(this._enable!==n){n||this.cancel(),this._enable=n;var g=n?"enable":"disable";this.emit(g,this,this.parent)}}setEnable(n){return n===void 0&&(n=!0),this.enable=n,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(n){return typeof n=="string"&&(n=mP[n]),this.mode=n,this}setClickInterval(n){return this.clickInterval=n,this}setDragThreshold(n){return this.dragThreshold=n,this}onPress(n,g,C,R){this.pointer===void 0&&(this.pointer=n,this.emit("down",this,this.parent,n,R),this.mode===0&&this.click(n.downTime,n,R))}onRelease(n,g,C,R){this.pointer===n&&(this.emit("up",this,this.parent,n,R),this.mode===1&&this.click(n.upTime,n,R),this.pointer=void 0)}onPointOut(n,g){this.pointer===n&&this.cancel()}onMove(n,g,C,R){this.pointer===n&&this.dragThreshold!==void 0&&this.mode===1&&n.getDistance()>=this.dragThreshold&&this.cancel()}click(n,g,C){if(!this.enable)return this;if(n===void 0)return this.emit("click",this,this.parent,g,C),this;this.pointer=void 0;var R=this.lastClickTime;return R!==void 0&&n-R<=this.clickInterval?this:(this.lastClickTime=n,this.emit("click",this,this.parent,g,C),this)}cancel(){return this.pointer=void 0,this}onOver(n,g,C,R){return this.enable?(this.emit("over",this,this.parent,n,R),this):this}onOut(n,g){return this.enable?(this.emit("out",this,this.parent,n,g),this):this}}const mP={press:0,pointerdown:0,release:1,pointerup:1};class gP extends ae.Physics.Arcade.Sprite{constructor(n,g,C){super(n,g,C,"player"),this.scene=n,this.scene.physics.world.enable(this),this.scene.add.existing(this),this.setCollideWorldBounds(!0),this.scene.anims.create({key:"walking",frames:this.scene.anims.generateFrameNumbers("player",{start:0,end:2}),frameRate:10,repeat:-1}),this.scene.anims.create({key:"turn",frames:[{key:"player",frame:3}],frameRate:20}),this.scene.anims.create({key:"fire",frames:[{key:"player",frame:4}],framesRate:20})}create(){}update(n,g,C){if(n.left.isDown?(this.flipX=!0,this.setVelocityX(-160),this.anims.play("walking",!0)):n.right.isDown?(this.flipX=!1,this.setVelocityX(160),this.anims.play("walking",!0)):(this.setVelocityX(0),this.anims.play("turn",!0)),n.up.isDown?(this.setVelocityY(-160),this.anims.play("walking",!0)):n.down.isDown?(this.setVelocityY(160),this.anims.play("walking",!0)):this.setVelocityY(0),this.scene.FireButton&&this.scene.FireButton.on("click",()=>{this.anims.play("fire",!0);var I=g.magics.get();I.setActive(!0),I.setVisible(!0),I&&(I.fire(this),g.physics.add.overlap(I,C,this.hitAnEnemy,null,g))}),!this.scene.joystick&&n.space&&n.space.isDown){this.anims.play("fire",!0);var R=g.magics.get();R.setActive(!0),R.setVisible(!0),R&&(R.fire(this),g.physics.add.overlap(R,C,this.hitAnEnemy,null,g))}}hitAnEnemy(n,g){g.disableBody(!0,!0),this.events.emit("attack")}}var xP=new ae.Class({Extends:ae.GameObjects.Sprite,initialize:function(n){ae.GameObjects.Sprite.call(this,n,0,0,"magic"),this.speed=1,this.born=0,this.direction=0,this.xSpeed=0,this.ySpeed=0,this.setSize(12,12,!0)},fire:function(u){this.setPosition(u.x,u.y),u.flipX?this.speed=ae.Math.GetSpeed(-1e3,1):this.speed=ae.Math.GetSpeed(1e3,1),this.born=0},update:function(u,n,g){this.x+=this.speed*n,this.born+=n,this.scene.events.on("attack",()=>{this.setActive(!1),this.setVisible(!1),this.destroy()}),(this.born>1e3||this.x>800)&&(this.setActive(!1),this.setVisible(!1),this.destroy())}});class yP extends ae.Scene{constructor(){super({key:"GameScene"})}init(){this.attack=0,this.collectff=0,this.gameFF=0,this.gameEnemies=0}preload(){this.load.image("tiles","pinktilesheet.png"),this.load.tilemapTiledJSON("map","largermap.json"),this.load.spritesheet("player","catspritesheet.png",{frameWidth:35,frameHeight:32}),this.load.image("magic","/magicb.png"),this.load.spritesheet("enemy","enemyspritesheet.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("firefly","fireflyspritesheet.png",{frameWidth:17,frameHeight:17})}create(){const n=this.game.device.os.desktop;this.map=this.make.tilemap({key:"map"}),this.tiles=this.map.addTilesetImage("pinktilesheet","tiles"),this.layer_background=this.map.createLayer("background",this.tiles,0,0),this.layer_background.setOrigin(0,0),this.layer_roads=this.map.createLayer("roads",this.tiles,0,0),this.layer_roads.setOrigin(0,0),this.layer_collision=this.map.createLayer("buildings-trees",this.tiles,0,0),this.layer_collision.setOrigin(0,0),this.layer_collision.setCollisionByExclusion([-1],!0,this),this.physics.world.setBounds(0,0,960,640),this.map.findObject("objects",C=>{C.type==="player"&&(this.player=new gP(this,C.x+75,window.innerHeight-window.innerHeight*.7))}),this.enemies=this.physics.add.group({key:"enemy",repeat:ae.Math.Between(9,19)}),this.gameEnemies=this.enemies.children.entries.length,this.enemies.children.iterate(function(C){C.x=ae.Math.Between(100,600),C.y=ae.Math.Between(100,300),C.setCollideWorldBounds(!0),C.setBounce(1),C.setVelocity(ae.Math.Between(20,60),ae.Math.Between(20,60)),C.health=3}),this.anims.create({key:"enemy-walk",frames:this.anims.generateFrameNumbers("enemy",{start:0,end:2}),frameRate:10,repeat:-1}),this.fireflies=this.physics.add.group({key:"firefly",repeat:ae.Math.Between(9,19)}),this.gameFF=this.fireflies.children.entries.length,this.anims.create({key:"firefly-float",frames:this.anims.generateFrameNumbers("firefly",{start:0,end:5}),frameRate:10,repeat:-1}),this.fireflies.children.iterate(function(C){C.x=ae.Math.Between(100,600),C.y=ae.Math.Between(100,300),C.setCollideWorldBounds(!0),C.setBounce(1),C.setVelocity(ae.Math.Between(20,60),ae.Math.Between(20,60))}),this.physics.add.collider(this.enemies,this.goals),this.physics.add.collider(this.enemies,this.enemies),this.physics.add.collider(this.player,this.layer_collision),this.physics.add.collider(this.enemies,this.layer_collision),this.physics.add.overlap(this.player,this.fireflies,this.collectFirefly,null,this),this.magics=this.physics.add.group({classType:xP,runChildUpdate:!0,frameQuantity:5}),this.physics.world.enable(this.magics);let g=960;window.innerWidth<400&&(g=400),this.camera=this.cameras.main.startFollow(this.player),this.cameras.main.followOffset.set(-200,100),this.cameras.main.setBounds(0,0,g,640),this.attackText=this.add.text(700,0,`Enemies: ${this.attack}`,{fontSize:"25px",fill:"#000",backgroundColor:"#cebff5"}),this.collectText=this.add.text(200,0,`Fireflies: ${this.collectff}`,{fontSize:"25px",fill:"#000",backgroundColor:"#cebff5"}),this.events.on("attack",()=>{this.attack++,this.attackText.setText(`Enemies: ${this.attack}`)}),this.events.on("collectff",()=>{this.collectff++,this.collectText.setText(`Fireflies: ${this.collectff}`)}),n?this.cursors=this.input.keyboard.createCursorKeys():(this.joystick=new Gx(this,{x:80,y:window.innerHeight-window.innerHeight*.2,radius:100,base:this.add.circle(0,0,50,8947848,.6),thumb:this.add.circle(0,0,20,13421772,.6)}),this.cursors=this.joystick.createCursorKeys(),this.FireButtonSetup=this.add.circle(window.innerWidth-window.innerHeight*.2,window.innerHeight-window.innerHeight*.1,30,8947848,.6).setScrollFactor(0).setAlpha(this.alphaOn).setOrigin(.5,1).setStrokeStyle(2,this.inner).setDepth(99),this.FireButton=new pP(this.FireButtonSetup,{enable:!0,mode:"press",clickInterval:8,threshold:void 0}),this.pointer=this.input.activePointer)}update(){if(this.player.update(this.cursors,this,this.enemies),this.enemies.children.iterate(function(n){n.setVelocity=150,n.anims.play("enemy-walk",!0)}),this.fireflies.children.iterate(function(n){n.setVelocity=75,n.anims.play("firefly-float",!0)}),this.attackText.setX(this.camera.midPoint.x+200),this.attackText.setY(this.camera.midPoint.y-300),this.collectText.setX(this.camera.midPoint.x-275),this.collectText.setY(this.camera.midPoint.y-300),this.attack===this.gameEnemies&&this.collectff===this.gameFF)return this.gameOver()}gameOver(){this.isTerminating=!0,this.cameras.main.fade(500),this.cameras.main.on("camerafadeoutcomplete",function(n,g){this.scene.start("TitleScene")},this)}collectFirefly(n,g){g.disableBody(!0,!0),this.events.emit("collectff")}}const TP="/assets/pinkscenelogo-kyNJQwQa.png";class EP extends ae.Scene{constructor(){super({key:"TitleScene"})}preload(){this.load.image("background",TP)}create(){this.add.image(0,0,"background").setOrigin(0,0),this.startGameText=this.add.text(200,300,"Welcome, Click to Play",{fontSize:"20px",fill:"#000",backgroundColor:"#cebff5",fontFamily:"Lucida Console"}),this.input.once("pointerdown",function(){this.scene.start("GameScene")},this)}update(){}}const SP=({pointerType:u})=>{const[n,g]=ut.useState(),[C,R]=ut.useState(u||"mouse"),[I,v]=ut.useState(window.innerWidth>window.innerHeight),[S,t]=ut.useState(window.innerWidth>window.innerHeight);navigator.userAgent.toLowerCase().includes("iphone");let h=C==="mouse"||!navigator.userAgent.toLowerCase().includes("mobile")?800:window.innerWidth<window.innerHeight?window.innerHeight:window.innerWidth,m=C==="mouse"||!navigator.userAgent.toLowerCase().includes("mobile")?600:window.innerHeight<window.innerWidth?window.innerHeight:window.innerWidth,l={type:ae.AUTO,width:h,height:m,parent:"canvas",pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scale:{},scene:[EP,yP]};return ut.useEffect(()=>{const a=()=>{v(window.innerWidth>window.innerHeight),t(window.innerWidth>window.innerHeight)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]),ut.useEffect(()=>{const a=r=>{r.pointerType==="mouse"&&R("mouse"),r.pointerType==="touch"&&R("touch"),r.pointerType==="pen"&&R("pen")};return window.addEventListener("pointerdown",a),()=>{window.removeEventListener("resize",a)}},[]),ut.useEffect(()=>{let a;!n&&S&&(a=new ae.Game(l),g(a))},[n,S]),!I&&(C==="touch"||navigator.userAgent.toLowerCase().includes("mobile"))?B.jsx("div",{className:"rotate-message",children:B.jsx("div",{children:"Rotate your screen to landscape/horizontal"})}):B.jsx("div",{id:"canvas",className:`${C==="touch"||navigator.userAgent.toLowerCase().includes("mobile")?"canvas-mobile":"canvas-desktop"}`})};function CP(){const u=E0();return console.error(u),B.jsxs("div",{id:"error-page",children:[B.jsx("h1",{children:"Oops!"}),B.jsx("p",{children:"Sorry, an unexpected error has occurred."}),B.jsx("p",{children:B.jsx("i",{children:u.statusText||u.message})})]})}const wP=()=>B.jsx("div",{id:"Experience",children:lE.map((u,n)=>B.jsxs("div",{className:"entry",children:[B.jsxs("div",{className:"org-details",children:[B.jsx("div",{className:"single-line job-title left",children:u.title}),B.jsx("div",{className:"org single-line company",children:u.organization})]}),B.jsxs("div",{className:"supplementary",children:[B.jsx("div",{className:"single-line date left",children:u.date}),B.jsx("div",{className:"single-line location",children:u.location})]}),B.jsx("div",{className:"desc-summary",children:u.description}),B.jsx("ul",{className:"bullets experience-details whole-grid",children:u.achieved&&u.achieved.map((g,C)=>B.jsx("li",{children:g},`resume-jobs-details-${C}`))}),B.jsx("ul",{className:"skills whole-grid",children:u.skills&&u.skills.map((g,C)=>B.jsx("li",{className:"each-skill single-line",children:g},`resume-jobs-skills-${C}`))})]},`resume-jobs-${n}`))}),AP=()=>B.jsx("div",{id:"Experience",children:hE.map((u,n)=>B.jsxs("div",{className:"entry",children:[B.jsxs("div",{className:"org-details",children:[B.jsx("div",{className:"single-line job-title left",children:u.title}),B.jsx("div",{className:"org single-line company",children:u.organization})]}),B.jsxs("div",{className:"supplementary",children:[B.jsx("div",{className:"single-line date left",children:u.date}),B.jsx("div",{className:"single-line location",children:u.location})]}),B.jsx("div",{className:"desc-summary-edu",children:u.description}),B.jsx("ul",{className:"bullets experience-details whole-grid",children:u.achieved&&u.achieved.map((g,C)=>B.jsx("li",{children:g},`resume-details-edu-${C}`))}),B.jsx("ul",{className:"skills whole-grid",children:u.skills&&u.skills.map((g,C)=>B.jsx("li",{className:"each-skill single-line",children:g},`resume-skills-edu-${C}`))})]},`resume-edu-${n}`))}),PP=({isLoading:u})=>{const n=()=>{const g="aReillyDownload.pdf",C=document.createElement("a");C.href=g,C.download="aReillyDownload.pdf",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return B.jsx(B.Fragment,{children:u?B.jsx(B.Fragment,{}):B.jsx("div",{id:"Resume",children:B.jsxs("div",{className:"resume-content flexcolumn",children:[B.jsx("h1",{className:"resume-header-title",children:"Resume"}),B.jsxs("div",{className:"resume-links",children:[B.jsx("div",{className:"download",role:"button",onClick:n,children:B.jsx("img",{src:"TempDownloadIcon.png",alt:"download-icon"})}),B.jsx("a",{className:"modern-link linkedin",href:"https://www.linkedin.com/in/alisonreilly/",target:"_blank",rel:"noreferrer",children:B.jsx("img",{src:"In-White-96.png",alt:"linkedIn logo"})}),B.jsx("a",{className:"modern-link github",href:"https://github.com/Tsunamins",target:"_blank",rel:"noreferrer",children:B.jsx("img",{src:"github-mark-white.svg",alt:"github logo"})})]}),B.jsx("h2",{className:"section-header",children:"Experience"}),B.jsx(wP,{}),B.jsx("h2",{className:"section-header",children:"Education"}),B.jsx(AP,{})]})})})},RP=({isLoading:u})=>{const n=()=>{const g="aReillyDownload.pdf",C=document.createElement("a");C.href=g,C.download="aReillyDownload.pdf",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return B.jsxs(B.Fragment,{children:[" ",u?B.jsx(B.Fragment,{}):B.jsxs("div",{id:"Connect",children:[B.jsx("h1",{className:"connect-header",children:"Connect via Email, LinkedIn or GitHub."}),B.jsxs("div",{className:"connect-links",children:[B.jsx("a",{className:"modern-link email",href:"mailto:reillyamr@gmail.com",target:"_blank",rel:"noreferrer",children:B.jsx("img",{src:"EmailIcon.png",alt:"email icon"})}),B.jsx("a",{className:"modern-link linkedin",href:"https://www.linkedin.com/in/alisonreilly/",target:"_blank",rel:"noreferrer",children:B.jsx("img",{src:"In-White-96.png",alt:"linkedin profile"})}),B.jsx("a",{className:"modern-link github",href:"https://github.com/Tsunamins",target:"_blank",rel:"noreferrer",children:B.jsx("img",{src:"github-mark-white.svg",alt:"github page"})}),B.jsx("div",{className:"download",role:"button",onClick:n,children:B.jsx("img",{src:"TempDownloadIcon.png",alt:"resume download"})})]})]})]})};function MP(){const[u,n]=ut.useState(!0),[g,C]=ut.useState(),R=async I=>{const v=await I.map(S=>new Promise((t,h)=>{const m=new Image;m.src=S,m.onload=t(),m.onerror=h()}));await Promise.all(v),n(!1)};return ut.useEffect(()=>{const I=()=>{n(!1)};if(document.readyState==="complete")I();else return window.addEventListener("load",I,!1),()=>window.removeEventListener("load",I)},[]),ut.useEffect(()=>{R(["/BGDiagramSteamPunk.png","/FansArtDecoBG.png","/In-White-96.png","/EmailIcon.png","/TempDownloadIcon.png","/github-mark-white.svg","../src/assets/images/buttonscale100.png"])}),ut.useEffect(()=>{const I=v=>{v.pointerType==="mouse"&&C("mouse"),v.pointerType==="touch"&&C("touch"),v.pointerType==="pen"&&C("pen")};return window.addEventListener("pointerdown",I),()=>{window.removeEventListener("resize",I)}},[]),B.jsxs("div",{id:"app-inner-div",children:[B.jsx(pE,{isTouchScreen:g==="touch"}),B.jsxs(Q2,{children:[B.jsx(xi,{path:"*",errorElement:B.jsx(CP,{})}),B.jsx(xi,{index:!0,path:"/",element:B.jsx(yE,{})}),B.jsx(xi,{path:"/about",element:B.jsx(TE,{isLoading:u})}),B.jsx(xi,{path:"/connect",element:B.jsx(RP,{isLoading:u})}),B.jsx(xi,{path:"/projects",element:B.jsx(QA,{isLoading:u})}),B.jsx(xi,{path:"/live-demos",element:B.jsx(SP,{pointerType:g})}),B.jsx(xi,{path:"/resume",element:B.jsx(PP,{isLoading:u})}),B.jsx(xi,{path:"/blog",element:B.jsx(gE,{posts:Oh})}),Oh&&Oh.map((I,v)=>B.jsx(xi,{path:`/blog/${I.blogURL}`,element:B.jsx(xE,{title:I.title,blogContent:I.content,date:I.date.toString()})},`${v}-${I.blogURL}`))]})]})}var IP="firebase",FP="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(IP,FP,"app");const zx="@firebase/installations",bd="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=1e4,Yx=`w:${bd}`,Wx="FIS_v2",LP="https://firebaseinstallations.googleapis.com/v1",OP=60*60*1e3,DP="installations",NP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},es=new Ol(DP,NP,BP);function jx(u){return u instanceof Mn&&u.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx({projectId:u}){return`${LP}/projects/${u}/installations`}function kx(u){return{token:u.token,requestStatus:2,expiresIn:VP(u.expiresIn),creationTime:Date.now()}}async function Kx(u,n){const C=(await n.json()).error;return es.create("request-failed",{requestName:u,serverCode:C.code,serverMessage:C.message,serverStatus:C.status})}function $x({apiKey:u}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":u})}function bP(u,{refreshToken:n}){const g=$x(u);return g.append("Authorization",GP(n)),g}async function Qx(u){const n=await u();return n.status>=500&&n.status<600?u():n}function VP(u){return Number(u.replace("s","000"))}function GP(u){return`${Wx} ${u}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP({appConfig:u,heartbeatServiceProvider:n},{fid:g}){const C=Hx(u),R=$x(u),I=n.getImmediate({optional:!0});if(I){const h=await I.getHeartbeatsHeader();h&&R.append("x-firebase-client",h)}const v={fid:g,authVersion:Wx,appId:u.appId,sdkVersion:Yx},S={method:"POST",headers:R,body:JSON.stringify(v)},t=await Qx(()=>fetch(C,S));if(t.ok){const h=await t.json();return{fid:h.fid||g,registrationStatus:2,refreshToken:h.refreshToken,authToken:kx(h.authToken)}}else throw await Kx("Create Installation",t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(u){return new Promise(n=>{setTimeout(n,u)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(u){return btoa(String.fromCharCode(...u)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^[cdef][\w-]{21}$/,ff="";function YP(){try{const u=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(u),u[0]=112+u[0]%16;const g=WP(u);return XP.test(g)?g:ff}catch{return ff}}function WP(u){return zP(u).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(u){return`${u.appName}!${u.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map;function qx(u,n){const g=Wl(u);_x(g,n),jP(g,n)}function _x(u,n){const g=Zx.get(u);if(g)for(const C of g)C(n)}function jP(u,n){const g=HP();g&&g.postMessage({key:u,fid:n}),kP()}let Xn=null;function HP(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=u=>{_x(u.data.key,u.data.fid)}),Xn}function kP(){Zx.size===0&&Xn&&(Xn.close(),Xn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-installations-database",$P=1,is="firebase-installations-store";let Hh=null;function Vd(){return Hh||(Hh=F0(KP,$P,{upgrade:(u,n)=>{switch(n){case 0:u.createObjectStore(is)}}})),Hh}async function cl(u,n){const g=Wl(u),R=(await Vd()).transaction(is,"readwrite"),I=R.objectStore(is),v=await I.get(g);return await I.put(n,g),await R.done,(!v||v.fid!==n.fid)&&qx(u,n.fid),n}async function ty(u){const n=Wl(u),C=(await Vd()).transaction(is,"readwrite");await C.objectStore(is).delete(n),await C.done}async function jl(u,n){const g=Wl(u),R=(await Vd()).transaction(is,"readwrite"),I=R.objectStore(is),v=await I.get(g),S=n(v);return S===void 0?await I.delete(g):await I.put(S,g),await R.done,S&&(!v||v.fid!==S.fid)&&qx(u,S.fid),S}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(u){let n;const g=await jl(u.appConfig,C=>{const R=QP(C),I=JP(u,R);return n=I.registrationPromise,I.installationEntry});return g.fid===ff?{installationEntry:await n}:{installationEntry:g,registrationPromise:n}}function QP(u){const n=u||{fid:YP(),registrationStatus:0};return ey(n)}function JP(u,n){if(n.registrationStatus===0){if(!navigator.onLine){const R=Promise.reject(es.create("app-offline"));return{installationEntry:n,registrationPromise:R}}const g={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},C=ZP(u,g);return{installationEntry:g,registrationPromise:C}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:qP(u)}:{installationEntry:n}}async function ZP(u,n){try{const g=await UP(u,n);return cl(u.appConfig,g)}catch(g){throw jx(g)&&g.customData.serverCode===409?await ty(u.appConfig):await cl(u.appConfig,{fid:n.fid,registrationStatus:0}),g}}async function qP(u){let n=await Yp(u.appConfig);for(;n.registrationStatus===1;)await Jx(100),n=await Yp(u.appConfig);if(n.registrationStatus===0){const{installationEntry:g,registrationPromise:C}=await Gd(u);return C||g}return n}function Yp(u){return jl(u,n=>{if(!n)throw es.create("installation-not-found");return ey(n)})}function ey(u){return _P(u)?{fid:u.fid,registrationStatus:0}:u}function _P(u){return u.registrationStatus===1&&u.registrationTime+Xx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR({appConfig:u,heartbeatServiceProvider:n},g){const C=eR(u,g),R=bP(u,g),I=n.getImmediate({optional:!0});if(I){const h=await I.getHeartbeatsHeader();h&&R.append("x-firebase-client",h)}const v={installation:{sdkVersion:Yx,appId:u.appId}},S={method:"POST",headers:R,body:JSON.stringify(v)},t=await Qx(()=>fetch(C,S));if(t.ok){const h=await t.json();return kx(h)}else throw await Kx("Generate Auth Token",t)}function eR(u,{fid:n}){return`${Hx(u)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(u,n=!1){let g;const C=await jl(u.appConfig,I=>{if(!iy(I))throw es.create("not-registered");const v=I.authToken;if(!n&&sR(v))return I;if(v.requestStatus===1)return g=iR(u,n),I;{if(!navigator.onLine)throw es.create("app-offline");const S=aR(I);return g=nR(u,S),S}});return g?await g:C.authToken}async function iR(u,n){let g=await Wp(u.appConfig);for(;g.authToken.requestStatus===1;)await Jx(100),g=await Wp(u.appConfig);const C=g.authToken;return C.requestStatus===0?Ud(u,n):C}function Wp(u){return jl(u,n=>{if(!iy(n))throw es.create("not-registered");const g=n.authToken;return oR(g)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function nR(u,n){try{const g=await tR(u,n),C=Object.assign(Object.assign({},n),{authToken:g});return await cl(u.appConfig,C),g}catch(g){if(jx(g)&&(g.customData.serverCode===401||g.customData.serverCode===404))await ty(u.appConfig);else{const C=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await cl(u.appConfig,C)}throw g}}function iy(u){return u!==void 0&&u.registrationStatus===2}function sR(u){return u.requestStatus===2&&!rR(u)}function rR(u){const n=Date.now();return n<u.creationTime||u.creationTime+u.expiresIn<n+OP}function aR(u){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},u),{authToken:n})}function oR(u){return u.requestStatus===1&&u.requestTime+Xx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(u){const n=u,{installationEntry:g,registrationPromise:C}=await Gd(n);return C?C.catch(console.error):Ud(n).catch(console.error),g.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(u,n=!1){const g=u;return await uR(g),(await Ud(g,n)).token}async function uR(u){const{registrationPromise:n}=await Gd(u);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(u){if(!u||!u.options)throw kh("App Configuration");if(!u.name)throw kh("App Name");const n=["projectId","apiKey","appId"];for(const g of n)if(!u.options[g])throw kh(g);return{appName:u.name,projectId:u.options.projectId,apiKey:u.options.apiKey,appId:u.options.appId}}function kh(u){return es.create("missing-app-config-values",{valueName:u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="installations",dR="installations-internal",cR=u=>{const n=u.getProvider("app").getImmediate(),g=fR(n),C=wa(n,"heartbeat");return{app:n,appConfig:g,heartbeatServiceProvider:C,_delete:()=>Promise.resolve()}},vR=u=>{const n=u.getProvider("app").getImmediate(),g=wa(n,ny).getImmediate();return{getId:()=>lR(g),getToken:R=>hR(g,R)}};function pR(){En(new Yi(ny,cR,"PUBLIC")),En(new Yi(dR,vR,"PRIVATE"))}pR();wi(zx,bd);wi(zx,bd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="analytics",mR="firebase_id",gR="origin",xR=60*1e3,yR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=new fd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Je=new Ol("analytics","Analytics",TR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(u){if(!u.startsWith(zd)){const n=Je.create("invalid-gtag-resource",{gtagURL:u});return He.warn(n.message),""}return u}function sy(u){return Promise.all(u.map(n=>n.catch(g=>g)))}function SR(u,n){let g;return window.trustedTypes&&(g=window.trustedTypes.createPolicy(u,n)),g}function CR(u,n){const g=SR("firebase-js-sdk-policy",{createScriptURL:ER}),C=document.createElement("script"),R=`${zd}?l=${u}&id=${n}`;C.src=g?g==null?void 0:g.createScriptURL(R):R,C.async=!0,document.head.appendChild(C)}function wR(u){let n=[];return Array.isArray(window[u])?n=window[u]:window[u]=n,n}async function AR(u,n,g,C,R,I){const v=C[R];try{if(v)await n[v];else{const t=(await sy(g)).find(h=>h.measurementId===R);t&&await n[t.appId]}}catch(S){He.error(S)}u("config",R,I)}async function PR(u,n,g,C,R){try{let I=[];if(R&&R.send_to){let v=R.send_to;Array.isArray(v)||(v=[v]);const S=await sy(g);for(const t of v){const h=S.find(l=>l.measurementId===t),m=h&&n[h.appId];if(m)I.push(m);else{I=[];break}}}I.length===0&&(I=Object.values(n)),await Promise.all(I),u("event",C,R||{})}catch(I){He.error(I)}}function RR(u,n,g,C){async function R(I,...v){try{if(I==="event"){const[S,t]=v;await PR(u,n,g,S,t)}else if(I==="config"){const[S,t]=v;await AR(u,n,g,C,S,t)}else if(I==="consent"){const[S,t]=v;u("consent",S,t)}else if(I==="get"){const[S,t,h]=v;u("get",S,t,h)}else if(I==="set"){const[S]=v;u("set",S)}else u(I,...v)}catch(S){He.error(S)}}return R}function MR(u,n,g,C,R){let I=function(...v){window[C].push(arguments)};return window[R]&&typeof window[R]=="function"&&(I=window[R]),window[R]=RR(I,u,n,g),{gtagCore:I,wrappedGtag:window[R]}}function IR(u){const n=window.document.getElementsByTagName("script");for(const g of Object.values(n))if(g.src&&g.src.includes(zd)&&g.src.includes(u))return g;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=30,LR=1e3;class OR{constructor(n={},g=LR){this.throttleMetadata=n,this.intervalMillis=g}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,g){this.throttleMetadata[n]=g}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const ry=new OR;function DR(u){return new Headers({Accept:"application/json","x-goog-api-key":u})}async function NR(u){var n;const{appId:g,apiKey:C}=u,R={method:"GET",headers:DR(C)},I=yR.replace("{app-id}",g),v=await fetch(I,R);if(v.status!==200&&v.status!==304){let S="";try{const t=await v.json();!((n=t.error)===null||n===void 0)&&n.message&&(S=t.error.message)}catch{}throw Je.create("config-fetch-failed",{httpStatus:v.status,responseMessage:S})}return v.json()}async function BR(u,n=ry,g){const{appId:C,apiKey:R,measurementId:I}=u.options;if(!C)throw Je.create("no-app-id");if(!R){if(I)return{measurementId:I,appId:C};throw Je.create("no-api-key")}const v=n.getThrottleMetadata(C)||{backoffCount:0,throttleEndTimeMillis:Date.now()},S=new GR;return setTimeout(async()=>{S.abort()},xR),ay({appId:C,apiKey:R,measurementId:I},v,S,n)}async function ay(u,{throttleEndTimeMillis:n,backoffCount:g},C,R=ry){var I;const{appId:v,measurementId:S}=u;try{await bR(C,n)}catch(t){if(S)return He.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${t==null?void 0:t.message}]`),{appId:v,measurementId:S};throw t}try{const t=await NR(u);return R.deleteThrottleMetadata(v),t}catch(t){const h=t;if(!VR(h)){if(R.deleteThrottleMetadata(v),S)return He.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:v,measurementId:S};throw t}const m=Number((I=h==null?void 0:h.customData)===null||I===void 0?void 0:I.httpStatus)===503?$v(g,R.intervalMillis,FR):$v(g,R.intervalMillis),l={throttleEndTimeMillis:Date.now()+m,backoffCount:g+1};return R.setThrottleMetadata(v,l),He.debug(`Calling attemptFetch again in ${m} millis`),ay(u,l,C,R)}}function bR(u,n){return new Promise((g,C)=>{const R=Math.max(n-Date.now(),0),I=setTimeout(g,R);u.addEventListener(()=>{clearTimeout(I),C(Je.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function VR(u){if(!(u instanceof Mn)||!u.customData)return!1;const n=Number(u.customData.httpStatus);return n===429||n===500||n===503||n===504}class GR{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function UR(u,n,g,C,R){if(R&&R.global){u("event",g,C);return}else{const I=await n,v=Object.assign(Object.assign({},C),{send_to:I});u("event",g,v)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(){if(P0())try{await R0()}catch(u){return He.warn(Je.create("indexeddb-unavailable",{errorInfo:u==null?void 0:u.toString()}).message),!1}else return He.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XR(u,n,g,C,R,I,v){var S;const t=BR(u);t.then(r=>{g[r.measurementId]=r.appId,u.options.measurementId&&r.measurementId!==u.options.measurementId&&He.warn(`The measurement ID in the local Firebase config (${u.options.measurementId}) does not match the measurement ID fetched from the server (${r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(r=>He.error(r)),n.push(t);const h=zR().then(r=>{if(r)return C.getId()}),[m,l]=await Promise.all([t,h]);IR(I)||CR(I,m.measurementId),R("js",new Date);const a=(S=v==null?void 0:v.config)!==null&&S!==void 0?S:{};return a[gR]="firebase",a.update=!0,l!=null&&(a[mR]=l),R("config",m.measurementId,a),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(n){this.app=n}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},jp=[];const Hp={};let Kh="dataLayer",WR="gtag",kp,oy,Kp=!1;function jR(){const u=[];if(VE()&&u.push("This is a browser extension environment."),UE()||u.push("Cookies are not available."),u.length>0){const n=u.map((C,R)=>`(${R+1}) ${C}`).join(" "),g=Je.create("invalid-analytics-context",{errorInfo:n});He.warn(g.message)}}function HR(u,n,g){jR();const C=u.options.appId;if(!C)throw Je.create("no-app-id");if(!u.options.apiKey)if(u.options.measurementId)He.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${u.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Je.create("no-api-key");if(Kr[C]!=null)throw Je.create("already-exists",{id:C});if(!Kp){wR(Kh);const{wrappedGtag:I,gtagCore:v}=MR(Kr,jp,Hp,Kh,WR);oy=I,kp=v,Kp=!0}return Kr[C]=XR(u,jp,Hp,n,kp,Kh,g),new YR(u)}function kR(u=O0()){u=ud(u);const n=wa(u,vl);return n.isInitialized()?n.getImmediate():KR(u)}function KR(u,n={}){const g=wa(u,vl);if(g.isInitialized()){const R=g.getImmediate();if(al(n,g.getOptions()))return R;throw Je.create("already-initialized")}return g.initialize({options:n})}function $R(u,n,g,C){u=ud(u),UR(oy,Kr[u.app.options.appId],n,g,C).catch(R=>He.error(R))}const $p="@firebase/analytics",Qp="0.10.7";function QR(){En(new Yi(vl,(n,{options:g})=>{const C=n.getProvider("app").getImmediate(),R=n.getProvider("installations-internal").getImmediate();return HR(C,R,g)},"PUBLIC")),En(new Yi("analytics-internal",u,"PRIVATE")),wi($p,Qp),wi($p,Qp,"esm2017");function u(n){try{const g=n.getProvider(vl).getImmediate();return{logEvent:(C,R,I)=>$R(g,C,R,I)}}catch(g){throw Je.create("interop-component-reg-failed",{reason:g})}}}QR();const JR={apiKey:"AIzaSyAtgN1KMPZALqbqDERLZhy4O46g5-F-Ooc",authDomain:"alison-portfolio-site.firebaseapp.com",projectId:"alison-portfolio-site",storageBucket:"alison-portfolio-site.appspot.com",messagingSenderId:"969752895738",appId:"1:969752895738:web:cb53efac3424b0fcb82943",measurementId:"G-Y489XN9GDK"},ZR=$h.createRoot(document.getElementById("root"));ZR.render(B.jsx(eE,{children:B.jsx(MP,{})}));const ly=L0(JR),qR=NA(ly);kR(ly);
